{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/notfound2.png","webpack:///./src/components/Capacity.vue?43b2","webpack:///./node_modules/web-ifc-three/node_modules/web-ifc sync","webpack:///./src/components/ImplicitRoom.js","webpack:///./src/components/util-a.js","webpack:///./src/views/RentModuleV.vue?6f14","webpack:///./src/assets/organization3.png","webpack:///./src/components/FilesLib.vue?3806","webpack:///./src/components/img/logo.svg","webpack:///./src/components/util-c.js","webpack:///./src/components/IFCexporter.vue?45cb","webpack:///./src/views/TSviewerV.vue?cb41","webpack:///./src/components/FileEdit.vue?a606","webpack:///./src/assets/geometry2.png","webpack:///./src/components/BIMviewer.vue?d50b","webpack:///src/components/BIMviewer.vue","webpack:///./src/components/BIMviewer.vue?77a2","webpack:///./src/components/BIMviewer.vue","webpack:///./src/assets/paragraph3.png","webpack:///./src/views/CapacityV.vue?2c09","webpack:///./src/store/modules/bimview.js","webpack:///./src/store/modules/capacity.js","webpack:///./src/store/modules/rdfStore.js","webpack:///./src/store/index.js","webpack:///./src/components/images/icon-settings.png","webpack:///./src/components/TrinityLogin.vue?e8ed","webpack:///./src/assets/building2.png","webpack:///./src/components/images/icon-walk.png","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/AssetsList.vue?89e2","webpack:///./src/components/RoomDetails.vue?5ea6","webpack:///./src/components/RentModule.vue?929b","webpack:///./src/components/WhatToDo.vue?ff1d","webpack:///./src/views/IFCexporterV.vue?b5f3","webpack:///./src/components/images/icon-map2.png","webpack:///./src/components/img/i4-logo-hvit.png","webpack:///./src/App.vue?93fc","webpack:///./src/plugins/i18n.js","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue?430b","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/TrinityLogout.vue?40e6","webpack:///./src/components/util-s.js","webpack:///./src/components/img/trinpod24.png","webpack:///./src/components/img/rapport2.png","webpack:///./node_modules/web-ifc-viewer/node_modules/web-ifc sync","webpack:///./src/components/img/face.png","webpack:///src/components/Capacity.vue","webpack:///./src/components/PodSelect.vue?0996","webpack:///./src/components/BMDetails.vue?85d5","webpack:///./src/components/Wayfinder.js","webpack:///./src/assets/room.png","webpack:///./src/components/img/trinpod40.png","webpack:///./src/components/util-rdf.js","webpack:///./src/components/BIMviewer.vue?112d","webpack:///./src/assets/document.png","webpack:///./src/assets/person2.png","webpack:///./src/components/images/icon-edgeface.png","webpack:///./src/components/BuildingDetails.vue?e98b","webpack:///src/components/BuildingDetails.vue","webpack:///./src/components/BuildingDetails.vue?95a2","webpack:///./src/components/BuildingDetails.vue","webpack:///./src/components/BIMviewer-ifc-utils.js","webpack:///./src/components/images/icon-2d.png","webpack:///./src/components/img/osv-logo.png","webpack:///./src/components/Search.vue?3383","webpack:///./src/components/images/icon-home.png","webpack:///./src/components/images/icon-pointer.png","webpack:///./src/components/images/icon-turntable.png","webpack:///./src/views/Login.vue?f359","webpack:///./src/components/TrinityLogin.vue?4753","webpack:///src/components/TrinityLogin.vue","webpack:///./src/components/TrinityLogin.vue?9e82","webpack:///./src/components/TrinityLogin.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?66fe","webpack:///./src/views/Login.vue","webpack:///./src/views/Logout.vue?ef13","webpack:///./src/components/TrinityLogout.vue?a886","webpack:///src/components/TrinityLogout.vue","webpack:///./src/components/TrinityLogout.vue?d82d","webpack:///./src/components/TrinityLogout.vue","webpack:///src/views/Logout.vue","webpack:///./src/views/Logout.vue?a9c2","webpack:///./src/views/Logout.vue","webpack:///./src/views/About.vue?02c7","webpack:///./src/views/About.vue","webpack:///./src/views/ImportDataV.vue?ea37","webpack:///./src/components/ImportData.vue?cfd5","webpack:///./src/components/Capacity.vue?cf41","webpack:///./src/components/Capacity.vue?18e8","webpack:///./src/components/Capacity.vue","webpack:///src/components/ImportData.vue","webpack:///./src/components/ImportData.vue?fb10","webpack:///./src/components/ImportData.vue","webpack:///src/views/ImportDataV.vue","webpack:///./src/views/ImportDataV.vue?f974","webpack:///./src/views/ImportDataV.vue","webpack:///./src/views/BIMviewerV.vue?1980","webpack:///src/views/BIMviewerV.vue","webpack:///./src/views/BIMviewerV.vue?aa84","webpack:///./src/views/BIMviewerV.vue","webpack:///./src/views/TSviewerV.vue?13af","webpack:///./src/components/BMDetails.vue?d059","webpack:///src/components/BMDetails.vue","webpack:///./src/components/BMDetails.vue?173c","webpack:///./src/components/BMDetails.vue","webpack:///./src/components/BMviewer.vue?9fd9","webpack:///src/components/BMviewer.vue","webpack:///./src/components/BMviewer.vue?79b0","webpack:///./src/components/BMviewer.vue","webpack:///src/views/TSviewerV.vue","webpack:///./src/views/TSviewerV.vue?bfb3","webpack:///./src/views/TSviewerV.vue","webpack:///./src/views/AssetsListV.vue?f1ab","webpack:///./src/components/AssetsList.vue?d0c0","webpack:///src/components/AssetsList.vue","webpack:///./src/components/AssetsList.vue?67ae","webpack:///./src/components/AssetsList.vue","webpack:///src/views/AssetsListV.vue","webpack:///./src/views/AssetsListV.vue?2f89","webpack:///./src/views/AssetsListV.vue","webpack:///./src/views/CapacityV.vue?a234","webpack:///src/views/CapacityV.vue","webpack:///./src/views/CapacityV.vue?d6a3","webpack:///./src/views/CapacityV.vue","webpack:///./src/views/FilesLibV.vue?2e1b","webpack:///./src/components/FilesLib.vue?bf93","webpack:///src/components/FilesLib.vue","webpack:///./src/components/FilesLib.vue?d291","webpack:///./src/components/FilesLib.vue","webpack:///src/views/FilesLibV.vue","webpack:///./src/views/FilesLibV.vue?c751","webpack:///./src/views/FilesLibV.vue","webpack:///./src/views/PodSelectV.vue?043f","webpack:///./src/components/PodSelect.vue?a623","webpack:///./src/components/WhatToDo.vue?811b","webpack:///src/components/WhatToDo.vue","webpack:///./src/components/WhatToDo.vue?7234","webpack:///./src/components/WhatToDo.vue","webpack:///src/components/PodSelect.vue","webpack:///./src/components/PodSelect.vue?d255","webpack:///./src/components/PodSelect.vue","webpack:///src/views/PodSelectV.vue","webpack:///./src/views/PodSelectV.vue?ed4a","webpack:///./src/views/PodSelectV.vue","webpack:///./src/views/FileEditV.vue?88cd","webpack:///./src/components/FileEdit.vue?13b7","webpack:///src/components/FileEdit.vue","webpack:///./src/components/FileEdit.vue?c2ec","webpack:///./src/components/FileEdit.vue","webpack:///src/views/FileEditV.vue","webpack:///./src/views/FileEditV.vue?5de0","webpack:///./src/views/FileEditV.vue","webpack:///./src/views/SearchV.vue?965c","webpack:///./src/components/Search.vue?ca31","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?d79a","webpack:///./src/components/Search.vue","webpack:///src/views/SearchV.vue","webpack:///./src/views/SearchV.vue?ffed","webpack:///./src/views/SearchV.vue","webpack:///./src/views/ImportIFCV.vue?dbf6","webpack:///./src/components/ImportIFC.vue?a5ca","webpack:///src/components/ImportIFC.vue","webpack:///./src/components/ImportIFC.vue?df86","webpack:///./src/components/ImportIFC.vue","webpack:///src/views/ImportIFCV.vue","webpack:///./src/views/ImportIFCV.vue?ea48","webpack:///./src/views/ImportIFCV.vue","webpack:///./src/views/PDFviewerV.vue?1c6b","webpack:///./src/components/PDFviewer.vue?7b99","webpack:///src/components/PDFviewer.vue","webpack:///./src/components/PDFviewer.vue?eb94","webpack:///./src/components/PDFviewer.vue","webpack:///src/views/PDFviewerV.vue","webpack:///./src/views/PDFviewerV.vue?73c8","webpack:///./src/views/PDFviewerV.vue","webpack:///./src/views/WorkListV.vue?b5e5","webpack:///./src/components/WorkList.vue?8b6c","webpack:///./src/components/TaskCard.vue?4530","webpack:///./src/components/Badge.vue?780d","webpack:///src/components/Badge.vue","webpack:///./src/components/Badge.vue?82a1","webpack:///./src/components/Badge.vue","webpack:///src/components/TaskCard.vue","webpack:///./src/components/TaskCard.vue?ebe1","webpack:///./src/components/TaskCard.vue","webpack:///src/components/WorkList.vue","webpack:///./src/components/WorkList.vue?c775","webpack:///./src/components/WorkList.vue","webpack:///src/views/WorkListV.vue","webpack:///./src/views/WorkListV.vue?be3c","webpack:///./src/views/WorkListV.vue","webpack:///./src/views/IFCexporterV.vue?7f8f","webpack:///./src/components/IFCexporter.vue?5821","webpack:///src/components/IFCexporter.vue","webpack:///./src/components/IFCexporter.vue?463b","webpack:///./src/components/IFCexporter.vue","webpack:///src/views/IFCexporterV.vue","webpack:///./src/views/IFCexporterV.vue?1297","webpack:///./src/views/IFCexporterV.vue","webpack:///./src/views/RentModuleV.vue?97f8","webpack:///./src/components/RentModule.vue?b793","webpack:///src/components/RentModule.vue","webpack:///./src/components/RentModule.vue?4abc","webpack:///./src/components/RentModule.vue","webpack:///src/views/RentModuleV.vue","webpack:///./src/views/RentModuleV.vue?a863","webpack:///./src/views/RentModuleV.vue","webpack:///./src/router/index.js","webpack:///./src/App.vue?d8ef","webpack:///./src/components/RoomDetails.vue?0797","webpack:///src/components/RoomDetails.vue","webpack:///./src/components/RoomDetails.vue?7be0","webpack:///./src/components/RoomDetails.vue","webpack:///./src/assets/door.png","webpack:///./src/components/util.js","webpack:///./src/components/Wayfinder2.js","webpack:///./src/components/BMviewer.vue?8f06","webpack:///./src/components/images/icon-wireframeshaded.png","webpack:///./src/components/util-r.js","webpack:///./src/components/images/icon-clippingtool.png","webpack:///./src/components/images/icon-3d.png","webpack:///./src/components/PDFviewer.vue?3874","webpack:///./src/assets/position2.png","webpack:///./src/components/ImportIFC.vue?4113","webpack:///./src/assets/logo.png","webpack:///./src/components/BIMviewer-utils.js","webpack:///./src/components/ImportData.vue?821a","webpack:///./src/views/AssetsListV.vue?9f67","webpack:///./src/assets/building3.png","webpack:///./src/assets/floor.png","webpack:///./src/components/BuildingDetails.vue?a2e7","webpack:///./src/components/WorkList.vue?85a2","webpack:///./src/components/util-q.js","webpack:///./src/components/util-v.js","webpack:///./src/components/ontologies.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","webpackEmptyContext","req","e","Error","code","keys","resolve","id","a","array","Array","isArray","Set","size","map","Map","forEach","x","set","JSON","stringify","values","sa","reverse","$rdf","require","$","N3","store","state","crosslinkStatus","Function","Result","obj","quads","uri","u","getURI","commit","blankNodeIndex","attribute","BlankNode","sym","rUri","lit","xsd","string","integer","Default","DefaultGraph","st","neo","i_function","o_result","log","entity","type","termType","start","event","i_entity","i_attribute","time","Time","Date","TL","toISOString","dateTime","startAttribute","t_start","system","func","capability","q","attrib","b_capable","cap","input","end","output","cause","effect","capURI","eObj","t_execute","item","i_input","o_output","concat","trinpodType","trinapp","w_trinapp_add_business_pod","w_trinapp_add_project","w_trinapp_add_building","trinity","f_add_organization_trinpod","f_add_site_trinpod","f_add_suborg_trinpod","f_add_group_trinpod","async","trinpodID","response","solid","session","fetch","server","credentials","text","error","console","trinpodIDLookupTimeout","podArray","pods","performance","now","pod","createTrinpod","duration","trinpodName","parentPod","vertical","test","check","checkTrinpodID","parentId","getSubdomain","parentCheck","url","URL","trinpodUri","protocol","host","podNodeURI","getBaseURI","trinpodFunction","getTrinpodFunction","webId","addStateForInput","m_label","FOAF","verticalType","NEO","RDF","turtle","quadsToTurtle","method","body","headers","finish","createAlert","ur","getLabel","parentWebid","memberWebids","addEmployee","validParent","validateWebId","members","invalidMembers","alreadyMember","isPodBusiness","isPodOrganization","currentMembers","getMember","isPodProject","isPodGroup","Promise","all","validMember","member","includes","memberWebId","alreadyMembers","join","w_trinapp_add_employee","w_trinapp_add_member","VCARD","user","webid","podWebid","parentContainer","aLoadURI","isContainer","newFolderUri","encodeURIComponent","containerUri","res","decodeURIComponent","link","ok","status","statusText","alert","rootPath","isTrinApp","where","blankNode","rootFolder","showDirectoryPicker","rootNode","zip","JSZip","kind","path","handle","errors","rdfStore","add","LDP","RDFS","importDirectoryRecurse","directories","getContents","count","directory","contents","getContentsNested","permUri","totalSize","uploadSize","toUploadCount","toUpload","appMessage","currentContainer","getContainer","split","file","getFile","date","lastModifiedDate","Math","round","uploadFile","requestUri","generateAsync","removeMatches","flat","message","parentNode","handleResults","importHandleNode","node","entry","allNodes","encName","letter","codePointAt","encodingIssue","rawPath","REG","modified","lastModified","mimeType","handleOrBlank","containerNode","newUri","isBlankNode","arrayBuffer","Uint8Array","checkURL","RegExp","triples","Ns","graph","SOLID","ldp","rdf","rdfs","sio","SIO","acl","ACL","vcard","writer","Writer","prefixes","addQuads","authorization","title","summary","details","severity","dismissible","autoDismiss","appendToId","iconMap","info","success","warning","danger","iconAdded","alertClasses","toLowerCase","msgIcon","class","msg","msgTitle","html","appendTo","prepend","msgSummary","msgDetails","setTimeout","addClass","remove","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","_v","_s","getSelectedRoomName","_e","model","callback","$$v","floorSplitFactor","expression","gltfGeoVisible","spacesVisible","ifcloadpercentage","_m","twodim","on","setup2dview","toggleRotation","icon_rotate","multiSelect","icon_click","setupPersonView","icon_camera","moveToObject","toggleMap","$event","labelDialog","$t","labelObject","$set","labelTagList","employeeNameList","progress","uploadImage","createLabel","staticRenderFns","bw","setUpMultiThreading","getIFCelements","modelID","addToStores","subject","predicate","zoomToObject","component","VBtn","VCard","VCardActions","VCardText","VContainer","VDialog","VProgressCircular","VRow","VSelect","VSlider","VSpacer","VSwitch","VTextField","utm","namespaced","bimViewerCanvas","undefined","mapMode","width","height","thirdperson","animationid","camera","twodimcamera","thirdpersoncamera","thirdPersonCameraOrigin","xAxis","Vector3","tempCameraVector","tempModelVector","thirdpersonContainer","Group","thirdpersonLoaded","coords","focuslat","focuslong","focusobject","buildingboxPosition","INTERSECTED","intersectXY","y","selectedRoomURI","selectedRoomIDs","selectedRoomNames","selectedRoomName","lockSelection","raycaster","projector","mouseVector","camerafocuswidth","controls3d","controls2d","params","buildingbox","scene","renderer","labelrenderer","needsrender","axisLines","boxes","lights","roomGeometry","boundingBoxDrawed","wayBetweenRooms","keysPressed","scaleFactor","characterControls","GLTFloadingFlag","GLTFloadingQueue","IFCPropertyJson","animate","gltfLoadedList","TWEEN","physicsWorld","cannonDebugger","personBody","timestep","lastLabelCheck","getTime","sphereMesh","sphereBody","boxMesh","boxBody","bedModel","bedBody","allActions","baseActions","skeleton","mixer","clock","numAnimations","movingForward","mousedown","arrowModel","arrowModelStart","drawBuildingBoxFlag","selectedStorey","getters","mutations","SET_VIEWPORT_SIZE","RESIZE","setSize","aspect","updateProjectionMatrix","INITIALIZE_RENDERER","el","WebGLRenderer","antialias","shadowMap","enabled","PCFSoftShadowMap","pixelRat","min","devicePixelRatio","setPixelRatio","appendChild","domElement","INITIALIZE_LABEL_RENDERER","CSS2DRenderer","style","position","pointerEvents","top","INITIALIZE_CAMERA","PerspectiveCamera","near","far","OrthographicCamera","innerWidth","innerHeight","lookAt","INITIALIZE_CONTROLS","dispatch","OrbitControls","UnitsUtils","datumsToSpherical","target","panSpeed","noZoom","noPan","LEFT","UP","RIGHT","BOTTOM","touches","ONE","TOUCH","ROTATE","TWO","DOLLY_PAN","autoRotate","rotateSpeed","autoRotateSpeed","enableDamping","minDistance","zoomSpeed","enablePan","enableRotate","PAN","screenSpacePanning","INITIALIZE_MAP","DEV_MAPBOX_API_KEY","provider","MapBoxProvider","STYLE","MAP_ID","MapView","PLANAR","receiveShadow","renderOrder","updateMatrixWorld","INITIALIZE_SCENE","Scene","background","Color","MeshPhongMaterial","color","flatShading","createSky","sky","Sky","scale","setScalar","effectController","turbidity","rayleigh","mieCoefficient","mieDirectionalG","inclination","azimuth","exposure","uniforms","material","theta","PI","phi","sun","cos","sin","z","copy","INITIALIZE_LIGHTS","lightA","DirectionalLight","castShadow","shadow","mapSize","lightC","lightB","AmbientLight","INITIALIZE_PLAYER_CONTROLS","setWeight","action","weight","setEffectiveTimeScale","setEffectiveWeight","activateAction","clip","getClip","settings","play","stopAction","reset","stop","Clock","idle","MacarenaDance","SillyDancing","run","walk","jump","loader","GLTFLoader","load","gltf","traverse","isMesh","SkeletonHelper","visible","animations","AnimationMixer","clipAction","progressPercent","loaded","total","requestAnimationFrame","geometry","BoxGeometry","MeshBasicMaterial","Mesh","CANNON","gravity","groundBody","STATIC","shape","quaternion","setFromEuler","addBody","personContactMaterial","friction","restitution","addContactMaterial","mass","rampContactMaterial","contactEquationStiffness","contactEquationRelaxation","frictionEquationStiffness","frictionEquationRelaxation","rampBody","setFromAxisAngle","hag","CannonDebugger","addEventListener","keyCode","movementX","movementY","offset","Spherical","setFromVector3","clone","sub","max","setFromSpherical","actions","INIT","rootState","showHideBuildingLabels","distance","children","element","checkDistanceBetweenBuildingLabels","labels","elementPositions","elementPos","project","hiddenLabels","addedLabels","ep","ep2","distBetween","distanceTo","epClusterSize","ep2ClusterSize","cluster","makeBuildingGroupLabel","removeBuildingGroupLabel","label1","label2","classList","childNodes","innerText","parseInt","onmouseenter","mouseenter","onmouseleave","mouseleave","indexOf","elapsed","dist","getDistance","zoom","Projector","Vector2","Raycaster","firstHitOnly","ANIMATE","update","RENDER","cancelAnimationFrame","CALL_RAYCAST","setFromCamera","intersects","intersectObjects","getObjectByName","firstIntersection","intersect","point","THIRDPERSON_ANIMATE","mixerUpdateDelta","getDelta","getWorldDirection","cameraDirection","setY","normalize","playerDirection","cameraAngle","angleTo","playerAngle","angleToRotate","sanitisedAngle","rotateY","multiplyScalar","step","CONVERT_TO_UTM","lat","long","zoneNum","zoneLetter","reject","fromLatLon","CONVERT_FROM_UTM","easting","northing","toLatLon","CONVERT_TO_SPHERICAL","xy","ADD_TO_SCENE","INITIALIZE_PLAYER","roomDetailURI","buildingDetailURI","buildingLocationList","Session","solidFetcher","storage","InMemoryStorage","hyperFetch","resource","init","hypergraph","rdfFetcher","Fetcher","tempRdfStore","geometryArray","urisFetched","systemURIs","bIndex","Vue","use","Vuex","filter","val","floor","serverURL","testNum","Store","sensors","n3store","devMode","blankExisted","customers","blankNodeString","isLoggedIn","loggedInName","loggedInInitials","loginExpire","currentBuildingTag","tasks","bmurl","ministryURI","serverPath","whatToDoVisible","redirect","query","location","bv","BV","rs","RS","cp","CP","blankNodeIncrement","qty","index","idx","move","noPush","assign","select","router","getEObj","computed","methods","webpackContext","webpackContextResolve","followLink","_l","changeLocale","language","flag","scopedSlots","_u","fn","ref","_g","_b","FlagIcon","VueI18n","messages","select_region","select_unit","select_location","select_building","select_wings","select_floors","select_functions","select_bedtypes","select_capacity","select_owner","select_rent_contract_user","select_rent_type","select_rent_status","button_calculate","button_exportxls","button_exportpdf","button_ifcexporter","button_rentmodule","text_result","text_report1","text_report2","text_all","button_importdata","button_editspec","button_capacity","button_bimviewer","button_start_rotate","button_stop_rotate","button_zoom_to_object","button_togglemap","wayfinding","button_togglecolor","button_lockselection","button_unlockselection","button_multi1","button_multi2","select_roomfile","select_circulationfile","select_geometryfile","button_importifc","button_back","button_logout","button_fileslib","button_podselect","button_arbeidsliste","button_search","text_search","text_clear","text_ok","text_dismiss","session_expires","text_file_details","text_pod_details","text_employees","text_employee_new","text_last_changed","text_download","text_files","text_folders","text_pods","text_create_container","text_container_name","text_create_issue","text_issue_tags","text_issue_responsible","text_title","text_description","text_photo","text_create","text_add","text_cancel","text_contracts","text_rent_contracts","text_owner","text_contract_nr","text_contract_type","text_contractor","text_from","text_to","text_rented_area","text_share","text_color","text_room_details","text_room_geometry","text_building_details","text_netarea","text_netarea_calculated","text_grossarea","text_doors","text_what_to_do","locale","fallbackLocale","VApp","VAppBar","VDivider","VIcon","VImg","VList","VListItem","VListItemAvatar","VListItemContent","VListItemSubtitle","VListItemTitle","VMain","VMenu","Vuetify","VueMask","WCharts","icons","iconfont","config","productionTip","vuetify","i18n","h","App","$mount","so","names","initials","substring","toUpperCase","random","toString","substr","arr","fromIndex","toIndex","str","char","pop","charAt","customCompare","b","colorToSigned24Bit","searchAndGetTriples","err","URIp","URI","port","podNs","scheme","U1","Namespace","nu","cardData","sentFrom","me","userName","anyStatementMatching","SPACE","profile","cRoute","currentRoute","hash","qObj","deleteKeys","lastVisited","localStorage","getItem","lastQuery","deparam","getWebId","getNamespace","base","types","getTypes","match","unique","isParentPod","isChildPod","isPodType","DOAP","GR","ORG","BOT","getURIs","isType","OPMV","containerP","isObjectPort","ua","userCanControl","m_cid","quad","m_contains","m_join","m_port","funcNode","isRdfNode","isRelation","j_do","down","sts","up","getSubject","getObject","getSystemUp","getSystemDown","ports","getInherit","isState","e_entity","a_attribute","elems","eQuads","eQuad","aQuads","aQuad","isAttribute","f_function","a_result","fQuads","fQuad","rQuads","rQuad","recurse","sElems","stateToElems","attributeToElems","isEntity","lit1","lit2","datatype","_function","stateToQuad","isQuad","oc","isLiteral","states","oObj","quadToState","app","doc","options","getGmxLoad","resp","statements","IRI","getIRI","prop","domainNode","uriToNamedNode","nProps","dTypes","ds","nPs","nP","ptypes","label","getPropCategory","category","props","Properties","cat","forceLoad","force","logServerAndBrain","brain","getAvailableModes","Props","properties","pURIs","pURI","fetcher","Typ","NS","Term","getNsTerm","sProps","nprop","loadOntology","aLoadNode","inArray","loadType","results","then","tProps","fProps","ject","nested","any","cont","inverse","items","getInheritNested","getParentPod","getInheritNestedLoad","getChildPod","getContains","containees","getContainees","getLdpContainees","podEntity","getContaineesNested","ldpees","owners","con","getLdpContaineesNested","Final","dataLoad","result3","result2","trips","collabs","trip","collab","getCollabObjects","webids","cWebid","loadWebId","toLoad","co","allPods","getAllPods","serv","getPodServer","parents","getJustTopParents","parent","getChildPodNested","child","getCollaborators","topParents","getTopParents","membees","getMembeeNested","leafs","getParentPodNested","getParentPodNestedLoad","getMembee","getAllContainers","grep","stuff","each","modifiedTime","POSIX","toLocaleString","num","collaborators","tag","f_tag","concepts","isConcept","rank","rankIt","rankA","rankB","sorted","sort","cid","Type","getType","getCID","EVENT","ranked","rankConcepts","SCHEMA","literal","noLabel","it","thing","DCTERMS","ftag","TAG","getText","getId","FABIO","search","stateOnly","isBlank","hTypes","parseLinkHeader","rTypes","rResult","g","Boolean","eType","getEntity","eTypeUri","finished","ents","objs","getEntities","range","OWL","term","puri","pNS","replace","podRoot","parse","dataRedirect","uriPort","ontURI","OntP","ontPort","ontFrag","fragment","ontology","dataPropertyP","Category","categories","rx","clean","cleanURI","objects","columns","triple","eVal","fields","row","renderObj","pred","col","sortable","statement","htmlP","getRange","origUri","forceHead","headLoad","redirectUri","redirectDs","appAuthReq","current","eTag","notFound","expired","xPoweredBy","lastHead","dsHead","redirected","dataSets","from","to","href","nodeColor","firstLetter","cidColor","nodeColors","cardUri","getCard","isWebId","maybeWebId","fetchWebId","valid","card","dsStore","accept","podOwners","getPodOwners","podMembers","getPodMembers","isParentPodCapable","own","podA","podB","mem","why","getLinkHeader","links","lk","iri","trim","replaceAll","propUri","isTrinpod","isTrinPod","isRedirect","typ","pdf","isPdf","some","isFile","getTag","hasTag","extL","isChildPdf","vector","containeesUp","ldpStart","isContainees","ldpContaineesUp","returnItem","ups","isSystemObj","tree","nodes","getNode","uris","isTree","findTreeNode","isTreeNode","Path","allURIs","getAllTreeURIs","portsTo","getPortTo","portsFrom","getPortFrom","parent2","raw","cCollab","maybeWebIdSysRelation","content","deNullify","roots","eRoots","oroot","loc","insertNode","treeUris","paths","isLeaf","updateNode","isExpanded","getRequestNodes","turi","root","makeTreeNode","insert","placement","isSelected","updateTree","getTreeContents","aL","getFTag","bL","localeCompare","finals","ui","uuri","getTreeNodeChildren","ePath","isNode","isIntelligentPdf","isPort","responses","getResponseNodes","allow","eTags","requests","eTagToResponseNodes","yes","trin","fetchURI","statem","timeout","checkIfAppAuthorizationRequired","uploadTurtle","turtlebody","tst","successfulFetch","checkIfAppAuthenticated","containerName","runSparqlQuery","queryString","SPARQLToQuery","rdfdefault","default","getParts","DUL","getPartsNested","getWholesNested","uriThree","parts","issueFound","toFindDuplicates","duplicateElementa","tofindDuplicates2","duplicateElementb","getDuplicatePartChild","getHeader","checkIfContainLoopInStore","pstore","compare","URIlist","foundIssues","arr1","arr2","arr3","arr4","k","foundNewContains","foundSubject","foundObject","foundPredicate","subobjset","found","addString","ul","firstURI","lastURI","uls","firstURIc","lastURIc","checkIfmPortLoopInStore","getParentsNested","predicateTypes","hierarchiesList","parentsfound","currentURIs","parentURIs","lvl","currentURI","duplicateAdded","hli","getSecondLastElement","removeLastElement","getLastElement","reverseSubArrays","getChildrenNested","hlist","childrenfound","subArray","newCurrentURI","childrenURIs","checkIfContainLoop","parentArray","removeDuplicates","hierachy","checkIfDuplicateExists","fullArray","modifyTurtle","turt","checkPrefixes","prefixarray","prefix","prefixuri","closeview","loading","reloadview","domProps","buildingName","buildingURI","buildingNum","buildingYear","buildingType","buildingProtectionStatus","buildingAddress","buildingNetArea","buildingGrossArea","numberofstoreys","numberOfRooms","operationsManager","proxy","buildingImage","bd","VSimpleTable","VToolbar","VToolbarItems","VToolbarTitle","ifcu","getIFCpropertiesJson","currentURL","propurl","filedata","Blob","fr","FileReader","onload","jsonResult","constructSpatialTree","readAsText","getCirculationCSV","promise","foundObjects","clearContainValues","ContainsKeyValue","checkNestedValues","searchObject","matchCallback","currentPath","searched","getFirstItemOfType","find","getAllItemsOfType","constructSpatialTreeNode","contains","spatials","spatialRels","rel","RelatingStructure","expressID","containsRels","RelatingObject","spatialRelsIDs","RelatedElements","containsRelsIDs","RelatedObjects","childrenIDs","childID","childkeys","childvalues","getIFCmetaDataFromJson","JSONuri","jsonFile","getPropertySets","propItem","Name","Tag","GlobalId","OverallHeight","OverallWidth","ifcProject","ifcProjectNode","relContained","relSpatial","getAllSubsetMeshes","elementIDs","ifcLoader","meshes","customID","elementID","coordinates","expressIDs","newIndices","alreadySaved","subset","ifcManager","createSubset","ids","removePrevious","positionAttr","attributes","expressIDAttr","newGroups","groups","group","newMaterials","prevMaterials","newMaterialIndex","materialIndex","newIndex","has","getX","saved","geometryToExport","BufferGeometry","newVerticesAttr","BufferAttribute","Float32Array","newExpressIDAttr","Uint32Array","setAttribute","setIndex","computeVertexNormals","mesh","removeSubset","createFloorplan","storeynumber","IFCuri","buildingTag","container","document","createElement","viewer","IfcViewerAPI","backgroundColor","IFC","useWebWorkers","setWasmPath","ifcloading","fileurl","createObjectURL","ifcModel","loadIfcUrl","controls","context","ifcCamera","cameraControls","setPosition","setTarget","plans","computeAllPlanViews","lineMaterial","LineBasicMaterial","baseMaterial","polygonOffset","polygonOffsetFactor","edges","allPlans","getAll","dxf","initializeJSDXF","Drawing","getSpatialStructure","storeys","storey","plan","currentPlan","planLists","floorTag","IFCmetadata","entries","drawProjectedFloorplanItems","dispose","createPolygon","polyArray","polyShape","Shape","polyXYZ","moveTo","lineTo","autoClose","ShapeGeometry","planheight","dummySubsetMat","drawings","newDrawing","filteredPoints","edgesProjector","projectEdges","positions","tolerance","sqrt","floorplanMeshArray","materialBlack","linewidth","polygon","points","setFromPoints","line","Line","drawEdges","ACI","BLUE","drawNamedLayer","RED","CYAN","materialBlue","materialRed","layers","shapes","x1","y1","x2","y2","LineSegments","points2","geometry2","line2","filename","exporter","GLTFExporter","trs","onlyVisible","truncateDrawRange","binary","maxTextureSize","forceIndices","File","download","click","exportDXF","rotateRadians","cx","cy","radians","nx","ny","getAngleRadians","fromX","fromY","toX","toY","deltaX","deltaY","atan2","v3cross","v1","v2","v3","progressvisible","triggerlogin","loginButtonText","loginButtonTextString","userTextString","login","handleRedirectAfterLogin","fetchGETURL","checkIfLoggedIn","sessionInfo","lo","script","csvFile","circulationFile","geometryExists","geometryFile","validateAndUpload","getUris","addRooms","addStoreyContains","gotoIFCImport","createPods","rhf","rhfselected","hrimage","helseforetak","hfselected","locationNames","lokselected","buildingNames","buildingSelected","showBuildingDetails","wings","wingselected","floors","floorselected","csfsearch","caseSensitive","csfitems","open","csfselection","setAllFunctionsSelected","sengeplasstyper","sengeplass","romkapasitet","kapasitet","contractOwnerNames","contractOwnerSelected","contractUserNames","contractUserSelected","contractTypeNames","contractTypeSelected","contractStatusNames","contractStatusSelected","resultat","totalCalculatedCapacity","totalCalculatedRooms","roomTableHeaders","roomTableList","roomTableSelectedRow","calculate","loadHovedByggGeometry","roomDetailsVisible","buildingDetailsVisible","VCardTitle","VCheckbox","VCol","VDataTable","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VForm","VSheet","VTreeview","mfTagList","pfTagList","ministryPODurl","rhfPODurl","hfPODurl","facilityPODurl","sitePODurl","buildingPODurl","prettyURI","siteURI","containsTypes","containsPortTypes","arr2exists","createSiteSystemQuads","lineDetails","circulationArray","createBuildingSystemQuads","findTagByNum","source","createHospitalFunctions","fetchAllStoreyURIs","createStoreyContainsRoomQuads","createRoomQuads","uploadSystems","allText","VFileInput","viewHeight","toggleViews","paneresizestarted","paneresizestopped","changeURL","selectWindow","selectWalls","selectRoof","selectBUP","selectRIV","selectNTNU","selectSpace","selectSpaceAndDoor","selectSpaceAndWindow","bwd","tsv","assetsearch","assetitems","assetselection","selectWallsXray","selectSpaceAndDoorXray","selectSpaceAndWindowXray","selectSensor","selectSpaceAndSensor","selectSpaceAndSensorXray","selectSensorIsolate","sendBimID","sendLocationTwo","sendDoubleBimID","preventDefault","addFile","arguments","files","svgFile","currentUploading","_f","removeFile","uploadDisabled","startUpload","goToParentContainer","goToPodSelect","dialog","reloadData","containerSelected","subtitle","fileSelected","crossLinkStatus","startCrossLink","selectedFileName","decodeURI","selectedFileURI","selectedFileChange","openDocumentInZoho","goToPDFviewer","deleteFile","createContainerName","createContainer","alertBox","alertTitle","alertText","streamSaver","socket","websocketconnect","fl","waitForSocketConnection","buf2hex","buffer","VListItemAction","VSubheader","VTooltip","goBack","currentPod","podSelected","podtype","selectedPod","employee","newEmployeeURI","wtd","VCardSubtitle","ps","$route","fe","getFilesFromURI","_k","runSearch","clearSearch","autosearch","noResults","selected","getPDF","subjectURI","page","fileURI","pageURI","showRoom","showAsset","globalid","debug","pdfdata","slot","searchRdfStore","se","WebIFC","ifcApi","IfcAPI","pdfURI","startPage","handle_pdf_link","pdfpage","totalNumPages","nextPage","previousPage","pw","column","task","badgeColor","responsible","_t","wl","searchAndParseResult","clearScene","createTrinpods","ifcfiles","ifcfile","ifctypes","ifctypesselected","splitbyfloor","convertIFCtoGLTF","exportIFCProperties","getIFCStoreys","floorlist","floorsselected","getIFCSensorElements","roomNumberProcess","labelType","roomsExistInTrinpod","generateDoorCirculation","doorIssueTableHeaders","doorIssueTableList","doorIssueTableSelectedRow","generateOpeningCirculation","generateStoreyLevelCirculation","setBuildingMainEntrance","calculateRoomTrafficLoad","generateRoomNames","runNextTrafficArea","editIFCStoreyNames","uploadFloorsToTrinpod","generateRoomsTurtle","loadIFCSlabs","showIFC","setBuildingPoint1","setBuildingLatLong1","fineTuneBuildingRotation","buildingPosition","uploadPropertiesJson","IFCLoader","setupThreeMeshBVH","Number","pad","addToTempStore","defaultStore","debugF","approximatelyEqual","findDuplicates","ie","VRadio","VRadioGroup","rm","VueRouter","routes","Login","Logout","About","ImportData","BIMviewer","BMviewer","AssetsList","FilesLib","PodSelect","FileEdit","Search","Capacity","ImportIFC","PDFviewer","WorkList","IFCexporter","RentModule","getRoomDetails","roomName","roomURI","roomNum","building","mainfunction","partfunction","renttype","rentarea","freesharepercent","chartOptions","chartData","chartId","datasetIdKey","plugins","cssClasses","styles","netarea","netareacalculated","grossarea","doors","contractSearch","contractTableHeaders","contractTableList","contractTableSelectedRow","rd","truncate","tempBlank","blank","grp","String","fromCharCode","hexToString","decodeCharacters","pStore","baseurl","serialize","strArr","parseFloat","jqXHR","textStatus","errorThrown","dataType","cache","Asyn","Async","ajaxSetup","ajax","Data","ajaxError","xpower","setProp","checkIRI","getURL","termFromId","getPodNode","gmxSolidP","_","querystring","pair","addQuery","toggleMode","email","re","reload","array1","array2","diff","sortOrder","aProps","getOwnPropertyNames","bProps","propName","a1","a2","STRICT_EQUALITY_NO_NAN","deepEquals","areEqual","setElementsAreEqual","arraysEqual","getPrototypeOf","objectsEqual","mapsEqual","setsEqual","ArrayBuffer","isView","typedArraysEqual","aKeys","bKeys","every","arrayGroups","empty","rows","ceil","getHash","getParameterByName","regexS","regex","exec","appWindowWidthCalc","windowWidth","windowHeight","leftMenuWidth","rightMenuWidth","navigator","connections","hostParts","hostname","origin","subdomain","getSubstance","podNode","getHome","base64ToUint8Array","base64","uint8Array","charCodeAt","blobToBase64","blob","reader","onloadend","readAsDataURL","blobToUint8Array","client","getFileData","pdfData","getArrayBuffer","binary_string","atob","len","bytes","stringEscapeXml","final","areEqualObjects","getClientID","client_id","payload","clientId","systemStart","history","cloneArray","sanitize","replacement","illegalRe","controlRe","reservedRe","windowsReservedRe","windowsTrailingRe","sanitized","sanitizeFilename","edgeSize","wf","Node","shortest","neighbors","rdfjs","dataset","elevatorArray","populateWayRdfStore","uriArray","IFOUR","namedNode","defaultGraph","uriVal","SEAS","room1","room2","numberOfWays","priParam","uriBlackList","startTime","finalWays","roomID1","roomID2","_size","stairsArray","blackListAllExeptNearestStairs","blURIs","blackListedURIs","TermSet","blackListedRooms","dirIn","followLiterals","nodeBlacklist","blackListedElevators","foundWay","finalNames","way","nameArray","waySpace","finalWaysUniqueSorted","endTime","blacklist","startRoomHAG","endRoomHAG","nearestStairID","nearestStairsDistance","startRoomLoc","startRoomLocString","pointStringToVector3","stairID","stairLoc","stairLocString","stairRoomHAG","watch","searchAndGetURIs","conceptName","onUploadProgress","progressEvent","uploadPercentage","catch","populateStoreFromTurtle","TurtleURI","storeToTurtle","bmu","getEmployeeList","fetchAndSaveTurtle","employeeList","employeeURIs","tripleArray","emplItem","personuri","makeRandomColor","listitem","iNum","personName","getInitials","sendEmailToResponsible","responsibleWebID","emailAddress","getMeshHeightAboveGround","minHeightAboveGround","maxHeightAboveGround","checkIfMeshCrossStoreyLevel","level","downloadGLTFfromTrinpod","GLTFurl","mTag","loadGLTF","downloadImagefromTrinpod","imageurl","urlCreator","webkitURL","addRoomMatrix","polyline","opacity","roomuri","obb","obbArray","obbString","obbJson","removeFirstElement","loadGeometryUsingTag","ifcTypes","ifctype","currentTag","unloadGeometryUsingTag","meshToRemove","removeValueFromArray","unloadGeometryContainingString","contString","subMesh","checkIfPointInsideMesh","direction","applyMatrix4","matrixWorld","intersectObject","dot","face","normal","raycastRoomsFromPoint","intersectNames","raycastUsingVector","buildingMatrix","invert","raycastUsingVectorDir","zoomTwoDimCamera","previousTimestamp","cameraHeight","oldCameraHeight","newCameraHeight","timestamp","counter","autorotate","center","oldZoom","currentZoom","boundingBox","Box3","setFromObject","getSize","getCenter","getWorldPosition","newCameraPosX","newCameraPosZ","newCameraPosY","newTargetPosX","newTargetPosY","newTargetPosZ","oldCameraPosX","oldCameraPosY","oldCameraPosZ","oldTargetPosX","oldTargetPosY","oldTargetPosZ","currentCameraPosX","currentCameraPosY","currentCameraPosZ","currentTargetPosX","currentTargetPosY","currentTargetPosZ","createBuildingLocationList","buildingURIs","bURI","jsonURI","position2d","buildinglat","buildinglong","addFlag","rotation","buildingdimensions","createBuildingLabelHTML","descript","buildinguri","postit","spacer","numberButton","textContent","imgFile","labelImage","h4","labelContainer","labelDescription","viewerButton","detailsButton","zoomButton","onclick","CSS2DObject","createSimpleLabel","labeltag","createLabelWithType","labelTitle","removeAllLabels","removeTempLabels","polylineToShape","convertPolylineToPolyarray","convertPolylineToXY","returnPos","convertPolyStringToarray","convertPolylineToPolyJson","trinagulateAndCalculateArea","aPoints","poly2tri","Point","totalArea","swctx","SweepContext","triangles","triangulate","triangles_","points_","currentTriangle","Triangle","getArea","createPlaceMarker","pos","markername","previousPlacemarker","MeshLambertMaterial","transparent","depthTest","translate","marker","createVisibleVector","dir","hex","arrowHelper","ArrowHelper","placeArrow","sf","translateX","translateY","translateZ","angle","angleThreeVectors","rotateOnAxis","calculatedDirection","getDoorPosition","doorURI","locVal","getRoomPolylinebyURI","roomTriple","showWay","wayArray","directionVectors","prevURI","prevDoorLocation","wayItem","isDoor","doorDirectionVector","getDoorDirectionVector","polylines","intersectPoint","intersections","findSpaceIntersections","prevVector","reduce","newArray","beforePos","vec","negate","afterDir","subVectors","lengthToNextDoor","afterPos","abs","betwPos","addScaledVector","createLine","pointsArray","createPointsFromPolyArray","polyPos","draw2dspace","myPolyArray","extrudeSettings","extrudePath","LineCurve3","polyGeometry","ExtrudeGeometry","polyMesh","vec1","vecAngle","vec2","polyLine","doorLocation","polyJson","polyPositions","lineVectors","angleSum","ap","v","v3subtract","rotateClockwise","rotateDirection","directionBefore","closestVector","foundLineCenter","closestDistance","Quaternion","applyQuaternion","directionAfter","myLine","Line3","distanceVector","closestPointToPoint","foundDoorVector","createGrossAreaSpaces","polyLines","grossRoomArray","polyArrays","baseVector","midPointBefore","newPointsArray","v3half","midPointAfter","gapBefore","gapAfter","vb","va","angleBetweenDirections","orientation","t1","t2","Xa","Ya","applyAxisAngle","angleToFirstLine","totalMovement","movementLength","newPoint","panToFocusObject","lengthLimit","roomNames","foundIntersections","roomname","formatString","wallLength","getMeshCenterPoint","maxX","minX","maxY","minY","minZ","getMeshCenterPointTop","maxZ","isEvent","qs","f_cause","cqs","caps","att","t_end","started","ended","m_status","is","merged","stmts","elem","last","m_lastChange","lastChange","lastCapability","nl","DC","RSS","XSD","CONTACT","DIO","LODE","LVONT","SH","TXN","GMX","GMXO","MUTO","TET","PROV","ISOADR","SKOS","OM","GEO","BIOTOP","GN","PEXT","PICO","FRBR","CON","DBPEDIA","MD","JUSO","SP","RDFG","BIBO","OV","UNIT","QUANTITY","QUDT","DQV","BIO","RAMI","CC","TEMPORAL","OBO","LINK","COGS","OCDS","PAY","IANA","LINKS","HTTPH","VANN","SSN","SOSA","CDT","DCT","SUR","SHBSPEC","SHB","SHBSAND","SHBMOIRA","CTO","SBEO","o_type","m_rank","t_start_event","t_end_event","m_version","m_graph_prefix","n3","predicates","TRINITY","TRINAPP","w_trinapp_cde","w_trinapp_crosslink","f_crosslink_start","f_crosslink_review_approve","w_trinapp_files","w_trinapp_launchpad","w_trinapp_oneworld","w_trinapp_projects","w_trinapp_store","f_add_employee","f_add_member","w_trinapp_add_collaborator","f_add_collaborator","f_add_project_trinpod","f_add_building_trinpod","f_add_business_trinpod","w_trinapp_remove_employee","f_remove_employee","w_trinapp_remove_member","f_remove_member","w_trinapp_web","w_trinapp_append","f_solid_append","w_trinapp_control","f_solid_control","w_trinapp_read","f_solid_read","w_trinapp_write","f_solid_write","namespaces"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,gECvJTW,EAAOD,QAAU,IAA0B,8B,oCCA3C,W,qBCAA,SAAS+B,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9B9B,EAAOD,QAAU+B,EACjBA,EAAoBO,GAAK,Q,oCCRzB,yC,oCCAA,MAAMC,EAAI,CAIVA,eAAmB,SAASC,GACxB,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAMV,OAAO,GAAG,IAI7BS,qBAAyB,SAASC,GAChC,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAMV,OAAO,GAAI,GAAG,IAI/BS,mBAAuB,SAASC,GAC9B,GAAIC,MAAMC,QAAQF,GAEhB,OADAA,EAAMrD,QACCqD,GAIXD,kBAAsB,SAASC,GAC3B,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAMV,MAAM,EAAGU,EAAM9D,OAAO,IAIzC6D,uBAA2B,SAASC,GAChC,GAAIC,MAAMC,QAAQF,GAChB,OAAO,IAAIG,IAAIH,GAAOI,OAASJ,EAAM9D,QAI3C6D,iBAAqB,CAACC,EAAQ,MAC1B,MAAMK,EAAM,IAAIC,IAGhB,OAFAN,EAAMO,QAASC,GAAMH,EAAII,IAAIC,KAAKC,UAAUH,GAAIA,IAChDR,EAAQ,IAAIK,EAAIO,UACTZ,GAGXD,iBAAqB,SAASC,GAC1B,IAAI,IAAIa,EAAI,EAAIA,EAAKb,EAAM9D,OAAQ2E,IAC/Bb,EAAMa,GAAIC,UAEd,OAAOd,GAGXD,qBAAyB,SAASC,EAAOzB,GACvC,IAAK,IAAIvC,EAAI,EAAGA,EAAIgE,EAAM9D,OAAQF,IACzBgE,EAAMhE,IAAMuC,GACfyB,EAAM5C,OAAOpB,EAAG,GAGtB,OAAOgE,IAGMD,U,sDC1Df,W,uBCAAtC,EAAOD,QAAU,IAA0B,kC,oCCA3C,W,qBCAAC,EAAOD,QAAU,IAA0B,yB,wGCA3C,4EAKA,MAAMuD,EAAOC,EAAQ,QACfC,EAAID,EAAQ,QACZE,EAAKF,EAAQ,QAIbpD,EAAI,CAEVA,UAAc,WACV,QAAIuD,OAAMC,MAAMC,iBAOpBzD,UAAc,SAAU0D,EAAUC,EAAQC,GACpCA,IACJA,EAAM,IAEFA,EAAIC,QACRD,EAAIC,MAAQ,IAEb,IAAIC,EAAMC,OAAEC,OAAON,GACnBH,OAAMU,OAAO,sBACb,IAAI/B,EAAKqB,OAAMC,MAAMU,eACrBN,EAAIO,UAAY,IAAIb,EAAGc,UAAUlC,GACjCwB,EAAWP,EAAKkB,IAAIP,GACpB,IAAIQ,EAAOP,OAAEC,OAAOL,GAChBW,EACHX,EAASR,EAAKkB,IAAIC,GACU,kBAAXX,EACjBA,EAASR,EAAKoB,IAAIZ,EAAQ,KAAMa,OAAIC,QACR,kBAAXd,IACjBA,EAASR,EAAKoB,IAAIZ,EAAQ,KAAMa,OAAIE,UAErC,IAAIC,EAAU,IAAIrB,EAAGsB,aACrB,GAAIlB,GAAYC,EAGf,OAFAC,EAAIC,MAAMjF,KAAKuE,EAAK0B,GAAGjB,EAAIO,UAAWW,OAAIC,WAAYrB,EAAUiB,IAChEf,EAAIC,MAAMjF,KAAKuE,EAAK0B,GAAGjB,EAAIO,UAAWW,OAAIE,SAAUrB,EAAQgB,IACrDf,EAEPqB,WAAU,yCAA0CvB,EAAUC,IAIhE3D,MAAU,SAAUkF,EAAQf,EAAWP,GAkBtC,GAjBIsB,GACoB,WAAnB7B,EAAE8B,KAAKD,KACVA,EAASnB,OAAEC,OAAOkB,GACdA,IACHA,EAAS/B,EAAKkB,IAAIa,KAIjBf,IACuB,WAAtBd,EAAE8B,KAAKhB,IAAkD,cAAvBA,EAAUiB,UACf,WAAtB/B,EAAE8B,KAAKhB,KACjBA,EAAYJ,OAAEC,OAAOG,GACjBA,IACHA,EAAYhB,EAAKkB,IAAIF,MAIpBe,GAAUf,EAAW,CACnBP,IACJA,EAAM,IAEFA,EAAIC,QACRD,EAAIC,MAAQ,IAEb,IAAIwB,EAAQzB,EAAIyB,MACZ7B,EAAQxD,EAAEqF,MAAM,KAAMA,EAAOzB,GACjCJ,EAAMA,MAAQA,EAAM8B,aACb9B,EAAM8B,MAEb/B,OAAMU,OAAO,sBACJV,OAAMC,MAAMU,eAArB,IACIS,EAAU,IAAIrB,EAAGsB,aAGrB,OAFAhB,EAAIC,MAAMjF,KAAKuE,EAAK0B,GAAGK,EAAQJ,OAAIS,SAAU3B,EAAIJ,MAAOmB,IACxDf,EAAIC,MAAMjF,KAAKuE,EAAK0B,GAAGV,EAAWW,OAAIU,YAAa5B,EAAIJ,MAAOmB,IACvDf,EAEPqB,WAAU,sCAAuCC,EAAQf,IAI3DnE,KAAS,SAAUyF,EAAM7B,GACxB,IAAI8B,EAMJ,OAJCA,EADGD,EACI,IAAIE,KAAKF,GAET,IAAIE,KAEL3F,EAAEmE,UAAUpD,OAAG6E,GAAG,MAAOzC,EAAKoB,IAAImB,EAAKG,cAAe,KAAMrB,OAAIsB,UAAWlC,IAGnF5D,MAAU,SAAUsF,EAAOG,EAAM7B,GAEhC,IAAIe,EAAU,IAAIrB,EAAGsB,aAIrB,GAHKhB,IACJA,EAAM,IAEF0B,GAAW1B,EAAI0B,OAIRA,GAAS1B,GAAOA,EAAI0B,QAC/BA,EAAQ1B,EAAI0B,WALe,CAC3B/B,OAAMU,OAAO,sBACb,IAAI/B,EAAKqB,OAAMC,MAAMU,eACrBoB,EAAQ,IAAIhC,EAAGc,UAAUlC,GAY1B,GARK0B,EAAImC,iBACRnC,EAAM5D,EAAEyF,KAAKA,EAAM7B,GACnBA,EAAImC,eAAiBnC,EAAIO,UACzBP,EAAIO,UAAY,MAEZP,EAAI0B,QACR1B,EAAI0B,MAAQA,GAET1B,EAAImC,eAEP,OADAnC,EAAIC,MAAMjF,KAAKuE,EAAK0B,GAAGS,EAAOR,OAAIkB,QAASpC,EAAImC,eAAgBpB,IACxDf,GAMT5D,WAAe,SAAUiG,EAAQC,EAAMtC,GAC/BsC,EAAOnC,OAAEC,OAAOkC,GAChBD,EAASlC,OAAEC,OAAOiC,GACtB,GAAIC,GAAQD,EAAQ,CACvB,IAAIE,EAAaC,OAAED,WAAWF,EAAQC,GACtC,GAAIC,EACA,MAAO,CAAEA,WAAYA,EAAW,IAGlB,IAAI7C,EAAGsB,aAChBhB,IACRA,EAAM,IAEH,IAAIyC,EAASrG,EAAEmE,UAAUW,OAAIwB,UAAWJ,EAAMtC,GAC1C2C,EAAMvG,EAAEwD,MAAMyC,EAAOI,EAAOlC,UAAUkC,GAE1C,OADAE,EAAIJ,WAAaI,EAAI/C,MACd+C,IAOZvG,MAAU,SAAU4D,GACnB,GAAmB,kBAARA,EAAkB,CAC5B,IAAIuC,EAAavC,EAAIuC,WACjBd,EAAQzB,EAAIyB,MAEZmB,GADM5C,EAAI6C,IACF7C,EAAI4C,OACZE,EAAS9C,EAAI8C,OACL9C,EAAI+C,MACH/C,EAAIgD,OACjB,GAAIT,EAAY,CACf,IAAIU,EAAS9C,OAAEC,OAAOmC,GAClBU,IAEFV,EADoB,kBAAXU,EACIA,EAEA1D,EAAKkB,IAAIwC,IAGxB,IAAIC,EAAO9G,EAAEqF,MAAM,KAAMA,EAAOzB,GAChC,GAAIkD,EAAKxB,MA0BR,OAzBAwB,EAAKjD,MAAMjF,KAAKuE,EAAK0B,GAAGiC,EAAKxB,MAAOR,OAAIiC,UAAWZ,IAC/CK,IACmB,UAAlBnD,EAAE8B,KAAKqB,KACVA,EAAQ,CAACA,IAEVA,EAAM7D,SAAQ,SAAUqE,GACF,WAAjB3D,EAAE8B,KAAK6B,KACVA,EAAOjD,OAAEC,OAAOgD,GACZA,IACHA,EAAO7D,EAAKkB,IAAI2C,KAGdA,GACHF,EAAKjD,MAAMjF,KAAKuE,EAAK0B,GAAGmC,EAAMlC,OAAImC,QAASH,EAAKxB,YAI/CoB,IACoB,UAAnBrD,EAAE8B,KAAKuB,KACVA,EAAS,CAACA,IAEXA,EAAO/D,SAAQ,SAAUqE,GACxBF,EAAKjD,MAAMjF,KAAKuE,EAAK0B,GAAGiC,EAAKxB,MAAOR,OAAIoC,SAAU/D,EAAKkB,IAAIN,OAAEC,OAAOgD,UAG/DF,KAMX9G,iBAAqB,SAAUkF,EAAQgB,EAAM/G,EAAQyE,GACpDsB,EAASnB,OAAEC,OAAOkB,GAClBgB,EAAOnC,OAAEC,OAAOkC,GAChB,IAAI5B,EAAOP,OAAEC,OAAO7E,GAQpB,GAPImF,EACHnF,EAASgE,EAAKkB,IAAIC,GACU,kBAAXnF,EACjBA,EAASgE,EAAKoB,IAAIpF,EAAQ,KAAMqF,OAAIC,QACR,kBAAXtF,IACjBA,EAASgE,EAAKoB,IAAIZ,OAAQ,KAAMa,OAAIE,UAEjCQ,GAAUgB,GAAQ/G,EAAQ,CACxByE,IACJA,EAAM,IAEFA,EAAIC,QACRD,EAAIC,MAAQ,IAERD,EAAI4C,QACR5C,EAAI4C,MAAQ,IAEb,MAAMrC,EAAYnE,EAAEmE,UAAU+B,EAAM/G,EAAQyE,GACtCJ,EAAQxD,EAAEwD,MAAM0B,EAAQf,EAAUA,UAAWA,GAInD,cAHOX,EAAMW,UACbX,EAAMgD,MAAQhD,EAAMgD,MAAMW,OAAO3D,EAAMA,cAChCA,EAAMA,MACNA,EAEPyB,WAAU,kCAAmCC,EAAQgB,EAAM/G,EAAQyE,IAIrE5D,mBAAuB,SAASoH,GAC5B,OAAQA,GACR,IAAK,UACR,OAAOC,OAAQC,2BAA2B3G,MACvC,IAAK,UACR,OAAO0G,OAAQE,sBAAsB5G,MAClC,IAAK,WACR,OAAO0G,OAAQG,uBAAuB7G,MACnC,IAAK,eACR,OAAO8G,OAAQC,2BACZ,IAAK,OACR,OAAOD,OAAQE,mBACZ,IAAK,UACR,OAAOF,OAAQG,qBACZ,IAAK,QACR,OAAOH,OAAQI,sBAKhB7H,eAAmB8H,eAAeC,GAC9B,GAAIA,EACP,IACI,IAAIC,QAAiBxG,OAAOyG,MAAMC,QACpCC,MACG5E,OAAMC,MAAM4E,OACf,8BACAL,EACG,CACHM,YAAa,YAGPC,QAAaN,EAASM,OAC1B,OAAOA,EAET,MAAMC,GACPC,QAAQvD,IAAIsD,GACTtD,WAAUsD,GACVvI,EAAEyI,uBAAyB,UAG9BxD,WAAU,4BAIZjF,eAAmB8H,eAAeY,GAC9B,GAAIrG,MAAMC,QAAQoG,IAAaA,EAASpK,OAAS,EAAE,CACtD,IAAIqK,EAAO,GACPtD,EAAQuD,YAAYC,MACxB,IAAK,MAAMC,KAAOJ,EAAU,CACxB,MAAM1H,QAAehB,EAAE+I,cAAcD,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGA,EAAI,IACrEH,EAAK/J,KAAKoC,GACVwH,QAAQvD,IAAIjE,GAEhB,IAAIyF,EAAMmC,YAAYC,MAClBG,GAAYvC,EAAMpB,GAAS,IAC/B,MAAO,CAAC,WAAWsD,EAAKK,KAIzBhJ,cAAkB8H,eAAgBC,EAAUkB,EAAYC,EAAU9B,EAAY+B,GAC1E,GAAIpB,GAAakB,GAAelF,OAAEC,OAAOkF,IAAc9B,EAAY,CAEtE,GAAI,qBAAqBgC,KAAKrB,GAAW,CACrC,IAAIsB,QAAcrJ,EAAEsJ,eAAevB,GACnC,GAAc,WAAVsB,EAAmB,CAE1B,MAAME,EAAWxF,OAAEyF,aAAaN,GAChC,GAAIK,EAAS,CACT,MAAME,QAAoBzJ,EAAEsJ,eAAeC,GAE3C,GADHf,QAAQvD,IAAI,eAAewE,GACJ,WAAhBA,EAAyB,CAChC,MAAMC,EAAM,IAAIC,IAAIpG,OAAMC,MAAM4E,QAC1BwB,EAAaF,EAAIG,SAAW,KAAO9B,EAAY,IAAM2B,EAAII,KAAO,KAChEC,EAAahG,OAAEiG,WAAWd,GAC1Be,EAAkBjK,EAAEkK,mBAAmB9C,GAC7C,GAAI6C,GAAmBF,GAAcH,EAAW,CAC5C,IAAIhG,EAAM5D,EAAEmG,WAAW5C,OAAMC,MAAM2G,MAAOF,GAC1CrG,EAAM5D,EAAEoK,iBAAiBR,EAAW9E,OAAIuF,QAAQpB,EAAYrF,GAC5DA,EAAM5D,EAAEoK,iBAAiBR,EAAW7I,OAAGuJ,KAAK,SAASpB,EAAWtF,GAChE,IAAI2G,EAAexJ,OAAGyJ,IAAI,eACT,iBAAbrB,IACPoB,EAAexJ,OAAGyJ,IAAI,uBAEnB5G,EAAM5D,EAAEoK,iBAAiBR,EAAW7I,OAAG0J,IAAI,QAAQF,EAAa3G,GAChE,MAAM0B,EAAQtF,EAAEsF,MAAM1B,GAChB8G,EAAS1K,EAAE2K,cAAcrF,EAAMzB,OAErC,IAAIwB,EAAQuD,YAAYC,YAClBrH,OAAOyG,MAAMC,QAAQC,MAC9BpE,OAAEiG,WAAWd,GAAa,kBAC1B,CACIb,YAAa,UACbuC,OAAQ,QACRC,KAAM,gBAAkBH,EAAS,IACjCI,QAAS,CAAE,eAAgB,+BAG5B,IAAIC,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAClC,MAAO,CAAC,UAAU,CAACvB,IAAK8F,EACnB7B,UAAWA,EACXiB,SAAUA,IAcf,OAZA/D,WAAU,2BAA2B,CAACgF,gBAAiBA,EACpDF,WAAYA,EACZH,WAAYA,IACf5J,EAAEgL,YAAY,SACd,kCACA,qBAAuBC,OAAGC,SAASjB,GACnC,kBAAoBF,EAAa,mBAAqBH,EACtD,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,2BAA2B,CAACK,gBAAiBA,EAC3DF,WAAYA,EACZH,WAAYA,IAejB,OAXA3E,WAAU,4BAA4B,CAACsE,SAAUA,EAC3CL,UAAWA,EACXnB,UAAWA,IACjB/H,EAAEgL,YAAY,SACZ,gCACA,mBAAqB9B,EAAY,wBAA0BnB,EAC3D,UACA,GACA,EACA,gBAEK,CAAC,QAAQ,4BAA4B,CAACwB,SAAUA,EACjDL,UAAWA,EACXnB,UAAWA,IAaf,OAVA9C,WAAU,0BAA0B,CAACiE,UAAWA,EAC9CnB,UAAWA,IACb/H,EAAEgL,YAAY,SACd,0BACA,mBAAqB9B,EAAY,wBAA0BnB,EAC3D,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,0BAA0B,CAACmB,UAAWA,EAC9CnB,UAAWA,IAYvB,OATA9C,WAAU,wCAAwC8C,GAClD/H,EAAEgL,YAAY,SACP,wCACA,mBAAqBjD,EACrB,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,wCAAwCA,GAYrD,OATA9C,WAAU,wDAAyD8C,GACnE/H,EAAEgL,YAAY,SACd,qBACA,qEACA,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,wDAAyDjD,GAiB7E,OAdA9C,WAAU,mCAAmC,CAAC8C,UAAWA,EAC9CkB,YAAaA,EACbC,UAAWA,EACX9B,YAAaA,IACxBpH,EAAEgL,YAAY,SACP,mCACA,eAAiBjD,EACjB,YAAckB,EAAc,sBAAwBC,EAClD,WAAa9B,EACf,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,mCAAmC,CAACW,UAAWA,EACrDkB,YAAaA,EACbC,UAAWA,EACX9B,YAAaA,KAIxBpH,UAAc8H,eAAeqD,EAAYC,EAAaC,GAClD,IAAIhG,EAAQuD,YAAYC,MACxB,MAAMyC,QAAoBL,OAAGM,cAAcJ,GAK3C,GAH6B,kBAAlBC,IACdA,EAAe,CAACA,IAET/I,MAAMC,QAAQ8I,IAAiBA,EAAa9M,OAAS,EAAE,CAC9D,IAAIkN,EAAU,GACVC,EAAiB,GACjBC,EAAgB,GACpB,GAAIJ,EAAY,CACZ,IAAKD,GAAgBA,IAAgBJ,OAAGU,cAAcR,IACrDF,OAAGW,kBAAkBT,IAAe,CACxC,IAAIU,EAAiBZ,OAAGa,UAAUX,GAIlC,GAHK9I,MAAMC,QAAQuJ,KACfA,EAAiB,IAEjBZ,OAAGc,aAAaZ,IAChBF,OAAGU,cAAcR,IACjBF,OAAGW,kBAAkBT,IACrBF,OAAGe,WAAWb,GAAa,CAiB3B,SAhBMc,QAAQC,IAAId,EAAa3I,IAAIqF,UACtC,MAAMqE,QAAoBlB,OAAGM,cAAca,GACvCD,EACIN,EAAeQ,SAASD,IAC/BnH,WAAU,mBAAmB,CAACqH,YAAaF,EAClCjB,YAAaA,IAEtBO,EAAc9M,KAAKwN,IAEnBZ,EAAQ5M,KAAKwN,IAGVnH,WAAU,iBAAiBmH,GAC3BX,EAAe7M,KAAKwN,OAGjBV,EAAcpN,OAAS,EAY9B,OAXA2G,WAAU,4BAA4B,CAACkG,YAAaA,EAC/CO,cAAeA,EACTD,eAAgBA,IAC3BzL,EAAEgL,YAAY,SACP,4BACA,WAAaG,EAAc,gBAAkBoB,eAAeC,OAC5D,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,4BAA4B,CAACrB,YAAaA,EAChDO,cAAeA,EACfD,eAAgBA,IAChB,GAAIA,EAAenN,OAAS,EAYtC,OAXA2G,WAAU,iCAAiC,CAACkG,YAAaA,EAC/CO,cAAeA,EAChBD,eAAgBA,IACzBzL,EAAEgL,YAAY,SACP,kCACA,WAAaG,EAAc,eAAiBM,EAAee,OAC3D,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,iCAAiC,CAACrB,YAAaA,EACvDO,cAAeA,EACfD,eAAgBA,IAExB,IAAI/H,EAEAA,EADA2H,EACWhE,OAAQoF,uBAAuB9L,MAE/B0G,OAAQqF,qBAAqB/L,MAE5C,IAAIiD,EAAM5D,EAAEmG,WAAW5C,OAAMC,MAAM2G,MAAMzG,GACzC,GAAIE,EAAI,CACJ,IAAK,MAAMwI,KAAUZ,EACxB5H,EAAM5D,EAAEoK,iBACJe,EACApK,OAAG4L,MAAM,aACTP,EACAxI,GAGD,MAAM0B,EAAQtF,EAAEsF,MAAM1B,GAChB8G,EAAS1K,EAAE2K,cAAcrF,EAAMzB,aAC/BrC,OAAOyG,MAAMC,QAAQC,MAC9BpE,OAAEiG,WAAWmB,GAAe,kBAC5B,CACI9C,YAAa,UACbuC,OAAQ,QACRC,KAAM,gBAAkBH,EAAS,IACjCI,QAAS,CAAE,eAAgB,+BAG5B,IAAIC,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAClC,MAAO,CAAC,QAAQ,CAACmG,QAASA,EACvBL,YAAaA,EACbnC,SAAUA,IAYb,OAVA/D,WAAU,yCAAyC,CAAC2H,KAAMrJ,OAAMC,MAAM2G,MACnEzG,SAAUA,IACb1D,EAAEgL,YAAY,SACd,+CACA,UAAYzH,OAAMC,MAAMqJ,MAAQ,gBAAkB5B,OAAGC,SAASxH,GAC9D,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,yCAAyC,CAACkJ,KAAMrJ,OAAMC,MAAM2G,MACnEzG,SAAUA,IAapB,OATAuB,WAAU,wCAAwCkG,GAClDnL,EAAEgL,YAAY,SACd,wCACA,iBAAmBG,EACnB,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,wCAAwCA,GAY5D,OATAlG,WAAU,0CAA0CkG,GACpDnL,EAAEgL,YAAY,SACP,0CACA,iBAAmBG,EACnB,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,yCAAyCA,GAatD,OAVAlG,WAAU,sBAAsB,CAACkG,YAAaA,EACzCC,aAAcA,IACnBpL,EAAEgL,YAAY,SACd,uBACA,iBAAmBG,EACnB,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,sBAAsB,CAACA,YAAaA,EAChDC,aAAcA,IAatB,OAVAnG,WAAU,uBAAuB,CAACkG,YAAaA,EACzCC,aAAcA,IACpBpL,EAAEgL,YAAY,SACP,wBACA,kBAAoBI,EAAaoB,OACjC,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,uBAAuB,CAACrB,YAAaA,EAChDC,aAAcA,KAIpBpL,gBAAoB8H,eAAegF,EAASC,EAAgB7M,GACxD,IAAImF,EAAQuD,YAAYC,MACxB,GAAqB,kBAAV3I,EAAmB,CACjC,MAAMoL,QAAoBL,OAAGM,cAAcuB,GAC3C,IAAIxB,EAmEA,OAZArG,WAAU,mBAAmB,CAAC6H,SAAUA,EACtCC,gBAAiBA,EACjB7M,KAAMA,IACRF,EAAEgL,YAAY,SACd,oBACA,QAAU8B,EAAW,wBAA0BC,EAC/C,YAAc7M,EACd,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,mBAAmB,CAAC4M,SAAUA,EAC7CC,gBAAiBA,EACjB7M,KAAMA,IAnEP,SADM+K,OAAG+B,SAASD,IACd9B,OAAGgC,YAAYF,GAgDtB,OAZA9H,WAAU,0BAA0B,CAAC6H,SAAUA,EACtCC,gBAAiBA,EACjB7M,KAAMA,IACfF,EAAEgL,YAAY,SACP,2BACA,QAAU8B,EAAW,wBAA0BC,EAC/C,YAAc7M,EACd,UACA,GACA,EACA,gBAEA,CAAC,QAAQ,CAAC4M,SAAUA,EACxBC,gBAAiBA,EACjB7M,KAAMA,IAlD8B,CACvC,MAAMgN,EACAH,EAAkBI,mBAAmBjN,GAAQ,IACnD,GAAI+K,OAAGgC,YAAYC,GAAc,CAC7B,IAAInC,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAClC,MAAO,CAAC,SAAS,CAAC+H,aAAcF,EAC5BlE,SAAUA,IAEd,IACH,MAAMqE,QAAY7L,OAAOyG,MAAMC,QAAQC,MAAM+E,EAAc,CACvDtC,OAAQ,MACRC,KACA,oDACHyC,mBAAmBpN,GACnB,MACG4K,QAAS,CACZ,eAAgB,cAChByC,KAAM,6GAGP,GAAKF,EAAIG,GAEF,CACCzC,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAClC,MAAO,CAAC,UAAU,CAACvB,IAAKuJ,EAAI3D,IACvBV,SAAUA,IALf,MAAMqE,EAAII,OAAS,IAAMJ,EAAIK,WAQ5B,MAAOnF,GACZoF,MAAMpF,OAkDTvI,MAAU,EAEVA,WAAe,EACfA,UAAc,EACdA,cAAkB,EAElBA,SAAa,GAEbA,oBAAwB8H,eAAegB,EAAI8E,GACvC3I,WAAU,kBAAkB6D,EAAK8E,GAC5BA,IACRA,EAAW,UAER,IAAIvI,EAAQuD,YAAYC,MACnBC,IACRA,EAAMvF,OAAMC,MAAM2G,OAEf,MAAM0D,EAAY7N,EAAE6N,YACdC,EAAQ3K,EAAK4K,YACbC,QAAmBxM,OAAOyM,sBAC1BC,EAAW/K,EAAK4K,YAChBI,EAAM,IAAIC,MAChB,GAA2B,WAAvB/K,EAAE8B,KAAK6I,IAAgD,cAApBA,EAAWK,OAAwBL,EAAW9N,KAiBxF,OADA+E,WAAU,6BAA6B,CAAC+I,WAAYA,IAC7C,CAAC,QAAQ,6BAA6B,CAACA,WAAYA,IAhB1DE,EAASI,KAAOnB,mBAAmBa,EAAW9N,MAAQ,IACtDgO,EAASpF,IAAMA,EACfoF,EAASK,OAASP,EAClB,IAAIQ,EAAS,GACbC,SAASC,IAAIR,EAASnN,OAAG0J,IAAI,QAAQ1J,OAAG4N,IAAI,kBAAkBb,GAC9DW,SAASC,IAAIR,EAASnN,OAAG6N,KAAK,SAAS,OAAOd,GAC9CW,SAASC,IAAIR,EAASnN,OAAGyJ,IAAI,YAAY,SAAWwD,EAAW9N,KAAO,IAAI4N,GAC1E,UAAW,MAAMS,KAAUP,EAAWhL,SAClCwL,EAAO5P,WAAYoB,EAAE6O,uBAAuBX,EAASK,EAAOT,EAAMU,IAClEvJ,WAAUsJ,EAAOF,KAAME,EAAOrO,MAElC,IAAI6K,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAO/B,MAAMyJ,EAAc7D,OAAG8D,YAAYb,GAC9BY,IACRA,EAAcZ,GAEXlO,EAAEgP,MAAQ,EAET,IAAK,MAAMC,KAAaH,EAAY,CACxC,MAAMI,EAAWjE,OAAGkE,kBAAkBF,GAClC5M,MAAMC,QAAQ4M,IAAaA,EAAS5Q,OAAS,GAC7C4Q,EAASvM,QAAQqE,IACfA,EAAKoI,SACmB,SAArBpI,EAAKuH,OAAOF,OACnBrO,EAAEqP,WAAarI,EAAKxE,KACpBxC,EAAEgP,OAAS,KAMVhP,EAAEsP,WAAatP,EAAEqP,UACjBrP,EAAEuP,cAAgBvP,EAAEgP,MACpB,IAAK,MAAMC,KAAaH,EAAY,CACvC,MAAMI,EAAWjE,OAAGkE,kBAAkBF,GACtC,IAAIO,EAAW,GACf,GAAInN,MAAMC,QAAQ4M,IAAaA,EAAS5Q,OAAS,IAC7C4Q,EAASvM,QAAQqE,IACfA,EAAKoI,SACmB,SAArBpI,EAAKuH,OAAOF,MACnBmB,EAAS5Q,KAAKoI,KAIZhH,EAAEyP,WAAW,IACTD,EAASlR,OAAS,GAAE,CAC3B,IAAK,MAAM0I,KAAQwI,EAAS,CACxB,IAAIE,EAAmBzE,OAAG0E,aAAa3I,GAOvC,GANiC,WAA7B3D,EAAE8B,KAAKuK,KACdA,EAAmBA,EAAiBxP,MAEA,kBAAtBwP,IACdA,EAAmBpC,mBAAmBtG,EAAKsH,KAAKsB,MAAM,KAAK1M,UAAU,KAEzC,SAArB8D,EAAKuH,OAAOF,KAAgB,CACnC,GAAKR,EAKE,CACH,MAAMgC,QAAa7I,EAAKuH,OAAOuB,UAC/B3B,EAAI0B,KAAK7I,EAAKsH,KAAKuB,EAAK,CAACE,KAAM,IAAIpK,KAAKkK,EAAKG,yBAN7ChQ,EAAEyP,WAAW,cAAgBQ,KAAKC,MAAM,IAAQlQ,EAAEsP,WAAatP,EAAEqP,UAAa,KAAQ,OACtFrP,EAAEgP,MAAQhP,EAAEuP,eAAiB,OAASvP,EAAEgP,MAAQ,QACjDU,EAAmB,OAAS1I,EAAK9G,YAC1BF,EAAEmQ,WAAWnJ,EAAK,KAAK,KAAK,KAAK4G,GAK3C5N,EAAEuP,eAAiB,EACnBvP,EAAEsP,WAAatP,EAAEsP,WAAatI,EAAKxE,KACnCyC,WAAU,OAAO+B,EAAKiE,OAAG0E,aAAa3I,KAGvChH,EAAEyP,WAAW,KAMX,GADAxK,WAAU,MAAMkJ,GACZN,EACP,IACI,IAAIuC,EAAarM,OAAEiG,WAAWlB,GAAO8E,EACjCiC,QAAa1B,EAAIkC,cAAc,CAAClL,KAAM,qBACvB3D,OAAOyG,MAAMC,QAAQC,MAAMiI,EAAY,CAC7DxF,OAAQ,MACRC,KAAMgF,EACN/E,QAAS,CAAEyC,KAAM,8DAGdvN,EAAEgL,YAAY,eACd,yEACA,GACA,WACA,GACA,EACA,gBAEF,MAAOzC,GACLoF,MAAMpF,GAQP,OADAkG,SAAS6B,cAAc,KAAK,KAAK,KAAKxC,GAC/B,CAAC,WAAW,CAACI,SAAUA,EAC/BsB,SAAUA,EACVF,WAAYtP,EAAEsP,WACdxB,MAAOA,EACPU,OAAQA,EAAO+B,OACfvH,SAAUA,KAKbhJ,WAAe,SAASwQ,GACJ,KAAZA,IACPA,EAAU,OAEe,IAAlBxQ,EAAE6N,aACTtK,OAAMU,OAAO,aAAauM,IAI3BxQ,uBAA2B8H,eAAe2I,EAAWlC,EAAOT,EAAMU,GAC9D,MAAMkC,QAAsB1Q,EAAE2Q,iBAAiBpC,EAAOT,EAAMU,EAAOiC,GAEnE,GAAIpO,MAAMC,QAAQoO,GAAe,CACpC,MAAME,EAAOF,EAAc,GAErB9M,EAAM8M,EAAc,GAC1B,GAAoB,WAAhBrN,EAAE8B,KAAKvB,GAEP,GADA4K,EAAS5K,EAAI4K,OACQ,WAAjBnL,EAAE8B,KAAKyL,IAAwC,cAAlBA,EAAKxL,SAAyB,CAClEqJ,SAASC,IAAI+B,EAAW1P,OAAG4N,IAAI,YAAYiC,EAAK9C,GAChD,MAAMO,EAAOqC,EAAc,GAAGrC,KAC9B,GAAIA,GAAiB,cAATA,EAER,UAAW,MAAMwC,KAAStC,EAAOvL,SAGpCwL,EAAO5P,WAAYoB,EAAE6O,uBAAuB+B,EAAKC,EAAM/C,EAAMU,EAAO+B,cAUrEtL,WAAU,+BAA+B,CAACwL,WAAYA,EAC/ClC,OAAQA,EACRT,MAAOA,IACd9N,EAAEgL,YAAY,SACX,+BACA,SAAWuD,EAAOF,KAAO,YAAcE,EAAOrO,KAC9C,UACA,GACA,EACA,gBAEHsO,EAAO5P,KAAK,CAAC,QAAQ,+BAA+B,CAAC6R,WAAYA,EACtDlC,OAAQA,EACRT,MAAOA,UAGf7I,WAAU,4CAA4C,CAACwL,WAAYA,EAC7DG,KAAMA,EACNF,cAAeA,EACfnC,OAAQA,EACRT,MAAOA,IACb9N,EAAEgL,YAAY,SACd,kCACA,WAAayF,EAAWvQ,KAAO,YAAc0Q,EAAK1Q,KAClD,UACA,GACA,EACA,gBAEAsO,EAAO5P,KAAK,CAAC,QAAQ,4CAA4C,CAAC6R,WAAYA,EACxEG,KAAMA,EACNF,cAAeA,EACfnC,OAAQA,EACJT,MAAOA,UAGrB7I,WAAU,yCAAyC,CAACwL,WAAYA,EACtDlC,OAAQA,EACRT,MAAOA,IACjB9N,EAAEgL,YAAY,SACV,+BACA,WAAayF,EAAWvQ,KACxB,UACA,GACA,EACA,gBAEJsO,EAAO5P,KAAK,CAAC,QAAQ,yCAAyC,CAAC6R,WAAYA,EAC7DlC,OAAQA,EACRT,MAAOA,KAElB,OAAOU,EAAO+B,QAGlBvQ,iBAAqB8H,eAAeyG,EAAOT,EAAMU,EAAOiC,GACpD,MAAMG,EAAOzN,EAAK4K,YAClB6C,EAAKrC,OAASA,EACdvO,EAAEgP,MAAQhP,EAAEgP,MAAQ,EAEpBhP,EAAE8Q,SAASlS,KAAKgS,GAChBA,EAAK9H,IAAM2H,EAAW3H,IACtB,MAAM5I,EAAOqO,EAAOrO,KAEpB,IAAI6Q,EAAU,GACd,IAAK,IAAIC,KAAU9Q,EAAM,CAC5B,IAAI6B,EAAOiP,EAAOC,YAAY,GAI9B,OAHIlP,EAAO,MACP6O,EAAKM,cAAgBhR,GAElB6B,GACP,KAAK,KACDgP,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,KAAK,KACDH,GAAW,WACJH,EAAKM,cACZ,MACJ,QACIH,GAAWC,EACX,OAGDJ,EAAK1Q,KAAO6Q,EACZ,MAAM1C,EAAOE,EAAOF,KACpBuC,EAAKtC,KAAOmC,EAAWnC,KAAOnB,mBAAmByD,EAAK1Q,MACtD,IAEIiF,EAFAgM,EAAUV,EAAWnC,KAAOsC,EAAK1Q,KAGrC,GAFAuO,SAASC,IAAIkC,EAAK7P,OAAGyJ,IAAI,YAAY2G,EAAQrD,GAEhC,cAATO,EACPlJ,EAAOpE,OAAG4N,IAAI,kBACdiC,EAAKtC,KAAOsC,EAAKtC,KAAO,SACd,GAAa,SAATD,EAAgB,CAC9BlJ,EAAOpE,OAAGqQ,IAAI,QACd,MAAMvB,QAAatB,EAAOuB,QAAQvB,GAClCqC,EAAKpO,KAAOqN,EAAKrN,KACjBoO,EAAKS,SAAWxB,EAAKyB,aACrBV,EAAKW,SAAW1B,EAAK1K,KA0ClB,OAxCIA,EACPsJ,SAASC,IAAIkC,EAAK7P,OAAG0J,IAAI,QAAQtF,EAAK2I,IAEtC7I,WAAU,2BAA2B,CAACsJ,OAAQA,EACpCqC,KAAMA,EACN1Q,KAAMA,EACNmO,KAAMA,IAChBrO,EAAEgL,YAAY,SACV,2BACA,SAAW9K,EAAO,YAAcmO,EAChC,UACA,GACA,EACA,gBAEJG,EAAO5P,KAAK,CAAC,QAAQ,2BAA2B,CAAC2P,OAAQA,EAClDqC,KAAMA,EACP1Q,KAAMA,EACNmO,KAAMA,MAELnO,EACPuO,SAASC,IAAIkC,EAAK7P,OAAG6N,KAAK,SAAS1O,EAAK4N,IAExC7I,WAAU,2BAA2B,CAACsJ,OAAQA,EACpCqC,KAAMA,EACN1Q,KAAMA,EACNmO,KAAMA,IAChBrO,EAAEgL,YAAY,SACV,2BACA,SAAW4F,EAAKjQ,MAAQ,YAAc0N,EACtC,UACA,GACA,EACA,gBAEJG,EAAO5P,KAAK,CAAC,QAAQ,2BAA2B,CAAC2P,OAAQA,EAClDqC,KAAMA,EACP1Q,KAAMA,EACNmO,KAAMA,MAEF,CAACuC,EAAK,CAAC1Q,KAAMA,EACpBmO,KAAMA,EACNG,OAAQA,EAAO+B,UAGnBvQ,WAAe8H,eAAgB0J,EAAcC,EAAcvR,EAAK4I,EAAI8E,GAC3DA,IACRA,EAAW,UAER,IACIW,EACAmD,EAFArM,EAAQuD,YAAYC,MAIxB,GAAI9E,OAAE4N,YAAYH,GAAe,EAC1B,EACVjD,EAASiD,EAAcjD,OACvBrO,EAAOsR,EAActR,KACjB4I,EAAM0I,EAAc1I,IACnBA,EAEM0I,EAActR,OACrBA,EAAOsR,EAActR,MAFrB4I,EAAMvF,OAAMC,MAAM2G,MAItB,IAAImE,EAAOkD,EAAclD,KACzB,IAAKA,EAaD,OAZArJ,WAAU,uCAAuC,CAACuM,cAAeA,EAC3DC,cAAeA,EACfvR,KAAMA,EACL4I,IAAKA,IACZ9I,EAAEgL,YAAY,SACd,uCACA,SAAW9K,EACX,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,uCAAuC,CAACsR,cAAeA,EACjEC,cAAeA,EACfvR,KAAMA,EACN4I,IAAKA,IAEX4I,EAAS3N,OAAEiG,WAAWlB,GAAO8E,EAAWU,OAE9BrD,OAAGgC,YAAYwE,KAAmB1N,OAAE4N,YAAYF,KAC9DlD,EAASiD,EACTE,EAAS3N,OAAEC,OAAOyN,GAAiBtE,mBAAmBjN,IAEnD,IAAKwR,EAcR,OAbAzM,WAAU,+BAA+B,CAACuM,cAAeA,EAClDC,cAAeA,EACflD,OAAQA,EACRrO,KAAMA,EACN4I,IAAKA,IACX9I,EAAEgL,YAAY,SACX,+BACI,cAAgBjH,OAAEC,OAAOyN,GAAiB,YAAcvR,EAC5D,UACA,GACA,EACA,gBAEG,CAAC,QAAQ,+BAA+B,CAACsR,cAAeA,EACzDC,cAAeA,EACflD,OAAQA,EACRrO,KAAMA,EACN4I,IAAKA,IAEX,GAAuB,WAAnBzF,EAAE8B,KAAKoJ,GAsGP,OAZAtJ,WAAU,sBAAsB,CAACwM,cAAeA,EAC3ClD,OAAQA,EACRrO,KAAMA,IACXF,EAAEgL,YAAY,SACd,0BACA,cAAgBjH,OAAEC,OAAOyN,GACzB,SAAWnD,EAAO,YAAcpO,EAChC,UACA,GACA,EACA,gBAEO,CAAC,QAAQ,sBAAsB,CAACuR,cAAeA,EAClDlD,OAAQA,EACRrO,KAAMA,IAvGV,GAAoB,SAAhBqO,EAAOF,KAoFd,OAXApJ,WAAU,uBAAuB,CAACwM,cAAeA,EACxClD,OAAQA,EACRrO,KAAMA,IACfF,EAAEgL,YAAY,SACX,uBACA,SAAWsD,EAAO,YAAcpO,EAChC,UACA,GACA,EACA,gBAEI,CAAC,QAAQ,uBAAuB,CAACuR,cAAeA,EAC/ClD,OAAQA,EACRrO,KAAMA,IArFd,IAAI2P,QAAatB,EAAOuB,UACxB,GAAqB,WAAjBzM,EAAE8B,KAAK0K,KAAsBA,EAAKrN,KAiElC,OAZAyC,WAAU,0BAA0B,CAACwM,cAAeA,EAClDlD,OAAQA,EACRsB,KAAMA,EACN3P,KAAMA,IACRF,EAAEgL,YAAY,SACf,0BACA,SAAWsD,EAAO,YAAcpO,EAChC,UACA,GACA,EACA,gBAEQ,CAAC,QAAQ,0BAA0B,CAACuR,cAAeA,EAClDlD,OAAQA,EACRsB,KAAMA,EACN3P,KAAMA,IAjEd,GAFA2P,QAAaA,EAAK+B,cAClB/B,QAAa,IAAIgC,WAAWhC,IACxB9L,OAAE+N,SAASJ,GA0ClB,OAdAzM,WAAU,kCAAkC,CAACuM,cAAeA,EAClDE,OAAQA,EACRD,cAAeA,EACflD,OAAQA,EACRrO,KAAMA,EACN4I,IAAKA,IACf9I,EAAEgL,YAAY,SACZ,kCACA,SAAWsD,EAAO,YAAcpO,EAChC,UACA,GACA,EACA,gBAEK,CAAC,QAAQ,kCAAkC,CAACsR,cAAeA,EACzDE,OAAQA,EACRD,cAAeA,EACflD,OAAQA,EACRrO,KAAMA,EACN4I,IAAKA,IA9Cd,IACI,IAAI3J,QAAeqC,OAAOyG,MAAMC,QAAQC,MAAMuJ,EAAQ,CACzD9G,OAAQ,MACRC,KAAMgF,IAEH,GAAK,IAAIkC,OAAO,SAAS3I,KAAKjK,EAAOsO,QAG9B,CACV,IAAI1C,EAASnC,YAAYC,MACrBG,GAAY+B,EAAS1F,GAAS,IAC9B+J,QAAgBjQ,EAAO2L,QAAQvK,IAAI,oBACnCwD,OAAE4N,YAAYH,KACdA,EAAcpC,QAAUA,GAE5B,IAAIpH,EAAW,CAAC7I,EAAOuO,WAAW,CAACvO,OAAQA,EACpC2E,IAAKsL,EACLpG,SAAUA,IAGjB,OADA/D,WAAU+C,GACHA,EAbP,YADA2F,MAAM,iBAAmBxO,EAAOsO,OAAS,MAAQtO,EAAOuO,YAiBzD,MAAOnF,GACHoF,MAAMpF,KAgFbvI,cAAkB,SAAU6D,GAC3B,GAAIA,GAASxB,MAAMC,QAAQuB,GAAQ,CAClC,IACI1E,EADA6S,EAAU,GAEVC,EAAK,GACLtN,EAAU,IAAIrB,EAAGsB,aACrBf,EAAMlB,SAAQ,SAAUyD,GACvBA,EAAE8L,MAAQvN,EACVqN,EAAQpT,KAAKwH,MAGd6L,EAAGhK,MAAQlH,OAAGoR,QAAQxR,MACtBsR,EAAGnN,IAAM/D,OAAGyJ,MAAM7J,MAClBsR,EAAGG,IAAMrR,OAAG4N,MAAMhO,MAClBsR,EAAGI,IAAMtR,OAAG0J,MAAM9J,MAClBsR,EAAGK,KAAOvR,OAAG6N,OAAOjO,MACpBsR,EAAGM,IAAMxR,OAAGyR,MAAM7R,MAClBsR,EAAGQ,IAAM1R,OAAG2R,MAAM/R,MAClBsR,EAAGU,MAAQ5R,OAAG4L,QAAQhM,MAEtB,MAAMiS,EAAS,IAAItP,EAAGuP,OAAO,CAAEC,SAAUb,IAGzC,OAFAW,EAAOG,SAASlP,GAChB+O,EAAOnM,IAAI,CAAC8B,EAAO8E,IAAQlO,EAASkO,GAC7BlO,IAKTa,iBAAqB,SAAS8D,GAE1BP,OAAMU,OAAO,sBACb,MAAM/B,EAAKqB,OAAMC,MAAMU,eACvB,IAAI8O,EAAgB,IAAI1P,EAAGc,UAAUlC,GAErC,MAAM8P,EAAU,GACVrN,EAAU,IAAIrB,EAAGsB,aAMvB,OALAoN,EAAQpT,KAAKuE,EAAK0B,GAAGmO,EAAcjS,OAAG2R,IAAI,YAAYvP,EAAKkB,IAAIP,GAAKa,IACpEqN,EAAQpT,KAAKuE,EAAK0B,GAAGmO,EAAcjS,OAAG2R,IAAI,cAAc3R,OAAGuJ,KAAK,SAAS3F,IACzEqN,EAAQpT,KAAKuE,EAAK0B,GAAGmO,EAAcjS,OAAG2R,IAAI,QAAQ3R,OAAG2R,IAAI,QAAQ/N,IACpEqN,EAAQpT,KAAKuE,EAAK0B,GAAGmO,EAAcjS,OAAG0J,IAAI,QAAQ1J,OAAG2R,IAAI,iBAAiB/N,IAEhEqN,GAGXhS,YAAgB,SACZiT,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAU,CACjBC,KAAM,oBACNC,QAAS,kBACTC,QAAS,6BACTC,OAAQ,gCAGDC,GAAY,EAEZC,EAAe,CAAC,QAAS,WAAY,WACzCA,EAAalV,KAAK,SAAWwU,EAASW,eAElCV,GACPS,EAAalV,KAAK,qBAGf,IAAIoV,EAAU3Q,EAAE,QAAS,CAC5B4Q,MAAOT,EAAQJ,KAGRc,EAAM7Q,EAAE,UAAW,CAC1B4Q,MAAOH,EAAatH,KAAK,OAGtB,GAAIyG,EAAO,CACd,IAAIkB,EAAW9Q,EAAE,SAAU,CACvB+Q,KAAMnB,IACPoB,SAASH,GAEPL,IACDM,EAASG,QAAQN,GACjBH,GAAY,GAIb,GAAIX,EAAS,CAChB,IAAIqB,EAAalR,EAAE,aAAc,CAC7B+Q,KAAMlB,IACPmB,SAASH,GAEPL,IACDU,EAAWD,QAAQN,GACnBH,GAAY,GAIb,GAAIV,EAAS,CAChB,IAAIqB,EAAanR,EAAE,QAAS,CACxB+Q,KAAMjB,IACPkB,SAASH,GAEPL,IACDW,EAAWF,QAAQN,GACnBH,GAAY,GAIb,GAAIR,EACQhQ,EAAE,WAAY,CACzB4Q,MAAO,QACP,eAAgB,QAChBG,KAAM,uCACPC,SAASH,GAGT7Q,EAAE,IAAMkQ,GAAYe,QAAQJ,GAExBZ,GACPmB,YAAW,WACPP,EAAIQ,SAAS,YACbD,YAAW,WACdP,EAAIS,WACE,OACJ,OAgbW3U,U,kCCzuDf,W,oCCAA,W,kCCAA,W,uBCAAH,EAAOD,QAAU,IAA0B,8B,+ECA3C,IAAIgV,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAWC,YAAY,CAAC,SAAW,YAAYC,MAAM,CAAC,GAAK,WAAW,OAAS,OAAO,CAACJ,EAAG,MAAM,CAACG,YAAY,CAAC,SAAW,WAAW,IAAM,OAAO,KAAO,SAAS,CAAEP,EAAuB,oBAAEI,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,YAAY,CAACR,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,qBAAqB,OAAOX,EAAIY,KAAKR,EAAG,WAAW,CAACG,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,cAAc,SAAS,IAAM,EAAE,IAAM,EAAE,KAAO,GAAGK,MAAM,CAAC/U,MAAOkU,EAAoB,iBAAEc,SAAS,SAAUC,GAAMf,EAAIgB,iBAAiBD,GAAKE,WAAW,sBAAsBb,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,gBAAgB,MAAQ,OAAO,eAAe,IAAIK,MAAM,CAAC/U,MAAOkU,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIkB,eAAeH,GAAKE,WAAW,oBAAoBb,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,cAAc,MAAQ,OAAO,eAAe,IAAIK,MAAM,CAAC/U,MAAOkU,EAAiB,cAAEc,SAAS,SAAUC,GAAMf,EAAImB,cAAcJ,GAAKE,WAAW,oBAAoB,GAAIjB,EAAc,WAAEI,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,mBAAmB,CAACJ,EAAG,IAAI,CAACJ,EAAIS,GAAG,aAAaT,EAAIU,GAAGV,EAAIoB,mBAAmB,SAASpB,EAAIY,KAAKR,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,YAAY,CAACJ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIqB,GAAG,GAAGjB,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,GAAK,sBAAwBR,EAAIsB,OAA8NtB,EAAIY,KAA1NR,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,gBAAgB,MAAQ,KAAK,mBAAqB,uBAAuBe,GAAG,CAAC,MAAQvB,EAAIwB,cAAc,CAACpB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,aAAuCR,EAAU,OAAEI,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,kBAAkB,MAAQ,KAAK,mBAAqB,uBAAuBe,GAAG,CAAC,MAAQvB,EAAIwB,cAAc,CAACpB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,aAA6BR,EAAIY,KAAKR,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,GAAK,sBAAwBR,EAAIsB,OAAuNtB,EAAIY,KAAnNR,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,iBAAiB,MAAQ,SAAS,mBAAqB,wBAAwBe,GAAG,CAAC,MAAQvB,EAAIyB,iBAAiB,CAACrB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMR,EAAI0B,iBAA0BtB,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,eAAe,MAAQ,eAAee,GAAG,CAAC,MAAQvB,EAAI2B,cAAc,CAACvB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMR,EAAI4B,gBAAkB5B,EAAIsB,OAA6KtB,EAAIY,KAAzKR,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,gBAAgB,MAAQ,YAAYe,GAAG,CAAC,MAAQvB,EAAI6B,kBAAkB,CAACzB,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMR,EAAI8B,iBAA0B1B,EAAG,MAAM,CAACE,YAAY,iBAAiBE,MAAM,CAAC,GAAK,sBAAwBR,EAAIsB,OAA0OtB,EAAIY,KAAtOR,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,kBAAkB,MAAQ,WAAW,mBAAqB,oBAAoBe,GAAG,CAAC,MAAQvB,EAAI+B,eAAe,CAAC3B,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,aAA4CJ,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,aAAa,MAAQ,OAAOe,GAAG,CAAC,MAAQvB,EAAIgC,YAAY,CAAC5B,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,aAA+BJ,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,kBAAkB,MAAQ,WAAW,mBAAqB,oBAAoBe,GAAG,CAAC,MAAQ,SAASU,OAAY,CAAC7B,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,iBAAuCJ,EAAG,WAAW,CAACI,MAAM,CAAC,WAAa,GAAG,YAAY,SAASK,MAAM,CAAC/U,MAAOkU,EAAe,YAAEc,SAAS,SAAUC,GAAMf,EAAIkC,YAAYnB,GAAKE,WAAW,gBAAgB,CAACb,EAAG,SAAS,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,cAAc,CAACA,EAAG,cAAc,CAACG,YAAY,CAAC,mBAAmB,UAAU,CAACH,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,2BAA2B/B,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQR,EAAImC,GAAG,eAAetB,MAAM,CAAC/U,MAAOkU,EAAIoC,YAAiB,MAAEtB,SAAS,SAAUC,GAAMf,EAAIqC,KAAKrC,EAAIoC,YAAa,QAASrB,IAAME,WAAW,wBAAwB,GAAGb,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQR,EAAImC,GAAG,qBAAqBtB,MAAM,CAAC/U,MAAOkU,EAAIoC,YAAuB,YAAEtB,SAAS,SAAUC,GAAMf,EAAIqC,KAAKrC,EAAIoC,YAAa,cAAerB,IAAME,WAAW,8BAA8B,GAAGb,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,uBAAuB/B,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAIsC,aAAa,MAAQtC,EAAImC,GAAG,YAAY,SAAW,GAAG,MAAQ,GAAG,KAAO,IAAItB,MAAM,CAAC/U,MAAOkU,EAAIoC,YAAgB,KAAEtB,SAAS,SAAUC,GAAMf,EAAIqC,KAAKrC,EAAIoC,YAAa,OAAQrB,IAAME,WAAW,uBAAuB,GAAGb,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,8BAA8B/B,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAIuC,iBAAiB,aAAa,OAAO,MAAQ,SAAS,eAAe,GAAG,eAAe,cAAc,cAAc,IAAI1B,MAAM,CAAC/U,MAAOkU,EAAIoC,YAAuB,YAAEtB,SAAS,SAAUC,GAAMf,EAAIqC,KAAKrC,EAAIoC,YAAa,cAAerB,IAAME,WAAW,8BAA8B,GAAGb,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,oBAAoB/B,EAAG,MAAM,CAACG,YAAY,CAAC,MAAQ,QAAQ,aAAa,SAAS,CAACH,EAAG,oBAAoB,CAACG,YAAY,CAAC,MAAQ,QAAQ,OAAS,SAASC,MAAM,CAAC,KAAO,gBAAgB,SAAWR,EAAIwC,SAAS,MAAQxC,EAAItM,OAAO6N,GAAG,CAAC,OAASvB,EAAIyC,gBAAgB,MAAM,IAAI,GAAGrC,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,gBAAgB,KAAO,IAAIe,GAAG,CAAC,MAAQ,SAASU,GAAQjC,EAAIkC,aAAc,KAAS,CAAClC,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,mBAAmB/B,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,gBAAgB,KAAO,IAAIe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI0C,iBAAiB,CAAC1C,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,mBAAoBnC,EAAW,QAAEI,EAAG,sBAAsB,CAACG,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,cAAc,MAAM,eAAe,OAAOC,MAAM,CAAC,cAAgB,GAAG,MAAQ,aAAaR,EAAIY,MAAM,IAAI,IAAI,IAAI,IACv9K+B,EAAkB,CAAC,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,aAAaE,MAAM,CAAC,GAAK,cAAc,MAAQ,eAAe,mBAAqB,iBAAiB,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,e,4RCmHvQ,MAAMoC,EAAK,GAMX,yBAmFA,kBACA,aACA,qDAEA,qGAEA3P,eAAe4P,IACf,iDACA,uDACA,gCAGA5P,eAAe6P,EAAeC,EAASzS,GACvC,4CACA,SAEA,SAAS0S,EAAYC,EAASC,EAAW3W,GACzC,kDACA,8CAGAqW,EAAGO,aAAe,WAClB,WACA,OACA,IACA,IACA,2BAEA,EADA,6BACA,wDAEA,uDAEA,kBAOA,QANA,eACA,SACA,qCAEA,qCAGA,UAEA,gCACA,kBACA,gDACA,MACA,iBACA,iBACA,0CACA,0CACA,0EAEA,+DACA,gEACA,kHAEA,mBACA,QACA,KAGA,QACA,UACA,OAEA,4CAEA,SACA,IACA,iCAEA,4BACA,yDAIA,gCACA,2CACA,+BAGAP,EAAGb,aAAe,WAClB,kBACA,cACA,cACA,0DAUA,QATA,2BACA,eACA,iBACA,wCACA,SACA,qCAEA,qCAKA,gDACA,mDACA,+CACA,+CAEA,MACA,MACA,MAEA,oCACA,oCACA,oCAEA,sCACA,sCACA,sCAEA,IAEA,IACA,IACA,IACA,IACA,IACA,IAEA,mBACA,QACA,KAGA,QACA,YACA,YACA,YACA,YACA,YACA,YACA,2CACA,8CAEA,OACA,IACA,KACA,iCAEA,6BACA,4BAIA,gCAEA,+BAGA,OACA,KACA,iBACA,OACA,OACA,SACA,cACA,UACA,QACA,UACA,kBACA,eACA,mBACA,WACA,gDACA,kFACA,gDACA,qCACA,qBACA,sBACA,cACA,cACA,WACA,mBACA,kBACA,iBACA,cACA,cACA,iBACA,oBACA,sBACA,4BACA,UACA,oBACA,sBACA,sBACA,qBACA,wBACA,8BAGA,YACA,mCACA,8JACA,qBACA,0DAEA,kDACA,6DAEA,wBACA,6DAEA,qDACA,gEAEA,aACA,6BACA,2DACA,mCACA,sEACA,sEACA,4FACA,kEACA,aACA,OAEA,aACA,UACA,mDACA,qCAEA,sDAGA,uBACA,8BAEA,IAIA,MAJA,uDACA,yCAIA,qBACA,0BACA,qBACA,4CAEA,8BAMA,mEAcA,OAbA,yBACA,wBACA,wBACA,wBAEA,GACA,sDAGA,iBACA,sBACA,gBACA,gBACA,GAEA,0CACA,SACA,QACA,qCACA,oBACA,oBACA,gBAEA,oBACA,oBACA,oBACA,qFACA,eACA,cACA,iBACA,wBAEA,cAEA,yBACA,wCACA,kBACA,IACA,kBACA,sBACA,wBACA,wBACA,MACA,sBACA,MAEA,sBAGA,eACA,SACA,eAEA,kBACA,mBAGA,mBASA,OARA,SAGA,SACA,gBACA,mBACA,kDACA,SACA,GAEA,eACA,kBAEA,WACA,mCACA,uCAIA,OAHA,sEACA,sEAEA,sBAGA,qCACA,WAUA,OATA,8EACA,uCACA,wCACA,gBACA,UACA,yCAIA,GAEA,uBACA,6BACA,2DACA,mCACA,sEACA,sEACA,4FACA,kEAEA,aACA,OAGA,aACA,UACA,qBACA,0CACA,oBACA,6BACA,+EACA,8BACA,uCAIA,kBAEA,qCACA,0CACA,SACA,qKACA,uBACA,OACA,qMAEA,IACA,SACA,qDACA,EACA,UAEA,4CAGA,qBAEA,4FACA,6BAEA,oEACA,iFAEA,6FACA,8FACA,uBACA,eACA,kCACA,gCACA,YAGA,cACA,oBACA,iBACA,6LACA,wQACA,oHACA,oFAEA,oCACA,+DACA,8CAOA,GANA,8BACA,YACA,iBAGA,kCACA,2BACA,uCACA,cACA,2BAEA,wCACA,kDACA,4CACA,8BACA,mCACA,kCACA,uCACA,oDACA,mCACA,8BACA,4DACA,yBACA,eACA,kEACA,mBAIA,4BAGA,4BACA,gCACA,wEACA,sCACA,2CACA,SACA,KACA,KACA,KACA,KACA,KACA,gBAEA,sFAEA,mBAEA,gFACA,iBACA,kBACA,yBAEA,kFACA,mBAEA,gFACA,mBAEA,oFACA,iBACA,uGAEA,SACA,qBAKA,GAJA,4EACA,mBAEA,0BACA,cACA,qCACA,gCACA,qBACA,mBACA,mBACA,mBAEA,eACA,SACA,+BACA,kCAEA,gCAGA,eAEA,8BACA,sCACA,8BAEA,sCACA,yBACA,iBAEA,sCACA,yEACA,iBAEA,qCACA,gBACA,iBAUA,sCACA,0BACA,2BACA,iBAEA,sCACA,0BACA,0EACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,yDACA,wBACA,iBACA,SACA,eAGA,uCACA,2BACA,gBACA,iBAEA,4CAEA,yCACA,kCACA,0BACA,6BACA,iBAEA,oBAEA,6BACA,6BACA,8BAEA,oBAEA,0BACA,0BACA,2BAGA,sBACA,mBACA,8BAQA,gCACA,sCACA,8BAEA,sCACA,yBACA,iBAEA,sCACA,yEACA,iBAEA,qCACA,gBACA,iBAIA,sCACA,0BACA,2BACA,iBASA,yCACA,kCACA,0BACA,kCACA,iBAEA,oBACA,6BACA,8BAEA,oBACA,0BACA,2BAGA,eACA,+BACA,iCAGA,sBACA,mBACA,mBACA,8BAEA,qBACA,eACA,gBACA,mBACA,oBACA,4DACA,IACA,2BACA,GACA,aACA,sBACA,YACA,SACA,mBAEA,6BACA,0DACA,sBACA,kBACA,4BACA,kCAEA,SACA,iCAGA,qBACA,6BACA,8BAaA,aACA,OAEA,WACA,cACA,mBACA,OAIA,gBAEA,SACA,4BAEA,uBACA,cAGA,IACA,qBACA,gCACA,8DACA,8BAEA,0BACA,mBACA,oCACA,YAuCA,+BACA,6DACA,mBACA,eACA,WACA,eACA,eAEA,6BACA,UACA,QACA,WACA,QACA,oBAEA,SAEA,eAEA,yBACA,iDACA,mEAEA,UAEA,iBACA,6EACA,8DACA,sDACA,0CACA,8CACA,gCAEA,YACA,mDACA,GACA,gCACA,cACA,4BAEA,+CACA,iBACA,gBAIA,eACA,yBACA,yCACA,0EACA,sCAEA,gBACA,iCACA,iCAEA,kCAGA,cACA,8EACA,mCACA,IACA,iCACA,sBACA,2BACA,iCACA,wBAEA,aAKA,oCACA,qCACA,mCACA,+BACA,+BAEA,+BAEA,eAEA,qBAKA,kBAEA,yBACA,mBACA,6BACA,iGACA,gBACA,iBACA,aACA,WACA,2BACA,mBACA,2CAEA,0CACA,qBAEA,sCACA,sDACA,sCAEA,0IACA,mCACA,iFACA,iBACA,yDACA,yBACA,eAEA,2BACA,2DACA,qCACA,qCACA,6CACA,mDACA,4GACA,kBAGA,eAEA,oBACA,oCACA,6DACA,sCACA,2FACA,WACA,oCACA,uBACA,qBACA,+IACA,eACA,oBACA,qCACA,uBACA,qEACA,mBACA,KACA,2HACA,yEACA,4BACA,2GACA,uBACA,gBAGA,cACA,+CACA,mCACA,wBACA,sCACA,wCAEA,sCACA,uCAEA,cACA,qCAEA,kBACA,yDAMA,yBACA,eAEA,mBACA,QACA,UACA,IACA,oCACA,kDACA,mDACA,0EACA,eAEA,cAGA,gBACA,8GAEA,mBACA,cAEA,eACA,eACA,WACA,eACA,eAEA,wBAGA,GAFA,eACA,eACA,GAEA,sBAEA,oBACA,oBACA,eACA,sBACA,eAEA,2BACA,aACA,QACA,WACA,4BACA,yBAIA,mCAGA,gBACA,mBACA,yDACA,2BACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,8DAGA,gBACA,gDACA,MAEA,kDACA,6BACA,IACA,iCACA,sBACA,2BACA,iCACA,wBAEA,UAIA,6BAEA,gEACA,SACA,cAIA,SACA,iBAGA,2BACA,6DACA,YACA,kBACA,gBACA,eACA,qBACA,GACA,UACA,4BACA,MACA,mBAEA,oBAEA,gEACA,kBACA,SACA,mBAIA,eACA,6DACA,gCACA,GASA,0CACA,uBATA,2CAEA,gCAEA,mIAOA,cACA,8EACA,IACA,iCACA,sBACA,2BACA,iCACA,wBAEA,cAKA,0BACA,+BACA,6BACA,gBACA,oCACA,SACA,4CAIA,aACA,6DACA,gCACA,GAiDA,0CACA,uBAjDA,mCAEA,+BAaA,aACA,4CACA,eACA,UACA,iBAEA,eACA,gEACA,iBAGA,oBACA,gDACA,MAGA,+CACA,iBACA,eACA,4CACA,6BACA,iBACA,eAIA,8BAEA,gBACA,SACA,iBAMA,cACA,8EACA,IACA,iCACA,sBACA,2BACA,iCACA,wBAEA,cAKA,YACA,2DACA,aAEA,OAEA,GAEA,YACA,gBAEA,gEACA,wBAyCA,YACA,6CACA,QACA,yCAKA,YACA,yCAIA,6BACA,iCACA,WACA,wFACA,4CACA,0BAEA,kBACA,yFACA,0CAKA,YACA,8DACA,2EACA,sDACA,4DACA,kDACA,wBAEA,YACA,8DACA,2EACA,sDACA,gDACA,wBAEA,mBACA,8DACA,2EACA,gEAEA,4DACA,kDACA,wBAEA,kBACA,+BACA,qCACA,+BACA,kCACA,+CACA,2CAEA,mBACA,MACA,MACA,MACA,mBACA,KAwCA,OAtCA,QACA,SACA,QAEA,OACA,OAEA,OACA,QAEA,SACA,SAEA,QACA,OAEA,MACA,MAEA,MACA,OAEA,QACA,QAEA,SACA,QAEA,QACA,MAEA,OACA,MAEA,QACA,QAEA,2CACA,GAEA,aACA,sCACA,iCACA,kBAEA,gBACA,iCACA,sBAEA,gBACA,+BACA,gBAEA,gBACA,+BACA,0BAFA,IAOA,UACA,sBACA,yCAEA,gBACA,wBAEA,mBACA,sCAEA,iBACA,qCAGA,OACA,2CACA,mDACA,2BAEA,gDACA,oCACA,kDACA,6EAGA,8CACA,8EACA,4DACA,IACA,iCACA,2BACA,mCAEA,aAKA,gDACA,+CACA,GACA,oCAGA,eAEA,8CACA,6DACA,2BACA,IACA,iCACA,sBACA,2BACA,yBAGA,aAoBA,uCACA,8DAEA,4EACA,+BACA,eAEA,sCACA,mBAEA,kDACA,IACA,iDACA,kDACA,iDACA,+CAGA,GAFA,4CAEA,6CAUA,gDAVA,CACA,4CACA,+DACA,sGAEA,kGACA,aACA,sCAOA,yCAGA,8CACA,0BAEA,uCAOA,0CACA,IACA,cACA,iCAGA,qCACA,wDACA,mDAEA,+BACA,2BACA,wDACA,2DACA,KACA,wCACA,uCACA,2DACA,QACA,QAEA,GADA,IACA,eACA,sBACA,kBACA,iDACA,mCACA,iBACA,mDACA,cACA,mBAEA,uBACA,4DAEA,cAIA,GADA,MACA,eACA,sBACA,mBACA,iDACA,mCACA,iBACA,mDACA,cACA,mBAEA,uBACA,4DAEA,WAMA,2BACA,iCACA,2DACA,UACA,uCACA,gCACA,2CACA,kCACA,yBAGA,kCACA,cAEA,OACA,qGACA,gBAGA,0BACA,2DACA,KASA,2BARA,uCACA,0BACA,KACA,2MACA,UAMA,gCAEA,wBACA,iBACA,6BAEA,2BAGA,wBACA,+BAEA,iBACA,qBACA,aACA,+BACA,4BACA,kBACA,eACA,qBAEA,kBACA,uBASA,gCACA,gCACA,4BACA,eAIA,0BAGA,kBAGA,UACA,YACA,wCACA,oBACA,0BAEA,wBACA,yBAEA,WACA,QACA,SACA,cAIA,IACA,+BACA,mCACA,kCACA,mDACA,iDAGA,qDACA,sEACA,4GACA,kHACA,+DAIA,wBAGA,uBACA,sBAQA,yCASA,cAEA,gCACA,sGAKA,0DACA,wDAGA,uBACA,WAGA,sHACA,8FACA,0KACA,kKACA,2MACA,8KACA,+FACA,mHACA,uKACA,0JACA,6FACA,6FACA,gOACA,gHACA,wSACA,+KACA,ktCACA,6IACA,wIACA,mGACA,2JACA,6KACA,4FACA,4FACA,qKACA,4FACA,4KACA,qJACA,+JACA,gIACA,oJACA,gRACA,iGACA,ydACA,sHACA,sHACA,uHACA,mGACA,6KACA,yIACA,4FACA,0NACA,sJACA,uFACA,uGACA,2RACA,6RACA,6OACA,0MACA,yHACA,0HACA,0IACA,mHACA,kHACA,kJACA,+LACA,qJACA,iJACA,4JACA,qLACA,2JACA,gKACA,0LACA,gJACA,uKACA,0HACA,uGACA,wXACA,gHACA,yKACA,kGACA,sJACA,yOACA,+LACA,uMACA,2HACA,uHACA,iOACA,8LACA,kJACA,qZACA,mfACA,8LACA,+OACA,2IACA,kHACA,uMACA,kHACA,gMACA,0MACA,yKACA,oKACA,2FACA,8LACA,iHACA,+GACA,wGACA,gGACA,6FACA,kGACA,+FACA,2GACA,wFACA,8HACA,6RACA,4+BACA,6WACA,kLACA,uuBACA,mKACA,wSACA,4HACA,4JACA,kMACA,orBACA,sIACA,6JACA,wdACA,sHACA,8IACA,8MACA,sHACA,8LACA,wMACA,qHACA,8IACA,8MACA,8LACA,wMACA,qKACA,w6CACA,uNACA,mQACA,kmBACA,imBACA,iTACA,uVACA,uNACA,oZACA,sbACA,ycACA,4RACA,yRACA,qIACA,kLAqsBA,MAGA,gBACA,8BAEA,UACA,4BC7pFmV,I,6LCQ/UqB,EAAY,eACd,EACArD,EACA4C,GACA,EACA,KACA,WACA,MAIa,OAAAS,EAAiB,QAiBhC,I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CA,YACA,gBACA,UACA,uCACA,uCACA,4CAMA,YACA,mBACA,wBAEA,SACA,YACA,kBAEA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,kBACA,WAYA,OAXA,2FACA,oDACA,0BAEA,cACA,+EACA,oDACA,yDACA,wFAGA,GAEA,iBACA,sBAEA,QACA,IACA,IACA,IACA,mCACA,SACA,4EACA,mBAEA,SACA,qDACA,yDACA,yCAEA,KACA,uBACA,uBACA,uBACA,uBAEA,SACA,cACA,0GACA,6FACA,uBAKA,UACA,gFACA,6FACA,gFACA,eAOA,QACA,+EACA,0GAEA,SAKA,SACA,+EACA,mBAGA,SAEA,kFACA,yFACA,6BAEA,yBACA,MAEA,sBACA,MAEA,uBACA,MAEA,uBACA,QAGA,4FACA,iDAGA,sIAEA,2CACA,sCACA,2BACA,gCAGA,wBACA,iCACA,+FACA,4DACA,gGACA,gCACA,sCAGA,qCACA,yCACA,SACA,UACA,mCACA,kBACA,iCACA,2BACA,4CAMA,yDACA,2CACA,GACA,gGACA,gCACA,gCACA,sCAGA,qCACA,yCACA,SACA,UACA,mCACA,kBACA,iCACA,2BACA,2CAMA,qDAKA,0BACA,uBACA,SACA,sEACA,gCACA,oDACA,cACA,6BACA,2BACA,aAGA,OAEA,gCACA,oDACA,IACA,eACA,oDACA,cACA,6BAEA,gCACA,aAGA,YAMA,2BACA,uBACA,SACA,qEACA,gCACA,oDACA,cACA,8BACA,2BACA,aAGA,OAEA,gCACA,mDACA,IACA,eACA,eACA,oDACA,cACA,8BAEA,gCACA,aAGA,YAMA,sBACA,SAkBA,OAjBA,kBACA,KAEA,6DACA,YAGA,6DACA,eACA,wBACA,WAEA,cAKA,GAEA,iBACA,6BACA,gBAGA,yBACA,qBACA,kBACA,yFAEA,yCAGA,uBA0CA,0BAMA,mCACA,0CACA,iBACA,WACA,KACA,KACA,KACA,wEACA,8CAEA,SACA,6FACA,mDAEA,GACA,sCACA,8BACA,uBACA,0BAGA,8BACA,uBACA,4BAKA,QACA,kBACA,WACA,kBACA,sBACA,wHACA,6BACA,6DACA,OAGA,UACA,0HACA,6BACA,oFACA,sBACA,OAGA,0BACA,2BACA,qBAEA,0BACA,6BAIA,sBACA,uDACA,4DAEA,uBACA,6CACA,eACA,wFACA,4CACA,8CAEA,8CAGA,UACA,QACA,0BAEA,SACA,0BACA,iCACA,IAGA,OACA,qCAEA,+BAKA,eAEA,wBACA,+BACA,QACA,IACA,IACA,IACA,0CACA,kDACA,6CACA,mDACA,6CACA,gDAGA,iCAEA,qCACA,sDACA,SACA,UACA,mCACA,kBACA,8CACA,mCACA,gDACA,SACA,UACA,mCACA,kBACA,8CACA,uCACA,iDAQA,uBACA,8BACA,oCACA,sDACA,SACA,UACA,mCACA,kBACA,yEACA,iCACA,gDACA,SACA,UACA,mCACA,kBACA,iDACA,wCACA,mDASA,wBACA,oCACA,kCACA,gDACA,SACA,UACA,oCACA,kBACA,0CACA,iDACA,uCAGA,8BACA,8EACA,qDACA,qFACA,4FACA,gDACA,mDAMA,uBAEA,8BACA,mCACA,8EACA,iDACA,sGAKA,sFACA,wDAGA,mCACA,WACA,mCACA,+BAGA,kBACA,wCACA,WAcA,sEAEA,6FACA,0FACA,mEACA,4CACA,kFAMA,8BACA,yEACA,cACA,gDACA,gDACA,gDAMA,qCACA,iEAEA,yFACA,8CACA,0CACA,uCAKA,+BACA,yEACA,cACA,2EACA,sCACA,qCAKA,wFACA,kDACA,4CACA,+CAGA,6CAEA,gCACA,gCACA,oCAEA,mDAeA,SAIA,KACA,4BACA,mCACA,kFACA,cACA,8BACA,2DACA,+BAGA,CAEA,kFACA,cACA,0FACA,iBACA,0BACA,+CACA,6CACA,oDAMA,iCACA,eACA,mCAWA,cACA,4EACA,2CACA,iBACA,0BACA,0BACA,0BACA,0BACA,0BAEA,iCACA,uBACA,wEAEA,qFAMA,6DACA,uCACA,wBAEA,gCACA,yBACA,4BACA,aACA,mFACA,kGACA,iDACA,2CACA,+CAKA,4CA2BA,qEASA,uCACA,iFACA,gCACA,6DACA,uCACA,kEAEA,sBACA,sBACA,2FACA,qEACA,2F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AAMf,EAAI85C,uBAAuB/4C,GAAKE,WAAW,2BAA2B,CAACb,EAAG,kBAAkB,CAACI,MAAM,CAAC,OAASR,EAAI85C,wBAAwBv4C,GAAG,CAAC,gBAAgB,SAASU,GAAQjC,EAAI85C,uBAAuB73C,OAAY,IAAI,IAAI,KAC7nK,GAAkB,G,aCJ4T,W,yOCQ9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAuBhC,IAAkB,GAAW,CAACoB,OAAA,KAAKC,SAAA,KAAMy2C,WAAA,QAAWC,aAAA,KAAUC,QAAA,KAAKC,cAAA,KAAWx2C,WAAA,KAAQy2C,mBAAA,KAAgBC,0BAAA,KAAuBC,yBAAA,KAAsBC,oBAAA,KAAiBC,SAAA,KAAMn1B,SAAA,KAAMC,OAAA,KAAKzhB,QAAA,KAAKC,WAAA,KAAQ22C,UAAA,KAAOv2C,cAAA,KAAWw2C,aAAA,O,iBC2DpN,MAAM,GAAN,UAOW,EAAX,QAoBc,IAAK,EAAnB,qBACc,EAAd,QACmB,EAAnB,cAMA,MAAMC,GAAY,CAClB,mDACA,gEACA,0EACA,mFACA,kDACA,4DACA,0CACA,iDACA,gDACA,0DACA,iDACA,iDACA,yCACA,+CAGMC,GAAY,CAClB,6DACA,0DACA,qDACA,wDACA,yEACA,gDACA,yDACA,4DACA,mEACA,sDACA,0DACA,6DACA,uEACA,0DACA,6DACA,wEACA,6DACA,sDACA,yDACA,6DACA,oEACA,iFACA,6EACA,0DACA,wDACA,oEACA,2DACA,6DACA,wDACA,8DACA,qEACA,+DACA,8EACA,6DACA,uDACA,gDACA,qDACA,6DACA,4DACA,mEACA,2EACA,uDACA,iDACA,0DACA,6DACA,iEACA,oDACA,iEACA,iEACA,gEACA,qEACA,kEACA,sEACA,gEACA,qEACA,2CACA,4CACA,8EACA,kEACA,gEACA,oDACA,sEACA,mDACA,mDACA,2DACA,yDACA,uDACA,8DACA,6EACA,gEACA,2DACA,4DACA,mEACA,2DACA,wDACA,iEACA,0DACA,uDACA,kDACA,6DACA,6DACA,sDACA,sDACA,4DACA,kEACA,uEACA,2EACA,8EACA,mDACA,6DACA,+DACA,uDACA,0DACA,yDACA,kDACA,qDAGM,GAAN,GAEA,IAAI,GAAJ,WACI,IAAJ,EAEA,MAAM9+B,GAAYntB,EAAlB,sBACMksD,GAAiB,qBAAvB,4BACMC,GAAY,+BAAlB,4BACMC,GAAW,yCAAjB,4BACMC,GAAiB,iDAAvB,4BACMC,GAAa,wBAAnB,4BACMC,GAAiB,uBAAvB,4BAMMp+B,GAAcq+B,GAAUN,GAA9B,MAIMO,IAHSD,GAAUL,GAAzB,MACcK,GAAUJ,GAAxB,MACoBI,GAAUH,GAA9B,MACgBG,GAAUF,GAA1B,OACM,GAAN,YAEMI,GAAgB,CAAC,EAAvB,2FACMC,GAAoB,CAAC,EAA3B,gHAEA,IAAIhgC,GAAa,GAEjB,SAAS6/B,GAAUlrD,GACnB,0BACA,oBAGA,SAASsrD,GAAWp0B,EAAKmP,GACzB,gCAQA,SAASrzB,GAAYC,EAASC,EAAW3W,GACzC,yBACA,+CAGA,SAASgvD,GAAsBC,EAAaC,EAAkBtgC,GAC9D,SAEA,kBACA,iBAIA,kDAcA,OAbA,4BACA,gDACA,gDACA,kEACA,oEACA,mEACA,0CAEA,wCAEA,gCACA,uCAEA,EAGA,SAASugC,GAA0BF,EAAaC,EAAkBtgC,GAClE,IACA,KACA,KACA,KACA,KACA,KACA,KAGA,kBACA,qBACA,sBACA,qBACA,2BACA,uBACA,yBACA,yBAGA,yDACA,+CACA,2CAGA,kDACA,4BACA,gDACA,oDACA,sEACA,qEAEA,wEAEA,oCACA,0CAIA,8BACA,yBACA,4BACA,oBACA,8CACA,0BACA,+CAGA,UACA,gBAIA,gCACA,2BA+BA,OA9BA,4BACA,8CACA,0BACA,8CACA,iCACA,uCACA,2BAEA,UACA,iBAqBA,EAaA,SAASwgC,GAAaC,EAAQvuD,GAC9B,2BACA,kBAEA,OADA,yCACA,SAIA,OADA,gCACA,YAwEA,SAASwuD,KACT,uBAEA,gDACA,4BACA,qDACA,gDACA,iEACA,kEAEA,gCACA,sCAGA,eAEA,+CACA,6BACA,4BACA,0BACA,iFACA,+BAEA,UACA,kBAIA,eAEA,+EACA,yCACA,6BACA,4BACA,0BACA,+EACA,+BAEA,UACA,kBAKA5oD,eAAe6oD,KACf,+DACA,yCACA,WAEA,yFACA,8BACA,8CACA,2BAIA,kCACA,gDAEA,SAGA7oD,eAAe8oD,GAA8BP,GAC7C,iBACA,mCACA,4BACA,4BACA,SACA,KACA,KACA,qBACA,qBACA,yBACA,yBACA,yBAEA,yDACA,2CACA,+CACA,2CACA,4CACA,2BACA,KACA,KAGA,8DAMA,GALA,EACA,kBAEA,6DAEA,WACA,0BAEA,2BAEA,8DACA,IACA,oCACA,6BACA,kBAEA,iFACA,iEAKA,mCAKA,GAJA,0BACA,eAGA,6CACA,0CACA,sDACA,mBAEA,8BAKAvoD,eAAe+oD,GAAgBR,EAAaC,EAAkBtgC,GAC9D,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KAEA,KACA,KACA,KAEA,KACA,KAGA,kBACA,qBACA,sBACA,qBACA,2BACA,uBACA,yBACA,uBACA,yBACA,uBACA,gCACA,8BACA,0BACA,mCACA,oCACA,8BACA,+BACA,2BACA,gCAGA,uBACA,qDACA,2CACA,+CACA,2CAEA,kCACA,kCACA,kCAEA,sCACA,sCAEA,sCACA,qCAEA,uFACA,yFAEA,gBACA,gBAEA,SACA,sCACA,eACA,qCAEA,eACA,4BACA,oCACA,oBAEA,sCACA,oBAOA,oCACA,oBAEA,qCACA,oBAIA,iCAGA,sCACA,+BACA,gDACA,6CACA,0BACA,sDACA,sDACA,6EACA,+EACA,yCACA,uCA0BA,kBACA,mBACA,oBACA,yCAIA,CAGA,8BACA,+BACA,gDACA,6CACA,sDACA,qDACA,0BACA,6EACA,+EACA,yCAIA,+CACA,uCAIA,gCACA,2CACA,4BACA,8CACA,6BACA,wCA8BA,kBACA,mBACA,oBACA,qCAKA,SAoFAloB,eAAegpD,GAAcC,EAAST,EAAkBtgC,GAKxD,IAJA,yBACA,kBACA,KAEA,oBACA,sBACA,uBAGA,IADA,SACA,mBACA,sBAEA,WAKA,2CACA,uCACA,uCACA,mBACA,uBACA,aAEA,mCACA,0BACA,eAEA,qCACA,uCAEA,cACA,2BACA,aAEA,+BACA,0BACA,eAEA,uCAEA,cAIA,KACA,mCACA,0BACA,eAEA,uCAEA,cACA,2FAYA,6BAnJA,6BAEA,MADA,uBASA,OAJA,uDACA,0CACA,OAEA,EAEA,kDAIA,sCACA,wEACA,IACA,uCACA,GACA,aACA,sBACA,SACA,wBAEA,kBAUA,OATA,qDACA,wEAEA,4BACA,2BACA,4BAIA,EACA,SACA,eACA,+BAIA,mDACA,mDACA,uDACA,mDAGA,8CACA,8CAEA,4DACA,wDACA,4CAEA,6BACA,4CACA,oDAEA,4CACA,2DAIA,8CAaA,OAXA,wEACA,4BACA,kDACA,8DACA,4BAKA,8BACA,yCACA,GA0GA,2CAKA,cACA,SACA,gDACA,UACA,cACA,YAEA,2BACA,aAEA,0BACA,0BACA,eAQA,qCAGA,uCACA,KACA,6CACA,SACA,8BAIA,8BASA,6CAEA,aACA,IACA,uCACA,IACA,cACA,wBAEA,yCACA,eACA,kDACA,WACA,aACA,6BACA,8DAEA,SACA,iBAKA,QACA,MACA,kBACA,OACA,OACA,eACA,SACA,kBACA,WACA,mBACA,gBACA,oBACA,eACA,0CAIA,SACA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,eAGA,eACA,0BACA,qBACA,OACA,aACA,yBAEA,qBAGA,OACA,IAGA,wEAEA,IAEA,kBAIA,oBACA,2BAGA,gCAEA,UACA,0BACA,qBACA,OACA,aACA,yBAEA,gCAGA,OACA,IAKA,IAJA,sCACA,kBACA,KAEA,oBACA,sBACA,uBAGA,IADA,SACA,mBACA,sBAEA,WAGA,uBACA,6DACA,6DACA,KAEA,oCACA,4BACA,uCACA,2DAGA,IAEA,kBAIA,WACA,0BACA,8BACA,mBACA,sBACA,qBACA,OACA,aACA,yBAEA,qBAGA,OACA,IACA,QACA,KACA,MAMA,IAJA,sCACA,kBACA,KAEA,oBACA,sBACA,uBAGA,IADA,SACA,mBACA,sBAEA,WAGA,6EAEA,IAEA,kBAIA,oBACA,mBACA,sBA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ACA,oBACA,sBACA,uBACA,wBACA,mBACA,WACA,eACA,UACA,YACA,cACA,aACA,OACA,6EAEA,mBAGA,SACA,cACA,oBACA,cACA,sBAEA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,WACA,2BACA,IAEA,mBACA,qBAEA,yBAEA,cACA,gCACA,OAGA,gBACA,mHAEA,iBACA,4FAEA,8BACA,QACA,kBACA,0BAEA,oBACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,iCACA,oBACA,gCACA,gBAEA,qBAEA,QACA,qBACA,0BACA,MAoBA,OAJA,kBACA,kBAEA,WACA,gBAZA,kBACA,oBAEA,kBAaA,IACA,yDACA,yBAGA,SACA,iBAMA,oBACA,oBACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,gCACA,gBAEA,qBAEA,eACA,0BACA,MAGA,OADA,WACA,gBAHA,kBAOA,IACA,yDACA,yBACA,oBACA,SACA,iBAGA,sBACA,gBACA,IACA,gEACA,kCACA,8CAEA,gEACA,kCACA,8CAEA,yCACA,GACA,gBACA,wBAEA,eACA,eACA,0BACA,+CACA,iBACA,kBAEA,wBACA,wCACA,iBACA,iBAEA,kBACA,SACA,iBAGA,cACA,uBACA,mBACA,2BACA,2BAEA,qBACA,kCAGA,sBACA,yCACA,iDACA,qCA2BA,0CACA,2BACA,8BACA,aACA,sBACA,OACA,4EACA,SACA,gCACA,mBACA,qBACA,iCAEA,sBACA,oBAGA,UACA,4CA5CA,2BACA,8BACA,aACA,sBACA,OACA,SACA,mBAEA,6BACA,iEACA,oCACA,sBACA,gCACA,mBACA,qBACA,iCAEA,sBACA,oBAGA,UACA,4CA0BA,gBACA,6BACA,gGAEA,+BACA,qCAUA,mCACA,WAIA,iCACA,2BACA,mCACA,eACA,qBAEA,qBACA,2BACA,wBACA,wBACA,sBACA,qCAEA,oBAGA,sBACA,2CACA,wBACA,sBACA,mBAEA,aACA,iCACA,iDACA,6CAEA,sBACA,SAkBA,OAjBA,kBACA,KAEA,6DACA,YAGA,6DACA,eACA,wBACA,WAEA,cAKA,GAEA,iBACA,6BACA,gBAGA,mBACA,gBACA,wBACA,0CACA,wBACA,mDACA,eAEA,sBACA,SACA,KAGA,4FACA,cACA,4BACA,yBAKA,iFAoGA,OAnGA,eACA,0DACA,0BAGA,+DACA,cACA,uJACA,0BAKA,qFACA,6BACA,cACA,gEACA,sFACA,6CACA,qEACA,wFACA,wCAEA,2EAMA,kBACA,0EACA,cACA,qCACA,SACA,mCACA,mCAIA,SACA,6EACA,SACA,wBACA,MACA,2EACA,oBACA,MACA,4EACA,qBAGA,0CAIA,SACA,gCACA,MAEA,iHACA,MACA,4IAMA,kBACA,kBACA,kCACA,kDACA,4CAEA,oFACA,eACA,OACA,gBAGA,8EACA,eACA,OACA,YAGA,2EACA,OACA,YAGA,2BACA,oBACA,kBAMA,gBACA,KAGA,wBACA,4BACA,0CACA,cACA,SACA,KAEA,8BAGA,gGAsCA,OArCA,cACA,4BACA,yBAKA,uFACA,eACA,0DACA,0BAKA,kBACA,eACA,0EAcA,GAbA,cACA,0CACA,SACA,2BACA,8CAIA,iCACA,GACA,mHAGA,cAEA,iCACA,kMAGA,KAGA,sBAEA,SACA,6EACA,8BACA,MACA,2EACA,iBACA,wBACA,MACA,4EACA,qBAGA,gDAEA,uBACA,4EACA,cACA,6CACA,iCACA,qCAEA,2BAIA,yBACA,6CACA,gBACA,gBACA,IACA,kDACA,2BACA,GACA,aACA,sBACA,4EACA,SACA,6BACA,kHAEA,SACA,mCACA,eACA,eACA,gBACA,kBACA,8BAEA,SACA,qBAGA,4CAGA,wBACA,iBACA,cACA,mCACA,4BAEA,qkBAWA,gJAEA,iCACA,8BAGA,GADA,eACA,qCACA,uCACA,kCACA,eACA,sBACA,OACA,SACA,8CAGA,eACA,iEACA,uBAEA,2DAIA,UACA,UACA,wCAEA,wBACA,UACA,2BAQA,OACA,QACA,yBAGA,mBACA,qCAGA,UACA,kBACA,2CACA,yDACA,4BACA,qBAEA,kBAEA,iCAOA,UACA,4BACA,UClgCkV,M,iICQ9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,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EAIA,aC7IkV,M,sCCQ9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAiBhC,IAAkB,GAAW,CAAC59C,OAAA,KAAKC,SAAA,KAAMC,aAAA,QAAa29C,cAAA,QAAcnH,WAAA,QAAWE,QAAA,KAAKx2C,aAAA,KAAW2hB,SAAA,KAAMxhB,QAAA,KAAKG,WAAA,KAAQgkC,YAAA,KAASC,cAAA,QAAcC,cAAA,UCuHzI,MAAM,GAAN,UAEM,IADN,aACA,WA8BMkZ,GAAK,GAOX,QACA,MACA,iBACA,YACA,aAEA,OACA,OACA,SACA,cACA,sCACA,0EACA,SACA,eACA,uBACA,WACA,gBACA,WACA,kBACA,2BACA,qBAGA,SACA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,SACA,gBAEA,eACA,qBACA,0DACA,kBACA,gCACA,8FAIA,gCACA,0DACA,mBACA,mCACA,gCAEA,kCAGA,0BAEA,cACA,qDACA,2CAEA,sBACA,SAkBA,OAjBA,kBACA,KAEA,6DACA,YAGA,6DACA,eACA,wBACA,WAEA,cAKA,GAEA,iBACA,6BACA,gBAGA,0BACA,gBACA,gBACA,SACA,wCACA,eAGA,UACA,SACA,SACA,KACA,qEACA,qFACA,gEACA,oEACA,0EACA,0BACA,0BACA,0BACA,0BACA,4BACA,2BACA,oBACA,gCACA,uDACA,UACA,4CACA,UAGA,gCACA,uDACA,UACA,4CACA,YAKA,eAEA,2BAIA,qDACA,IACA,kGACA,SACA,eAEA,0CACA,SACA,sEACA,4BAIA,kBACA,uBAEA,gBACA,8BACA,wBAIA,iBACA,SAEA,kBACA,uCACA,qFAIA,QACA,2FAEA,uBACA,iCACA,SAuDA,GAtDA,2CACA,WACA,yFACA,2BAEA,4FACA,2BAEA,cACA,6DACA,iDACA,SACA,6CACA,mGACA,oIACA,qHACA,aAGA,qGACA,2DACA,gDACA,yHACA,aAGA,yFACA,6DACA,iDACA,KASA,wDACA,uBACA,eACA,4HACA,8GACA,qBACA,+MACA,sBAhBA,CACA,aACA,OACA,wNACA,aACA,OAEA,wGAaA,e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MAAM,CAACG,YAAY,CAAC,gBAAgB,SAAS,CAACH,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,0BAA0B,MAAM,GAAGR,EAAIY,KAAMZ,EAAqB,kBAAEI,EAAG,MAAM,CAAC2e,IAAI,cAAcze,YAAY,QAAQE,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,SAAS,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,IAAM,4BAA4B,MAAM,GAAGR,EAAIY,QACvyR,GAAkB,G,aCkVtB,MAAM,GAAN,UAEM,IADN,aACA,WA4BA,2BACA,UACA,gBACA,IAAI4hD,GAAiB,GAArB,QAEA,MAAMC,GAAK,GAWX,QACA,MACA,cACA,OACA,OACA,SACA,UACA,eACA,aACA,mBACA,qBACA,UACA,kBACA,eACA,sBACA,kBACA,aACA,SACA,aACA,WACA,oBACA,sBACA,gBAGA,SACA,cACA,oBACA,cACA,sBAEA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,kBACA,gBACA,kBACA,cACA,2BACA,0CACA,kFACA,IACA,uCACA,GACA,aACA,sBACA,SACA,wBAEA,kBAsBA,OArBA,cACA,mBAEA,4BAEA,+BAEA,8BACA,8FACA,+CACA,0LAKA,oEACA,wBAGA,qCACA,4BACA,EACA,SACA,eACA,+BAGA,mCACA,wCACA,6DACA,cAEA,GADA,eACA,iHAGA,GAFA,qCACA,iFACA,kBACA,mBACA,wEACA,wCAEA,IACA,oFAKA,GAJA,YACA,8DACA,4BAEA,wFACA,SACA,0DACA,iBACA,aACA,mEACA,uEACA,iEAEA,gDAEA,SACA,qBAGA,mBAEA,2GACA,gCACA,iFACA,+GACA,cAEA,eAEA,sDACA,kCACA,iFACA,iBACA,yDAEA,cACA,kFACA,0DAEA,oBACA,wDAEA,oBACA,oDAEA,cACA,qDAEA,mBACA,sDACA,+FACA,yCACA,mBACA,6BACA,uCAGA,gBACA,kFACA,oDAEA,cACA,4FACA,2DACA,+EAEA,yDAEA,sDACA,yFACA,4BACA,6CACA,iBAEA,4CACA,eAEA,6CACA,mBAIA,kBACA,4FACA,2DACA,+EAEA,8DAEA,8EACA,oBACA,cACA,wDAEA,gBAEA,kBAeA,wCACA,sBACA,IACA,iFACA,SACA,eAGA,wBACA,kBAGA,iBAEA,8BACA,6BACA,0CACA,IACA,wDACA,sGACA,eACA,0CACA,iGAEA,iHACA,0FACA,aACA,6CACA,+DAEA,qGACA,oGAEA,SACA,mBAIA,sBACA,SAkBA,OAjBA,kBACA,KAEA,6DACA,YAGA,6DACA,eACA,wBACA,WAEA,cAKA,GAEA,iCACA,2GAEA,kBACA,mCACA,gBACA,kBACA,oBACA,IACA,yBACA,SACA,eAEA,wCACA,8BACA,qBAEA,uBAGA,IACA,eACA,yCACA,GACA,aACA,wBAEA,4BACA,8DACA,0CACA,sBAEA,kBACA,wBACA,kBAEA,SACA,iBAGA,iBACA,4FAEA,YAEA,wBACA,kBACA,0BACA,kCACA,iCAEA,0DACA,4CACA,sGACA,2CACA,qBACA,kBACA,uCAIA,4BACA,kCACA,6BACA,gGAEA,2CAEA,eACA,wFACA,kDACA,4CACA,+CAGA,8CAEA,oBACA,kBACA,0FACA,2CAIA,cACA,2BACA,oBACA,gBAEA,iBACA,6BACA,iBAIA,UACA,UACA,yCAGA,OACA,SACA,mBAEA,YACA,2CACA,kDACA,uCACA,0CACA,uDACA,oDAEA,iBACA,sBACA,2CAEA,uCAEA,qBAKA,UACA,mBAEA,YAGA,YACA,YACA,kBACA,cCjxBgV,M,yBCQ5U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAkBhC,IAAkB,GAAW,CAACp/C,OAAA,KAAKC,SAAA,KAAM6hB,YAAA,KAASo1B,SAAA,KAAMn1B,SAAA,KAAME,SAAA,KAAMC,aAAA,KAAUC,mBAAA,KAAgBC,iBAAA,QAAiBC,kBAAA,QAAkBC,eAAA,QAAehiB,oBAAA,KAAkBK,WAAA,KAAQC,cAAA,OC1B1K,QACA,eACA,YACA,YCdiV,MCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIjE,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CA,uCACA,GACA,aACA,sBACA,SACA,wBAEA,kBAEA,OADA,qDACA,EACA,SACA,eACA,+BAIA,QACA,MACA,gBACA,YACA,YACA,gBAEA,OACA,OACA,SACA,CACA,oBACA,UAEA,CACA,oBACA,UAEA,CACA,iBACA,UAEA,CACA,eACA,aAKA,SACA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,iCACA,wCACA,KACA,wEACA,oCACA,wDAGA,4BACA,6CACA,uBAEA,4BACA,+BACA,6BACA,kBACA,mCAKA,uBACA,wEACA,sCACA,2CACA,SACA,KACA,KACA,KACA,KACA,gBAEA,sFAEA,mBAEA,gFACA,iBACA,yBAEA,kFACA,mBAEA,gFACA,mBAEA,oFACA,iBACA,0LAEA,SACA,sBAIA,GAHA,4EACA,mBAEA,cACA,qCACA,gCACA,qBACA,mBACA,mBACA,mBAEA,eACA,SACA,+BACA,kCAEA,IACA,+BACA,oKAMA,YAGA,OACA,SACA,sBACA,mCACA,kBACA,uBAEA,mCACA,gBACA,qBACA,uCACA,2BACA,yFACA,uCACA,kIAEA,wCACA,sIACA,6DACA,0BACA,eACA,wEACA,kCAaA,UAGA,UACA,kBACA,2CACA,yDAMA,yBACA,uCACA,sBACA,2BAEA,aCjRkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACqQ,SAAA,OCb9B,QACA,iBACA,YACA,cCdmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAUsK,MAAM,CAAG,OAAU5K,EAAIo8C,WAAa,OAAS,CAACh8C,EAAG,QAAQ,CAACE,YAAY,cAAcC,YAAY,CAAC,SAAW,WAAW,UAAU,IAAI,IAAM,OAAO,MAAQ,OAAOC,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQvB,EAAIq8C,cAAc,CAACj8C,EAAG,SAAS,CAACJ,EAAIS,GAAG,+BAA+B,GAAGL,EAAG,YAAY,CAACE,YAAY,iBAAiBsK,MAAM,CAAG,OAAU5K,EAAIo8C,WAAa,MAAQ57C,MAAM,CAAC,GAAK,UAAU,OAAS,YAAYe,GAAG,CAAC,gBAAkB,SAASU,GAAQ,OAAOjC,EAAIs8C,kBAAkBr6C,IAAS,eAAiB,SAASA,GAAQ,OAAOjC,EAAIu8C,kBAAkBt6C,MAAW,CAAC7B,EAAG,MAAM,CAAC2e,IAAI,WAAWze,YAAY,WAAWC,YAAY,CAAC,SAAW,UAAUqK,MAAM,CAAG,OAAU5K,EAAIo8C,WAAa,OAAS,CAACh8C,EAAG,cAAc,CAACI,MAAM,CAAC,IAAM,4BAA4B,GAAGJ,EAAG,oBAAoB,CAACE,YAAY,UAAUsK,MAAM,CAAG,OAAU5K,EAAIo8C,WAAa,OAAS,CAACp8C,EAAIS,GAAG,OAAOL,EAAG,YAAY,CAAC2e,IAAI,WAAWze,YAAY,eAAesK,MAAM,CAAG,OAAU5K,EAAIo8C,WAAa,MAAQ57C,MAAM,CAAC,IAAM,0BAA0B,IAAI,IACjmC,GAAkB,GCDlB,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAeE,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,SAAS,CAAC2e,IAAI,QAAQve,MAAM,CAAC,kBAAkB,IAAIK,MAAM,CAAC/U,MAAOkU,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAIm7B,MAAMp6B,GAAKE,WAAW,UAAU,CAACb,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI4jD,gBAAgB,CAAC5jD,EAAIS,GAAG,mBAAmBL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI6jD,oBAAoB,CAAC7jD,EAAIS,GAAG,uBAAuBL,EAAG,MAAMA,EAAG,MAAQJ,EAAI4mC,QAA0T5mC,EAAIY,KAArTR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,qBAAqBL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAI8jD,SAAS,MAAQ9jD,EAAImC,GAAG,YAAY,gBAAgB,GAAG,OAAS,GAAG,MAAQ,GAAG,KAAO,IAAItB,MAAM,CAAC/U,MAAOkU,EAAW,QAAEc,SAAS,SAAUC,GAAMf,EAAI+jD,QAAQhjD,GAAKE,WAAW,cAAc,GAAcjB,EAAI4mC,QAAgW5mC,EAAIY,KAA3VR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,8BAA8BL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAIgkD,SAAS,MAAQhkD,EAAImC,GAAG,YAAY,gBAAgB,GAAG,SAAW,GAAG,MAAQ,GAAG,KAAO,IAAItB,MAAM,CAAC/U,MAAOkU,EAAoB,iBAAEc,SAAS,SAAUC,GAAMf,EAAIikD,iBAAiBljD,GAAKE,WAAW,uBAAuB,GAAYb,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,OAAO,eAAe,IAAIK,MAAM,CAAC/U,MAAOkU,EAAgB,aAAEc,SAAS,SAAUC,GAAMf,EAAIkkD,aAAanjD,GAAKE,WAAW,kBAAkBb,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAImkD,sBAAsB,CAACnkD,EAAIS,GAAG,4BAA4BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIokD,yBAAyB,CAACpkD,EAAIS,GAAG,gCAAgCL,EAAG,MAAMA,EAAG,MAAQJ,EAAI4mC,QAA0gB5mC,EAAIY,KAArgBR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,+BAA+BL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIqkD,mBAAmB,CAACrkD,EAAIS,GAAG,2BAA2BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAIskD,UAAU,MAAQtkD,EAAImC,GAAG,YAAY,gBAAgB,GAAG,OAAS,GAAG,MAAQ,GAAG,KAAO,IAAItB,MAAM,CAAC/U,MAAOkU,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIukD,eAAexjD,GAAKE,WAAW,qBAAqB,GAAYb,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAImuC,qBAAqB,CAACnuC,EAAIS,GAAG,wBAAwBL,EAAG,MAAMA,EAAG,MAAQJ,EAAI4mC,QAA6R5mC,EAAIY,KAAxRR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,+BAA+BL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIwkD,0BAA0B,CAACxkD,EAAIS,GAAG,qBAAqBL,EAAG,MAAMA,EAAG,OAAO,GAAcJ,EAAI4mC,QAAklB5mC,EAAIY,KAA7kBR,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,2BAA2BL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,SAAoC,GAAzBR,EAAIykD,mBAA0BzkD,EAAI4mC,SAASrlC,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIqkD,mBAAmB,CAACrkD,EAAIS,GAAG,2BAA2BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQR,EAAIskD,UAAU,MAAQtkD,EAAImC,GAAG,YAAY,gBAAgB,GAAG,OAAS,GAAG,MAAQ,GAAG,KAAO,GAAG,SAAWnC,EAAI4mC,SAAS/lC,MAAM,CAAC/U,MAAOkU,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIukD,eAAexjD,GAAKE,WAAW,qBAAqB,GAAYb,EAAG,gBAAgB,CAACG,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,OAAS,IAAIK,MAAM,CAAC/U,MAAOkU,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAI0kD,UAAU3jD,GAAKE,WAAW,cAAc,CAACb,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,cAAc,MAAQ,IAAI,SAAW,MAAMJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,eAAe,MAAQ,QAAQ,GAAGJ,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,yBAAyB,MAAQ,OAAO,eAAe,IAAIK,MAAM,CAAC/U,MAAOkU,EAAuB,oBAAEc,SAAS,SAAUC,GAAMf,EAAI2kD,oBAAoB5jD,GAAKE,WAAW,yBAAyBb,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,SAAoC,GAAzBR,EAAIykD,mBAA0BzkD,EAAI4mC,SAASrlC,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI4kD,6BAA6B,CAAC5kD,EAAIS,GAAG,iCAAiCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,eAAe,CAACE,YAAY,cAAcE,MAAM,CAAC,QAAUR,EAAI6kD,sBAAsB,MAAQ7kD,EAAI8kD,mBAAmB,OAAS9kD,EAAIq2B,OAAO,KAAO,GAAG,WAAW,SAAS,cAAc,IAAIx1B,MAAM,CAAC/U,MAAOkU,EAA6B,0BAAEc,SAAS,SAAUC,GAAMf,EAAI+kD,0BAA0BhkD,GAAKE,WAAW,+BAA+Bb,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,SAAoC,GAAzBR,EAAIykD,mBAA0BzkD,EAAI4mC,SAASrlC,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIglD,gCAAgC,CAAChlD,EAAIS,GAAG,oCAAoCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,UAAW,GAAOe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIilD,oCAAoC,CAACjlD,EAAIS,GAAG,yCAAyCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,IAAI,CAACJ,EAAIS,GAAG,8BAA8BL,EAAG,MAAMJ,EAAIwe,GAAIxe,EAAyB,uBAAE,SAAS7N,GAAM,OAAOiO,EAAG,KAAK,CAACJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGvO,GAAM,UAAU6N,EAAgB,aAAEI,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,SAAWR,EAAI4mC,SAASrlC,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIklD,6BAA6B,CAACllD,EAAIS,GAAG,SAAST,EAAIY,KAAKR,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,UAAU,SAAWR,EAAI4mC,SAASrlC,GAAG,CAAC,MAAQ,SAASU,GAASjC,EAAImlD,8BAA+B,CAACnlD,EAAIS,GAAG,8BAA8BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIolD,uBAAuB,CAACplD,EAAIS,GAAG,0BAA0BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIqlD,wBAAwB,CAACrlD,EAAIS,GAAG,eAAeL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIslD,wBAAwB,CAACtlD,EAAIS,GAAG,6BAA6BL,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIS,GAAG,iBAAiBL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIulD,2BAA2B,CAACvlD,EAAIS,GAAG,gCAAgCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIwlD,yBAAyB,CAACxlD,EAAIS,GAAG,yCAAyCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAIylD,kBAAkB,CAACzlD,EAAIS,GAAG,kBAAkBL,EAAG,MAAMA,EAAG,MAAMA,EAAG,KAAK,CAACJ,EAAIS,GAAG,uBAAuBL,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI0lD,aAAa,CAAC1lD,EAAIS,GAAG,gBAAgBL,EAAG,MAAMA,EAAG,MAAMJ,EAAIS,GAAG,mCAAmCL,EAAG,MAAMJ,EAAIS,GAAG,8BAA8BL,EAAG,MAAMJ,EAAIS,GAAG,mCAAmCL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI2lD,uBAAuB,CAAC3lD,EAAIS,GAAG,mBAAmBL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI4lD,yBAAyB,CAAC5lD,EAAIS,GAAG,qBAAqBL,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI6lD,8BAA8B,CAAC7lD,EAAIS,GAAG,yBAAyBL,EAAG,MAAMA,EAAG,MAAMJ,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI8lD,kBAAkB,KAAK1lD,EAAG,QAAQ,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,WAAWe,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOjC,EAAI+lD,0BAA0B,CAAC/lD,EAAIS,GAAG,mBAAmBL,EAAG,MAAMA,EAAG,OAAO,IAAI,IACz3P,GAAkB,G,kHCmStB,MAAM,GAAN,UAsHMwrC,GAAY,IAAIoa,GAAtB,KAGA/yD,eAAe4P,KACf,iDACA,wDACA,iCALA+oC,GAAUS,WAAW4Z,kBAAkB,GAAvC,sBAaAC,OAAOv8D,UAAUw8D,IAAM,SAAvB,GACA,mBACA,8BACA,UAGA,MAAM,GAAN,wBACA,IAAI,QAAJ,EACA,iHACA,4FADA,MAEM,GAAN,gDAEA,IAAI,GAAJ,WAEA,SAAS,GAAT,YAGA,0CAGA,+CACA,+EAHA,+CAOA,SAASC,GAAenjD,EAASC,EAAW3W,EAAQ85D,EAAcC,GAAlE,GAGA,oBAGA,+CACA,+EAHA,yBAYA,MAAM,GAAN,8BACM5X,GAAS,IAAI,GAAnB,2DACAA,GAAOG,IAAIj9B,OAAOy6B,WAAWyC,eAAc,EAAM,mBACjDJ,GAAOG,IAAIE,YAAY,OACvB,IAAI,QAAJ,EAEA,MAAMwX,GAAqB,CAAC3Q,EAAIC,EAAIzD,IACpC,gBAGMoU,GAAiB,CAACt/B,EAAKkrB,KAC7B,SACA,6BACA,6BACA,kBACA,UACA,eAIA,2DAGMqU,GAAK,GAEX,QACA,MACA,mBACA,OACA,OACA,SACA,cACA,WACA,oBACA,4KACA,uYAEA,gBACA,kBACA,aACA,gBACA,YACA,aACA,uBACA,YACA,uBACA,yBACA,4BACA,gBACA,YACA,kBACA,UACA,oBACA,oBACA,mBACA,OACA,oBACA,qBACA,sBACA,eACA,gBACA,uBACA,CACA,eACA,cACA,cACA,gBAEA,6BACA,8BAEA,sBACA,6BACA,gBACA,kBACA,cACA,eACA,sBACA,sBACA,eACA,eACA,UACA,IACA,IACA,KAEA,oBACA,IACA,IACA,IACA,KAEA,IACA,IACA,IACA,KAEA,IACA,IACA,IACA,SAMA,YACA,oCACA,qDACA,qBACA,mDAEA,wBACA,sDAEA,aACA,eAKA,eAKA,eAKA,eAKA,eAKA,gBAEA,4BALA,6BALA,4BALA,6BALA,2BALA,2BA6BA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,aACA,6DACA,2DACA,gKACA,gEAGA,mCACA,wBAEA,yBACA,gBACA,yBACA,uBACA,4BAEA,iBACA,SACA,6BACA,oBACA,oDAGA,yFACA,qHACA,2HACA,iHACA,mHACA,6HACA,mCACA,kBAGA,wDAOA,SACA,kCACA,4DACA,oCACA,gDACA,oCACA,oCACA,sCACA,mDACA,wCACA,sCACA,kDACA,sCACA,4CAEA,kDACA,4DACA,kDACA,oDACA,wDACA,gEACA,0DACA,wDACA,gEACA,8CACA,sDACA,oEACA,0DACA,8DACA,sEACA,4DACA,kEACA,4EAGA,mBACA,0DACA,2BACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,iEAGA,2CACA,aACA,gCACA,YAQA,YAEA,mBAGA,eAGA,oCACA,6BAEA,kGACA,YACA,uBACA,kBACA,kBACA,eACA,YACA,MACA,QACA,2CACA,wBAEA,qBACA,8BACA,YAKA,sBACA,yBACA,wBAEA,2DACA,2BACA,8BACA,6BACA,8BACA,sBACA,UAOA,WACA,mBACA,SACA,iBAGA,kBACA,6EACA,0CACA,4DACA,QACA,wCACA,8CAEA,8BACA,gCAEA,oBACA,8FACA,SACA,iBAEA,iDACA,kCAGA,oBACA,4EACA,SACA,gBAEA,qDACA,KAGA,wBACA,mFACA,SACA,gBAEA,yDACA,KAGA,qBACA,kFACA,SACA,gBAEA,qDACA,KAGA,oBACA,iFACA,SACA,gBAEA,qDACA,KAGA,2BACA,sBACA,aACA,0DAEA,OACA,8BACA,eACA,WACA,gCAEA,4BAGA,sCACA,eAYA,0CACA,gBACA,+BAEA,8BACA,0BACA,8BACA,6BACA,UACA,YAEA,mBACA,uCACA,WACA,aAEA,gCACA,wCACA,yCACA,wBAuCA,OAnCA,8EACA,0BACA,6FACA,4GACA,kCAGA,QACA,IACA,6FACA,mHACA,iCAEA,0CAEA,SACA,eAEA,SACA,cACA,iCAEA,iDACA,4DACA,EAGA,wNAGA,yPAGA,0CACA,eACA,GAEA,qCAEA,gBACA,6DACA,yBACA,uCAGA,uCACA,SACA,gCAWA,0BACA,yBAGA,8BAEA,IACA,2BACA,0BAEA,0EACA,YACA,8BACA,oBACA,+DAIA,SACA,sCACA,qBAMA,GACA,8BACA,0BACA,QACA,yCAEA,4EAGA,0BAEA,8DAIA,+BACA,gBACA,0BAEA,uBACA,oBACA,sDAEA,8BACA,gCAEA,8BAEA,mCACA,sDACA,WACA,KACA,uDAcA,OAbA,GACA,eAEA,oFACA,iCACA,QACA,kMACA,wCACA,2BAGA,0BACA,eACA,GAEA,4BACA,cACA,0BACA,gDACA,6DACA,kEACA,kEACA,6CACA,uDACA,2DACA,yDACA,wDACA,uFAEA,mCACA,0BACA,eACA,wCACA,gDACA,sCACA,uCACA,iBAGA,0CAGA,wBACA,qBACA,6BAEA,8EACA,gGACA,0BACA,4EACA,yDAIA,wEACA,0FACA,0BACA,4EACA,6DAKA,4BACA,QACA,uCACA,2EAEA,2DACA,IACA,uCACA,uHACA,IACA,4CACA,4DACA,YACA,yDACA,8DACA,iDACA,iDAIA,0BAEA,uCACA,0BACA,SACA,KAEA,uCACA,IACA,sGAEA,uFACA,sFACA,wBACA,IACA,yBAEA,aAEA,sCAEA,yBACA,uCAGA,UAEA,sDAEA,sCACA,OACA,kGAEA,kGACA,oGAEA,sCACA,OACA,mGACA,mGACA,mGACA,mGACA,mGACA,kGACA,kGACA,kGACA,mGACA,uGAEA,qCACA,MACA,mGACA,kGACA,mGACA,mGACA,mGACA,kGACA,mGACA,uGAEA,qCACA,MACA,mGAEA,mGACA,mGACA,mGACA,mGACA,mGACA,kGACA,uGAEA,qCACA,MACA,kGACA,mGACA,oGAEA,qCACA,MACA,oGAEA,qCACA,MACA,oGAEA,qCACA,MACA,qGAKA,sDAEA,gHACA,gHACA,iHAIA,sDACA,4CACA,oIACA,gHAEA,gHACA,uDAEA,4CACA,gHACA,gHACA,8GACA,wHAIA,wBAEA,kCACA,oCACA,2CACA,sCAGA,uCACA,oDACA,+BACA,oDAIA,mCACA,mCACA,QACA,kCACA,gBACA,kBACA,YACA,uEACA,mEAGA,2BACA,2BACA,gCAEA,+BACA,oBACA,mBACA,IACA,uDACA,QACA,sBACA,KACA,IACA,IACA,8BACA,aACA,6CACA,YACA,0CACA,2CACA,gBACA,SACA,IACA,sBACA,mBAIA,wCACA,kCACA,eAGA,qCACA,iDAEA,cACA,wCACA,iCACA,IACA,uBAEA,eACA,gBACA,qCACA,0IACA,4DAMA,cAEA,cACA,kEACA,qEAKA,wCACA,sDACA,mCACA,yCACA,oCACA,8BAGA,mCACA,kDACA,kDACA,0CACA,wCAEA,0CAGA,4BACA,aACA,mFAEA,qDACA,sBACA,iDACA,sDACA,eACA,YACA,YACA,qDACA,2DAEA,kCACA,IACA,8CACA,yDAEA,mCAEA,oCACA,8CAEA,oCACA,IACA,8CACA,yDAEA,mCAEA,oCACA,6CACA,4CAOA,0HACA,4BACA,aACA,6GACA,kCACA,yCACA,iFACA,SACA,mCACA,iDACA,kDAEA,uEACA,YACA,eACA,2DACA,wBACA,2EACA,4BACA,0IAEA,uEAMA,UAEA,qBACA,0NAOA,0BACA,6GAMA,qBACA,6BAEA,4BACA,QAEA,YAIA,0BACA,WACA,KACA,SACA,cACA,YACA,cAGA,+BACA,yBACA,uBACA,uBAGA,cACA,gCAEA,eACA,WACA,8BACA,8BACA,8CACA,8CACA,SAaA,KACA,qCACA,+BACA,sCACA,YAEA,SACA,MACA,iBACA,kCACA,OACA,OACA,oCACA,cACA,YAGA,iBACA,kCACA,OACA,OACA,oCACA,cACA,gBAGA,CACA,iBACA,kCACA,OACA,OACA,oCACA,cACA,YAGA,iBACA,kCACA,OACA,OACA,oCACA,cACA,YAKA,qDACA,4BACA,aACA,0CACA,cACA,IAEA,uBACA,0CACA,eAEA,WAQA,OAPA,cACA,wBACA,cAGA,iCACA,eACA,GAEA,0BAEA,yBACA,yBACA,SACA,KACA,KACA,SACA,SACA,qCACA,MACA,iCACA,iCACA,EACA,uBAEA,wBAGA,uBAEA,mBACA,mBAEA,SAGA,OAFA,8CACA,8CACA,GAEA,uBACA,WACA,cACA,SACA,cACA,qBAEA,eAEA,QACA,WACA,4BACA,IACA,2BACA,2BACA,4BAEA,UAYA,OAVA,IAGA,6BACA,eACA,cACA,IACA,KACA,WAEA,GAEA,iCAyBA,2BACA,+BACA,SACA,4BACA,UACA,cACA,2BACA,cAEA,+CACA,aACA,+CACA,cACA,KAIA,cACA,KAGA,wBACA,gBAIA,OAHA,8BACA,sDACA,wCACA,iCAEA,2BACA,+BACA,SACA,4BACA,UACA,cACA,2BACA,eAEA,aACA,+CACA,cACA,KAGA,cACA,KAGA,uBAEA,gBAGA,OAFA,8BACA,wCACA,iCAEA,iBACA,6BAEA,4BACA,QAEA,YAIA,gBACA,6BAEA,4BACA,QAEA,YAIA,wBACA,WACA,KACA,KAyCA,OAxCA,gFACA,6BACA,uBACA,aAGA,gFACA,8BACA,wBACA,aAGA,gFACA,6BACA,uBACA,aAGA,gFACA,8BACA,wBACA,aAGA,kBACA,4FACA,QACA,sKACA,+BACA,8BACA,aACA,oBACA,0BAEA,EADA,UACA,wBAEA,wBAEA,wFAEA,GAEA,uBACA,QACA,KACA,KACA,KACA,IACA,IACA,sFACA,KACA,4FACA,IACA,gFACA,wCAEA,gFACA,2CAGA,gKACA,0BAiBA,OAbA,8BACA,WAEA,gBACA,wCACA,aACA,sBACA,uBAGA,kBACA,yBACA,wBACA,qGAEA,qBACA,6DACA,iEAEA,2BACA,6DACA,wEAEA,qBACA,8CACA,KACA,kBACA,sBACA,oCAEA,UAEA,cACA,8CACA,KACA,kBACA,sBACA,oCAEA,UAEA,4BACA,gCACA,KACA,QACA,IACA,8BACA,WACA,gBACA,OAGA,cACA,wCAEA,GADA,eACA,gBACA,8BACA,8CACA,eACA,sDACA,6DAKA,cACA,+GACA,0BACA,iDACA,2DACA,yBACA,IACA,yCACA,0CACA,6CACA,+CACA,cACA,wCACA,eACA,mDAMA,iCACA,gCACA,QAOA,OANA,cACA,wCACA,oBACA,qCAGA,GAEA,6BACA,wBACA,iDACA,yBACA,0CACA,4BACA,4BACA,8BACA,sBAEA,iDACA,6CACA,mCACA,mCAGA,OAFA,aACA,gBACA,GAEA,6BACA,gCACA,mBACA,kDACA,qBACA,4CACA,mDACA,sDACA,6DACA,yBACA,sBACA,4BACA,8BACA,sBAEA,iDACA,6CACA,mCACA,mCAGA,OAFA,aACA,gBACA,GAEA,mBAEA,0BACA,MAyCA,OAxCA,0BACA,WACA,gBACA,0CAGA,gFACA,6FACA,oBAEA,0BACA,2BACA,iBACA,yFACA,2GACA,yCAQA,6FACA,0GACA,oBAEA,0BACA,2BACA,iBACA,yFACA,2GACA,yCAQA,GAEA,mBACA,0BACA,+EACA,8FACA,kCAEA,UAEA,mBACA,0BACA,MAwBA,OAvBA,0BACA,WACA,gBACA,0CAGA,6FACA,0GACA,oBAEA,0BACA,2BACA,iBACA,yFACA,2GACA,yCAQA,GAEA,2BACA,0BACA,+EACA,8FACA,kCAEA,UAEA,6BACA,sBACA,WACA,KACA,cAEA,YACA,cAEA,+BACA,yBACA,yBACA,yBACA,MACA,MACA,4CACA,iBACA,WAIA,OAHA,2BACA,gDACA,+CACA,GAEA,uCACA,2BACA,qBACA,0EACA,YACA,8BACA,8CACA,4DACA,uHAKA,qBACA,6DACA,mBACA,8BACA,0DACA,IACA,iFACA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBACA,yDACA,qCACA,SACA,8BAEA,2CAGA,sBACA,eACA,WACA,eACA,eAGA,+BACA,sDACA,2BACA,eACA,mDACA,qBACA,wBACA,sBACA,SAGA,cACA,SACA,iBAGA,gCACA,mEACA,0BACA,uBACA,4CACA,oDACA,aACA,0BACA,mBACA,0BAIA,GAHA,QACA,yCAEA,oBACA,8EACA,CACA,gBACA,kBACA,0FAKA,aAEA,GACA,qDACA,gBAIA,wBAKA,gCAEA,eACA,6DACA,uBACA,eAEA,gCAEA,gCACA,8BACA,2CACA,mCAEA,+BACA,KACA,gFACA,yBAEA,sBACA,SASA,GARA,cACA,0FAEA,wBACA,uBACA,oCAGA,YACA,qCACA,cACA,yFACA,mDAGA,0BAEA,2BACA,qCACA,gFACA,6FACA,qDAIA,2BACA,QACA,QACA,QAEA,oBACA,6CACA,IACA,WAEA,UAEA,6BAGA,8CAEA,gEAEA,2DACA,WAEA,4BACA,sDACA,kBACA,SACA,sCAEA,SACA,aACA,oBAEA,kCACA,UAEA,gCACA,6CACA,sDACA,qDACA,wCACA,qCACA,iCACA,qFACA,IACA,gCACA,cACA,8BACA,gDAIA,0BACA,mHACA,8EACA,iDAKA,mCACA,SACA,kCACA,aACA,uBAGA,iBACA,yFACA,2FACA,mCACA,6DAMA,iCAGA,mCAEA,mDACA,mEAEA,SADA,gEACA,8DACA,4DACA,wDACA,gEACA,oBACA,oBACA,gBAEA,kEACA,sEACA,4DACA,+DAEA,uBACA,mBACA,4BACA,4DACA,+DACA,yBAEA,4BACA,qBACA,uBAEA,OACA,wDAOA,+CACA,gCACA,+CACA,gCACA,6BACA,iBAEA,+CACA,2CACA,gBAGA,WACA,aACA,mCACA,mEACA,sBAIA,oFAEA,wBACA,wBACA,oBAEA,yCACA,OACA,OAEA,oBACA,eACA,QAKA,OAFA,OAEA,EAEA,UAGA,4DAGA,yBACA,oBAEA,0BACA,0BAEA,4CACA,qCACA,qCAGA,6BACA,gDACA,4CACA,gBAEA,YADA,sDAMA,8CACA,0BACA,4DACA,2DACA,wCACA,qEACA,kCACA,iCACA,oDACA,gDACA,gDAKA,6FACA,4BACA,6CACA,sDACA,sDAEA,6FACA,4BACA,6CACA,sDACA,sDAEA,6BACA,EACA,6DAEA,8DAKA,iCACA,SACA,oCACA,gBAGA,4BACA,aACA,cAUA,GATA,0BAEA,gCACA,kCAGA,gCACA,sCAEA,8DACA,qIAGA,mCACA,0BACA,sBACA,gBAEA,uCACA,oDACA,gBACA,mBACA,KACA,mEACA,wCACA,0EACA,sDACA,wBACA,iFACA,kCACA,mBACA,mBACA,8CACA,yBAKA,sCACA,kBACA,gDACA,cACA,kCAEA,yCACA,6BACA,gBACA,yBACA,sDAEA,gCACA,cACA,aACA,SACA,IACA,8GACA,8GACA,UACA,SAEA,SACA,0EACA,wFAEA,0EACA,wFAEA,oEACA,8CACA,8CACA,6CACA,oCACA,yDACA,kDACA,oCACA,yDACA,kDAEA,4CAEA,+DACA,wDACA,6FACA,kDACA,kDAEA,gEAQA,wDAEA,yEAIA,0BACA,mBACA,2CACA,iBAIA,2CAEA,6DACA,6FAEA,mBACA,0DACA,2BACA,yCACA,GACA,aACA,wBAEA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBAQA,0DAEA,6BACA,sDACA,kBAEA,eACA,SACA,gBAEA,wBACA,yBACA,+CASA,MAGA,yCACA,4BAGA,YACA,sDACA,4BACA,0CACA,WACA,MACA,mBACA,yDACA,IACA,sBACA,sCACA,qDAEA,kCACA,gFAEA,mFAEA,iCACA,2BACA,iBACA,aAEA,6CACA,qEACA,qEACA,uDACA,wDAEA,YACA,6CAEA,gBACA,6CACA,qEACA,qEACA,yDACA,0DAEA,wBACA,4BACA,qBAkBA,sDAKA,qCAEA,cACA,YACA,IAEA,mBACA,2CACA,yCACA,YACA,cACA,YAEA,iCACA,yFACA,yCACA,mCACA,gCA0BA,OAzBA,eACA,cACA,uBACA,mBACA,mCACA,uBACA,QAcA,sDACA,wBACA,wBACA,2BACA,0BACA,GAEA,gCACA,6DACA,8BACA,6FAEA,WAEA,mBACA,0DAEA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBACA,yDACA,2CAGA,uBAEA,SACA,yEAEA,wCACA,0EACA,sDACA,4CACA,uBAEA,8BACA,kDAEA,8BACA,yCACA,6CAEA,GADA,MACA,YACA,0DACA,gDAEA,SACA,wCACA,yCACA,+QAMA,qBACA,kCACA,gCAEA,mBACA,0BAgFA,yBAEA,QACA,WACA,aACA,mEACA,wCACA,0EACA,sDACA,wBAIA,qFACA,4BACA,iDACA,iBACA,SACA,4MACA,gEAGA,+FACA,4BACA,iDACA,cACA,8GACA,+CACA,8BACA,uEACA,6DAEA,wCAOA,qCACA,iFACA,kCACA,mBACA,mBACA,8CACA,yBAIA,gDACA,cACA,kCAIA,gCAeA,wBAGA,+BACA,kEAKA,IAJA,yBACA,kBACA,KAEA,oBACA,wBACA,sBACA,uBAEA,IADA,SACA,mBACA,aAEA,WAGA,eACA,wBACA,gBACA,UACA,2BACA,2BACA,cACA,sCAEA,yDAEA,sDACA,sDACA,gDACA,kDAGA,iDACA,6DACA,SACA,KACA,MACA,mDACA,uBACA,SAGA,SACA,kBACA,UACA,QACA,GAEA,OACA,iDACA,mBACA,WACA,KAEA,MAKA,4BACA,mBACA,0BACA,6CACA,8CAGA,2CACA,6CACA,WACA,cAEA,GADA,UACA,eACA,sBACA,4CACA,yDACA,iDAEA,UAEA,iBAKA,4BACA,YACA,sBACA,6CACA,oCACA,4CACA,6CACA,2CACA,6BACA,kBACA,cAEA,GADA,UACA,eACA,sBAGA,iDAEA,UAEA,oBAMA,KACA,KACA,cACA,YAEA,KAWA,GANA,6CACA,YACA,cACA,iBAGA,aACA,yDACA,wBACA,+BACA,oCACA,2DACA,SACA,oCACA,sBAEA,8HAEA,UA+CA,wBACA,gEACA,qCACA,SACA,2BAEA,2CAGA,sBACA,eACA,WACA,eACA,eAGA,4BACA,sDACA,6CACA,qBACA,wBACA,QACA,0CACA,kCAEA,mBAEA,sBACA,SACA,4BAIA,gCACA,wCACA,yCACA,mDACA,+CAKA,eAEA,iBACA,iBACA,gEACA,sDACA,sDAEA,YAEA,wCACA,mDACA,mEACA,qCACA,kBACA,wEACA,iCACA,kBACA,4EACA,kCACA,kBACA,kEACA,wBACA,kBACA,QACA,IACA,IACA,aACA,gBACA,4BACA,cACA,mEACA,4BACA,kBACA,yBACA,2BACA,yBACA,2BAGA,qBAEA,kDACA,mDACA,mEACA,qEACA,4DACA,wDACA,gEACA,oBACA,oBACA,gBACA,qBACA,iBACA,iBAEA,+CACA,gCACA,+CACA,gCACA,6BAEA,+CACA,2CAIA,OAHA,gBAGA,qBAEA,4DACA,mDACA,mEACA,qEAOA,4DACA,wDACA,gEACA,oBACA,oBACA,gBACA,qBACA,iBACA,iBAEA,+CACA,gCACA,+CACA,gCACA,6BAEA,+CACA,2CACA,gBAEA,yCAGA,OAFA,OACA,OACA,eAEA,uCAEA,mDACA,oCACA,kBACA,2EACA,KACA,4BACA,sDACA,2BACA,oCACA,kFACA,gCAGA,UAEA,yCAEA,mDACA,oCACA,kBACA,wEACA,KACA,4BACA,sDACA,0CACA,+BACA,oFACA,gCAMA,OAFA,iCACA,kBACA,GAEA,yCAEA,mDACA,mCACA,kBACA,wEACA,KACA,4BACA,sDACA,6BACA,0CAEA,kCAMA,OAFA,gCACA,kBACA,GAEA,4BACA,8BACA,mBACA,0DACA,IACA,iFACA,eACA,4BACA,iEACA,sBAEA,8BACA,wBAEA,2DACA,2BACA,kCACA,6BACA,8BACA,sBACA,UACA,WACA,mBACA,SACA,iBAGA,sBACA,8BACA,mBACA,0DACA,IACA,iFACA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBACA,2BACA,4EACA,4FACA,4BACA,sDACA,2CACA,kCACA,mIACA,8CACA,uBAEA,kCACA,2BACA,4BACA,mEACA,6BACA,4BACA,yBACA,uCAMA,qDACA,gBACA,yBACA,SACA,iBAGA,uCACA,qDACA,8BACA,6FAEA,mBACA,0DAEA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBAKA,mEACA,oEACA,oEAEA,KACA,4BACA,sDACA,uCAGA,WACA,4BACA,sDACA,mGAEA,WACA,QACA,4BAEA,QACA,2BACA,qBACA,wBAIA,sDACA,SAGA,GAFA,yBAEA,wBACA,8CACA,gCACA,kBACA,YACA,wDACA,6DACA,2BACA,kBACA,+CACA,yCACA,kDACA,gDAMA,GALA,IACA,oEACA,8CACA,iDAEA,GACA,8BACA,UACA,yCAEA,qDAEA,kBACA,qDACA,4DAEA,GADA,gBACA,cACA,6FACA,mDACA,yCACA,KAGA,mCACA,4CAEA,iCACA,6FACA,mBACA,0DACA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,iEAEA,sBACA,yBACA,wBAEA,mBAEA,+EAGA,4BACA,sDAKA,GAFA,iBACA,aACA,mBACA,0CACA,SACA,KACA,2EACA,4BACA,sDACA,2CACA,4BACA,eACA,6BACA,6CAGA,eACA,2BAKA,SACA,KACA,IACA,yFACA,4BACA,sDACA,2CACA,kCACA,2EAGA,mBACA,eACA,eAKA,SACA,KACA,KACA,KACA,iFACA,4BACA,sDAGA,0CACA,iCACA,oFACA,kBACA,4BACA,4DACA,sBACA,uBACA,yBACA,gBAEA,uDACA,uDACA,8DAUA,WACA,sBACA,SACA,SACA,sBACA,cACA,SAKA,GAJA,uFACA,0BACA,WAEA,SACA,yFAEA,qCACA,yCACA,gCACA,CAEA,WACA,0BACA,qCACA,qCACA,8CACA,qBACA,kDACA,6BAGA,MAGA,aACA,0BAEA,gDAIA,GAHA,yCACA,eAEA,MACA,6FACA,0BACA,eACA,sCACA,mCACA,6BACA,kCAEA,6CACA,8BAIA,OADA,IACA,IACA,IACA,mCACA,cACA,+CACA,sEACA,mCAGA,yBACA,iDACA,mEAEA,UAEA,0BACA,yDAEA,sDACA,sDACA,IACA,2BACA,GACA,aACA,sBACA,OACA,SACA,mBAEA,6BACA,0DACA,sBACA,gCACA,iBAEA,SACA,iCAGA,gCAMA,GALA,+CAKA,uFACA,sDACA,IASA,4EACA,yBACA,oBACA,uBACA,oBACA,+DACA,wFACA,wCAEA,oDAIA,oBAGA,SACA,eACA,qDAGA,sBACA,cACA,wFAMA,8EACA,2OACA,sQAEA,8FACA,6EAEA,oPACA,gQACA,sQACA,6PACA,iPACA,yQACA,mQACA,gQACA,6PACA,gQACA,8FACA,2EACA,2OACA,6PACA,wOACA,8OACA,gQACA,6PACA,6FACA,gGAGA,8FACA,+EAIA,mCACA,0BACA,sBACA,eACA,2BACA,iDAmCA,cACA,6CACA,0CACA,SACA,KAGA,wEA0BA,OAzBA,cACA,4BACA,yBAKA,6EACA,eACA,0DACA,0BAKA,kBACA,0EACA,cACA,qCAEA,0EACA,uCAIA,KAGA,gBACA,yDACA,2BACA,IACA,yCACA,GACA,aACA,wBAEA,eACA,4BACA,8DACA,6DAmBA,4BAEA,iGACA,kBACA,eACA,wGACA,wGACA,wGACA,wEACA,uEAEA,sQACA,iBACA,sBACA,gBACA,gBAEA,SAGA,yBACA,eAEA,oDACA,+JACA,gKACA,iBACA,sBACA,gBAEA,yBACA,eAEA,kGACA,gDACA,kDACA,wEACA,wEACA,wEACA,8CACA,8CACA,8CAEA,cAIA,SACA,iBAGA,oBACA,6DACA,0JACA,8JAEA,2BACA,uBAEA,sBACA,6DACA,iDACA,yCACA,2KACA,6CACA,+CAGA,uCACA,eACA,6HACA,4HAIA,gBACA,gBACA,kDACA,kDAMA,iBACA,sBACA,gBACA,gBACA,eAEA,qBACA,6DACA,kCACA,8HACA,6HACA,uCACA,6HACA,8HACA,iBACA,sBACA,gBACA,gBACA,cACA,eACA,8CACA,8CACA,+CAEA,uBACA,6DACA,gBACA,gBACA,gBACA,iBACA,sBACA,gBACA,gBACA,cACA,eACA,2DACA,2DACA,4DAEA,6BACA,kGACA,8DACA,gDACA,kDACA,gEACA,gEACA,0CACA,eACA,eACA,0DACA,sEACA,IACA,2BACA,GACA,aACA,sBACA,OACA,SACA,mBAEA,6BACA,0DACA,sBACA,kCAEA,SACA,kCAIA,YAGA,OACA,mCACA,8BAEA,gDACA,YACA,qBAEA,sBAGA,2BACA,gCACA,iCACA,wCACA,yCACA,mDACA,8CACA,yDAGA,QACA,uCACA,2EAEA,kCACA,+CAEA,2BACA,0BAEA,sCACA,mCACA,cACA,6DAIA,UACA,kBACA,KACA,gCACA,mBAEA,+BAKA,yGACA,seACA,8BACA,eACA,gBACA,sBACA,gBAEA,UACA,2BAEA,gBACA,+BCn5HqV,M,sCCQjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACpjD,OAAA,KAAK62C,cAAA,KAAWK,SAAA,KAAMmM,UAAA,KAAOC,eAAA,KAAY9iD,WAAA,KAAQG,WAAA,OCH/E,QACA,oBACA,YACA,eACA,kBACA,kBACA,0BAEA,gBACA,OACA,cACA,iBAGA,qBAGA,YACA,iCACA,mBACA,4BACA,eACA,8BACA,kBACA,6BAC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uCACA,uCACA,4CAMA,YACA,oCACA,qDACA,aACA,uCACA,qCACA,+BAEA,sCACA,gCAGA,mCACA,2CACA,iBACA,WACA,KACA,KACA,KACA,wEACA,8CAEA,SACA,8FACA,mDAEA,GACA,sCACA,uBACA,0BAEA,uBACA,4BAIA,QACA,kBACA,WACA,kBACA,sBACA,2HACA,6DACA,OAGA,WACA,6HACA,oFACA,uBACA,OAGA,0BACA,2BACA,qBAEA,0BACA,6BAIA,wBACA,iCACA,gGACA,4DACA,iGACA,gCACA,sCAGA,qCACA,0CACA,SACA,UACA,mCACA,kBACA,iCACA,2BACA,4CAMA,yDACA,4CACA,GACA,iGACA,gCACA,gCACA,sCAGA,qCACA,0CACA,SACA,UACA,mCACA,kBACA,iCACA,2BACA,2CAMA,qDAKA,0BACA,uBACA,SACA,sEACA,gCACA,oDACA,cACA,6BACA,2BACA,aAGA,OAEA,gCACA,qDACA,IACA,eACA,oDACA,cACA,6BAEA,gCACA,aAGA,YAMA,2BACA,uBACA,SACA,qEACA,gCACA,oDACA,cACA,8BACA,2BACA,aAGA,OAEA,gCACA,oDACA,IACA,eACA,eACA,oDACA,cACA,8BAEA,gCACA,aAGA,YAMA,sBACA,SAkBA,OAjBA,kBACA,KAEA,6DACA,YAGA,6DACA,eACA,wBACA,WAEA,cAKA,IAGA,UACA,SACA,0BACA,iCACA,IAGA,OACA,2BACA,8BACA,eAEA,gCACA,6DACA,uCACA,kEAGA,cACA,8DAGA,oCAEA,sBACA,cAEA,kCACA,yEACA,oEAKA,4BAEA,2BACA,cACA,+BACA,8FACA,kDAIA,wBACA,+BACA,QACA,IACA,IACA,IACA,0CACA,kDACA,6CACA,mDACA,6CACA,gDAGA,iCAEA,qCACA,uDACA,SACA,UACA,mCACA,kBACA,8CACA,mCACA,iDACA,SACA,UACA,mCACA,kBACA,8CACA,uCACA,iDAQA,uBACA,8BACA,oCACA,uDACA,SACA,UACA,mCACA,kBACA,oDACA,iCACA,iDACA,SACA,UACA,mCACA,kBACA,iDACA,wCACA,kDAQA,wBACA,oCACA,kCACA,0CACA,SACA,UACA,oCACA,kBACA,iDACA,gCAEA,8BACA,0CACA,SACA,UACA,oCACA,kBACA,qDACA,kCACA,kDACA,SACA,UACA,mCACA,kBACA,iDACA,2CACA,8DAUA,mCACA,WACA,mCACA,qCAGA,kBACA,+CACA,WAcA,uEAEA,6FACA,4CAEA,sCAKA,8BACA,0EACA,cACA,gDACA,gDACA,gDAOA,qCACA,kEAEA,yFACA,8CAEA,uCAKA,+BACA,0EACA,cACA,kDACA,iDACA,iDAKA,gCACA,gCACA,oCACA,6EACA,oDAEA,SAIA,4BACA,mCACA,mFACA,cACA,2DACA,8BAEA,CAEA,mFACA,cACA,2FACA,qDACA,oEAOA,SACA,cACA,6EACA,2CACA,iBACA,0BACA,0BAEA,gCACA,6EAKA,kCACA,oCAEA,cACA,2EACA,kCACA,4CACA,iDACA,+CAMA,sDACA,8DACA,0CACA,OAOA,UACA,kBACA,gCACA,4BACA,8BAGA,UACA,4BC3tBoV,MCQhV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAahC,IAAkB,GAAW,CAACwY,OAAA,KAAK22C,aAAA,KAAUO,SAAA,KAAMn1B,SAAA,KAAMvhB,WAAA,KAAQ22C,UAAA,KAAOx2C,WAAA,KAAQC,cAAA,KAAWw2C,aAAA,OCnB3F,QACA,mBACA,YACA,cACA,oBCjBqV,MCQjV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCCfl/B,aAAIC,IAAIqrC,QAER,MAAMC,GAAS,CACb,CACErtD,KAAM,IACNpO,KAAM,QACN+X,UAAW2jD,GAEb,CACEttD,KAAM,UACNpO,KAAM,SACN+X,UAAW4jD,GAEb,CACEvtD,KAAM,SACNpO,KAAM,QACN+X,UAAW6jD,IAEb,CACExtD,KAAM,cACNpO,KAAM,aACN+X,UAAW8jD,GACXj4B,OAAO,GAET,CACEx1B,KAAM,aACNpO,KAAM,YACN+X,UAAW+jD,IAEb,CACE1tD,KAAM,YACNpO,KAAM,WACN+X,UAAWgkD,IAEb,CACE3tD,KAAM,cACNpO,KAAM,aACN+X,UAAWikD,IAEb,CACE5tD,KAAM,YACNpO,KAAM,WACN+X,UAAWkkD,IAEb,CACE7tD,KAAM,aACNpO,KAAM,YACN+X,UAAWmkD,IAEX,CACA9tD,KAAM,YACNpO,KAAM,WACN+X,UAAWokD,IAEb,CACE/tD,KAAM,UACNpO,KAAM,SACN+X,UAAWqkD,IAEb,CACEhuD,KAAM,YACNpO,KAAM,WACN+X,UAAWskD,GACXz4B,OAAO,GAET,CACEx1B,KAAM,aACNpO,KAAM,YACN+X,UAAWukD,GACX14B,OAAO,GAET,CACEx1B,KAAM,aACNpO,KAAM,YACN+X,UAAWwkD,IAEb,CACEnuD,KAAM,YACNpO,KAAM,WACN+X,UAAWykD,IAEb,CACEpuD,KAAM,eACNpO,KAAM,cACN+X,UAAW0kD,IAEb,CACEruD,KAAM,cACNpO,KAAM,aACN+X,UAAW2kD,KAIT9pC,GAAS,IAAI4oC,OAAU,CAC3B76D,KAAM,UACNy9B,KAAM,IACNq9B,YAYa7oC,kB,kCChIf,W,yDCAA,IAAIle,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,GAAG,MAAQ,YAAY,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIe,GAAG,CAAC,MAAQvB,EAAI2mC,YAAY,CAACvmC,EAAG,SAAS,CAACJ,EAAIS,GAAG,gBAAgB,GAAGL,EAAG,kBAAkB,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,yBAAyB/B,EAAG,YAAYA,EAAG,kBAAkB,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,KAAO,IAAIe,GAAG,CAAC,MAAQvB,EAAIgoD,iBAAiB,CAAChoD,EAAIS,GAAG,eAAe,IAAI,GAAGL,EAAG,cAAc,CAACG,YAAY,CAAC,cAAc,OAAO,mBAAmB,QAAQ,OAAS,MAAM,OAAS,OAAOC,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,aAAa,KAAK,CAACJ,EAAG,SAAS,CAACE,YAAY,OAAOC,YAAY,CAAC,gBAAgB,OAAO,eAAe,SAAS,CAACH,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,KAAK,CAACJ,EAAG,sBAAsB,CAACG,YAAY,CAAC,YAAY,UAAU,CAACH,EAAG,oBAAoB,CAACE,YAAY,YAAYwmC,SAAS,CAAC,YAAc9mC,EAAIU,GAAGV,EAAIioD,aAAa7nD,EAAG,uBAAuB,CAACE,YAAY,UAAUwmC,SAAS,CAAC,YAAc9mC,EAAIU,GAAGV,EAAIkoD,YAAY9nD,EAAG,iBAAiB,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,IAAIoe,YAAY5e,EAAI6e,GAAG,CAAC,CAACzyB,IAAI,UAAU0yB,GAAG,WAAW,MAAO,CAAC1e,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,aAAaL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIioD,eAAe7nD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,cAAcL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImoD,cAAc/nD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,aAAaL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIooD,eAAehoD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,eAAeL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAI0wC,aAAatwC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,sBAAsBL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIqoD,mBAAmBjoD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,oBAAoBL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIsoD,mBAAmBloD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,aAAaL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIuoD,eAAenoD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,oBAAoBL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIwoD,SAAS,WAAgBpoD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,kBAAkBL,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIyoD,iBAAiB,eAAe9gB,OAAM,QAAW,GAAGvnC,EAAG,qBAAqB,CAACI,MAAM,CAAC,KAAO,GAAG,KAAO,QAAQ,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,cAA4B,IAAI,GAAGJ,EAAG,SAAS,CAACE,YAAY,OAAOC,YAAY,CAAC,gBAAgB,OAAO,eAAe,QAAQ,CAACP,EAAIS,GAAG,4BAA4BL,EAAG,MAAMA,EAAG,MAAM,CAACI,MAAM,CAAC,gBAAgBR,EAAI0oD,aAAa,aAAa1oD,EAAI2oD,UAAU,WAAW3oD,EAAI4oD,QAAQ,iBAAiB5oD,EAAI6oD,aAAa,QAAU7oD,EAAI8oD,QAAQ,cAAc9oD,EAAI+oD,WAAW,OAAS/oD,EAAIgpD,OAAO,MAAQhpD,EAAIuE,MAAM,OAASvE,EAAIwE,WAAW,GAAGpE,EAAG,SAAS,CAACE,YAAY,OAAOC,YAAY,CAAC,gBAAgB,OAAO,eAAe,SAAS,CAACH,EAAG,cAAc,CAACI,MAAM,CAAC,aAAa,KAAK,CAACJ,EAAG,sBAAsB,CAACG,YAAY,CAAC,YAAY,UAAU,CAACH,EAAG,oBAAoB,CAACE,YAAY,YAAYwmC,SAAS,CAAC,YAAc9mC,EAAIU,GAAGV,EAAImC,GAAG,0BAA0B/B,EAAG,iBAAiB,CAACE,YAAY,cAAcE,MAAM,CAAC,MAAQ,IAAIoe,YAAY5e,EAAI6e,GAAG,CAAC,CAACzyB,IAAI,UAAU0yB,GAAG,WAAW,MAAO,CAAC1e,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,sBAAsB/B,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIipD,cAAc7oD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,iCAAiC/B,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIkpD,wBAAwB9oD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,wBAAwB/B,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImpD,gBAAgB/oD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,oBAAoB/B,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIopD,gBAAgBzhB,OAAM,QAAW,GAAGvnC,EAAG,qBAAqB,CAACI,MAAM,CAAC,KAAO,GAAG,KAAO,QAAQ,CAACJ,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,cAAiC,IAAI,IAAI,IAAI,GAAGJ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAImC,GAAG,sBAAsB/B,EAAG,KAAK,CAACE,YAAY,QAAQF,EAAG,MAAMA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,cAAc,cAAc,MAAQ,SAAS,cAAc,GAAG,eAAe,IAAIK,MAAM,CAAC/U,MAAOkU,EAAkB,eAAEc,SAAS,SAAUC,GAAMf,EAAIqpD,eAAetoD,GAAKE,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACE,YAAY,cAAcE,MAAM,CAAC,QAAUR,EAAIspD,qBAAqB,MAAQtpD,EAAIupD,kBAAkB,OAASvpD,EAAIqpD,eAAe,KAAO,GAAG,WAAW,aAAa,cAAc,IAAIxoD,MAAM,CAAC/U,MAAOkU,EAA4B,yBAAEc,SAAS,SAAUC,GAAMf,EAAIwpD,yBAAyBzoD,GAAKE,WAAW,+BAA+B,IAAI,IAAI,IACvwI0B,EAAkB,G,wHC2KtB,MAAMlU,EAAK,EAAX,QAEMH,GADU,IAAIG,EAAGstB,MACV,EAAb,SASA,UAaA,MAAM0tC,EAAK,GAEX,oDAEA,OACA,KACA,mBACA,OACA,SACA,YACA,qBAEA,cACA,YACA,iBAEA,OACA,YACA,aAEA,QACA,YACA,aAEA,YACA,WACA,aAEA,QACA,YACA,gBAEA,SACA,WACA,iBAGA,OACA,OACA,eACA,WACA,YACA,WACA,YACA,UACA,gBACA,gBACA,YACA,YACA,oBACA,kBACA,WACA,qBACA,aACA,SACA,sBACA,CACA,SACA,cACA,cACA,oBAEA,2CACA,sDACA,kDACA,qDACA,yCACA,qCACA,gDACA,4CAEA,mBACA,+JACA,gKACA,0KACA,sKACA,yKACA,0KACA,2JACA,uLAGA,4BACA,yMACA,WACA,sBACA,UACA,CACA,sCACA,gBAIA,cACA,cACA,0BAIA,YACA,YAEA,SACA,YACA,0BACA,kCAEA,uBACA,6DACA,2CACA,SACA,uFACA,mBAEA,0FACA,wDAEA,kEACA,2FACA,0GACA,6FACA,yBAKA,uFACA,kCAEA,wDACA,GAIA,+FACA,+DAGA,gGACA,4FACA,mEAMA,8DACA,8EACA,+BAIA,SACA,qDACA,mDACA,yCACA,8BAEA,8FACA,kGACA,6FACA,+BAMA,gGACA,uBACA,wCACA,8BAIA,iBACA,8FACA,8BAIA,mBACA,gGACA,gCAGA,8BAGA,4BAGA,kFACA,eAGA,2BACA,mBAEA,0BACA,yBAIA,qBACA,QACA,uCACA,iBACA,oCAEA,8CACA,cAGA,yCACA,wNAEA,mBACA,yBACA,mCACA,8CACA,uCACA,yCACA,6CACA,iBACA,2DAEA,qEAIA,aACA,wBAGA,YAGA,OACA,4CACA,oBAGA,UACA,0CACA,4BACA,2EAEA,sBACA,0BACA,yBAEA,aC/bqV,I,iOCQjVrmD,EAAY,eACd,EACArD,EACA4C,GACA,EACA,KACA,WACA,MAIa,OAAAS,EAAiB,QAsBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMy2C,WAAA,OAAWt2C,aAAA,KAAWy2C,aAAA,KAAW90B,QAAA,KAAMG,YAAA,KAAUC,kBAAA,KAAgBC,iBAAAH,EAAA,KAAiBI,kBAAAJ,EAAA,KAAkBK,eAAAL,EAAA,KAAe1hB,OAAA,KAAKkkC,eAAA,KAAa/jC,UAAA,KAAQE,aAAA,KAAW8jC,WAAA,KAASC,cAAA,OAAcC,cAAA,U,mECzCxNj9C,EAAOD,QAAU,IAA0B,yB,kCCA3C,sEAAMyD,EAAID,EAAQ,QAIZE,EAAKF,EAAQ,QACbm7D,EAAWn7D,EAAQ,QAKnBD,EAAOC,EAAQ,QACfw5B,EAAMx5B,EAAQ,QAIdW,EAAI,CAEVA,OAAW,SAAS3B,GAClB,GAAIC,MAAMC,QAAQF,GAChB,OAAOA,EAAMmuB,QAAO,SAASpuB,GAC3B,OAAQ2S,KAAK3S,KAAM2S,KAAK3S,IAAK,KAC5B,KAIP4B,aAAiB,SAAU4/B,GACzB,IAAI66B,EAAY,GAahB,OAZAj7D,OAAMC,MAAM0uB,GAAG/B,OAAOxtB,QAAQ,CAACqE,EAAM5I,KAChC4I,EAAK28B,OAASA,IACf66B,EAAYx3D,EAAKy3D,MACjBl7D,OAAMC,MAAMwtB,cAAe,KAGf,IAAbwtC,IACDj7D,OAAMU,OAAO,sBACbu6D,EAAYr7D,EAAKkB,IAAId,OAAMC,MAAM0tB,iBACjC3tB,OAAMC,MAAM0uB,GAAG/B,OAAOvxB,KAAK,CAAE,MAAS+kC,EAAO,MAAS66B,IACtDj7D,OAAMC,MAAMwtB,cAAe,GAEtBwtC,GAITz6D,UAAc,SAASc,GACrB,IAAInF,EAAImF,EAAGssC,WAAW,IAAK,IAO3B,OANAzxC,EAAIA,EAAEyxC,WAAW,IAAK,MACtBzxC,EAAIA,EAAEyxC,WAAW,IAAK,KACtBzxC,EAAIA,EAAEyxC,WAAW,IAAK,MACtBzxC,EAAIA,EAAEyxC,WAAW,IAAK,MACtBzxC,EAAIA,EAAEyxC,WAAW,IAAK,KACtBzxC,EAAIA,EAAEyxC,WAAW,IAAK,MACfzxC,GAGTqE,iBAAqB,SAASm4B,GAC5BA,EAAM5uB,mBAAmB4uB,GACzB,IAAI17B,EAAI,mBAKR,OAJA07B,GAAU,GAAGqQ,QAAQ/rC,GAAG,SAAUi+B,EAAOigC,GACvC,OAAOC,OAAOC,aAAanzC,SAASizC,EAAK,QAE3CxiC,EAAMz3B,eAAOy3B,GACNA,GAGTn4B,YAAgB,SAASm4B,GACvB,IAAI17B,EAAI,8BAKR,OAJA07B,GAAU,GAAGqQ,QAAQ/rC,GAAG,SAAUi+B,EAAOigC,GACvC,OAAOC,OAAOC,aAAanzC,SAASizC,EAAK,QAE3CxiC,EAAMz3B,eAAOy3B,GACNA,GAGTn4B,aAAiB,SAASm4B,GAIxB,OAHAA,EAAMn4B,EAAE86D,YAAY3iC,GACpBA,EAAMn4B,EAAE+6D,iBAAiB5iC,GACzBA,GAAU,GAAGqQ,QAAQ,IAAK,IACnBrQ,GAGTn4B,cAAkB,SAASg7D,EAAQC,GACjC,IAAI7/D,EAKJ,OAJAgE,EAAK87D,eAAU/lD,EAAW6lD,EAAQC,EAAS,eAAe,SAAStiC,EAAKR,GACpE1zB,QAAQvD,IAAI,2BAA4By3B,GACxCv9B,EAAS+8B,KAEN/8B,GAGT4E,qBAAyB,SAASm4B,GAChC,IAAIgjC,EAAShjC,EAAItsB,MAAM,KACvB,IAAI,IAAIxR,EAAE,EAAGA,GAAG,EAAGA,IACjB8gE,EAAO9gE,GAAK8gE,EAAO9gE,GAAGmuC,QAAQ,IAAK,IACnC2yB,EAAO9gE,GAAK8gE,EAAO9gE,GAAGmuC,QAAQ,IAAK,IAErC,OAAO,IAAI1yB,QAAQslD,WAAWD,EAAO,IAAKC,WAAWD,EAAO,IAAKC,WAAWD,EAAO,MAIrFn7D,UAAc,SAAU3B,GACtB,GAAIC,MAAMC,QAAQF,GACpB,OAAOA,EAAMmuB,OAAO1uB,GAAU,MAALA,IAIzBkC,UAAc,SAAU4F,EACtBy1D,EACAC,EACAC,EACAxhE,EACA6X,GACA1Q,IAAIsD,MAAM,kBAAmB,CACzB62D,MAAOA,EACPC,WAAYA,EACZC,YAAaA,EACb51D,IAAKC,EACL7L,KAAMgF,KAAKC,UAAUjF,GACrB6X,SAAU7S,KAAKC,UAAU4S,KAE7BhI,MAAM,mGACY2xD,EACd,aAAeD,EACf,UAAY11D,IAIlB5F,KAAS,SAAU4F,EAAKgM,EAAUs0B,EAAMs1B,EAAUzhE,EAAM0hE,EAAOC,GAC7D,IAAIC,EACCz1B,IACDA,EAAO,QAENu1B,IACDA,GAAQ,GAEPD,IACDA,EAAW,QAGXG,EADkB,mBAAVD,GACAA,EAIZp8D,EAAEs8D,UAAU,CACR73D,MAAO43D,IAEXr8D,EAAEu8D,KAAK,CACHz6D,KAAM8kC,EACNvgC,IAAKC,EACL7L,KAAMA,EACNgK,MAAO43D,EACPF,MAAOA,EACP9rD,QAAS,SAAUmsD,GACflqD,EAASkqD,IAEbt3D,MAAO,SAAU62D,EAAOC,EAAYC,GAChCv7D,EAAE+7D,UAAUn2D,EAAKy1D,EAAOC,EAAYC,EAAaxhE,EAAM6X,IAE3D4pD,SAAUA,KAIhBx7D,UAAc,WACZ,IAAIg8D,EAASx8D,OAAMC,MAAMurC,WACzB,SAAIgxB,IAAUA,EAAOthC,MAAM,aAQ7B16B,QAAY,SAAUH,EAAKkgC,EAAOnjC,GAEhC,MAAMuiC,EAAOY,EAAM/kC,QACd6E,EAAIs/B,IACL9S,aAAIvtB,IAAIe,EAAKs/B,EAAM,IAElBY,EAAMxlC,OAQXyF,EAAEi8D,QAAQp8D,EAAIs/B,GAAOY,EAAOnjC,GAPpBA,GAA0B,kBAAVA,IAAuB0B,MAAMC,QAAQ3B,GACrDiD,EAAIs/B,GAAQ,IAAKt/B,EAAIs/B,MAAUviC,GAE/BiD,EAAIs/B,GAAQviC,GAOtBoD,WAAe,SAAUmqC,GACvB,MAA0B,WAAtB7qC,EAAE8B,KAAK+oC,OACHA,EAAUp2B,SAAWo2B,EAAUn2B,WAAam2B,EAAU9sC,SAUhE2C,MAAU,SAAUqoC,GAClB,MAAqB,WAAjB/oC,EAAE8B,KAAKinC,IACe,cAAlBA,EAAKhnC,UAUfrB,OAAW,SAAUU,GACnB,IAAItF,EAWJ,MAVuB,WAAnBkE,EAAE8B,KAAKV,KAEHtF,EADoB,cAApBsF,EAAOW,SACEX,EAAO9D,MAEP8D,EAAOX,KAGnB3E,GAA6B,WAAnBkE,EAAE8B,KAAKV,KAClBtF,EAASsF,GAETtF,EACI4E,EAAE+N,SAAS3S,GACJsF,EACAV,EAAEk8D,SAAS9gE,GACXsF,EAAOq3B,OAAO,EAAGr3B,EAAOnG,OAAS,GAEjC,KAGJ,MAIbyF,UAAc,SAAUiD,GACtB,IAAI0C,EAAM3F,EAAEm8D,OAAOl5D,GAEnB,SAAI0C,IAAOA,EAAI+0B,MAAMl7B,OAAMC,MAAM4gC,MAAQ,UAO3CrgC,kBAAsB,SAAUD,GAC1BA,EAAMC,EAAEC,OAAOF,GACnB,GAAoB,WAAhBT,EAAE8B,KAAKrB,GAAmB,CAC1B,IAAI2gC,EAAO7H,EAAI6P,MAAM3oC,GAErB,OADA2gC,EAAO1gC,EAAE+5B,WAAW2G,EAAM,YACnB7H,EAAIqiC,UAAUx6B,KAI3B1gC,eAAmB,SAAUD,GAE3B,GADAA,EAAMC,EAAEC,OAAOF,GACXA,EACA,OAAOR,EAAG68D,WAAWp8D,EAAEC,OAAOF,KAIpCC,WAAe,SAAUiD,GACvB,OAAOjD,EAAEq8D,WAAWp5D,IAGtBjD,OAAW,SAAUU,GACnB,GAAuB,UAAnBpB,EAAE8B,KAAKV,GACb,OAAsB,IAAlBA,EAAOnG,YACP,EAEa+E,EAAEZ,IAAIgC,GAAQ,SAAUuC,GACvC,OAAOjD,EAAEm8D,OAAOl5D,MAGT,GAAIjD,EAAEgvC,WAAWtuC,GAC1B,OAAOA,EAAO3G,KAAKgG,IACV,GAAuB,WAAnBT,EAAE8B,KAAKV,GAAsB,CACrC,GAAwB,cAApBA,EAAOW,SACN,OAAOX,EAAO9D,MACZ,GAAwB,cAApB8D,EAAOW,SACpB,OAAOX,MAED,CACH,IAAIV,EAAEs8D,UAAU57D,GAYZ,MAHiB,kBAAZA,IACbA,EAASA,EAAO8nC,QAAQ,IAAI,IAAIA,QAAQ,IAAI,KAE7BxoC,EAAEm8D,OAAOz7D,GAXhB,IAAI65B,EAAO75B,EAAO8nC,QAAQhpC,OAAMC,MAAM4gC,MAAQ,OAAQ,IAClDqI,EAAQnO,EAAK1uB,MAAM,KACvB,GAAsB,UAAlBvM,EAAE8B,KAAKsnC,GAAoB,CAC3B,IAAI7H,EAAK6H,EAAM,GACXL,EAAO9+B,mBAAmBm/B,EAAM,IACpC,OAAO1rC,GAAG6jC,GAAIwH,GAAMtoC,OAWlCC,QAAY,SAAU3B,GACpB,GAAsB,UAAlBiB,EAAE8B,KAAK/C,GACP,OAAOiB,EAAEZ,IAAIL,GAAO,SAAU4E,GAC1B,OAAOjD,EAAEC,OAAOgD,OAK1BjD,aAAiB,SAAUD,GACpBA,IACPA,EAAMP,OAAMC,MAAM4E,QAEZtE,EAAMC,EAAEC,OAAOF,GACnB,GAAIA,EAAK,CACL,IAAI2gC,EAAO7H,EAAI6P,MAAM3oC,GACjB+4B,EAAO4H,EAAK5H,KACZ/yB,EAAO26B,EAAK36B,KAChB,OAAIA,EAAK20B,MAAM,aACJ30B,EAAO,IAAM+yB,EAEb/yB,IAKjB/F,OAAW,SAAUU,GACnB,OAAIV,EAAEk8D,SAASx7D,GACJA,EACAV,EAAE+N,SAASrN,IACdA,EAAOqnB,QAAQ,MAAQ,IACvBrnB,EAASA,EAAOmL,MAAM,KAAK,IAExB,IAAMnL,EAAS,KAEf,MAIbV,SAAa,SAAUU,GACrB,MAAuB,WAAnBpB,EAAE8B,KAAKV,KACwB,GAA3BA,EAAOqnB,QAAQ,UAAiBrnB,EAAOqnB,QAAQ,MAAQ,IAA6B,GAAxBrnB,EAAOqnB,QAAQ,OAUrF/nB,SAAa,SAAUU,GACrB,IAAIiF,EACJ,IAEF,OADAA,EAAM,IAAIC,IAAIlF,IACP,EACH,MAAO67D,GACX,OAAO,IAIPv8D,QAAY,SAAUw8D,GAGfA,IACDA,EAAc/+D,OAAOuwB,SAASud,MAElCixB,EAAcA,EAAY7kC,UAAU6kC,EAAYz0C,QAAQ,KAAO,GAAGlc,MAAM,KAGxE,IAFA,IAAiB4wD,EAAbllD,EAAS,GAAUrb,EAAIqN,mBAElBlP,EAAImiE,EAAYjiE,OAAS,EAAGF,GAAK,EAAGA,IACzCoiE,EAAOD,EAAYniE,GAAGwR,MAAM,KAC5B0L,EAAOrb,EAAEugE,EAAK,KAAOvgE,EAAEugE,EAAK,IAAM,IAGtC,OAAOllD,GAGTvX,WAAe,SAAU85B,EAAM77B,GAE7B,GAAI67B,EAAM,CACN,IAAI/2B,EAAO/C,EAAEgvB,QAAQ8K,GAWrB,OAVI77B,EACqB,UAAjBqB,EAAE8B,KAAKnD,KACPA,EAAO,CAACA,IAGZA,EAAOzD,OAAOyD,KAAK8E,GAEvBzD,EAAEZ,IAAIT,GAAM,SAAUf,UACX6F,EAAK7F,MAET6F,IAIb/C,WAAe,SAAUiD,EAAM5E,GAI7B,OAHAA,EAAQiB,EAAEylC,KAAK1mC,GAAO,SAAUzB,GAC5B,OAAOA,GAASqG,KAEb5E,GAGT2B,SAAa,SAAU9C,EAAKN,EAAOk9B,GACjC,GAAI58B,GAAON,EAAO,CACTk9B,IACDA,EAAO95B,EAAEo6B,WAEb,IAAIr3B,EAAO/C,EAAEgvB,QAAQ8K,GAErB,OADA/2B,EAAK7F,GAAON,EACLmG,IAIb/C,WAAe,SAAU9C,EAAKN,EAAOk9B,GAC9BA,IACDA,EAAO95B,EAAEo6B,WAEb,IAAIn8B,EAAOzD,OAAOyD,KAAK67B,GAGvB,OAFA54B,IAAIiyD,MAAM,QAASr5B,EAAM58B,EAAK48B,EAAK58B,IAE/B48B,EAAK58B,KAASN,IAAU0C,EAAE8hC,QAAQlkC,EAAKe,IAO7C+B,WAAe,SAAU9C,EAAKN,EAAOqB,EAAM67B,GACpCA,IACDA,EAAO95B,EAAEo6B,WAGb,IAAIr3B,EAAO/C,EAAE+5B,WAAWD,EAAM77B,GAE9B,OADA8E,EAAO/C,EAAE08D,SAASx/D,EAAKN,EAAOmG,GACvBA,GAIT/C,QAAY,SAAU85B,GAIpB,OAHKA,IACDA,EAAO95B,EAAEo6B,WAEN5/B,OAAOq0B,OAAO,GAAIiL,IAI3B95B,WAAe,SAAUlD,EAAMF,EAAOk9B,GACpC,GAAIh9B,GAAQF,GAASk9B,EAAM,CACvB,IAAI/2B,EAAO/C,EAAEgvB,QAAQ8K,GACrB,OAAI/2B,EAAKjG,GACEkD,EAAE+5B,WAAWh3B,EAAMjG,IAE1BiG,EAAKjG,GAAQF,EACNmG,KAKjB/C,OAAW,SAAU64B,EAAKiB,GACxB,OAAO95B,EAAE28D,WAAW,SAAU9jC,EAAKiB,IAGrC95B,WAAe,SAAU48D,GACvB,IAAIC,EAAK,yJACT,OAAOA,EAAGx3D,KAAKu3D,IAMjB58D,UAAc,SAAU85B,GACtB,IAAI/2B,EAAOhE,KAAK2pC,MAAM3pC,KAAKC,UAAU86B,IACjCgjC,EAAS/5D,EAAK+5D,OASlB,OAPIA,EADW,SAAXA,EACS,QAEA,OAIb/5D,EAAK+5D,OAASA,EACP/5D,GAKT/C,gBAAoB,SAAU+8D,EAAQC,GACpC,MAAuB,UAAnB19D,EAAE8B,KAAK27D,IAA0C,UAAnBz9D,EAAE8B,KAAK47D,GAC9BD,EAAOvwC,OAAO5vB,IAAU,IAAMogE,EAAOj1C,QAAQnrB,IAC1B,UAAnB0C,EAAE8B,KAAK27D,GACPA,EACmB,UAAnBz9D,EAAE8B,KAAK47D,GACPA,OADJ,GAKTh9D,SAAa,SAAU+8D,EAAQC,GAC7B,MAAuB,UAAnB19D,EAAE8B,KAAK27D,IAA0C,UAAnBz9D,EAAE8B,KAAK47D,GAC9BD,EAAO35D,OAAO45D,GACK,UAAnB19D,EAAE8B,KAAK27D,GACPA,EACmB,UAAnBz9D,EAAE8B,KAAK47D,GACPA,OADJ,GAKTh9D,cAAkB,SAAU+8D,EAAQC,GAClC,GAAI1+D,MAAMC,QAAQw+D,IAAWz+D,MAAMC,QAAQy+D,GAAQ,CACrD,IAAIC,EAAO,GAWX,OAVAF,EAAOn+D,QAAQ+nC,IACNq2B,EAAO10D,SAASq+B,IACvBs2B,EAAKpiE,KAAK8rC,KAGZq2B,EAAOp+D,QAAQ+nC,IACNo2B,EAAOz0D,SAASq+B,IACvBs2B,EAAKpiE,KAAK8rC,KAGLs2B,IAIPj9D,YAAgB,SAAU1C,GACxB,IAAI4/D,EAAY,EAKhB,MAJoB,MAAhB5/D,EAAS,KACT4/D,GAAa,EACb5/D,EAAWA,EAASy6B,OAAO,IAExB,SAAU35B,EAAGo6B,GAChB,IAAIp9B,EAAUgD,EAAEd,GAAU0S,cAAgBwoB,EAAEl7B,GAAU0S,eAAkB,EAAK5R,EAAEd,GAAU0S,cAAgBwoB,EAAEl7B,GAAU0S,cAAiB,EAAI,EAC1I,OAAO5U,EAAS8hE,IAItBl9D,aAAiB,SAAUmC,EAAM+6D,GAO/B,OANKA,IACDA,EAAY,GAEE,MAAdA,IACAA,GAAa,GAEV,SAAU9+D,EAAGo6B,GAChB,IAAIp9B,EAAU+G,EAAK/D,GAAK+D,EAAKq2B,IAAO,EAAKr2B,EAAK/D,GAAK+D,EAAKq2B,GAAM,EAAI,EAClE,OAAOp9B,EAAS8hE,IAItBl9D,aAAiB,SAAU5B,EAAGo6B,GAE5B,IAAI2kC,EAAS3iE,OAAO4iE,oBAAoBh/D,GACpCi/D,EAAS7iE,OAAO4iE,oBAAoB5kC,GAIxC,GAAI2kC,EAAO5iE,QAAU8iE,EAAO9iE,OACxB,OAAO,EAGX,IAAK,IAAIF,EAAI,EAAGA,EAAI8iE,EAAO5iE,OAAQF,IAAK,CACpC,IAAIijE,EAAWH,EAAO9iE,GAItB,GAAI+D,EAAEk/D,KAAc9kC,EAAE8kC,GAClB,OAAO,EAMf,OAAO,GAGTt9D,eAAmB,SAASu9D,EAAGC,GAC7B,OAAOz+D,KAAKC,UAAUu+D,IAAKx+D,KAAKC,UAAUw+D,KAItCC,EAAyBA,CAACr/D,EAAEo6B,IAClB,iBAAHp6B,GAAyB,iBAAHo6B,GAAe,GAAGp6B,GAAG,OAAS,GAAGo6B,GAAG,OAI1Dp6B,IAAIo6B,EAEjBx4B,EAAE09D,WAAa,SAAUt/D,EAAEo6B,EAAGmlC,EAASF,EAAwBG,EAAoBH,GACjF,GAAIr/D,aAAaE,OAASk6B,aAAal6B,MACnC,OAAO0B,EAAE69D,YAAYz/D,EAAEo6B,EAAGmlC,GAC9B,GAAIv/D,GAAKo6B,GAAKh+B,OAAOsjE,eAAe1/D,KAAK5D,OAAOC,WAAaD,OAAOsjE,eAAetlC,KAAKh+B,OAAOC,UAC3F,OAAOuF,EAAE+9D,aAAa3/D,EAAEo6B,EAAGmlC,GAC/B,GAAIv/D,aAAaO,KAAO65B,aAAa75B,IACjC,OAAOqB,EAAEg+D,UAAU5/D,EAAEo6B,EAAGmlC,GAC5B,GAAIv/D,aAAaI,KAAOg6B,aAAah6B,IAAK,CACtC,GAAIo/D,IAAsBH,EACtB,OAAOz9D,EAAEi+D,UAAU7/D,EAAEo6B,GAErB,KAAM,mJAEd,OAAKp6B,aAAa8/D,aAAeA,YAAYC,OAAO//D,MAAQo6B,aAAa0lC,aAAeA,YAAYC,OAAO3lC,IAChG4lC,iBAAiBhgE,EAAEo6B,GACvBmlC,EAASv/D,EAAEo6B,IAGpBx4B,EAAE69D,YAAc,SAAUz/D,EAAEo6B,EAAGmlC,GAC7B,GAAIv/D,EAAE7D,QAAQi+B,EAAEj+B,OACZ,OAAO,EACX,IAAI,IAAIF,EAAE,EAAGA,EAAE+D,EAAE7D,OAAQF,IACrB,IAAK2F,EAAE09D,WAAWt/D,EAAE/D,GAAGm+B,EAAEn+B,GAAIsjE,GACzB,OAAO,EACf,OAAO,GAET39D,EAAE+9D,aAAe,SAAU3/D,EAAEo6B,EAAGmlC,GAC9B,IAAIU,EAAQ7jE,OAAO4iE,oBAAoBh/D,GACnCkgE,EAAQ9jE,OAAO4iE,oBAAoB5kC,GACvC,GAAI6lC,EAAM9jE,QAAQ+jE,EAAM/jE,OACpB,OAAO,EACX8jE,EAAMr4B,OACNs4B,EAAMt4B,OACN,IAAI,IAAI3rC,EAAE,EAAGA,EAAEgkE,EAAM9jE,OAAQF,IACzB,IAAKsjE,EAASU,EAAMhkE,GAAGikE,EAAMjkE,IACzB,OAAO,EACf,OAAO2F,EAAE09D,WAAWW,EAAM3/D,IAAIg2C,GAAGt2C,EAAEs2C,IAAK2pB,EAAM3/D,IAAIg2C,GAAGlc,EAAEkc,IAAKipB,IAE9D39D,EAAEg+D,UAAY,SAAU5/D,EAAEo6B,EAAGmlC,GAC3B,OAAIv/D,EAAEK,MAAM+5B,EAAE/5B,MAEP,IAAIL,EAAEH,QAAQsgE,MAAM7pB,GACvBlc,EAAE0lB,IAAIxJ,IAAM10C,EAAE09D,WAAWt/D,EAAE5B,IAAIk4C,GAAIlc,EAAEh8B,IAAIk4C,GAAIipB,KAGnD39D,EAAEi+D,UAAY,SAAU7/D,EAAEo6B,GAExB,OAAOp6B,EAAEK,MAAM+5B,EAAE/5B,MAAQ,IAAIL,EAAEH,QAAQsgE,MAAM7pB,GACzClc,EAAE0lB,IAAIxJ,KAGZ10C,EAAEo+D,iBAAmB,SAAShgE,EAAEo6B,GAI9B,GAFAp6B,EAAI,IAAI0P,WAAW1P,GACnBo6B,EAAI,IAAI1qB,WAAW0qB,GACfp6B,EAAE7D,QAAUi+B,EAAEj+B,OACd,OAAO,EACX,IAAI,IAAIF,EAAE,EAAGA,EAAE+D,EAAE7D,OAAQF,IACrB,GAAI+D,EAAE/D,IAAIm+B,EAAEn+B,GACR,OAAO,EACf,OAAO,GAGT2F,EAAEw+D,YAAc,SAAUxmC,EAAK56B,EAAGqhE,GAC3BA,IACDA,EAAQ,IAGZ,IAAIC,EAAOxyD,KAAKyyD,KAAK3mC,EAAIz9B,OAAS6C,GAC9B7C,EAAS6C,EAAIshE,EACjBx9D,IAAIiyD,MAAM,8BAA+B/1D,EAAGshE,EAAMnkE,GAElD,IADA,IAAIa,EAAS,GACJf,EAAI,EAAGA,EAAIqkE,EAAMrkE,GAAK,EAAG,CAE9B,IADA,IAAIyvC,EAAM,GACD7tC,EAAI,EAAGA,EAAImB,EAAGnB,GAAK,EAAG,CAC3B,IAAIgH,EAAO+0B,EAAIr6B,MAAOtD,EAAI+C,EAAKnB,EAAI5B,EAAI+C,EAAKnB,EAAI,GAChDiF,IAAIiyD,MAAM,kBAAmBrpB,EAAK7mC,EAAM5I,EAAG4B,GAEvC6tC,EADA7mC,EAAK1I,OAAS,EACRuvC,EAAI1mC,OAAOH,GAEX6mC,EAAI1mC,OAAO,CAACq7D,IAG1BrjE,EAAOP,KAAKivC,GACZ5oC,IAAIiyD,MAAM,kBAAmBrpB,GAEjC,OAAO1uC,GAGT4E,EAAE4+D,QAAU,WACV,OAAOnhE,OAAOuwB,SAAS6L,KAAKhuB,MAAM,KAAK,GAAGksB,OAAO,IAGnD/3B,EAAE4uC,QAAU,WACV,OAAOrlC,mBAAmBvJ,EAAE4+D,UAAU7mC,OAAO,KAG/C/3B,EAAE6+D,mBAAqB,SAAU1iE,GAC/BA,EAAOA,EAAKqsC,QAAQ,OAAQ,OAAQA,QAAQ,OAAQ,OACpD,IAAIs2B,EAAS,SAAW3iE,EAAO,YAC3B4iE,EAAQ,IAAI/wD,OAAO8wD,GACnBx9B,EAAUy9B,EAAMC,KAAKvhE,OAAOuwB,SAASmZ,QACzC,OAAgB,OAAZ7F,EACO,KAEA/3B,mBAAmB+3B,EAAQ,KAGxCthC,EAAEi/D,mBAAqB,SAAUnlC,EAAMolC,EAAaC,GAClD,IAAIC,EAAgB,EAChBC,EAAiB,EACjBjkE,EAAS8jE,EACTplC,EAAKhY,SACLs9C,EAAgB,KACU,YAAnBtlC,EAAKwlC,WAEc,WAAnBxlC,EAAKwlC,WAELxlC,EAAKylC,eAHZH,EAAgB,KAMhBtlC,EAAK0G,aACL6+B,EAAiB,KAErBjkE,EAASA,EAASikE,EAAiBD,EACnC5/D,OAAMU,OAAO,gBAAiBk/D,GAC9B5/D,OAAMU,OAAO,iBAAkBm/D,GAC/B7/D,OAAMU,OAAO,iBAAkB9E,GAC/BoE,OAAMU,OAAO,kBAAmBi/D,IAIlCn/D,EAAEyF,aAAe,SAAU1F,GACpBA,IACDA,EAAMgvB,OAAO6K,aAAa7L,MAAMC,UACpC,IACI,MAAMroB,EAAM,IAAIC,IAAI7F,GACdy/D,EAAY75D,EAAI85D,SAAS5zD,MAAM,KACrC,GAAI2zD,EAAUjlE,OAAS,EACnB,OAAOilE,EAAU,GACvB,MAAO7mC,GACLz3B,IAAIsD,MAAMm0B,KAIhB34B,EAAEq8D,WAAa,SAAUt8D,GACvBA,EAAMC,EAAEC,OAAOF,GACVA,IACDA,EAAMgvB,OAAO6K,aAAa7L,MAAMC,UACpC,IACI,MAAMroB,EAAM,IAAIC,IAAI7F,GACpB,OAAO4F,EAAI+5D,OACb,MAAO/mC,GACLz3B,IAAIsD,MAAMm0B,KAIhB34B,EAAE+jC,aAAe,SAAUhkC,GAEzB,GADAA,EAAMC,EAAEC,OAAOF,GACXA,EAAI,CACV,IAAIw6B,EAAOv6B,EAAEq8D,WAAWt8D,GACxB,GAAIw6B,EAAK,CACL,IAAIolC,EAAY3/D,EAAEyF,aAAa80B,GAC/B,GAAIolC,GACFplC,EAAKjyB,SAASq3D,GACd,OAAOplC,EAAKiO,QAAQm3B,EAAY,IAAI,OAQ1C3/D,EAAE4/D,aAAe,SAAU7/D,GACzB,IAAI8/D,EAAU7/D,EAAEq8D,WAAWt8D,GAC3B,GAAI8/D,EACN,OAAOA,EAAU,mBAIjB7/D,EAAE6rC,QAAU,SAAU9rC,GACpB,IAAI8/D,EAAU7/D,EAAEq8D,WAAWt8D,GAC3B,GAAI8/D,EACN,OAAOA,EAAU,iBAIjB7/D,EAAE8/D,QAAU,SAAU//D,GACpB,IAAI8/D,EAAU7/D,EAAEq8D,WAAWt8D,GAC3B,GAAI8/D,EACN,OAAOA,EAAU,UAKjB7/D,EAAE+/D,mBAAqB,SAASC,GAI9B,IAFA,IAAIvwB,EAAMuwB,EACNC,EAAa,IAAInyD,WAAW2hC,EAAIl1C,QAC5BF,EAAI,EAAGA,EAAIo1C,EAAIl1C,OAAQF,IACjC4lE,EAAW5lE,GAAKo1C,EAAIywB,WAAW7lE,GAE7B,OAAO4lE,GAGTjgE,EAAEmgE,aAAe,SAASC,GAE1B,OAAO,IAAIl4D,QAAQ,CAAChK,EAASq+D,KAC3B,MAAM8D,EAAS,IAAI9mB,WACnB8mB,EAAOC,UAAY,IAAMpiE,EAAQmiE,EAAOjlE,QACxCilE,EAAOE,cAAcH,MAIvBpgE,EAAEwgE,iBAAmBz8D,eAAeq8D,GAClC,IAAIJ,QAAehgE,EAAEmgE,aAAaC,GAClC,GAAIJ,EACN,OAAOhgE,EAAE+/D,mBAAmBC,IAI5BhgE,EAAE+L,QAAUhI,eAAehE,GACzB,GAAIA,EAAI,CACV,MAAMqgE,QAAaK,OAAe1gE,EAAK,CACnCqE,MAAO3G,OAAOyG,MAAMC,QAAQC,QAEhC,OAAOg8D,IAIPpgE,EAAE0gE,YAAc38D,eAAehE,GAC7B,IAAIqgE,QAAapgE,EAAE+L,QAAQhM,GAC3BmB,IAAIiyD,MAAMiN,GACV,IAAIhP,QAAegP,EAAKvyD,cACpB8yD,QAAgB,IAAI7yD,WAAWsjD,GACnC,OAAOuP,GAGT3gE,EAAE4gE,eAAiB78D,eAAehE,GAChC,IAAIqgE,QAAapgE,EAAE+L,QAAQhM,GACvBqxD,QAAegP,EAAKvyD,cACxB3M,IAAIiyD,MAAM,SAAS/B,GAInB,IAHA,IAAIyP,QAAsBpjE,OAAOqjE,KAAK1P,GAClC2P,EAAMF,EAActmE,OACpBymE,EAAQ,IAAIlzD,WAAWizD,GAClB1mE,EAAI,EAAGA,EAAI0mE,EAAK1mE,IACrB2mE,EAAM3mE,GAAKwmE,EAAcX,WAAW7lE,GAExC,OAAO2mE,EAAM5P,QAGfpxD,EAAEinC,MAAQ,SAASlnC,GACjB,IAAIkD,EAAOjD,EAAEC,OAAOF,GAChB2oC,EAAQzlC,EAAK4I,MAAM,KACvB,GAAI68B,EAAMnuC,OAAS,EAErB,OADAmuC,EAAQA,EAAMvpC,UACPupC,EAAM,GAETA,EAAQzlC,EAAK4I,MAAM,KACvB,OAAI68B,EAAMnuC,OAAS,GACfmuC,EAAQA,EAAMvpC,UACG,KAAbupC,EAAM,IACZA,EAAM1tC,QAEGuO,mBAAmBm/B,EAAM,KAEzBn/B,mBAAmBtG,IAK9BjD,EAAE4N,YAAc,SAASf,GACvB,MAAqB,WAAjBvN,EAAE8B,KAAKyL,IACS,cAAlBA,EAAKxL,UAUTrB,EAAEihE,gBAAkB,SAAS9oC,GAC3B,IAAI+oC,EAAQ,GACZ,GAAoB,kBAAT/oC,EAeb,MAdA,IAAIA,GAAKv5B,QAAQ3C,IACH,MAANA,EACNA,EAAI,QACe,MAANA,EACbA,EAAI,SACe,MAANA,EACbA,EAAI,SACe,MAANA,EACbA,EAAI,OACe,MAANA,IACbA,EAAI,QAEFilE,GAAgBjlE,IAEbilE,GAIPlhE,EAAEmhE,gBAAkB,CAAC/iE,EAAGo6B,KACxB,IAAI78B,EAAKU,GAAM7B,OAAOsnD,QAAQzlD,GAAG2pC,OAAOtnC,IAAIrE,IACtCA,EAAE,aAAcG,SAAQH,EAAE,GAAKsB,EAAEtB,EAAE,KAC/BA,IAEV,OAAO0E,KAAKC,UAAUrD,EAAEyC,MAAQW,KAAKC,UAAUrD,EAAE68B,KAGjDx4B,EAAEohE,YAAc,WACd,IACIC,EADA7hE,EAAQ/B,OAAOw8B,aAEnB,GAAsB,WAAlB36B,EAAE8B,KAAK5B,GAAoB,CACjC,IAAIvB,EAAOzD,OAAOyD,KAAKR,OAAOw8B,cAC1B37B,MAAMC,QAAQN,IACdA,EAAK2vC,KAAK8G,IAEZ,GAAIA,EAAEvN,OAAO,mCAAqC,EAAE,CAEhD,IAAIm6B,EAAUviE,KAAK2pC,MAAMlpC,EAAMk1C,IAC/B,GAAI4sB,EAAQC,SAEd,OADAF,EAAYC,EAAQC,SACbF,KAMT,OAAOA,GAGTrhE,EAAEwhE,YAAc,WACd,IAAIzzC,EAAQ1B,aAAI0C,OAAO0yC,QAAQ72B,QAAQ7c,MACvC,MAAyB,WAAlBzuB,EAAE8B,KAAK2sB,IAAqD,IAA9BvzB,OAAOyD,KAAK8vB,GAAOxzB,QAG1DyF,EAAE0hE,WAAa,SAAS1pC,GACtB,GAAI15B,MAAMC,QAAQy5B,GACpB,OAAOA,EAAIt5B,IAAIN,IAAa,IAAIA,MAIhC4B,EAAE2hE,SAAW,SAASl/D,EAAOm/D,GAC3B,IAAIC,EAAY,oBACZC,EAAY,wBACZC,EAAa,QACbC,EAAoB,gDACpBC,EAAoB,UAExB,GAAqB,kBAAVx/D,EAEJ,CACT,IAAIy/D,EAAYz/D,EACX+lC,QAAQq5B,EAAWD,GACnBp5B,QAAQs5B,EAAWF,GACnBp5B,QAAQu5B,EAAYH,GACpBp5B,QAAQw5B,EAAmBJ,GAC3Bp5B,QAAQy5B,EAAmBL,GAChC,OAAOpH,EAAS0H,EAAW,KAR3BhhE,IAAIsD,MAAM,yBAYVxE,EAAEmiE,iBAAmB,SAAS1/D,EAAOo8B,GACnC,IAEIiE,EAFA8+B,EAAe/iC,GAAWA,EAAQ+iC,aAAgB,GAClDj/D,EAAS3C,EAAE2hE,SAASl/D,EAAOm/D,GAO/B,GAJF9+B,EADsB,KAAhB8+B,EACEj/D,EAEA3C,EAAE2hE,SAASh/D,EAAQ,IAEH,kBAAXmgC,EACb,OAAO15B,mBAAmB05B,IAI1B9iC,EAAE8uC,OAAS,SAASJ,GAClB,MAAqB,WAAjBpvC,EAAE8B,KAAKstC,IAAgD,kBAAnBA,EAAK0zB,UAO/CpiE,EAAEgvC,WAAa,SAASniC,GACtB,QAAqB,WAAjBvN,EAAE8B,KAAKyL,KAAsBA,EAAK9S,OAAQ8S,EAAK9S,KAAKgG,MAO1DC,EAAEg8B,UAAY,SAASnvB,GACrB,QAAqB,WAAjBvN,EAAE8B,KAAKyL,KAAsBA,EAAKxL,UAA8B,cAAlBwL,EAAKxL,WAOzDrB,EAAE+uC,aAAe,SAAShvC,EAAI2uC,GAC5B,IACI6L,EADAx6C,EAAMC,EAAEC,OAAOF,GAYnB,OAVIA,GACFC,EAAE8uC,OAAOJ,IACTA,EAAK5rB,SAASjW,IAChB,GAAIA,EAAK9S,KAAKgG,MAAQA,EAElB,OADAw6C,EAAO1tC,GACA,IAKJ0tC,GAGMv6C,U,kCC/+Bf,qGAAMqiE,EAAK,GAYLjjE,EAAOC,EAAQ,SACf,KAAEijE,EAAI,SAAEC,EAAQ,UAAEC,GAAcnjE,EAAQ,QACxCojE,EAAQ,IAAIpjE,EAAQ,WAAyBA,EAAQ,SAC3D,IAAIqjE,EAAUD,EAAMC,UACpB,MAAMC,EAAgB,GAKP,QACbN,GAAIA,EACJlmE,KAAM,YACNpC,OACE,MAAO,IAITm1B,QAAS,CACP0zC,sBAEEn+D,QAAQvD,IAAI,4BACZ,MAAM2hE,EAAW,GAEjBrjE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAGyJ,IAAI,UAAW,MAAM7H,QAAQkC,IAC9D+hE,EAASv6D,SAASxH,EAAGiT,QAAQnX,QAAQimE,EAAShoE,KAAKiG,EAAGiT,QAAQnX,OAC9DimE,EAASv6D,SAASxH,EAAGzD,OAAOT,QAAQimE,EAAShoE,KAAKiG,EAAGzD,OAAOT,SAElE4C,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAGyJ,IAAI,UAAW,MAAM7H,QAAQkC,IAC9D+hE,EAASv6D,SAASxH,EAAGiT,QAAQnX,QAAQimE,EAAShoE,KAAKiG,EAAGiT,QAAQnX,SAEpE4C,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG8lE,MAAM,YAAa,MAAMlkE,QAAQkC,IACtE4hE,EAAQ/3D,IAAI83D,EAAM9mC,KAAK8mC,EAAMM,UAAUjiE,EAAGiT,QAAQnX,OAAQ6lE,EAAMM,UAAUjiE,EAAGkT,UAAUpX,OAAQ6lE,EAAMM,UAAUjiE,EAAGzD,OAAOT,OAAQ6lE,EAAMO,mBAEzIH,EAASjkE,QAAQqkE,IAGbzjE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI2iE,GAASjmE,OAAGyJ,IAAI,UAAW,MAAM7H,QAAQkC,IAC1EtB,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIQ,EAAGzD,OAAOT,OAAQI,OAAG6N,KAAK,SAAU,MAAM,GAAGxN,OAAOT,MAAM0L,SAAS,YAAYo6D,EAAQ/3D,IAAI83D,EAAM9mC,KAAK8mC,EAAMM,UAAUjiE,EAAGiT,QAAQnX,OAAQ6lE,EAAMM,UAAUjiE,EAAGkT,UAAUpX,OAAQ6lE,EAAMM,UAAUjiE,EAAGzD,OAAOT,OAAQ6lE,EAAMO,mBAEnQxjE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI2iE,GAASjmE,OAAGyJ,IAAI,UAAW,MAAM7H,QAAQkC,IAC9E4hE,EAAQ/3D,IAAI83D,EAAM9mC,KAAK8mC,EAAMM,UAAUjiE,EAAGiT,QAAQnX,OAAQ6lE,EAAMM,UAAUjiE,EAAGkT,UAAUpX,OAAQ6lE,EAAMM,UAAUjiE,EAAGzD,OAAOT,OAAQ6lE,EAAMO,mBAEzIxjE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAGyJ,IAAI,UAAWrH,EAAKkB,IAAI2iE,IAASrkE,QAAQkC,IAC9E4hE,EAAQ/3D,IAAI83D,EAAM9mC,KAAK8mC,EAAMM,UAAUjiE,EAAGiT,QAAQnX,OAAQ6lE,EAAMM,UAAUjiE,EAAGkT,UAAUpX,OAAQ6lE,EAAMM,UAAUjiE,EAAGzD,OAAOT,OAAQ6lE,EAAMO,qBAI7IxjE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG0J,IAAI,QAAS1J,OAAGkmE,KAAK,aAAatkE,QAAQkC,IAC/E2D,QAAQvD,IAAI,uBACZyhE,EAAc9nE,KAAK4nE,EAAMM,UAAUjiE,EAAGiT,QAAQnX,WAGlDsb,gBAAgBirD,EAAOC,EAAOC,EAAcC,EAAUC,EAAa,GAAIpQ,GAAM,GAE3E,MAAMqQ,EAAY3+D,YAAYC,MAC9B,IAAI2+D,EAAY,GAGZC,EAAU,GACVC,EAAU,GACdnkE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG6N,KAAK,SAAUzL,EAAKqnC,QAAQ,QAAQ08B,EAAO,OAAOvkE,QAAQkC,IAC/F4iE,EAAU5iE,EAAGiT,QAAQnX,MAClBu2D,GAAO1uD,QAAQvD,IAAI,WAAYwiE,KAEpClkE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG6N,KAAK,SAAUs4D,GAAOvkE,QAAQkC,IACnE4iE,EAAU5iE,EAAGiT,QAAQnX,MAClBu2D,GAAO1uD,QAAQvD,IAAI,WAAYwiE,KAEpClkE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG6N,KAAK,SAAUzL,EAAKqnC,QAAQ,QAAQ28B,EAAO,OAAOxkE,QAAQkC,IAC/F6iE,EAAU7iE,EAAGiT,QAAQnX,MAClBu2D,GAAO1uD,QAAQvD,IAAI,WAAYyiE,KAEpCnkE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG6N,KAAK,SAAUu4D,GAAOxkE,QAAQkC,IACnE6iE,EAAU7iE,EAAGiT,QAAQnX,MAClBu2D,GAAO1uD,QAAQvD,IAAI,WAAYyiE,KAGlB,GAAfjB,EAAQkB,OAAU7yD,KAAK6xD,sBAG1B,MAAMthE,EAAQ,IAAIghE,EAAK,CAAEI,UAASr6B,KAAMo6B,EAAMM,UAAUW,KAClDhhE,EAAM,IAAI4/D,EAAK,CAAEI,UAASr6B,KAAMo6B,EAAMM,UAAUY,KAWhDE,EAAc9yD,KAAK+yD,+BAA+BJ,EAASC,GAE3DI,EAAS,GACfR,EAAa3kE,QAAQmB,IACnBgkE,EAAOlpE,KAAK4nE,EAAMM,UAAUhjE,MAE9B,MAAMikE,EAAkB,IAAIC,IAAQF,GAE9BG,EAAmB,IAAID,IAAQJ,EAAYzgE,OAAOu/D,GAAev/D,OAAO2gE,IAC9E,IAAIx5D,EAAOg4D,EAASjhE,EAAOoB,EAAK,CAACyhE,OAAO,EAAMC,gBAAgB,EAAMC,cAAeH,IAEnF,MAAMI,EAAuB,IAAIL,IAAQtB,EAAcv/D,OAAO2gE,IAC1Dx5D,IAAMA,EAAOg4D,EAASjhE,EAAOoB,EAAK,CAACyhE,OAAO,EAAMC,gBAAgB,EAAMC,cAAeC,KACrF/5D,IAAMA,EAAOg4D,EAASjhE,EAAOoB,EAAK,CAACyhE,OAAO,EAAMC,gBAAgB,EAAMC,cAAeL,KAEzF,IAAIO,EAAW,GACf,GAAGh6D,EAAK,CAEH4oD,GAAO1uD,QAAQvD,IAAI,gBACnBiyD,GAAO1uD,QAAQvD,IAAIqJ,GACnB4oD,GAAO1uD,QAAQvD,IAAIqJ,EAAKutB,YAC3B,IAAI,IAAIz9B,EAAE,EAAGA,EAAEkQ,EAAKy2C,MAAMzmD,OAAQF,IAC1BkqE,EAASj8D,SAASiC,EAAKy2C,MAAM3mD,GAAGshC,KAAK5nB,QAAQnX,QAAQ2nE,EAAS1pE,KAAK0P,EAAKy2C,MAAM3mD,GAAGshC,KAAK5nB,QAAQnX,OAC9F2nE,EAASj8D,SAASiC,EAAKy2C,MAAM3mD,GAAGshC,KAAKt+B,OAAOT,QAAQ2nE,EAAS1pE,KAAK0P,EAAKy2C,MAAM3mD,GAAGshC,KAAKt+B,OAAOT,OA2BtG,GAtBGu2D,GAAO1uD,QAAQvD,IAAI,YACnBiyD,GAAO1uD,QAAQvD,IAAIqjE,GACtBd,EAAU5oE,KAAK,CAAC,IAAO0pE,EAAU,SAAY,IAoB1CpR,EAAM,CACP,MAAMqR,EAAa,GACnBf,EAAU7kE,QAAQ6lE,IAChB,MAAMC,EAAY,GAClBD,EAAIA,IAAI7lE,QAAQ+lE,IACdD,EAAU7pE,KAAK2E,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIqkE,GAAW3nE,OAAG6N,KAAK,SAAU,MAAM,GAAGxN,OAAOT,SAErG4nE,EAAW3pE,KAAK6pE,KAEfvR,GAAO1uD,QAAQvD,IAAIsjE,GAGxB,MAAMI,EAAwB,GAE9BnB,EAAU7kE,QAASwnB,IACZw+C,EAAsBt8D,SAAS8d,IAClCw+C,EAAsB/pE,KAAKurB,KAI/B,MAAMy+C,EAAUhgE,YAAYC,MAE5B,OADGquD,GAAO1uD,QAAQvD,IAAK,oBAAmB2jE,EAAUrB,kBACjDoB,EAAsB,GAChBA,EAAsB,GAAGH,KAEhChgE,QAAQvD,IAAI,mCACL,KAGX4iE,+BAA+BJ,EAASC,GACtC,MAAMmB,EAAY,GAElB,IAAIC,EAAe,EACnBvlE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIojE,GAAU1mE,OAAG8lE,MAAM,WAAY,MAAMlkE,QAAQkC,IAClFikE,EAAe/N,OAAOl2D,EAAGzD,OAAOT,SAElC,IAAIooE,EAAa,EAIjB,GAHAxlE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIqjE,GAAU3mE,OAAG8lE,MAAM,WAAY,MAAMlkE,QAAQkC,IAClFkkE,EAAahO,OAAOl2D,EAAGzD,OAAOT,SAE7BmoE,GAAcC,EAAY,MAAO,GAEpC,IAAIC,OAAiB9vD,EACjB+vD,EAAwB,IACxBC,OAAehwD,EACnB,GAAG3V,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIojE,GAAU1mE,OAAGyR,IAAI,cAAe,MAAM,GAAG,CACjF,MAAM22D,EAAqB5lE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIojE,GAAU1mE,OAAGyR,IAAI,cAAe,MAAM,GAAGpR,OAAOT,MAClHuoE,EAAenlE,OAAEqlE,qBAAqBD,GAExC,OAAID,GACJ3lE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG0J,IAAI,QAAS1J,OAAGkmE,KAAK,WAAWtkE,QAAQkC,IAC7E,MAAMwkE,EAAUxkE,EAAGiT,QAAQnX,MAC3B,IAAI2oE,OAAWpwD,EACf,GAAG3V,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIglE,GAAUtoE,OAAGyR,IAAI,cAAe,MAAM,GAAG,CACjF,MAAM+2D,EAAiBhmE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIglE,GAAUtoE,OAAGyR,IAAI,cAAe,MAAM,GAAGpR,OAAOT,MAC9G2oE,EAAWvlE,OAAEqlE,qBAAqBG,GAC/BL,EAAap+C,WAAWw+C,IAAWL,IACpCA,EAAwBC,EAAap+C,WAAWw+C,GAChDN,EAAiBK,MAKvB9lE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAM,KAAM19B,OAAG0J,IAAI,QAAS1J,OAAGkmE,KAAK,WAAWtkE,QAAQkC,IAC7E,MAAMwkE,EAAUxkE,EAAGiT,QAAQnX,MAC3B,IAAI6oE,OAAetwD,EACnB3V,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIglE,GAAUtoE,OAAG8lE,MAAM,WAAY,MAAMlkE,QAAQkC,IAClF2kE,EAAezO,OAAOl2D,EAAGzD,OAAOT,SAE/B6oE,GAAiBV,GAAcU,GAAcR,GAAgBK,GAASR,EAAUjqE,KAAK4nE,EAAMM,UAAUuC,MAEnGR,GAtBkB,KAyB7BY,MAAO,K,kCCpOT,W,mBCAA5pE,EAAOD,QAAU,k9B,kCCAjB,kCAAMY,EAAI,GAEJ2C,EAAOC,EAAQ,QAIrB5C,EAAEkpE,iBAAmB5hE,eAAe6hE,GAChC,IAAI7lE,EAAM,qBAAqBP,OAAMC,MAAMmtB,QAAQ,IAAKptB,OAAMC,MAAMmuB,WAAY,WAAWxkB,mBAAmBw8D,GAC9G,IACE,IAAIt8D,QAAY7L,OAAOyG,MAAMC,QAAQC,MACnCrE,EAAK,CACH8G,OAAQ,MACRvC,YAAa,UACbyC,QAAS,CACP,OAAU,iBAEbw6B,KAAKj4B,GAAOA,EAAI/E,QAGnB,OAFAE,QAAQvD,IAAIoI,GACZlK,EAAKspC,MAAMp/B,EAAK9J,OAAMC,MAAM0uB,GAAGzjB,SAAU3K,EAAK,eACvCuJ,EACP,MAAO9E,GACPC,QAAQvD,IAAIsD,GACZC,QAAQvD,IAAI,mBAIhBzE,EAAE2P,WAAarI,eAAe+H,EAAMuzC,GAClC5hD,OAAOyG,MAAMC,QAAQC,MACnBi7C,EAAUvzC,EAAK3P,KAAM,CACrB0K,OAAQ,MACRvC,YAAa,UACbwC,KAAMgF,EACN/E,QAAS,CACP,eAAgB,IAElB8+D,iBAAkB,SAAUC,GAC1B/0D,KAAKg1D,iBAAmBr+C,SAAUxb,KAAKC,MAAS25D,EAAcxiD,OAASwiD,EAAcviD,MAAU,MAC/F9e,QAAQvD,IAAI6P,KAAKg1D,mBACjB5oE,KAAK4T,QAAQwwB,KAAKj4B,IAClB7E,QAAQvD,IAAI,iBAAkBoI,KAEjC08D,MAAMloE,IACL2G,QAAQD,MAAMzF,KAAKC,UAAUlB,EAAE2O,aAInChQ,EAAEwpE,wBAA0BliE,iBAC1BU,QAAQvD,IAAI,mCACZ,IAAIglE,EAAY1mE,OAAMC,MAAMuuB,SAAS,qBACrC,IACEvwB,OAAOyG,MAAMC,QAAQC,MAAM8hE,EAAW,CAAEr/D,OAAQ,MAAOvC,YAAa,YAAai9B,KAAMj4B,IACrFA,EAAIuE,cAAc0zB,KAAM6X,IACtB,IAAIttC,EAAO,IAAIutC,KAAK,CAACD,IACrB,MAAME,EAAK,IAAIC,WACfD,EAAGE,OAAS,WACRp6C,EAAKspC,MAAM33B,KAAK3V,OAAQoE,OAAMC,MAAM0uB,GAAGzjB,SAAUw7D,EAAW,eAC/ClmE,OAAEmmE,cAAc3mE,OAAMC,MAAM0uB,GAAGzjB,SAAUw7D,IAG1D5sB,EAAGK,WAAW7tC,OAGlB,MAAOtH,GACPC,QAAQvD,IAAIsD,GACZC,QAAQvD,IAAI,yCAIHzE,U,oGCpEfX,EAAOD,QAAU,s4B,mBCAjBC,EAAOD,QAAU,8V,kCCAjB,W,qBCAAC,EAAOD,QAAU,IAA0B,8B,yDCA3C,W,mECAAC,EAAOD,QAAU,IAA0B,yB,yDCA3C,8KAAMuqE,EAAM,GAENhnE,EAAOC,EAAQ,QAoBrB+mE,EAAIC,gBAAkBtiE,eAAehE,GACnC,OAAO,IAAImI,QAAQnE,MAAO7F,EAAQusB,KAChCvjB,OAAGo/D,mBAAmBvmE,GAAK,GAAMwhC,KAAMt9B,IACrCQ,QAAQvD,IAAI,uBAAuBnB,GACnC,IAAIwmE,EAAe,GACfC,EAAe,GAGfC,EAAcjnE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAM/C,OAAGi+B,IAAI,aAAc,MACpFwrC,EAAY7nE,QAAQqE,IACZujE,EAAal+D,SAASrF,EAAK5F,OAAOT,SACpC6H,QAAQvD,IAAI,oBACZslE,EAAa3rE,KAAKoI,EAAK5F,OAAOT,UAIpC4pE,EAAa5nE,QAAQ,CAAC8nE,EAAUrsE,KAC9BksE,EAAa1rE,KAAK,CAAEiqD,SAAU,MAAO6hB,UAAWD,EAAUhvC,SAAU,GAAIv7B,KAAMuqE,EAAUvnD,MAAOqY,OAAGovC,sBAIpGL,EAAa3nE,QAAQ,CAACioE,EAAUC,KAC9B5/D,OAAGo/D,mBAAmBO,EAASF,WAAW,GAAMplC,KAAMt9B,IACpD,IACE,IAAI8iE,EAAavnE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIumE,EAASF,WAAY3pE,OAAGuJ,KAAK,QAAS,MAAM,GAAGlJ,OAAOT,OAAS,GACvHiqE,EAAS1qE,KAAO4qE,EAChBtiE,QAAQvD,IAAI,SAAS6lE,GACrBF,EAASnvC,SAAWF,OAAGwvC,YAAYD,GACnC,MAAOviE,GACPC,QAAQvD,IAAIsD,GAGXsiE,IAASP,EAAahsE,OAAO,IAC9BkK,QAAQvD,IAAI,kBACZhD,EAAQqoE,aASpBH,EAAIa,uBAAyBljE,eAAemjE,GAC1CziE,QAAQvD,IAAI,8BACZgG,OAAGo/D,mBAAmBY,GAAkB,GAAM3lC,KAAMt9B,IAEhD,IAAIwiE,EAAcjnE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI4mE,GAAmBlqE,OAAG4L,MAAM,YAAa,MAClG,GAAG69D,EAAY,GAAG,CAChB,IAAIU,EAAeV,EAAY,GAAGppE,OAAOT,MACzC6H,QAAQvD,IAAI,UAAUimE,OAM9Bf,EAAIgB,yBAA2B,SAASroB,GACtC,IAAIsoB,EAAuB,IACvBC,GAAwB,IAE5B,IACE,GAAGvoB,EAAKt7B,SACN,IAAI,IAAI9M,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EACpE0wD,EAAuBn7D,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI0wD,GAC5EC,EAAuBp7D,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI2wD,GAGhF,GAAGvoB,EAAK54B,SAAS,GAAG1C,SAClB,IAAI,IAAI9M,EAAI,EAAGA,GAAGooC,EAAK54B,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EAChF0wD,EAAuBn7D,KAAKiP,IAAI4jC,EAAK54B,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI0wD,GACxFC,EAAuBp7D,KAAK0Z,IAAIm5B,EAAK54B,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI2wD,GAG5F,GAAGvoB,EAAK54B,SAAS,GAAGA,SAAS,GAAG1C,SAC9B,IAAI,IAAI9M,EAAI,EAAGA,GAAGooC,EAAK54B,SAAS,GAAGA,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EAC5F0wD,EAAuBn7D,KAAKiP,IAAI4jC,EAAK54B,SAAS,GAAGA,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI0wD,GACpGC,EAAuBp7D,KAAK0Z,IAAIm5B,EAAK54B,SAAS,GAAGA,SAAS,GAAG1C,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI2wD,GAGxG,MAAM9iE,IAGR,MAAO,CAAC,IAAO6iE,EAAsB,IAAOC,IAG9ClB,EAAImB,4BAA8B,SAASC,EAAOrsD,EAAKyK,GACrD,OAAG4hD,GAAOrsD,GAGJA,EAAI,GAAIqsD,GAAS5hD,EAAI4hD,EAAM,GAAM5hD,EAAI,GAAI4hD,GAQjDpB,EAAIqB,wBAA0B1jE,eAAe2jE,EAASC,GACpD,IACE,MAAMr+D,QAAY7L,OAAOyG,MAAMC,QAAQC,MACrCsjE,EAAS,CACP7gE,OAAQ,MACRvC,YAAa,YAEbG,QAAQvD,IAAIoI,GACd,IAAI8vC,QAAiB9vC,EAAIuE,cACrBkyC,EAAUn6C,IAAIo6C,gBAAgB,IAAI3G,KAAK,CAACD,GAAW,CAAEh4C,KAAM,sBAC/DqD,QAAQvD,IAAI,SAAS1B,OAAMC,MAAMwuB,GAAG3V,iBAChC9Y,OAAMC,MAAMwuB,GAAG3V,iBAIjB7T,QAAQvD,IAAI,8DACZ1B,OAAMC,MAAMwuB,GAAG1V,iBAAiB1d,KAAKklD,KAJrCqmB,EAAIwB,SAAS7nB,EAAS4nB,GACtBnoE,OAAMC,MAAMwuB,GAAG1V,iBAAiB1d,KAAKklD,IAKzC,MAAOv7C,GACPC,QAAQvD,IAAIsD,KAIhB4hE,EAAIyB,yBAA2B9jE,eAAe+jE,GAC5C,IACE,MAAMx+D,QAAY7L,OAAOyG,MAAMC,QAAQC,MACrC0jE,EAAU,CACRjhE,OAAQ,MACRvC,YAAa,YAEbG,QAAQvD,IAAIoI,GACd,IAAI8vC,QAAiB9vC,EAAIuE,cACzB,IAAIk6D,EAAatqE,OAAOmI,KAAOnI,OAAOuqE,UACtC,IAAIjoB,EAAUgoB,EAAW/nB,gBAAgB,IAAI3G,KAAK,CAACD,GAAW,CAAEh4C,KAAM,gBACtE,OAAO2+C,EACT,MAAOv7C,GACPC,QAAQvD,IAAIsD,KAIhB4hE,EAAI6B,cAAgBlkE,eAAemkE,EAAU/oD,EAAOgpD,EAASC,GAE3D,IAAIC,EAAMH,EAAS,GACnBG,EAAMA,EAAI7/B,QAAQ,oBAAqB,IACvC6/B,EAAMA,EAAIj7B,WAAW,IAAK,IAC1B,MAAMk7B,EAAWD,EAAIx8D,MAAM,KAC3B,IAAI08D,EAAY,QAAQD,EAAS,GAAG,SAASA,EAAS,GAAG,SAASA,EAAS,GAAG,cAAcA,EAAS,GAAG,aAAanpD,EAAM,eAAegpD,EAAQ,gBAAgBC,EAAQ,kBAAkBE,EAAS,GAAG,KACpME,EAAUzpE,KAAK2pC,MAAM6/B,GACrBvzB,GAAQ,EACZx1C,OAAMC,MAAMwuB,GAAGjW,aAAapZ,QAAQvB,KAC9BA,EAAO+qE,SAASA,IAASpzB,GAAQ,KAEnCA,GAAOx1C,OAAMC,MAAMwuB,GAAGjW,aAAand,KAAK2tE,IAG9CpC,EAAIwB,SAAW7jE,eAAeg8C,EAAS4nB,EAAM/kD,GAAK,EAAMpD,EAAM,GAC5D,OAAO,IAAItX,QAAQnE,MAAO7F,EAAQusB,KAChC,MAAMjT,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACnDtG,EAAS,IAAIC,OACnBle,QAAQvD,IAAI,oBAAoBymE,EAAK,WACrCnoE,OAAMC,MAAMwuB,GAAG3V,iBAAkB,EACjCoK,EAAOE,KACLm9B,GACA,SAAWl9B,GACT,MAAMlR,EAAQkR,EAAKpL,MACT,GAAP+H,EACEhgB,OAAMC,MAAMwuB,GAAG7Y,SAASzD,EAAM6N,MAAM1gB,IAAIU,OAAMC,MAAMwuB,GAAG7V,YAAa5Y,OAAMC,MAAMwuB,GAAG7V,YAAa5Y,OAAMC,MAAMwuB,GAAG7V,aAElHzG,EAAM6N,MAAM1gB,IAAI0gB,EAAOA,EAAOA,GAEhC7N,EAAMxV,KAAOwrE,EACV/kD,GAAMpL,EAAY7M,IAAKgH,GAC1BzT,EAAQyT,MAEV,SAAW2B,GACT,IAAI+P,EAAoB/P,EAASgQ,OAAShQ,EAASiQ,MAAQ,IAC3D9e,QAAQvD,IAAImiB,EAAgB,YACR,KAAjBA,IACD5e,QAAQvD,IAAI,0BACZwP,YAAW,WAAajT,OAAO+lB,sBAAsB,KAAQhkB,OAAMC,MAAMwuB,GAAGrW,aAAc,MAAa,KACvGpY,OAAMC,MAAMwuB,GAAG3V,iBAAkB,EAEjC9Y,OAAMC,MAAMwuB,GAAG1V,iBAAmBna,OAAEqqE,mBAAmBjpE,OAAMC,MAAMwuB,GAAG1V,kBACtE9T,QAAQvD,IAAI1B,OAAMC,MAAMwuB,GAAG1V,iBAAiBhe,QACzCiF,OAAMC,MAAMwuB,GAAG1V,iBAAiBhe,QAAQ,IACzCkK,QAAQvD,IAAI,4BACZklE,EAAIwB,SAASpoE,OAAMC,MAAMwuB,GAAG1V,iBAAiB,GAAIovD,QAIvD,SAAWnjE,GACTC,QAAQvD,IAAK,sBAAsBsD,GACnChF,OAAMC,MAAMwuB,GAAG3V,iBAAkB,EAEjC9Y,OAAMC,MAAMwuB,GAAG1V,iBAAmBna,OAAEqqE,mBAAmBjpE,OAAMC,MAAMwuB,GAAG1V,kBACnE/Y,OAAMC,MAAMwuB,GAAG1V,iBAAiBhe,QAAQ,GACzC6rE,EAAIwB,SAASpoE,OAAMC,MAAMwuB,GAAG1V,iBAAiB,GAAIovD,SAO3DvB,EAAIsC,qBAAuB,SAASf,EAAMzuB,EAAYyvB,GACpDA,EAAS/pE,QAAQgqE,IACf,IAAIC,EAAalB,EAAK,IAAIiB,EAC1B,IAAIppE,OAAMC,MAAMwuB,GAAGvV,eAAepQ,SAASugE,GAAY,CACrD,MAAMnB,EAAUxuB,EAAW,aAAa2vB,EAAW,QACnDzC,EAAIqB,wBAAwBC,EAASmB,GACrCrpE,OAAMC,MAAMwuB,GAAGvV,eAAe7d,KAAKguE,OAKzCzC,EAAI0C,uBAAyB,SAASnB,EAAMgB,GAC1C,MAAMnxD,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACzD2/C,EAAS/pE,QAAQgqE,IACf,IAAIC,EAAalB,EAAK,IAAIiB,EAC1B,GAAGppE,OAAMC,MAAMwuB,GAAGvV,eAAepQ,SAASugE,GACxC,IACE,IAAIE,EAAevpE,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB6/C,GACxDrxD,EAAY5G,OAAOm4D,GACnBvpE,OAAMC,MAAMwuB,GAAGvV,eAAiBta,OAAE4qE,qBAAqBxpE,OAAMC,MAAMwuB,GAAGvV,eAAgBmwD,GAEtF,MAAMrkE,GACNC,QAAQvD,IAAIsD,OAMpB4hE,EAAI6C,+BAAiC,SAASC,GAC5C,MAAM1xD,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACzDxR,EAAY2O,SAASvnB,QAAQuqE,IACxBA,EAAQhtE,KAAKmM,SAAS4gE,IAAa1xD,EAAY5G,OAAOu4D,MAI7D/C,EAAIgD,uBAAyB,SAASjgD,EAAO41B,GAC3C,MAAMvnC,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACnDqgD,EAAY,IAAIvzD,QAAQ,EAAG,EAAG,GACpCtW,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIqqB,EAAMmgD,aAAa9xD,EAAY+xD,aAAcF,GAC1E,IAAIvgD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAUuyD,gBAAgBzqB,GAAM,GAChE,IACE,SAAIj2B,EAAWvuB,QAAU8uE,EAAUI,IAAI3gD,EAAW,GAAG4gD,KAAKC,QAAU,GAOpE,MAAMnlE,MAGV4hE,EAAIwD,sBAAwB,SAASzgD,EAAOkgD,GAC1C7pE,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIqqB,EAAOkgD,GACpC,IAAIvgD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAUuyD,gBAAgBzqB,MAAM,GAChE,MAAM8qB,EAAiB,GAIvB,OAHA/gD,EAAWlqB,QAAQsqB,IACb2gD,EAAevhE,SAAS4gB,EAAU/sB,OAAO0tE,EAAehvE,KAAKquB,EAAU/sB,QAEtE0tE,GAGTzD,EAAI0D,mBAAqB,SAAS3gD,EAAOkgD,GACvC,MAAM7xD,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACzDxR,EAAYqH,oBACZrf,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIqqB,EAAMmgD,aAAa9xD,EAAY+xD,aAAcF,EAAUC,aAAa9xD,EAAY+xD,cAC7G,IAAIzgD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAU8R,iBAAkBvR,EAAY2O,UAAU,GAClF,MAAM4jD,EAAiBvyD,EAAY+xD,YAAYS,SAC/C,IAAI,IAAI3vE,EAAE,EAAGA,EAAEyuB,EAAWvuB,OAAO,EAAGF,IAClCyuB,EAAWzuB,GAAG8uB,MAAMmgD,aAAaS,GAEnC,OAAOjhD,GAGTs9C,EAAI6D,sBAAwB,SAAS9gD,EAAOkgD,GAC1C,MAAM7xD,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACzDxR,EAAYqH,oBACZrf,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIqqB,EAAMmgD,aAAa9xD,EAAY+xD,aAAcF,GAC1E,IAAIvgD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAU8R,iBAAkBvR,EAAY2O,UAAU,GAClF,MAAM4jD,EAAiBvyD,EAAY+xD,YAAYS,SAC/C,IAAI,IAAI3vE,EAAE,EAAGA,EAAEyuB,EAAWvuB,OAAO,EAAGF,IAClCyuB,EAAWzuB,GAAG8uB,MAAMmgD,aAAaS,GAEnC,OAAOjhD,GAGTs9C,EAAI8D,iBAAmB,WACrB,IAAI5oE,EAAO6oE,EACPC,EAAe,IACfC,EAAkB,IAClBC,EAAkB,GAEtB,SAASngD,EAAKogD,QACCp1D,IAAV7T,IACDA,EAAQipE,GAGPJ,IAAsBI,IACvBH,IAA+BC,EAAgBC,GAAiB,IAChE9qE,OAAMC,MAAMwuB,GAAGvY,aAAaiG,SAAS7c,IAAIU,OAAMC,MAAMwuB,GAAGvY,aAAaiG,SAAS9c,EAAGurE,EAAc5qE,OAAMC,MAAMwuB,GAAGvY,aAAaiG,SAAS+E,GACpIlhB,OAAMC,MAAMwuB,GAAG3W,WAAWmR,UAEzB+hD,SAAW,KACZL,EAAoBI,EACpBC,SAAkB,EAClB/sE,OAAO+lB,sBAAsB2G,IAEzB3qB,OAAMC,MAAMwuB,GAAGw8C,aACjBjrE,OAAMC,MAAMwuB,GAAGxV,SAAU,GAjB/BjZ,OAAMC,MAAMwuB,GAAGxV,SAAU,EAqBzBhb,OAAO+lB,sBAAsB2G,IAG/Bi8C,EAAIvzD,aAAe,WACjB,IAAI8J,EAAS,IAAI7G,QACbrX,EAAO,IAAIqX,QACX40D,EAAS,IAAI50D,QACjB,IAAI60D,EAAUnrE,OAAMC,MAAMwuB,GAAGvY,aAAayS,KACtCyiD,EAAcD,EAClB,IAAIE,GAAc,IAAIC,QAAOC,cAAevrE,OAAMC,MAAMwuB,GAAGxX,aAU3D,IAAInV,EAAO6oE,EATX3qE,OAAMC,MAAMwuB,GAAGxV,SAAU,EACzBha,EAAOosE,EAAYG,QAAQvsE,GAC3BisE,EAASG,EAAYI,UAAWP,GAChCjmE,QAAQvD,IAAI,SAASzC,EAAKI,EAAE,UAAUJ,EAAKkY,GACxClY,EAAKI,GAAKJ,EAAKkY,EAChBnX,OAAMC,MAAMwuB,GAAG7W,iBAAmB3Y,EAAKI,EAEvCW,OAAMC,MAAMwuB,GAAG7W,iBAAmB3Y,EAAKkY,EAKzCnX,OAAMC,MAAMwuB,GAAGxX,YAAYy0D,iBAAkBvuD,GAC7C,IAAIwuD,EAAgBT,EAAO7rE,GAAK,GAAmC,GAAhCW,OAAMC,MAAMwuB,GAAG7W,kBAC9Cg0D,EAAgBV,EAAO/zD,GAAK,GAAmC,GAAhCnX,OAAMC,MAAMwuB,GAAG7W,kBAC9Ci0D,EAAgBX,EAAOhqD,GAAK,GAAmC,GAAhClhB,OAAMC,MAAMwuB,GAAG7W,kBAE9Ck0D,EAAgBZ,EAAO7rE,EACvB0sE,EAAgBb,EAAO/zD,EACvB60D,EAAgBd,EAAOhqD,EAEvB+qD,EAAgBjsE,OAAMC,MAAMwuB,GAAGxY,OAAOkG,SAAS9c,EAC/C6sE,EAAgBlsE,OAAMC,MAAMwuB,GAAGxY,OAAOkG,SAAS+E,EAC/CirD,EAAgBnsE,OAAMC,MAAMwuB,GAAGxY,OAAOkG,SAAShF,EAE/Ci1D,EAAgBpsE,OAAMC,MAAMwuB,GAAG5W,WAAWsF,OAAO9d,EACjDgtE,EAAgBrsE,OAAMC,MAAMwuB,GAAG5W,WAAWsF,OAAOhG,EACjDm1D,EAAgBtsE,OAAMC,MAAMwuB,GAAG5W,WAAWsF,OAAO+D,EAEjD8pD,EAAU,EAEVuB,EAAoBN,EACpBO,EAAoBN,EACpBO,EAAoBN,EACpBO,EAAoBN,EACpBO,EAAoBN,EACpBO,EAAoBN,EAExB,SAAS3hD,EAAKogD,QACCp1D,IAAV7T,IACDA,EAAQipE,GAGPJ,IAAsBI,IACvBwB,IAAyCN,EAAcN,GAAe,GACtEa,IAAyCN,EAAcL,GAAe,GACtEY,IAAyCN,EAAcP,GAAe,GACtEc,IAAyCN,EAAcN,GAAe,GACtEa,IAAyCN,EAAcN,GAAe,GACtEa,IAAyCN,EAAcN,GAAe,GACtEZ,IAA6BD,EAAQ,GAAG,GACxCnrE,OAAMC,MAAMwuB,GAAGxY,OAAOkG,SAAS7c,IAAIitE,EAAmBE,EAAmBD,GACzExsE,OAAMC,MAAMwuB,GAAG5W,WAAWsF,OAAO7d,IAAIotE,EAAmBE,EAAmBD,GAC3E3sE,OAAMC,MAAMwuB,GAAGvY,aAAayS,KAAOyiD,EACnCprE,OAAMC,MAAMwuB,GAAGvY,aAAaiG,SAAS7c,IAAI,EAAG,IAAK,GACjDU,OAAMC,MAAMwuB,GAAGvY,aAAa+E,OAASjb,OAAMC,MAAMwuB,GAAG5Y,MAAM7V,OAAMC,MAAMwuB,GAAG3Y,OACzE9V,OAAMC,MAAMwuB,GAAGvY,aAAagF,yBAC5Blb,OAAMC,MAAMwuB,GAAG3W,WAAWqF,OAAO7d,IAAI,EAAG,EAAG,GAC3CU,OAAMC,MAAMwuB,GAAG3W,WAAWmR,UAIzB+hD,GAAW,IACZL,EAAoBI,EACpBC,GAAkB,EAClB/sE,OAAO+lB,sBAAsB2G,IAEzB3qB,OAAMC,MAAMwuB,GAAGw8C,aACjBjrE,OAAMC,MAAMwuB,GAAGxV,SAAU,GAI/Bhb,OAAO+lB,sBAAsB2G,GAE7B1lB,QAAQvD,IAAI,mBAGdklE,EAAIiG,2BAA6BtoE,eAAeuoE,GAC9C7nE,QAAQvD,IAAI,gBACZuD,QAAQvD,IAAIorE,GACZ9sE,OAAMC,MAAM4uB,GAAGhD,qBAAuB,GACtC7rB,OAAMC,MAAMwuB,GAAGxW,MAAM0O,SAASvnB,QAAQvB,IACpB,iBAAbA,EAAOlB,MAAuBqD,OAAMC,MAAMwuB,GAAGxW,MAAM7G,OAAOvT,KAE/D,IAAI,IAAIhD,EAAE,EAAGA,EAAEiyE,EAAa/xE,OAAQF,IAClC,IACE,IAAIkyE,EAAOD,EAAajyE,GACxBoK,QAAQvD,IAAI,QACZuD,QAAQvD,IAAIqrE,GACZ,MAAMC,EAAUD,EAAK/jC,QAAQ,KAAM,2BAC7BqZ,QAAoB7I,OAAK0C,uBAAuB8wB,GAChDC,EAAahwD,OAAWC,kBAAkBmlC,EAAY6qB,YAAa7qB,EAAY8qB,cAC/EhxD,EAAW,IAAI7F,SAAUtW,OAAMC,MAAMwuB,GAAGzX,oBAAoB3X,EAAE4tE,EAAW5tE,EAAG,EAAGW,OAAMC,MAAMwuB,GAAGzX,oBAAoBkK,EAAE+rD,EAAW91D,GACrI,IAAIi2D,GAAU,EACX/qB,EAAY9hD,IAAI,IAAI,KAAI6sE,GAAQ,GACnCptE,OAAMC,MAAM4uB,GAAGhD,qBAAqBzsB,QAAQghC,IACvCA,EAAM7/B,KAAKusE,EAAajyE,KAAIuyE,GAAQ,KAEzCnoE,QAAQvD,IAAIorE,EAAajyE,GAAG,aAAauyE,GACzC,IAAI/0B,EAAe,GAChBr4C,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIgsE,EAAajyE,IAAK2C,OAAGuJ,KAAK,QAAS,MAAM,KAAIsxC,EAAer4C,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIgsE,EAAajyE,IAAK2C,OAAGuJ,KAAK,QAAS,MAAM,GAAGlJ,OAAOT,OAC7LgwE,GAASptE,OAAMC,MAAM4uB,GAAGhD,qBAAqBxwB,KAAK,CAAEsB,KAAM07C,EAAc93C,IAAKusE,EAAajyE,GAAIqyE,YAAa7qB,EAAY6qB,YAAaC,aAAc9qB,EAAY8qB,aAAchxD,SAAUA,EAAUuL,QAAS7sB,EAAGwyE,SAAUhrB,EAAYgrB,SAAUC,mBAAoBjrB,EAAYirB,qBAC5QF,GAASxG,EAAI2G,wBAAwBl1B,EAAcl8B,EAAU,GAAI2wD,EAAajyE,IACjF,MAAMmK,GACNC,QAAQvD,IAAI,UAAUsD,GAG1BC,QAAQvD,IAAI,iBACZuD,QAAQvD,IAAI1B,OAAMC,MAAM4uB,GAAGhD,uBAG7B+6C,EAAI2G,wBAA0BhpE,eAAemL,EAAO8e,EAAUg/C,EAAUC,GACtE,MAAM1yC,EAAO+kB,SAASC,cAAe,OACrChlB,EAAKhT,UAAU5c,IAAI,uBACnB4vB,EAAKx6B,IAAMktE,EAEX,MAAMC,EAAS5tB,SAASC,cAAe,OACvC2tB,EAAO3lD,UAAU5c,IAAI,kBACrB4vB,EAAKjf,YAAY4xD,GAEjB,MAAMC,EAAS7tB,SAASC,cAAe,OACvC4tB,EAAOvuB,aAAa,QAAS,kBAC7BsuB,EAAO5xD,YAAY6xD,GAEnB,MAAMC,EAAe9tB,SAASC,cAAe,UAC7C6tB,EAAa7lD,UAAU5c,IAAI,iBAC3ByiE,EAAaC,YAAc,IAC3BD,EAAa7lD,UAAU5c,IAAI,UAC3B4vB,EAAKjf,YAAY8xD,GAEjB,MAAME,EAAUjuE,EAAQ,QAClBkuE,EAAajuB,SAASC,cAAe,OAC3CguB,EAAW3uB,aAAa,QAAS,mDACjC2uB,EAAW3uB,aAAa,MAAO0uB,GAC/BH,EAAO7xD,YAAYiyD,GAEnB,MAAMC,EAAKluB,SAASC,cAAe,MACnCiuB,EAAGjmD,UAAU5c,IAAI,UACjB6iE,EAAG5uB,aAAa,QAAS,qCACzB4uB,EAAGH,YAAcn+D,EACjBi+D,EAAO7xD,YAAYkyD,GAInB,MAAMC,EAAiBnuB,SAASC,cAAe,OAC/CkuB,EAAelmD,UAAU5c,IAAI,UAC7B8iE,EAAelmD,UAAU5c,IAAI,WAC7BuiE,EAAO5xD,YAAYmyD,GAEnB,MAAMC,EAAmBpuB,SAASC,cAAe,QACjDmuB,EAAiBnmD,UAAU5c,IAAI,WAC/B+iE,EAAiBL,YAAcL,EAC/BS,EAAenyD,YAAYoyD,GAE3B,MAAMC,EAAeruB,SAASC,cAAe,UAC7CouB,EAAapmD,UAAU5c,IAAI,kBAC3BgjE,EAAapmD,UAAU5c,IAAI,UAC3BgjE,EAAaN,YAAc,aAC3BI,EAAenyD,YAAYqyD,GAE3B,MAAMC,EAAgBtuB,SAASC,cAAe,UAC9CquB,EAAcrmD,UAAU5c,IAAI,kBAC5BijE,EAAcrmD,UAAU5c,IAAI,UAC5BijE,EAAcP,YAAc,UAC5BI,EAAenyD,YAAYsyD,GAE3B,MAAMC,EAAavuB,SAASC,cAAe,UAC3CsuB,EAAWtmD,UAAU5c,IAAI,kBACzBkjE,EAAWtmD,UAAU5c,IAAI,UACzBkjE,EAAWR,YAAc,OACzBI,EAAenyD,YAAYuyD,GAE3BtzC,EAAK5S,aAAe,KAClB6lD,EAAGjmD,UAAU3W,OAAO,UACpB68D,EAAelmD,UAAU3W,OAAO,UAChCg9D,EAAcrmD,UAAU3W,OAAO,UAC/B+8D,EAAapmD,UAAU3W,OAAO,UAC9Bi9D,EAAWtmD,UAAU3W,OAAO,WAE9B2pB,EAAK1S,aAAe,KAClB2lD,EAAGjmD,UAAU5c,IAAI,UACjB8iE,EAAelmD,UAAU5c,IAAI,UAC7BijE,EAAcrmD,UAAU5c,IAAI,UAC5BgjE,EAAapmD,UAAU5c,IAAI,UAC3BkjE,EAAWtmD,UAAU5c,IAAI,WAG3BijE,EAAcE,QAAU,KACtBrpE,QAAQvD,IAAI,mBACZ1B,OAAMC,MAAM4uB,GAAGjD,kBAAoB6hD,GAGrCU,EAAaG,QAAU,KAClB5+D,EAAM5G,SAAS,SAChB9I,OAAMC,MAAMquB,SAAW,CAAC,KAAQ,WAAY,MAAS,CAAC,OAAU,WAAY,SAAYtuB,OAAMC,MAAMuuB,YAEnG9e,EAAM5G,SAAS,SAChB9I,OAAMC,MAAMquB,SAAW,CAAC,KAAQ,WAAY,MAAS,CAAC,OAAU,WAAY,SAAY,OAI5F+/C,EAAWC,QAAU,KACnBtuE,OAAMC,MAAMwuB,GAAGxX,YAAcjX,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAClEo9C,EAAIvzD,gBAGN,MAAMK,EAAc,IAAI66D,OAAaxzC,GACrCrnB,EAAYyI,SAASgF,KAAKqN,GAC1B9a,EAAY/W,KAAO,gBACnBqD,OAAMC,MAAMwuB,GAAGxW,MAAM9M,IAAIuI,IAgC3BkzD,EAAI4H,kBAAoBjqE,eAAeiqB,EAAUg/C,EAAUiB,EAAS,eAClE,MAAM1zC,EAAO+kB,SAASC,cAAe,OACrChlB,EAAKhT,UAAU5c,IAAI,uBAEnB,MAAMuiE,EAAS5tB,SAASC,cAAe,OACvC2tB,EAAO3lD,UAAU5c,IAAI,yBACrB4vB,EAAKjf,YAAY4xD,GAEjB,MAAMQ,EAAmBpuB,SAASC,cAAe,QACjDmuB,EAAiBnmD,UAAU5c,IAAI,WAC/B+iE,EAAiBL,YAAcL,EAC/BE,EAAO5xD,YAAYoyD,GAEnB,MAAMx6D,EAAc,IAAI66D,OAAaxzC,GACrCrnB,EAAYyI,SAASgF,KAAKqN,GAC1B9a,EAAY/W,KAAO8xE,EACnBzuE,OAAMC,MAAMwuB,GAAGxW,MAAM9M,IAAIuI,IAG3BkzD,EAAI8H,oBAAsBnqE,eAAeiqB,EAAUg/C,EAAU99D,EAAO++D,EAAS,eAC3E,MAAM1zC,EAAO+kB,SAASC,cAAe,OACrChlB,EAAKhT,UAAU5c,IAAI,uBAEnB,MAAMuiE,EAAS5tB,SAASC,cAAe,OACvC2tB,EAAO3lD,UAAU5c,IAAI,yBACrB4vB,EAAKjf,YAAY4xD,GAEjB,MAAMiB,EAAa7uB,SAASC,cAAe,OAC3C4uB,EAAW5mD,UAAU5c,IAAI,aACzBwjE,EAAWd,YAAcn+D,EACzBg+D,EAAO5xD,YAAY6yD,GAEnB,MAAMT,EAAmBpuB,SAASC,cAAe,OACjDmuB,EAAiBnmD,UAAU5c,IAAI,WAC/B+iE,EAAiBL,YAAcL,EAC/BE,EAAO5xD,YAAYoyD,GAEnB,MAAMx6D,EAAc,IAAI66D,OAAaxzC,GACrCrnB,EAAYyI,SAASgF,KAAKqN,GAC1B9a,EAAY/W,KAAO8xE,EACnBzuE,OAAMC,MAAMwuB,GAAGxW,MAAM9M,IAAIuI,IAG3BkzD,EAAIgI,gBAAkBrqE,iBACpB,IAAK,IAAI1J,EAAImF,OAAMC,MAAMwuB,GAAGxW,MAAM0O,SAAS5rB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAClE,MAAMgD,EAASmC,OAAMC,MAAMwuB,GAAGxW,MAAM0O,SAAS9rB,GAC7B,eAAbgD,EAAOlB,MAAqBqD,OAAMC,MAAMwuB,GAAGxW,MAAM7G,OAAOvT,KAI/D+oE,EAAIiI,iBAAmBtqE,iBACrB,IAAK,IAAI1J,EAAImF,OAAMC,MAAMwuB,GAAGxW,MAAM0O,SAAS5rB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAClE,MAAMgD,EAASmC,OAAMC,MAAMwuB,GAAGxW,MAAM0O,SAAS9rB,GAC7B,aAAbgD,EAAOlB,MAAmBqD,OAAMC,MAAMwuB,GAAGxW,MAAM7G,OAAOvT,KAI7D+oE,EAAIkI,gBAAkB,SAASpG,GAC7B,MAAMhmB,EAAYkkB,EAAImI,2BAA2BrG,GAC3C/lB,EAAY,IAAIC,QACtB,IAAI/nD,EAAI,EACR,MAAO6nD,EAAU3nD,OAAS,EAAG,CAC3B,MAAM8nD,EAAUH,EAAUzmD,OAAO,EAAG,GAC9BoD,EAAKwjD,EAAQ,GACb1rC,EAAK0rC,EAAQ,GACX,GAALhoD,GACD8nD,EAAUG,OAAQzjD,EAAG8X,GACrBtc,GAAM,GAEN8nD,EAAUI,OAAQ1jD,EAAG8X,GAKzB,OAFAwrC,EAAUK,WAAY,EAEfL,GAGTikB,EAAImI,2BAA6B,SAASrG,GACxC,IAAIG,EAAMH,EAAS,GACnBG,EAAMA,EAAI7/B,QAAQ,oBAAqB,IACvC6/B,EAAMA,EAAIj7B,WAAW,IAAK,IAC1B,MAAMk7B,EAAWD,EAAIx8D,MAAM,KAC3Bq8D,EAAWI,EAAS,GACpB,IAAIpmB,EAAY,GAOhB,MANe,IAAZgmB,IACDA,EAAWA,EAAS1/B,QAAQ,qBAAsB,IAClD0/B,EAAWA,EAAS1/B,QAAQ,IAAK,IACjC0/B,EAAWA,EAAS1/B,QAAQ,IAAK,IACjC0Z,EAAYgmB,EAASr8D,MAAM,MAEtBq2C,GAGTkkB,EAAIoI,oBAAsB,SAAStG,GACjC,IAAIG,EAAMH,EAAS,GACnBG,EAAMA,EAAI7/B,QAAQ,oBAAqB,IACvC6/B,EAAMA,EAAIj7B,WAAW,IAAK,IAC1B,MAAMk7B,EAAWD,EAAIx8D,MAAM,KACrB4iE,EAAY,CAAC,EAAKzX,OAAOsR,EAAS,IAAK,EAAKtR,OAAOsR,EAAS,KAClE,OAAOmG,GAGTrI,EAAIsI,yBAA2B,SAASxG,GAClCA,GAAoB,GACxB,IAAIhmB,EAAY,GAQhB,MAPe,IAAZgmB,IACDA,EAAWA,EAAS96B,WAAW,IAAK,IACpC86B,EAAWA,EAAS96B,WAAW,IAAK,IACpC86B,EAAWA,EAAS96B,WAAW,IAAK,IAEpC8U,EAAYgmB,EAASr8D,MAAM,MAEtBq2C,GAGTkkB,EAAIuI,0BAA4B,SAASzG,GACvC,IAAIG,EAAMH,EAAS,GACnBG,EAAMA,EAAI7/B,QAAQ,oBAAqB,IACvC6/B,EAAMA,EAAIj7B,WAAW,IAAK,IAC1B,MAAMk7B,EAAWD,EAAIx8D,MAAM,KAC3B,IAAI08D,EAAY,iBAAiBD,EAAS,GAAG,UAAUA,EAAS,GAAG,SAASA,EAAS,GAAG,SAASA,EAAS,GAAG,cAAcA,EAAS,GAApH,6DAAmMA,EAAS,GAAG,KAC/N,OAAOvpE,KAAK2pC,MAAM6/B,IAGpBnC,EAAIwI,4BAA8B,SAAS1G,GACzC,MAAMhmB,EAAYkkB,EAAImI,2BAA2BrG,GAEjD,IAAI2G,EAAU,GACd,GAAG3sB,EAAU3nD,QAAU,GACrB,MAAO2nD,EAAU3nD,OAAS,EAAG,CAC3B,MAAM8nD,EAAUH,EAAUzmD,OAAO,EAAG,GAC9BoD,EAAKwjD,EAAQ,GACb1rC,EAAK0rC,EAAQ,GACnB,IAAIrqB,EAAM,CAACn5B,EAAG8X,GACdk4D,EAAQh0E,KAAKm9B,GAOjB,IAFA,IAAI82C,EAAWzvE,EAAQ,QACnB4kB,EAAQ,GACJ5pB,EAAE,EAAGA,EAAEw0E,EAAQt0E,OAAO,IAAKF,EACjC4pB,EAAMppB,KAAK,IAAIi0E,EAASC,MAAMF,EAAQx0E,GAAG,GAAIw0E,EAAQx0E,GAAG,KAG1D,IAAI20E,EAAY,EAChB,IACE,IAAIC,EAAQ,IAAIH,EAASI,aAAajrD,GAClCkrD,EAAYF,EAAMG,cAGtB,IAAQ/0E,EAAE,EAAGA,EAAE80E,EAAUE,WAAW90E,SAAUF,EAAG,CAC/C,IAAIqsD,EAAK,IAAI5wC,QAAQq5D,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAGzwE,EAAGswE,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAG34D,EAAG,GAC7FgwC,EAAK,IAAI7wC,QAAQq5D,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAGzwE,EAAGswE,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAG34D,EAAG,GAC7FiwC,EAAK,IAAI9wC,QAAQq5D,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAGzwE,EAAGswE,EAAUE,WAAWh1E,GAAGi1E,QAAQ,GAAG34D,EAAG,GACjG,MAAM44D,EAAkB,IAAIC,QAAS9oB,EAAIC,EAAIC,GAC7CooB,GAAsBO,EAAgBE,WAExC,MAAOjrE,IAGT,OAFAC,QAAQvD,IAAI,eAAe8tE,GAEpBA,GAGT5I,EAAIsJ,kBAAoB,SAASC,EAAKxwD,EAAM,SAAUm+B,EAAgBhoC,EAAO,EAAGs6D,EAAW,cAAev6D,EAAM,KAC5G,MAAMmC,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACnD6mD,EAAsBrwE,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAC9D6mD,GAAuBvyB,GACxB9lC,EAAY5G,OAAOi/D,GAErB,MAAM1vD,EAAW,IAAI2vD,QAAoB,CACrCC,aAAa,EACb5H,QAAS,GACThpD,MAAOA,EACP6wD,WAAW,IAETvsD,EAAW,IAAIC,OAAYrO,EAAOC,EAAQD,GAChDoO,EAASwsD,UAAUN,EAAI9wE,EAAE8wE,EAAIh5D,EAAGrB,EAAO,EAAG,GAAIq6D,EAAIjvD,GAClD,MAAMwvD,EAAS,IAAItsD,QAAKH,EAAUtD,GAGlC,OAFA+vD,EAAO/zE,KAAOyzE,EACdp4D,EAAY7M,IAAIulE,GACTA,GAGX9J,EAAI+J,oBAAsB,SAASzQ,EAAQ0Q,EAAKC,EAAI,IAAU91E,EAAS,GACrE,MAAMid,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAEzDonD,EAAI1mD,YACJ,MAAM4mD,EAAc,IAAIC,OAAaH,EAAK1Q,EAAQnlE,EAAQ81E,GACvD74D,EACDA,EAAY7M,IAAK2lE,GAEjB9wE,OAAMC,MAAMwuB,GAAGxW,MAAM9M,IAAK2lE,IAM9BlK,EAAIoK,WAAazsE,eAAe27D,EAAQ0Q,EAAKK,GAC3C,MAAMj5D,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAMzD,GALAonD,EAAI1mD,YACAlqB,OAAMC,MAAMwuB,GAAGhU,kBACjBza,OAAMC,MAAMwuB,GAAGjU,iBAAmBosD,EAAIwB,SAAS,eAAgB,SAAS,EAAO,IAAK6I,GACpFjxE,OAAMC,MAAMwuB,GAAGhU,iBAAkB,GAEhCza,OAAMC,MAAMwuB,GAAGjU,WAAW,CAC3B,IAAIrI,EAAQnS,OAAMC,MAAMwuB,GAAGjU,WAAW0L,QACtCjhB,QAAQvD,IAAIyQ,GACZA,EAAM++D,WAAW,IACjB/+D,EAAMg/D,WAAW,IACjBh/D,EAAM++D,WAAWhR,EAAO7gE,GACxB8S,EAAMi/D,WAAWlR,EAAOh/C,GACxB,MAAMmwD,EAAQzK,EAAI0K,kBAAkB,IAAIh7D,QAAQ,EAAE,EAAE,GAAI,IAAIA,QAAQ,EAAE,EAAE,GAAIs6D,IAAQA,EAAI1vD,EAAI,GAAK,EAAI,GACrGjc,QAAQvD,IAAI,UAAU2vE,GACtBl/D,EAAMo/D,aAAa,IAAIj7D,QAAQ,EAAE,EAAE,GAAI+6D,GACvCl/D,EAAMo/D,aAAa,IAAIj7D,QAAQ,EAAE,EAAE,IAAK5J,KAAKmU,GAAG,GAChD1O,EAAMg/D,WAAWjR,EAAO/oD,GAExBa,EAAY7M,IAAKgH,QAEjBjB,YAAW,WACT,IAAIiB,EAAQnS,OAAMC,MAAMwuB,GAAGjU,WAAW0L,QACtC/T,EAAM++D,WAAWhR,EAAO7gE,EAAE,IAC1B8S,EAAMg/D,WAAWjR,EAAOh/C,EAAE,IAC1B,IAAIswD,EAAsB,IAAIl7D,QAAQ,EAAE,EAAE,GAAG+T,QAAQumD,GACrDz+D,EAAMo/D,aAAa,IAAIj7D,QAAQ,EAAE,EAAE,GAAIk7D,GAEvCx5D,EAAY7M,IAAKgH,KAChB,MAKPy0D,EAAI6K,gBAAkB,SAASC,GAC7B,IAAIljD,EAAW,IAAIlY,QAAQ,EAAE,EAAE,GAC/B,GAAGtW,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI4wE,GAAUl0E,OAAGyR,IAAI,cAAe,MAAM,GAAG,CACjF,IAAI0iE,EAAS3xE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI4wE,GAAUl0E,OAAGyR,IAAI,cAAe,MAAM,GAAGpR,OAAOT,MACpGoxB,EAAWhuB,OAAEqlE,qBAAqB8L,GAEpC,OAAOnjD,GAGTo4C,EAAIgL,qBAAuB,SAASpY,GAClC,IAAIqY,EAAa7xE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAI04D,GAAUh8D,OAAG8lE,MAAM,cAAe,MAAM,GAChG,OAAGuO,EACMA,EAAWh0E,OAAOT,OAEzB6H,QAAQvD,IAAI,6CACL,KAIXklE,EAAIkL,QAAU,SAASC,EAAUd,EAAG,GAClC,GAAGc,EAASh3E,QAAQ,EAAG,OACvB,IAAIi3E,EAAmB,GACnBC,OAAUt8D,EACVu8D,EAAmB,IAAI57D,QAAQ,EAAI,EAAI,GAC3Cy7D,EAAS3yE,QAAQ+yE,IACf,IAAIC,GAAS,EAKb,GAJGpyE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAIqxE,GAAU30E,OAAG0J,IAAI,QAAS1J,OAAGyJ,IAAI,WAAW,KACpFirE,EAAmBtL,EAAI6K,gBAAgBU,GACvCC,GAAS,QAECz8D,GAATs8D,IAAqBG,EACtB,GAAGpyE,OAAMC,MAAM0uB,GAAGzjB,SAASgwB,MAAMt7B,EAAKkB,IAAImxE,GAAUz0E,OAAG0J,IAAI,QAAS1J,OAAGyJ,IAAI,WAAW,GAAG,CAEvF,MAAMyhE,EAAW9B,EAAIgL,qBAAqBO,GACpCE,EAAsBzL,EAAI0L,uBAAuB5J,EAAUwJ,GAAkB,GACnFF,EAAiB32E,KAAK,CAAC,IAAO82E,EAAS,IAAOD,EAAkB,IAAOG,QAClE,CAEL,MAAME,EAAY,GAClB,IAAIC,EAAiB,IAAIl8D,QAAQ,EAAE,EAAE,GACrCi8D,EAAUl3E,KAAKurE,EAAIgL,qBAAqBK,IACxCM,EAAUl3E,KAAKurE,EAAIgL,qBAAqBO,IACxC,IAAIM,EAAgB7L,EAAI8L,uBAAuBH,EAAW,IAAK,GAC5DE,EAAc,KAAID,EAAiBC,EAAc,GAAG9oD,OACvD,MAAM0oD,EAAsBzL,EAAI0L,uBAAuBC,EAAU,GAAIC,GAAgB,GACrFR,EAAiB32E,KAAK,CAAC,IAAO,GAAI,IAAOm3E,EAAgB,IAAOH,IAGpEJ,EAAUE,IAGZ,IAAIQ,OAAah9D,EACjBq8D,EAAmBA,EAAiBY,QAAO,SAASC,EAAUpvE,GAE1D,IAAIqvE,EAAYrvE,EAAK0sE,IAAIjqD,QAAQ/a,IAAI1H,EAAKsvE,IAAI7sD,QAAQ8sD,UAItD,GAHAH,EAASx3E,KAAK,CAAC,IAAO,GAAI,IAAOy3E,EAAU5sD,QAAS,IAAOziB,EAAKsvE,MAChEF,EAASx3E,KAAKoI,QAECkS,GAAZg9D,EAAsB,CACvB,IAAIM,EAAW,IAAI38D,QAAQ,EAAI,EAAI,GAAK48D,WAAWJ,EAAU5sD,QAASysD,EAAWxC,IAAIjqD,QAAQ/a,IAAIwnE,EAAWI,IAAI7sD,UAAUgE,YAC1HjlB,QAAQvD,IAAI,cACZuD,QAAQvD,IAAIuxE,GACZ,IAAIE,EAAmB1vE,EAAK0sE,IAAIjqD,QAAQqB,WAAWorD,EAAWxC,KAC1DiD,EAAWT,EAAWxC,IAAIjqD,QAAQ/a,IAAIwnE,EAAWI,IAAI7sD,SACzD2sD,EAASx3E,KAAK,CAAC,IAAO,GAAI,IAAO+3E,EAAU,IAAOH,IAClD,IAAI,IAAIr1E,EAAE,EAAKA,EAAE8O,KAAK2mE,IAAIF,EAAiB,GAAMv1E,GAAI,EAAI,CAEvD,IAAI01E,EAAUF,EAASltD,QAAQqtD,gBAAgBN,EAAS/sD,QAAStoB,GACjEi1E,EAASx3E,KAAK,CAAC,IAAO,GAAI,IAAOi4E,EAAS,IAAOL,KAIrD,OADAN,EAAalvE,EACNovE,IACR,IACH7yE,OAAMC,MAAMwuB,GAAGhU,iBAAkB,EACjCu3D,EAAiB5yE,QAAS2zE,IAExBnM,EAAIoK,WAAW+B,EAAI5C,IAAIjqD,QAAQwE,eAAeumD,GAAK8B,EAAIA,IAAK9B,MAIhErK,EAAI4M,WAAa,SAASxvB,EAAQ6sB,EAAI,UACpC,MAAM74D,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACnD7I,EAAW,IAAIygC,OAAmB,CAAEzhC,MAAOkxD,IAC3C4C,EAAc,GACpBzvB,EAAO5kD,QAAQuqB,IACb8pD,EAAYp4E,KAAK,IAAIib,QAAQqT,EAAMtqB,EAAG,EAAGsqB,EAAMzI,MAEjD,MAAM+C,GAAW,IAAI66B,QAAiBmF,cAAewvB,GACrDz7D,EAAY7M,IAAI,IAAIg5C,OAAMlgC,EAAUtD,KAGtCimD,EAAI8M,0BAA4B,SAAShxB,EAAWixB,GAClD,MAAMF,EAAc,GACpB,MAAO/wB,EAAU3nD,OAAS,EAAG,CAE3B,MAAM8nD,EAAUH,EAAUzmD,OAAO,EAAG,GACpCw3E,EAAYp4E,KAAK,IAAIib,QAAQslD,WAAW/Y,EAAQ,IAAI8wB,EAAQt0E,EAAGs0E,EAAQzyD,EAAG2hC,EAAQ,GAAG8wB,EAAQx8D,IAE/F,OAAOs8D,GAGT7M,EAAIgN,YAAc,SAASC,EAAaF,EAASh0D,EAAM,SAAUhjB,EAAK,IACpE,MAAMqb,EAAchY,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eACnD7I,EAAW,IAAI2vD,QAAoB,CAAC3wD,MAAOA,EAAO4wD,aAAY,EAAM5H,QAAQ,KAClF,IAAIhmB,EAAY,IAAIC,QAChBF,EAAY,GAChBmxB,EAAYz0E,QAAQuqB,IAAU+4B,EAAUrnD,KAAKsuB,KAE7C,IAAI9uB,EAAI,EACR,MAAO6nD,EAAU3nD,OAAS,EAAG,CAC3B,MAAM8nD,EAAUH,EAAUzmD,OAAO,EAAG,GAC9BoD,EAAKwjD,EAAQ,GACb1rC,EAAK0rC,EAAQ,GACX,GAALhoD,GACD8nD,EAAUG,QAAUzjD,EAAEs0E,EAAQx8D,GAAMA,EAAEw8D,EAAQt0E,EAAIs0E,EAAQzyD,GAC1DrmB,GAAM,GAEN8nD,EAAUI,QAAU1jD,EAAEs0E,EAAQx8D,GAAMA,EAAEw8D,EAAQt0E,EAAIs0E,EAAQzyD,GAG9DyhC,EAAUK,WAAY,EACtB,MAAM8wB,EAAkB,CAAEC,YAAa,IAAIC,OAAY,IAAI19D,QAAS,EAAGq9D,EAAQzyD,EAAG,GAAK,IAAI5K,QAAS,EAAGq9D,EAAQzyD,EAAE,GAAK,KAChH+yD,EAAe,IAAIC,OAAiBvxB,EAAWmxB,GAC/CK,EAAW,IAAI/vD,QAAM6vD,EAActzD,GACzCwzD,EAASx3E,KAAOA,EAChBqb,EAAY7M,IAAIgpE,IAGlBvN,EAAI0K,kBAAoB,SAAU8C,EAAMC,EAAUC,GAChD,IAAIjD,EAAQ,EAEb,OAAgB,IAAX+C,EAAK/0E,GAAsB,IAAX+0E,EAAKj9D,GAAsB,IAAXi9D,EAAKlzD,GAC1B,IAAXozD,EAAKj1E,GAAsB,IAAXi1E,EAAKn9D,GAAsB,IAAXm9D,EAAKpzD,EADiB,GAG3DkzD,EAAKjuD,IAAKkuD,GACVC,EAAKnuD,IAAKkuD,GAEVhD,EAAQ+C,EAAK/pD,QAASiqD,GAEtBF,EAAKjpE,IAAKkpE,GACVC,EAAKnpE,IAAKkpE,GAEHhD,IAGRzK,EAAI0L,uBAAyB,SAASiC,EAAUC,EAAc5c,GAAO,GACnE3yD,QAAQvD,IAAI,iCACTk2D,GAAQgP,EAAIsJ,kBAAkBsE,EAAc,OAC/C,MAAMC,EAAW7N,EAAIuI,0BAA0BoF,GACzCG,EAAgB,CAAEr1E,EAAGo1E,EAASp1E,EAAG8X,EAAGs9D,EAASt9D,EAAG+J,EAAGuzD,EAASvzD,EAAGpL,OAAQ2+D,EAAS3+D,OAAQ8yD,QAAS6L,EAAS7L,SAC1GlmB,EAAYkkB,EAAIsI,yBAAyBuF,EAAS/L,UACrD9Q,GAAQgP,EAAIgN,YAAYlxB,EAAWgyB,EAAe,SAAU,QAE/D,MAAMjB,EAAc7M,EAAI8M,0BAA0BhxB,EAAWgyB,GACvDC,EAAc,GACpB,IAAIC,EAAW,EAEf,IAAI,IAAIC,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAChCjd,GAAQgP,EAAIsJ,kBAAkBuD,EAAYoB,IAC1CA,GAAIpB,EAAY14E,OAAO,EACxB45E,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,EAAG,GAAIpB,EAAYoB,KAE7DF,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,GAAKpB,EAAY,KAI/D,IAAI,IAAIoB,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAAK,CACxC,IAAI3tB,EAAKytB,EAAYlB,EAAY14E,OAAO,GAAGmrB,QACpC,GAAJ2uD,IAAO3tB,EAAKytB,EAAYE,EAAG,GAAG3uD,SACjC,MAAMihC,EAAKwtB,EAAYE,GAAI3uD,QAGrBmrD,EAAQzK,EAAI0K,kBAAkBpqB,EAAI,IAAI5wC,QAAQ,EAAE,EAAE,GAAI6wC,GAE5DytB,GAAoBvD,EAEnBzZ,GAAQ3yD,QAAQvD,IAAI,cAAckzE,GACrC,IAAII,GAAkB,EACnBJ,GAAU,GACRhd,GAAQ3yD,QAAQvD,IAAI,uDACvBszE,GAAkB,IAEfpd,GAAQ3yD,QAAQvD,IAAI,sDACvBszE,GAAkB,GAGpB,IAAIC,EAAkB,IAAI3+D,QAAS,GAAI,EAAG,GACtC4+D,EAAkB,IAAI5+D,QAAS,EAAG,EAAG,GACrC6+D,EAAgB,IAAI7+D,QAAS,EAAG,EAAG,GACnC8+D,EAAkB,IAAI9+D,QAAS,EAAG,EAAG,GACrC++D,EAAkB,IACtB,IAAI,IAAIR,EAAG,EAAGA,EAAGpB,EAAY14E,OAAO,EAAG85E,IAAK,CAC1C,MAAMnwD,GAAa,IAAI4wD,SAAa9vD,iBAAkByvD,EAAiBvoE,KAAKmU,GAAK,GAE1E,GAAJg0D,IACDK,EAAkBP,EAAYlB,EAAY14E,OAAO,GAAGmrB,QAAQqvD,gBAAgB7wD,GACzEkzC,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKK,EAAiB,WAEvE,IAAIM,OAAiB7/D,EACjB8/D,OAAS9/D,EAEVk/D,GAAIF,EAAY55E,OAAO,GACxBy6E,EAAiBb,EAAY,GAAGzuD,QAAQqvD,gBAAgB7wD,GACxD+wD,EAAS,IAAIC,OAAMjC,EAAYoB,GAAI3uD,QAASutD,EAAY,GAAGvtD,WAE3DsvD,EAAiBb,EAAYE,GAAI3uD,QAAQqvD,gBAAgB7wD,GACzD+wD,EAAS,IAAIC,OAAMjC,EAAYoB,GAAI3uD,QAASutD,EAAYoB,EAAG,GAAG3uD,UAEhE,IAAIyvD,EAAiB,IAAIr/D,QAAS,EAAG,EAAG,GACxCm/D,EAAOG,oBAAoBpB,EAAatuD,SAAS,EAAOyvD,GACxD,MAAMjvD,EAAWivD,EAAepuD,WAAWitD,EAAatuD,SACxDjhB,QAAQvD,IAAI,aAAaglB,GACtBA,EAAS2uD,IACVA,EAAkB3uD,EAClByuD,EAAgBK,EAAetvD,QAC5BuvD,GAAQA,EAAOhK,UAAU2J,IAE3Bxd,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKW,EAAgB,OACpEN,EAAgBhrD,YAChBsrD,EAAetrD,YACfgrD,EAAkBM,EAEpB,MAAMK,EAAkBV,EAAcnC,SAGtC,OAFApM,EAAI+J,oBAAoB6D,EAAcqB,EAAiB,GAEhDA,GAGTjP,EAAIkP,sBAAwB,SAASC,EAAWne,GAAS,GACvD3yD,QAAQvD,IAAI,yBACZ,MAAMs0E,EAAiB,GACjBC,EAAa,GACbvB,EAAgB,GACtB,IAAI,IAAI32E,EAAE,EAAGA,EAAEg4E,EAAUh7E,OAAQgD,IAAI,CACnC,MAAM02E,EAAW7N,EAAIuI,0BAA0B4G,EAAUh4E,IACzD22E,EAAcr5E,KAAK,CAAEgE,EAAGo1E,EAASp1E,EAAG8X,EAAGs9D,EAASt9D,EAAG+J,EAAGuzD,EAASvzD,EAAGpL,OAAQ2+D,EAAS3+D,OAAQ8yD,QAAS6L,EAAS7L,UAC7GqN,EAAW56E,KAAKurE,EAAIsI,yBAAyBuF,EAAS/L,WAExD,IAAI,IAAI3qE,EAAE,EAAGA,EAAEk4E,EAAWl7E,OAAQgD,IAC1B,GAAHA,GAAM6oE,EAAIgN,YAAYqC,EAAWl4E,GAAI22E,EAAc32E,GAAI,SAAUA,EAAE,IAExE,IAAI,IAAIa,EAAE,GAAIA,EAAE,GAAIA,IAAI,CACtB,MAAM60E,EAAc7M,EAAI8M,0BAA0BuC,EAAWr3E,GAAI81E,EAAc91E,IAEzE+1E,EAAc,GACpB,IAAIuB,EAAa,IAAI5/D,QAAQ,EAAE,EAAE,GAC7Bs+D,EAAW,EAEf,IAAI,IAAIC,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAChCjd,GAAQgP,EAAIsJ,kBAAkBuD,EAAYoB,IAC1CA,GAAIpB,EAAY14E,OAAO,EACxB45E,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,EAAG,GAAIpB,EAAYoB,KAG3DF,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,GAAKpB,EAAY,KAKjE,IAAI,IAAIoB,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAAK,CACxC,MAAM3tB,EAAKytB,EAAYlB,EAAY14E,OAAO,GAAGmrB,QACtC,GAAJ2uD,IAAO3tB,EAAKytB,EAAYE,EAAG,GAAG3uD,SACjC,MAAMihC,EAAKwtB,EAAYE,GAAI3uD,QAC3BjhB,QAAQvD,IAAIwlD,GACZjiD,QAAQvD,IAAIylD,GACZ,MAAMkqB,EAAQzK,EAAI0K,kBAAkBpqB,EAAI,IAAI5wC,QAAQ,EAAE,EAAE,GAAI6wC,GAC5DliD,QAAQvD,IAAI,UAAU2vE,GACtBuD,GAAoBvD,EAEtBpsE,QAAQvD,IAAI,cAAckzE,GAC1B,IAAII,GAAkB,EACnBJ,GAAU,GACX3vE,QAAQvD,IAAI,uDACZszE,GAAkB,IAElB/vE,QAAQvD,IAAI,sDACZszE,GAAkB,GAGpB,IAAIC,EAAkB,IAAI3+D,QAAS,GAAI,EAAG,GACtC4+D,EAAkB,IAAI5+D,QAAS,EAAG,EAAG,GACrC6/D,EAAiB,IAAI7/D,QAAS,EAAG,EAAG,GACxC,MAAM8/D,EAAiB,GACvB,IAAI,IAAIvB,EAAG,EAAGA,EAAGpB,EAAY14E,OAAO,EAAG85E,IAAK,CAE1C,MAAMnwD,GAAa,IAAI4wD,SAAa9vD,iBAAkByvD,EAAiBvoE,KAAKmU,GAAK,GAG1E,GAAJg0D,GACDK,EAAkBP,EAAYlB,EAAY14E,OAAO,GAAGmrB,QAAQqvD,gBAAgB7wD,GAC5EyxD,EAAiB1C,EAAYA,EAAY14E,OAAO,GAAGmrB,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAYlB,EAAY14E,OAAO,KACpG68D,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKK,EAAiB,WAElEL,GAAIpB,EAAY14E,OAAO,GAAK68D,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKK,EAAiB,UAGnG,IAAIoB,OAAgB3gE,EAChB6/D,OAAiB7/D,EAElBk/D,GAAIF,EAAY55E,OAAO,GACxBu7E,EAAgB7C,EAAY,GAAGvtD,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAY,KAChEa,EAAiBb,EAAY,GAAGzuD,QAAQqvD,gBAAgB7wD,KAKxD4xD,EAAgB7C,EAAYoB,GAAI3uD,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAYE,KACjEW,EAAiBb,EAAYE,GAAI3uD,QAAQqvD,gBAAgB7wD,IAG3DwwD,EAAgBhrD,YAChBsrD,EAAetrD,YACZ0tC,GAAQgP,EAAI+J,oBAAoB2F,EAAed,EAAgB,MAAW,GAAIX,EAAI,IAClFjd,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKW,EAAgB,KAEpE,IAAIe,EAAY,GACZC,EAAW,GAGfx2E,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIg3E,EAAed,GAC5C,IAAIlsD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAU8R,iBAAkBvpB,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAAe7C,UAAW,GAoB3H,GAnBG2C,EAAW,IACTA,EAAW,GAAG5C,UAAY,KAAK8vD,EAAWltD,EAAW,GAAG5C,UAI7D1mB,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAI62E,EAAgBjB,GAC7C5rD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAU8R,iBAAkBvpB,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAAe7C,UAAW,GACpH2C,EAAW,IACTA,EAAW,GAAG5C,UAAY,KAAK6vD,EAAYjtD,EAAW,GAAG5C,UAI9DzhB,QAAQvD,IAAI,eAAe60E,GAC3BtxE,QAAQvD,IAAI,cAAc80E,GAEvB5e,GAAQgP,EAAI4M,WAAW,CAACC,EAAYoB,GAAKpB,EAAYoB,GAAI3uD,QAAQ/a,IAAIwpE,EAAYE,MACjFjd,GAAQgP,EAAI4M,WAAW,CAACC,EAAYA,EAAY14E,OAAO,GAAI04E,EAAYA,EAAY14E,OAAO,GAAGmrB,QAAQ/a,IAAIwpE,EAAYA,EAAY55E,OAAO,MAGvIy7E,GAAY,GAAMA,GAAY,EAAE,CAElC,MAAMC,EAAKvB,EAAgBhvD,QACrBwwD,EAAKlB,EAAetvD,QAC1B,IAAIywD,EAAyB/P,EAAI0K,kBAAkBmF,EAAI,IAAIngE,QAAQ,EAAE,EAAE,GAAIogE,GACvEE,EAAcH,EAAGp3E,EAAIq3E,EAAGx1D,EAAIu1D,EAAGv1D,EAAIw1D,EAAGr3E,EACvCu3E,EAAc,IAAGD,EAAyB,EAAGjqE,KAAKmU,GAAM81D,GAC3D1xE,QAAQvD,IAAI,6BAA6Bi1E,GAGzC,MAAME,EAAKN,EAAU,EACfO,EAAKN,EAAS,EAEpB,IAAIO,EAAKD,EACLE,GAAMH,GACPF,GAA0BjqE,KAAKmU,GAAG,EAAG,MAAU81D,GAA0BjqE,KAAKmU,GAAG,EAAG,QACrFk2D,GAAMD,EAAID,EAAGnqE,KAAKsU,IAAI21D,IAA4BjqE,KAAKuU,IAAI01D,KAIzDI,GAAM,IAAOA,IAAO,MAAKA,EAAK,GASlC,MAAM5vB,EAAK+tB,EAAgBhvD,QAAQ+wD,eAAgB,IAAI3gE,QAAS2+D,EAAgB51E,GAAI41E,EAAgB99D,EAAG89D,EAAgB/zD,GAAKxU,KAAKmU,GAAK,GAC/H,GAAJg0D,IACDqB,EAAa/uB,EAAGjhC,QAAQgE,aAI1B,MAAMg9B,EAAKgvB,EACX,IAAIgB,EAAmBtQ,EAAI0K,kBAAkBpqB,EAAI,IAAI5wC,QAAQ,EAAE,EAAE,GAAI6wC,GAErEyvB,EAAc1vB,EAAG7nD,EAAI8nD,EAAGjmC,EAAIgmC,EAAGhmC,EAAIimC,EAAG9nD,EACnCu3E,EAAc,IAAGM,EAAmB,EAAGxqE,KAAKmU,GAAMq2D,GAClDtf,GAAQ3yD,QAAQvD,IAAI,mBAAmBw1E,GAG1C,IAAIC,EAAgB,IAAI7gE,QAAQygE,EAAI,GAAIC,GAGxC,GAFAG,EAAcF,eAAe,IAAI3gE,QAAQ,EAAE,EAAE,GAAI4gE,GACjDC,EAAcF,eAAe,IAAI3gE,QAAQ,EAAE,EAAE,GAAIswD,EAAI0K,kBAAkB,IAAIh7D,QAAQ,EAAE,EAAE,GAAI,IAAIA,QAAQ,EAAE,EAAE,GAAI4/D,IACpF,GAAxBS,EAA0B,CACxB/e,GAAQ3yD,QAAQvD,IAAI,oBACvB,IAAI01E,EAAkB1qE,KAAKiP,IAAI46D,EAAWC,GAAU,EACjD5e,GAAQ3yD,QAAQvD,IAAI,WAAW01E,GAClCD,EAAgBjC,EAAgBhrD,YAAYQ,eAAe0sD,GAG1Dxf,GAAQ3yD,QAAQvD,IAAI,iBAAiBq1E,EAAG,MAAMC,GAE9CpQ,EAAI0K,kBAAkBkE,EAAgB,IAAIl/D,QAAQ,EAAE,EAAE,GAAI6gE,GAAe,GAAGA,EAAcnE,SAE7F,MAAMqE,EAAW5D,EAAYoB,GAAI3uD,QAAQ/a,IAAIgsE,GAC7Cf,EAAe/6E,KAAKg8E,EAASn2D,GAC7Bk1D,EAAe/6E,KAAKg8E,EAASh4E,GAC7B+2E,EAAe/6E,KAAK,GACjBu8D,GAAQgP,EAAI+J,oBAAoB8C,EAAYoB,GAAKsC,EAAe,QAEnElyE,QAAQvD,IAAI,mDACZklE,EAAI+J,oBAAoB2F,EAAed,EAAgB,MAAU,GACjE5O,EAAI0Q,iBAAiB5C,EAAc91E,GAAGS,GAAIq1E,EAAc91E,GAAGuY,GAC3DlS,QAAQvD,IAAI4nB,GACZ8sD,EAAe/6E,KAAKo4E,EAAYoB,GAAI3zD,GACpCk1D,EAAe/6E,KAAKo4E,EAAYoB,GAAIx1E,GACpC+2E,EAAe/6E,KAAK,GAEtB65E,EAAkBM,EAClBW,EAAiBG,EAGnB1P,EAAIgN,YAAYwC,EAAgB,CAAC/2E,EAAG,EAAG8X,EAAG,EAAG+J,EAAG,GAAK,QAAU,IAC/D80D,EAAe36E,KAAK+6E,KAIxBxP,EAAI8L,uBAAyB,SAASqD,EAAWwB,EAAa3f,GAAS,GAClEA,GAAQ3yD,QAAQvD,IAAI,+BACvB,MAAMu0E,EAAa,GACbvB,EAAgB,GAChB8C,EAAY,GACZC,EAAqB,GAC3B,IAAI,IAAI15E,EAAE,EAAGA,EAAEg4E,EAAUh7E,OAAQgD,IAAI,CACnC,MAAM02E,EAAW7N,EAAIuI,0BAA0B4G,EAAUh4E,IACzD22E,EAAcr5E,KAAK,CAAEgE,EAAGo1E,EAASp1E,EAAG8X,EAAGs9D,EAASt9D,EAAG+J,EAAGuzD,EAASvzD,EAAGpL,OAAQ2+D,EAAS3+D,OAAQ8yD,QAAS6L,EAAS7L,UAC7GqN,EAAW56E,KAAKurE,EAAIsI,yBAAyBuF,EAAS/L,WACtD8O,EAAUn8E,KAAKo5E,EAASiD,UAE1B,IAAI,IAAI35E,EAAE,EAAGA,EAAEk4E,EAAWl7E,OAAQgD,IAC1B,GAAHA,GAAM6oE,EAAIgN,YAAYqC,EAAWl4E,GAAI22E,EAAc32E,GAAI,SAAUy5E,EAAUz5E,IAEhF,IAAI,IAAIa,EAAE,EAAGA,EAAEq3E,EAAWl7E,OAAQ6D,IAAI,CACpC,MAAM60E,EAAc7M,EAAI8M,0BAA0BuC,EAAWr3E,GAAI81E,EAAc91E,IAEzE+1E,EAAc,GACH,IAAIr+D,QAAQ,EAAE,EAAE,GAAjC,IACIs+D,EAAW,EAEf,IAAI,IAAIC,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAEhCA,GAAIpB,EAAY14E,OAAO,EACxB45E,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,EAAG,GAAIpB,EAAYoB,KAE7DF,EAAYt5E,KAAKy5E,OAAEC,WAAWtB,EAAYoB,GAAKpB,EAAY,KAI/D,IAAI,IAAIoB,EAAG,EAAGA,EAAGpB,EAAY14E,OAAQ85E,IAAK,CACxC,IAAI3tB,EAAKytB,EAAYlB,EAAY14E,OAAO,GAAGmrB,QACpC,GAAJ2uD,IAAO3tB,EAAKytB,EAAYE,EAAG,GAAG3uD,SACjC,MAAMihC,EAAKwtB,EAAYE,GAAI3uD,QAGrBmrD,EAAQzK,EAAI0K,kBAAkBpqB,EAAI,IAAI5wC,QAAQ,EAAE,EAAE,GAAI6wC,GAE5DytB,GAAoBvD,EAGtB,IAAI2D,GAAkB,EAGpBA,IAFCJ,GAAU,GAQb,IAAIK,EAAkB,IAAI3+D,QAAS,GAAI,EAAG,GACtC4+D,EAAkB,IAAI5+D,QAAS,EAAG,EAAG,GACrC6/D,EAAiB,IAAI7/D,QAAS,EAAG,EAAG,GACxC,IAAI,IAAIu+D,EAAG,EAAGA,EAAGpB,EAAY14E,OAAO,EAAG85E,IAAK,CAE1C,MAAMnwD,GAAa,IAAI4wD,SAAa9vD,iBAAkByvD,EAAiBvoE,KAAKmU,GAAK,GAG1E,GAAJg0D,IACDK,EAAkBP,EAAYlB,EAAY14E,OAAO,GAAGmrB,QAAQqvD,gBAAgB7wD,GAC5EyxD,EAAiB1C,EAAYA,EAAY14E,OAAO,GAAGmrB,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAYlB,EAAY14E,OAAO,MAKzG,IAAIu7E,OAAgB3gE,EAChB6/D,OAAiB7/D,EAElBk/D,GAAIF,EAAY55E,OAAO,GACxBu7E,EAAgB7C,EAAY,GAAGvtD,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAY,KAChEa,EAAiBb,EAAY,GAAGzuD,QAAQqvD,gBAAgB7wD,KAExD4xD,EAAgB7C,EAAYoB,GAAI3uD,QAAQ/a,IAAI2pE,OAAEuB,OAAO1B,EAAYE,KACjEW,EAAiBb,EAAYE,GAAI3uD,QAAQqvD,gBAAgB7wD,IAE3DwwD,EAAgBhrD,YAChBsrD,EAAetrD,YAGf,IAAIssD,EAAW,GACf,MAAM7S,EAAQ6T,EAAU54E,GACxB,IAAIglE,EAAQ,GAGZ5jE,OAAMC,MAAMwuB,GAAGhX,UAAUnY,IAAIg3E,EAAed,GAC5C,IAAIlsD,EAAatpB,OAAMC,MAAMwuB,GAAGhX,UAAU8R,iBAAkBvpB,OAAMC,MAAMwuB,GAAGxW,MAAMuR,gBAAgB,eAAe7C,UAAW,GAC3H,IAAI,IAAI9rB,EAAE,EAAEA,EAAE,EAAEA,IACXyuB,EAAWzuB,IACTyuB,EAAWzuB,GAAG6rB,UAAY,MAC3B8vD,EAAWltD,EAAWzuB,GAAG6rB,SACzBk9C,EAAQt6C,EAAWzuB,GAAGgD,OAAOlB,MAOnC,GAAI65E,IAAa,KAASA,GAAY,KAAQh2E,OAAEm3E,aAAahU,IAAQnjE,OAAEm3E,aAAa/T,GAAO,CACzF,MAAMgU,EAAajD,EAAYE,GAAI3uD,QAAQnrB,SACxC68E,GAAYL,IACV3f,GAAQ3yD,QAAQvD,IAAI,UAAUiiE,EAAM,gBAAgBC,GACvD6T,EAAmBp8E,KAAK,CAAC,MAASmF,OAAEm3E,aAAahU,GAAQ,MAASnjE,OAAEm3E,aAAa/T,GAAQ,MAAS0S,EAAe,OAAUsB,KAG/H1C,EAAkBM,EAClBW,EAAiBG,GAIrB,OADG1e,GAAQ3yD,QAAQvD,IAAI+1E,GAChBA,GAGT7Q,EAAI0Q,iBAAmB,SAASj4E,EAAG8X,GACjCnX,OAAMC,MAAMwuB,GAAGvY,aAAaiG,SAAS7c,IAAID,EAAG,GAAI8X,GAChDnX,OAAMC,MAAMwuB,GAAG3W,WAAWqF,OAAO7d,IAAID,EAAG,EAAG8X,GAC3CnX,OAAMC,MAAMwuB,GAAG3W,WAAWmR,SAC1BjpB,OAAMC,MAAMwuB,GAAGrW,aAAc,GAG/BwuD,EAAIiR,mBAAqB,SAASt4B,GAChC,IAAIu4B,GAAQ,IAAQC,EAAO,IAAQC,GAAQ,IAAQC,EAAO,IAAQC,EAAO,IACzE,IAAI,IAAI/gE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAO,EAAGoc,GAAI,EACtE2gE,EAAOprE,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI2gE,GAC5DC,EAAOrrE,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI4gE,GAE9D,IAAI,IAAI5gE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EACpE6gE,EAAOtrE,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI6gE,GAC5DC,EAAOvrE,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI8gE,GAE9D,IAAI,IAAI9gE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EACpE+gE,EAAOxrE,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI+gE,GAE9D,OAAO,IAAI5hE,SAASwhE,EAAKC,GAAM,EAAGG,GAAOF,EAAKC,GAAM,IAGtDrR,EAAIuR,sBAAwB,SAAS54B,GACnC,IAAIu4B,GAAQ,IAAQC,EAAO,IAAQC,GAAQ,IAAQC,EAAO,IAAQG,GAAQ,IAC1E,IAAI,IAAIjhE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAO,EAAGoc,GAAI,EACtE2gE,EAAOprE,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI2gE,GAC5DC,EAAOrrE,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI4gE,GAE9D,IAAI,IAAI5gE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EACpE6gE,EAAOtrE,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI6gE,GAC5DC,EAAOvrE,KAAKiP,IAAI4jC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAI8gE,GAE9D,IAAI,IAAI9gE,EAAI,EAAGA,GAAGooC,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAM9D,OAAQoc,GAAI,EACpEihE,EAAO1rE,KAAK0Z,IAAIm5B,EAAKt7B,SAAS+5B,WAAW7hC,SAAStd,MAAMsY,GAAIihE,GAE9D,OAAO,IAAI9hE,SAASwhE,EAAKC,GAAM,EAAGK,GAAOJ,EAAKC,GAAM,IAGvCrR,U,kCC92Cf,W,kCCAA,W,4CCAAtqE,EAAOD,QAAU,IAA0B,8B,4CCA3CC,EAAOD,QAAU,IAA0B,0B,yDCA3C,W,yDCAA,W,kCCAA,oDAEA,MAAMyD,EAAID,EAAQ,QAIZD,EAAOC,EAAQ,QAKfqL,EAAWlL,OAAMC,MAAM0uB,GAAGzjB,SAE1BrI,EAAI,CAEVA,UAAc,SAAUtC,KAKxBsC,MAAU,SAAUY,GACnB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,GACCmH,OAAG2wE,QAAQ93E,GAAM,CACjB,IAAI+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM,KAAM35B,OAAIg3E,QAAS34E,EAAKkB,IAAIP,KAChE,GAAI+3E,GAAMA,EAAGv9E,OAAS,EAAG,CACxB,IAAIqI,EAAQ,GAEZ,OADAk1E,EAAGl5E,QAAQyD,GAAKO,EAAM/H,KAAKwH,EAAE0R,QAAQnX,QAC9BgG,KAMXP,OAAW,SAAUY,GACpB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,GACCmH,OAAG2wE,QAAQ93E,GAAM,CACjB,IAAI+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAMgB,OAAIg3E,UACvD,GAAID,GAAMA,EAAGv9E,OAAS,EAAG,CACxB,IAAIsI,EAAS,GAEb,OADAi1E,EAAGl5E,QAAQyD,GAAKQ,EAAOhI,KAAKwH,EAAEhF,OAAOT,QAC9BiG,KAMXR,WAAe,SAAUY,EAAMtD,GAC9B,IAAII,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EACH,GAAImH,OAAG2wE,QAAQ93E,GAAM,CACpB,IAAI47B,EAAOjxB,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAIiC,WAC5D,GAAI24B,EACH,OAAOA,EAAKt+B,OAAOT,UAEd,CACN,IAAIuF,EACA45B,EAAW,KACXp8B,IACHwC,EAAOnC,OAAEC,OAAON,GACZwC,IACH45B,EAAW38B,EAAKkB,IAAI6B,KAGnB,IAAI61E,EAAMh4E,OAAE26B,OAAOjwB,EAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAMgB,OAAIwB,UAAWw5B,IACnE,GAAIi8C,EAAIz9E,OAAS,EAAG,CACnB,IAAI09E,EAAO,GAQX,GANAD,EAAIp5E,SAAQ,SAAUyD,GACrB,IAAI5C,EAAQyH,OAAGw3B,YAAYr8B,GACvB5C,GACHw4E,EAAKp9E,KAAK4E,MAGRnB,MAAMC,QAAQ05E,IAASA,EAAK19E,OAAS,EACxC,OAAO09E,KAOZ51E,MAAU,SAAUY,GACnB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACf7H,EAAS,GACb,GAAI2E,EAAK,CACR,IAAI8M,EAAOzN,EAAKkB,IAAIP,GACpB,GAAImH,OAAG2wE,QAAQ93E,GAAM,CACjB,IAAI+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM,KAAM35B,OAAImC,QAAS2J,IACnDirE,EAAGv9E,OAAS,GACfu9E,EAAGl5E,QAAQyD,GAAKjH,EAAOP,KAAKwH,EAAE0R,QAAQnX,aAEjC,GAAIsK,OAAG01B,QAAQ78B,GAAM,CACpB+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM7tB,EAAM9L,OAAImC,UAC1C40E,EAAGv9E,OAAS,GACfu9E,EAAGl5E,QAAQyD,GAAKjH,EAAOP,KAAKwH,EAAEhF,OAAOT,aAEhC,GAAIsK,OAAG62B,SAASh+B,GAAM,CAC5B,IAAIy+B,EAASn8B,EAAE5C,MAAMM,GACjBy+B,GACHA,EAAO5/B,SAAQ,SAAUjD,GACxB,IAAI2N,EAAMjH,EAAEI,MAAM9G,GACd2N,EAAI/O,OAAS,IACba,EAAS4E,OAAE26B,OAAOv/B,EAAOgI,OAAOkG,SAMrC,OAAOtJ,OAAE26B,OAAOv/B,IAGpBiH,OAAW,SAAUY,GACpB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACf7H,EAAS,GACb,GAAI2E,EAAK,CACR,IAAI8M,EAAOzN,EAAKkB,IAAIP,GACpB,GAAImH,OAAG2wE,QAAQ93E,GAAM,CACjB,IAAI+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM7tB,EAAM9L,OAAIoC,WAC1C20E,EAAGv9E,OAAS,GACfu9E,EAAGl5E,QAAQyD,GAAKjH,EAAOP,KAAKwH,EAAEhF,OAAOT,aAEhC,GAAIsK,OAAG01B,QAAQ78B,GAAM,CACpB+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM,KAAM35B,OAAIoC,SAAU0J,IACpDirE,EAAGv9E,OAAS,GACfu9E,EAAGl5E,QAAQyD,GAAKjH,EAAOP,KAAKwH,EAAE0R,QAAQnX,aAEjC,GAAIsK,OAAG62B,SAASh+B,GAAM,CAC5B,IAAIy+B,EAASn8B,EAAE5C,MAAMM,GACjBy+B,GACHA,EAAO5/B,SAAQ,SAAUjD,GACxB,IAAI2N,EAAMjH,EAAEM,OAAOhH,GACf2N,EAAI/O,OAAS,IACba,EAAS4E,OAAE26B,OAAOv/B,EAAOgI,OAAOkG,SAMxC,OAAOlO,GAGRiH,MAAU,SAASY,GACf,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACZ,IAAIuB,EAAQoJ,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAIkB,SAC7D,GAAIX,EAAM,CACN,IAAIy7B,EAAQ71B,OAAG42B,iBAAiBx8B,EAAMjE,QACtC,GAAI0/B,EAAM,CACb,IAAIv8B,EAAMu8B,EAAMO,SAChB,GAAI98B,EACA,OAAOA,EAAI5D,UAOjByF,IAAQ,SAASY,GACb,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACZ,IAAIm4E,EAAMxtE,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAIo3E,OAC3D,GAAID,EAAI,CACJ,IAAIn7C,EAAQ71B,OAAG42B,iBAAiBo6C,EAAI76E,QACpC,GAAI0/B,EAAM,CACb,IAAIv8B,EAAMu8B,EAAMO,SAChB,GAAI98B,EACA,OAAOA,EAAI5D,UAOjByF,WAAe,SAASY,GACpB,OAAOZ,EAAEK,IAAIO,IAASZ,EAAEf,MAAM2B,IAGlCZ,QAAY,SAAUY,GACrB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EACH,QAAI2K,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAIkB,UAQvDI,MAAU,SAAUY,GACnB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,QAAIlD,KACC2K,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAIo3E,QAUvD91E,OAAW,SAAUY,GACpB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EACH,SAAIsC,EAAE+1E,QAAQr4E,IAASsC,EAAEg2E,MAAMt4E,KAQjCsC,OAAW,SAAUY,GACpB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACR,IAAI2J,EAAS,GACb,GAAI3J,EAAK,CACR,GAAImH,OAAG2wE,QAAQ93E,GACd2J,EAASrH,EAAEqH,OAAOrH,EAAEQ,OAAO9C,QACrB,CACN,IAAI8M,EAAOzN,EAAKkB,IAAIP,GACb+3E,EAAK93E,OAAE26B,OAAOjwB,EAASgwB,MAAM7tB,EAAM9L,OAAIu3E,WAC9C,GAAIR,GAAMA,EAAGv9E,OAAS,EACrBu9E,EAAGl5E,QAAQyD,GAAKqH,EAAO7O,KAAKwH,EAAEhF,OAAOT,YAC/B,CACN,IAAI27E,EAAKl2E,EAAEI,MAAM1C,GACjB,GAAmB,UAAfT,EAAE8B,KAAKm3E,IAAmBA,EAAGh+E,OAAS,EAAG,CACxCmP,EAAS,GACb6uE,EAAG35E,QAAQyD,GAAKqH,EAAO7O,KAAKwH,EAAEqH,OAAOrH,OAIxC,MAAuB,UAAnB/C,EAAE8B,KAAKsI,IAAuBA,EAAOnP,OAAS,EAC1CmP,EAEA,QAMXrH,OAAW,SAAUY,GACpB,GAAI3E,MAAMC,QAAQ0E,GAAO,CACxB,IAAI7H,EAAS,GACTo9E,EAAS,GAOV,OANHv1E,EAAKrE,SAAQ,SAAUvE,GACtBe,EAAOP,KAAKwH,EAAElB,OAAO9G,OAEtBe,EAAOwD,QAAQd,IACd06E,EAASA,EAAOp1E,OAAOtF,KAEdkC,OAAE26B,OAAO69C,GAEnB,IAAIz4E,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EACH,GAAImH,OAAG01B,QAAQ78B,GAAM,CACjB,IAAI04E,EAAQz4E,OAAE26B,OAAOjwB,EAASgwB,MAAM,KAAM19B,OAAGyJ,IAAI,YAAarH,EAAKkB,IAAIN,OAAEC,OAAOF,MAC/EioC,EAAO1oC,EAAEZ,IAAI+5E,GAAO,SAAU33E,GACjC,IAAIjB,EAAMiB,EAAGiT,QAAQnX,MACrB,IAAKsK,OAAGk2B,YAAYv9B,GACnB,OAAOA,KAGT,GAAImoC,EACH,OAAOhoC,OAAE26B,OAAOqN,QAEX,GAAI9gC,OAAG62B,SAASh+B,GACtB,OAAOA,GAMXsC,MAAU,SAAUY,GACnB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACR,GAAImH,OAAG01B,QAAQ78B,GACd,OAAOA,EACD,GAAImH,OAAGk2B,YAAYr9B,GAAM,CAC5B,IAAID,EAAQE,OAAE26B,OAAOjwB,EAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAMgB,OAAIU,cAC1D,OAAOzB,OAAE26B,OAAOr7B,EAAEZ,IAAIoB,GAAO,SAAU67B,GACtC,OAAOA,EAAKt+B,OAAOT,UAGbkD,EAAQE,OAAE26B,OAAOjwB,EAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAMgB,OAAIS,WAC1D,OAAOxB,OAAE26B,OAAOr7B,EAAEZ,IAAIoB,GAAO,SAAU67B,GACtC,OAAOA,EAAKt+B,OAAOT,YAMvByF,UAAc,SAAUY,GACvB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EACH,GAAImH,OAAG01B,QAAQ78B,GAAM,CACpB,IAAIg9B,EAAQ71B,OAAG22B,aAAa99B,GAC5B,GAAqB,kBAAVg9B,EACV,MAAO,CAACA,EAAMD,iBAET,IAAI51B,OAAGk2B,YAAYr9B,GACzB,MAAO,CAACA,GACF,GAAImH,OAAG62B,SAASh+B,GAAM,CAC5B,IAAIy+B,EAASn8B,EAAE5C,MAAMM,GACrB,GAAIy+B,EACH,OAAOl/B,EAAEZ,IAAI8/B,GAAQ,SAAU/+B,GAC9B,OAAO4C,EAAEjC,UAAUX,SAOxB4C,UAAc,SAAUY,GACvB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACR,GAAIzB,MAAMC,QAAQ0E,GAAO,CACxB,IAAI7H,EAAS,GAEb,OADA6H,EAAKrE,QAAQvE,GAAKe,EAAOP,KAAKwH,EAAE87B,UAAU9jC,KACnCe,EACD,GAAI8L,OAAG2wE,QAAQ93E,GAAM,CAC3B,IAAIyC,EAAMH,EAAED,WAAWrC,GACvB,GAAIyC,EACH,OAAOH,EAAEjH,OAAOoH,OAEX,CACN,IAAIu6B,EAAQ,GACRygB,EAAan7C,EAAEjC,UAAUL,GAE7B,GAAIy9C,IACHl+C,EAAEZ,IAAI8+C,GAAY,SAAUl7C,GAC3By6B,EAAMliC,KAAKqM,OAAG42B,iBAAiBx7B,OAG5By6B,GACH,OAAO/8B,OAAE26B,OAAOr7B,EAAEZ,IAAIq+B,GAAO,SAAU27C,GACtC,GAAqB,WAAjBp5E,EAAE8B,KAAKs3E,GACV,OAAOA,EAAKr7C,kBASnBh7B,OAAW,SAAUY,GACpB,GAAI3E,MAAMC,QAAQ0E,GAAO,CACxB,IAAI7H,EAAS,GAEb,OADA6H,EAAKrE,QAAQvE,GAAKe,EAAOP,KAAKqM,OAAGo2B,SAASjjC,KACnCe,EAEP,OAAO8L,OAAGo2B,SAASr6B,IAIrBZ,KAAS,SAAUY,GAClB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACL,IAAI4lC,EAAO3lC,OAAE26B,OAAOjwB,EAASgwB,MAAMt7B,EAAKkB,IAAIP,GAAM/C,OAAGyJ,IAAI,YAC5D,OAAIk/B,GAAQA,EAAKprC,OAAS,EAClB6gE,WAAWz1B,EAAK,GAAGtoC,OAAOT,OAE1B,IAGR,OAAO,KAITyF,WAAe,SAAUY,GACxB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAK,CACR,IAAI44E,EAAOjuE,EAAS8uB,qBAAqBp6B,EAAKkB,IAAIP,GAAMgB,OAAI63E,cAC5D,GAAID,EACH,OAAOA,EAAKt7E,OAAOT,QAKtByF,eAAmB,SAAUY,GACzB,IAAIlD,EAAMC,OAAEC,OAAOgD,GACnB,GAAIlD,EAAI,CACX,IAAI84E,EAAax2E,EAAEw2E,WAAW94E,GAC1ByC,EAAMH,EAAED,WAAWy2E,GACvB,GAAIr2E,EACA,OAAOA,IAKZH,aAAiB,SAAUY,GACvB,IAAIT,EAAMH,EAAEy2E,eAAe71E,GAC3B,GAAIT,EACP,OAAOH,EAAEjH,OAAOoH,IAIjBH,WAAe,SAAUY,GACrB,IAAIT,EAAMH,EAAEy2E,eAAe71E,GAC3B,GAAIT,EAAI,CACX,IAAIN,EAASG,EAAElB,OAAOqB,GACtB,GAAIlE,MAAMC,QAAQ2D,GACd,OAAOA,EAAO,MAKJG,U,kCC1Zf,gBAEA,MAAMiyE,EAAI,CAIVA,WAAe,SAAS5tB,EAAIC,GAE1B,MAAMC,EAAK,IAAI9wC,QAAQ,EAAE,EAAE,GAI3B,OAHA8wC,EAAG/nD,EAAI6nD,EAAG7nD,EAAE8nD,EAAG9nD,EACf+nD,EAAGjwC,EAAI+vC,EAAG/vC,EAAEgwC,EAAGhwC,EACfiwC,EAAGlmC,EAAIgmC,EAAGhmC,EAAEimC,EAAGjmC,EACRkmC,GAGT0tB,MAAU,SAAS5tB,EAAIC,GAErB,MAAMC,EAAK,IAAI9wC,QAAQ,EAAE,EAAE,GAI3B,OAHA8wC,EAAG/nD,EAAI6nD,EAAG7nD,EAAE8nD,EAAG9nD,EACf+nD,EAAGjwC,EAAI+vC,EAAG/vC,EAAEgwC,EAAGhwC,EACfiwC,EAAGlmC,EAAIgmC,EAAGhmC,EAAEimC,EAAGjmC,EACRkmC,GAGT0tB,WAAe,SAAS5tB,EAAIC,GAE1B,MAAMC,EAAK,IAAI9wC,QAAQ,EAAE,EAAE,GAI3B,OAHA8wC,EAAG/nD,EAAI6nD,EAAG7nD,EAAE8nD,EAAG9nD,EACf+nD,EAAGjwC,EAAI+vC,EAAG/vC,EAAEgwC,EAAGhwC,EACfiwC,EAAGlmC,EAAIgmC,EAAGhmC,EAAEimC,EAAGjmC,EACRkmC,GAGT0tB,OAAW,SAAS5tB,GAElB,MAAME,EAAK,IAAI9wC,QAAQ,EAAE,EAAE,GAI3B,OAHA8wC,EAAG/nD,EAAI6nD,EAAG7nD,EAAE,EACZ+nD,EAAGjwC,EAAI+vC,EAAG/vC,EAAE,EACZiwC,EAAGlmC,EAAIgmC,EAAGhmC,EAAE,EACLkmC,GAGT0tB,QAAY,SAAS5tB,EAAIC,GACvB,IAAIC,EAAK,CAAC/nD,EAAE,EAAE8X,EAAE,EAAE+J,EAAE,GAIpB,OAHAkmC,EAAG/nD,EAAK6nD,EAAG/vC,EAAEgwC,EAAGjmC,EAAIgmC,EAAGhmC,EAAEimC,EAAGhwC,EAC5BiwC,EAAGjwC,EAAK+vC,EAAGhmC,EAAEimC,EAAG9nD,EAAI6nD,EAAG7nD,EAAE8nD,EAAGjmC,EAC5BkmC,EAAGlmC,EAAKgmC,EAAG7nD,EAAE8nD,EAAGhwC,EAAI+vC,EAAG/vC,EAAEgwC,EAAG9nD,EACrB+nD,GAGT0tB,cAAkB,SAAS1uB,EAAIC,EAAIhnD,EAAG8X,EAAGmvC,GACvC,MAAMtlC,EAAMtU,KAAKsU,IAAIslC,GACfrlC,EAAMvU,KAAKuU,IAAIqlC,GACfC,EAAMvlC,GAAO3hB,EAAI+mD,GAAQnlC,GAAO9J,EAAIkvC,GAAOD,EAC3CI,EAAMxlC,GAAO7J,EAAIkvC,GAAQplC,GAAO5hB,EAAI+mD,GAAOC,EACjD,MAAO,CAACE,EAAIC,IAGdsuB,gBAAoB,SAASpuB,EAAMC,EAAMC,EAAIC,GAC3C,IAAIC,EAASJ,EAAQE,EACjBG,EAASJ,EAAQE,EACjBP,EAAU55C,KAAKs6C,MAAMD,EAAQD,GACjC,OAAOR,IAGMwuB,U,kCCjEf,kNAAMh1E,EAAID,EAAQ,QACZD,EAAOC,EAAQ,QAErB,IAAIrC,EAAKxC,OAAOyC,OAAO,MACnBk8B,EAAK3+B,OAAOyC,OAAO,MACnB87E,EAAKv+E,OAAOyC,OAAO,MAEnB8D,EAAMvG,OAAOyC,OAAO,MAExB,MAAMsC,EAAKF,EAAQ,QAEnB,IAAIqE,EAAUlJ,OAAOyC,OAAO,MACxBqG,EAAU9I,OAAOyC,OAAO,MAE5BD,EAAGuJ,KAAOnH,EAAK85B,UAAU,8BACzBC,EAAG5yB,KAAO,6BACVvJ,EAAG4L,MAAQxJ,EAAK85B,UAAU,oCAC1BC,EAAGvwB,MAAQ,kCACX5L,EAAGqQ,IAAMjO,EAAK85B,UAAU,0CACxBC,EAAG9rB,IAAM,yCACTrQ,EAAG0J,IAAMtH,EAAK85B,UAAU,+CACxBC,EAAGzyB,IAAM,8CACT1J,EAAG6N,KAAOzL,EAAK85B,UAAU,yCACzBC,EAAGtuB,KAAO,wCACV7N,EAAGorC,IAAMhpC,EAAK85B,UAAU,kCACxBC,EAAGiP,IAAM,gCACTprC,EAAGg8E,GAAK55E,EAAK85B,UAAU,oCACvBC,EAAG6/C,GAAK,mCACRh8E,EAAG6pC,QAAUznC,EAAK85B,UAAU,6BAC5BC,EAAG0N,QAAU,4BACb7pC,EAAGi8E,IAAM75E,EAAK85B,UAAU,4BACxBC,EAAG8/C,IAAM,0BACTj8E,EAAGk8E,IAAM95E,EAAK85B,UAAU,2DAExBl8B,EAAGm8E,QAAU/5E,EAAK85B,UAAU,+CAC5BC,EAAGggD,QAAU,6CACbn8E,EAAGo8E,IAAMh6E,EAAK85B,UAAU,yBACxBC,EAAGigD,IAAM,uBACTp8E,EAAG+9B,KAAO37B,EAAK85B,UAAU,iCACzBC,EAAG4B,KAAO,gCACV/9B,EAAG4N,IAAMxL,EAAK85B,UAAU,6BACxBC,EAAGvuB,IAAM,4BACT5N,EAAGq8E,KAAOj6E,EAAK85B,UAAU,qCACzBC,EAAGkgD,KAAO,oCACVr8E,EAAGs8E,MAAQl6E,EAAK85B,UAAU,8BAC1BC,EAAGmgD,MAAQ,4BACXt8E,EAAGmoC,MAAQ/lC,EAAK85B,UAAU,qCAC1BC,EAAGgM,MAAQ,mCACXnoC,EAAGu8E,GAAKn6E,EAAK85B,UAAU,+BACvBC,EAAGogD,GAAK,8BACRv8E,EAAGy8B,MAAQr6B,EAAK85B,UAAU,mCAC1BC,EAAGM,MAAQ,iCACXz8B,EAAGwpC,OAASpnC,EAAK85B,UAAU,sBAC3BC,EAAGqN,OAAS,qBACZxpC,EAAGoR,MAAQhP,EAAK85B,UAAU,qCAC1BC,EAAG/qB,MAAQ,mCACXpR,EAAG+pC,IAAM3nC,EAAK85B,UAAU,mDACxBC,EAAG4N,IAAM,kDACT/pC,EAAGw8E,IAAMp6E,EAAK85B,UAAU,iDACxBC,EAAGqgD,IAAM,+CACTx8E,EAAGy8E,IAAMr6E,EAAK85B,UAAU,gCACxBC,EAAGsgD,IAAM,gCACTz8E,EAAG08E,KAAOt6E,EAAK85B,UAAU,0CACzBC,EAAGugD,KAAO,yCACV18E,EAAG28E,KAAOv6E,EAAK85B,UAAU,8BACzBC,EAAGwgD,KAAO,4BACV38E,EAAGyJ,IAAMrH,EAAK85B,UAAU,qCACxBC,EAAG1yB,IAAM,8BACTzJ,EAAGq2C,IAAMj0C,EAAK85B,UAAU,0DACxBC,EAAGka,IAAM,wDACTr2C,EAAGyR,IAAMrP,EAAK85B,UAAU,wCACxBC,EAAG1qB,IAAM,8CACTzR,EAAG2R,IAAMvP,EAAK85B,UAAU,kCACxBC,EAAGxqB,IAAM,gCACT3R,EAAG48E,IAAMx6E,EAAK85B,UAAU,2CACxBC,EAAGygD,IAAM,yCACT58E,EAAG68E,KAAOz6E,EAAK85B,UAAU,8BACzBC,EAAG0gD,KAAO,6BACV78E,EAAG88E,OAAS16E,EAAK85B,UAAU,4DAC3BC,EAAG2gD,OAAS,0DACZ98E,EAAG+8E,KAAO36E,EAAK85B,UAAU,wCACzBC,EAAG4gD,KAAO,sCACV/8E,EAAGg9E,GAAK56E,EAAK85B,UAAU,mEACvBC,EAAG6gD,GAAK,iEACRh9E,EAAGi9E,IAAM76E,EAAK85B,UAAU,4CACxBC,EAAG8gD,IAAM,0CACTj9E,EAAGq+B,KAAOj8B,EAAK85B,UAAU,gCACzBC,EAAGkC,KAAO,+BACVr+B,EAAGk9E,OAAS96E,EAAK85B,UAAU,sCAC3BC,EAAG+gD,OAAS,oCACZl9E,EAAGm9E,GAAK/6E,EAAK85B,UAAU,qCACvBC,EAAGghD,GAAK,mCACRn9E,EAAGqpC,MAAQjnC,EAAK85B,UAAU,uCAC1BC,EAAGkN,MAAQ,qCACXrpC,EAAGo9E,KAAOh7E,EAAK85B,UAAU,6CACzBC,EAAGihD,KAAO,2CACVp9E,EAAGq9E,KAAOj7E,EAAK85B,UAAU,6CACzBC,EAAGkhD,KAAO,4CACVr9E,EAAGs9E,KAAOl7E,EAAK85B,UAAU,oCACzBC,EAAGmhD,KAAO,kCACVt9E,EAAGu9E,IAAMn7E,EAAK85B,UAAU,+CACxBC,EAAGohD,IAAM,6CACTv9E,EAAGw9E,QAAUp7E,EAAK85B,UAAU,gCAC5BC,EAAGqhD,QAAU,+BACbx9E,EAAGy9E,GAAKr7E,EAAK85B,UAAU,gEACvBC,EAAGshD,GAAK,8DACRz9E,EAAGg+B,GAAK57B,EAAK85B,UAAU,qCACvBC,EAAG6B,GAAK,mCACRh+B,EAAG09E,KAAOt7E,EAAK85B,UAAU,wBACzBC,EAAGuhD,KAAO,uBACV19E,EAAG29E,GAAKv7E,EAAK85B,UAAU,0BACvBC,EAAGwhD,GAAK,wBACR39E,EAAG49E,KAAOx7E,EAAK85B,UAAU,0CACzBC,EAAGyhD,KAAO,yCACV59E,EAAG69E,KAAOz7E,EAAK85B,UAAU,kCACzBC,EAAG0hD,KAAO,iCACV79E,EAAG89E,GAAK17E,EAAK85B,UAAU,gCACvBC,EAAG2hD,GAAK,8BACR99E,EAAG+9E,KAAO37E,EAAK85B,UAAU,uCACzBC,EAAG4hD,KAAO,+CACV/9E,EAAGg+E,SAAW57E,EAAK85B,UAAU,2CAC7BC,EAAG6hD,SAAW,+CACdh+E,EAAGi+E,KAAO77E,EAAK85B,UAAU,uCACzBC,EAAG8hD,KAAO,+CACVj+E,EAAGk+E,IAAM97E,EAAK85B,UAAU,6BACxBC,EAAG+hD,IAAM,2BACTl+E,EAAGm+E,IAAM/7E,EAAK85B,UAAU,kCACxBC,EAAGgiD,IAAM,iCACTn+E,EAAGo+E,KAAOh8E,EAAK85B,UAAU,0CACzBC,EAAGiiD,KAAO,6BACVp+E,EAAGkmE,KAAO9jE,EAAK85B,UAAU,0BACzBC,EAAG+pC,KAAO,yBACVlmE,EAAGq+E,GAAKj8E,EAAK85B,UAAU,kCACvBC,EAAGkiD,GAAK,gCACRr+E,EAAGs+E,SAAWl8E,EAAK85B,UAAU,kDAC7BC,EAAGmiD,SAAW,iDACdt+E,EAAGk8E,IAAM95E,EAAK85B,UAAU,qCACxBC,EAAG+/C,IAAM,mCACTl8E,EAAGu+E,IAAMn8E,EAAK85B,UAAU,mCACxBC,EAAGoiD,IAAM,yCAGTv+E,EAAG6pC,QAAUznC,EAAK85B,UAAU,6BAC5BC,EAAG0N,QAAU,4BACb7pC,EAAGw+E,KAAOp8E,EAAK85B,UAAU,oCACzBC,EAAGqiD,KAAO,kCACVx+E,EAAGy+E,KAAOr8E,EAAK85B,UAAU,8BACzBC,EAAGsiD,KAAO,4BACVz+E,EAAG0+E,KAAOt8E,EAAK85B,UAAU,mCACzBC,EAAGuiD,KAAO,iCACV1+E,EAAG2+E,IAAMv8E,EAAK85B,UAAU,6CACxBC,EAAGwiD,IAAM,4CACT3+E,EAAGi+B,IAAM77B,EAAK85B,UAAU,6BACxBC,EAAG8B,IAAM,4BACTj+B,EAAG4+E,KAAOx8E,EAAK85B,UAAU,sDACzBC,EAAGyiD,KAAO,qDACV5+E,EAAG6+E,MAAQz8E,EAAK85B,UAAU,mDAC1BC,EAAG0iD,MAAQ,iDACX7+E,EAAG8+E,MAAQ18E,EAAK85B,UAAU,qCAC1BC,EAAG2iD,MAAQ,mCACX9+E,EAAG6E,GAAKzC,EAAK85B,UAAU,0CACvBC,EAAGt3B,GAAK,wCACR7E,EAAG++E,KAAO38E,EAAK85B,UAAU,+BACzBC,EAAG4iD,KAAO,8BACV/+E,EAAGkqC,MAAQ9nC,EAAK85B,UAAU,+BAC1BC,EAAG+N,MAAQ,6BACXlqC,EAAGk+B,IAAM97B,EAAK85B,UAAU,yBACxBC,EAAG+B,IAAM,uBAGTl+B,EAAGg/E,IAAM58E,EAAK85B,UAAU,6BACxBl8B,EAAGi/E,KAAO78E,EAAK85B,UAAU,8BACzBl8B,EAAGk/E,IAAM98E,EAAK85B,UAAU,2CACxBl8B,EAAGm/E,IAAM/8E,EAAK85B,UAAU,6BACxBl8B,EAAGo/E,IAAMh9E,EAAK85B,UAAU,qCACxBl8B,EAAGq/E,QAAUj9E,EAAK85B,UAAU,wDAC5Bl8B,EAAGs/E,IAAMl9E,EAAK85B,UAAU,sCACxBl8B,EAAGu/E,QAAUn9E,EAAK85B,UAAU,sDAC5Bl8B,EAAGw/E,SAAWp9E,EAAK85B,UAAU,0CAC7Bl8B,EAAG8lE,MAAQ1jE,EAAK85B,UAAU,oCAC1Bl8B,EAAGy/E,IAAMr9E,EAAK85B,UAAU,yBACxBl8B,EAAG0/E,KAAOt9E,EAAK85B,UAAU,0BAMzB55B,EAAEZ,IAAIlE,OAAOyD,KAAKk7B,IAAI,SAASj8B,GAC3B67E,EAAG/7E,EAAGE,KAAO6C,KAAO7C,KAKxB6D,EAAIwB,UAAYvF,EAAGyR,IAAI,cACvB1N,EAAIE,SAAWjE,EAAGyJ,IAAI,YACtB1F,EAAIC,WAAahE,EAAGyJ,IAAI,cACxB1F,EAAIkB,QAAUjF,EAAGyJ,IAAI,WACrB1F,EAAIo3E,MAAQn7E,EAAGyJ,IAAI,SACnB1F,EAAIU,YAAczE,EAAGyJ,IAAI,eACzB1F,EAAIS,SAAWxE,EAAGyJ,IAAI,YACtB1F,EAAI47E,OAAS3/E,EAAGyJ,IAAI,UACpB1F,EAAIg3E,QAAU/6E,EAAGyJ,IAAI,WACrB1F,EAAIiC,UAAYhG,EAAGu+E,IAAI,eACvBx6E,EAAImC,QAAUlG,EAAGyR,IAAI,cACrB1N,EAAIoC,SAAWnG,EAAGyR,IAAI,cACtB1N,EAAIu3E,SAAWt7E,EAAGwpC,OAAO,UACzBzlC,EAAI26B,MAAQ1+B,EAAGyJ,IAAI,SACnB1F,EAAI66B,WAAa5+B,EAAGyR,IAAI,cACxB1N,EAAI+6B,OAAS9+B,EAAGyJ,IAAI,UACpB1F,EAAI86B,OAAS7+B,EAAGyJ,IAAI,UACpB1F,EAAI67E,OAAS5/E,EAAGyJ,IAAI,UACpB1F,EAAIm7B,KAAOl/B,EAAGyJ,IAAI,QAClB1F,EAAI63E,aAAe57E,EAAGyJ,IAAI,iBAC1B1F,EAAI87E,cAAgB7/E,EAAGyJ,IAAI,iBAC3B1F,EAAI+7E,YAAc9/E,EAAGyJ,IAAI,eACzB1F,EAAIg8E,UAAY//E,EAAG6pC,QAAQ,cAC3B9lC,EAAIi8E,eAAiBhgF,EAAG++E,KAAK,4BAC7Bh7E,EAAIuF,QAAUtJ,EAAG6N,KAAK,SACtB9J,EAAIykC,MAAQxoC,EAAG+pC,IAAI,OAEnBhmC,EAAIk8E,GAAK,GACTl8E,EAAIk8E,GAAGj8E,WAAazB,EAAG68D,WAAWr7D,EAAIC,WAAWpE,OACjDmE,EAAIk8E,GAAGh8E,SAAW1B,EAAG68D,WAAWr7D,EAAIE,SAASrE,OAC7CmE,EAAIk8E,GAAGh7E,QAAU1C,EAAG68D,WAAWr7D,EAAIkB,QAAQrF,OAC3CmE,EAAIk8E,GAAG/5E,QAAU3D,EAAG68D,WAAWr7D,EAAImC,QAAQtG,OAC3CmE,EAAIk8E,GAAG95E,SAAW5D,EAAG68D,WAAWr7D,EAAIoC,SAASvG,OAC7CmE,EAAIk8E,GAAGlF,QAAUx4E,EAAG68D,WAAWr7D,EAAIg3E,QAAQn7E,OAC3CmE,EAAIk8E,GAAGj6E,UAAYzD,EAAG68D,WAAWr7D,EAAIiC,UAAUpG,OAE/CmE,EAAIk8E,GAAGL,OAASr9E,EAAG68D,WAAWr7D,EAAI67E,OAAOhgF,OAEzCmE,EAAIm8E,WAAa,CAACn8E,EAAIE,SAAUF,EAAIC,WAAYD,EAAIkB,QAASlB,EAAIo3E,MAC7Dp3E,EAAIU,YAAaV,EAAIS,SAAUT,EAAI47E,OAAQ57E,EAAIg3E,QAC/Ch3E,EAAImC,QAASnC,EAAIoC,SAAUpC,EAAIiC,UAC/BjC,EAAI87E,cAAe97E,EAAI+7E,aAG3B,IAAIr8E,EAAM,GACVA,EAAIC,OAAS1D,EAAGk8E,IAAI,UACpBz4E,EAAIE,QAAU3D,EAAGk8E,IAAI,WACrBz4E,EAAIsB,SAAW/E,EAAGk8E,IAAI,YAItB,IAAIiE,EAAU,wCACVC,EAAU,wCAEd95E,EAAQ+5E,cAAgBj+E,EAAKkB,IAAI88E,EAAU,QAC3C95E,EAAQg6E,oBAAsBl+E,EAAKkB,IAAI68E,EAAU,SACjDz5E,EAAQ65E,kBAAoBn+E,EAAKkB,IAAI68E,EAAU,SAC/Cz5E,EAAQ85E,2BAA6Bp+E,EAAKkB,IAAI68E,EAAU,SAExD75E,EAAQm6E,gBAAkBr+E,EAAKkB,IAAI88E,EAAU,QAC7C95E,EAAQo6E,oBAAsBt+E,EAAKkB,IAAI88E,EAAU,QACjD95E,EAAQq6E,mBAAqBv+E,EAAKkB,IAAI88E,EAAU,QAChD95E,EAAQs6E,mBAAqBx+E,EAAKkB,IAAI88E,EAAU,QAChD95E,EAAQu6E,gBAAkBz+E,EAAKkB,IAAI88E,EAAU,SAE7C95E,EAAQoF,uBAAyBtJ,EAAKkB,IAAI68E,EAAU,SACpDz5E,EAAQo6E,eAAiB1+E,EAAKkB,IAAI68E,EAAU,SAE5C75E,EAAQqF,qBAAuBvJ,EAAKkB,IAAI68E,EAAU,SAClDz5E,EAAQq6E,aAAe3+E,EAAKkB,IAAI68E,EAAU,SAE1C75E,EAAQ06E,2BAA6B5+E,EAAKkB,IAAI68E,EAAU,SACxDz5E,EAAQu6E,mBAAqB7+E,EAAKkB,IAAI68E,EAAU,SAEhD75E,EAAQE,sBAAwBpE,EAAKkB,IAAI68E,EAAU,SACnDz5E,EAAQw6E,sBAAwB9+E,EAAKkB,IAAI68E,EAAU,SAEnD75E,EAAQG,uBAAyBrE,EAAKkB,IAAI68E,EAAU,SACpDz5E,EAAQy6E,uBAAyB/+E,EAAKkB,IAAI68E,EAAU,SAEpD75E,EAAQC,2BAA6BnE,EAAKkB,IAAI68E,EAAU,SACxDz5E,EAAQ06E,uBAAyBh/E,EAAKkB,IAAI68E,EAAU,SAEpDz5E,EAAQE,mBAAqBxE,EAAKkB,IAAI68E,EAAU,SAChDz5E,EAAQC,2BAA6BvE,EAAKkB,IAAI68E,EAAU,SACxDz5E,EAAQG,qBAAuBzE,EAAKkB,IAAI68E,EAAU,SAClDz5E,EAAQI,oBAAsB1E,EAAKkB,IAAI68E,EAAU,SAEjD75E,EAAQ+6E,0BAA4Bj/E,EAAKkB,IAAI68E,EAAU,SACvDz5E,EAAQ46E,kBAAoBl/E,EAAKkB,IAAI68E,EAAU,SAE/C75E,EAAQi7E,wBAA0Bn/E,EAAKkB,IAAI68E,EAAU,SACrDz5E,EAAQ86E,gBAAkBp/E,EAAKkB,IAAI68E,EAAU,SAE7C75E,EAAQm7E,cAAgBr/E,EAAKkB,IAAI88E,EAAU,QAE3C95E,EAAQo7E,iBAAmBt/E,EAAKkB,IAAI68E,EAAU,SAC9Cz5E,EAAQi7E,eAAiBv/E,EAAKkB,IAAI68E,EAAU,SAE5C75E,EAAQs7E,kBAAoBx/E,EAAKkB,IAAI68E,EAAU,SAC/Cz5E,EAAQm7E,gBAAkBz/E,EAAKkB,IAAI68E,EAAU,SAE7C75E,EAAQw7E,eAAiB1/E,EAAKkB,IAAI68E,EAAU,iBAC5Cz5E,EAAQq7E,aAAe3/E,EAAKkB,IAAI68E,EAAU,iBAE1C75E,EAAQ07E,gBAAkB5/E,EAAKkB,IAAI68E,EAAU,SAC7Cz5E,EAAQu7E,cAAgB7/E,EAAKkB,IAAI68E,EAAU,SAE3C,IAAI+B,EAAa,GACjB1kF,OAAOyD,KAAKjB,GAAI4B,SAAQ,SAAS1B,GAC7BgiF,EAAWhiF,GAAOF,EAAGE,KAAON","file":"js/app.14e24c11.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/notfound2.86a0116d.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capacity.vue?vue&type=style&index=0&id=1425ad80&prod&scoped=true&lang=css&\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"0d5a\";","const ir = {}\n\nimport { Vector3, BufferGeometry, BufferAttribute } from \"three\";\n// Required by shader --------------\nimport { flatten } from 'lodash';\nimport implicitMesh from 'implicit-mesh/shader';\nimport angleNormals from 'angle-normals';\n// Required by shader --------------\n\nexport default {\n  ir: ir,\n  name: 'ImplicitRoom',\n  methods: {\n    createImplicitFromPolyline(polyArray, geoW, geoL, geoH, scaleFactor) {\n      let scaleF = Math.max(Math.max(geoW, geoL), geoH); // Gets the largest side of bounding box\n      let heightSc = (geoH/scaleF);\n      const triangles = this.triangulatePolyLine(polyArray, scaleFactor, geoL, scaleF, heightSc);\n      const startTime = performance.now();\n      const shader = this.createShaderCode(triangles, heightSc);\n      const mesh = implicitMesh(256, shader);\n      var endTime = performance.now();\n      console.log(`Implicit shader used: ${endTime - startTime} milliseconds`);\n      const geo = new BufferGeometry()\n\n      const v = new Float32Array(flatten(mesh.positions))\n      const positions = new BufferAttribute(v, 3)\n\n      const n = new Float32Array(flatten(angleNormals(mesh.cells, mesh.positions)))\n      const normals = new BufferAttribute(n, 3)\n\n      geo.setIndex(flatten(mesh.cells))\n      geo.setAttribute('position', positions)\n      geo.setAttribute('normal', normals)\n      geo.scale(scaleF,scaleF,scaleF);\n      geo.translate( 0, geoH/2+(scaleF/geoH)*2, (geoL/scaleF)-geoL );\n      console.log(\"GeoL: \"+geoL+\" ScaleF: \"+scaleF);\n\n      //geo.computeBoundingBox()\n      //geo.computeBoundingSphere()\n      //geo.computeVertexNormals()\n\n      return geo;\n    },\n    triangulatePolyLine(polyArray, scaleFactor, geoL, scaleF, heightSc){\n      // Create points from polyline\n      var aPoints = [];\n      if(polyArray.length >= 16){\n        while (polyArray.length > 1) {\n          const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n          const x = (polyXYZ[0]*scaleFactor);\n          const y = (polyXYZ[1]*scaleFactor);\n          var arr = [x, geoL-y]; // Will be mirrored without geoL-y\n          aPoints.push(arr);\n        }\n      }\n\n      // Start triangulate\n      var poly2tri = require('poly2tri');\n      var shape = [];\n      for(var i=0; i<aPoints.length-1; ++i) {\n        shape.push(new poly2tri.Point(aPoints[i][0], aPoints[i][1]));\n      }\n      var swctx = new poly2tri.SweepContext(shape);\n      var triangles = swctx.triangulate();\n      let trianglesSc = [];\n      for(var i=0; i<triangles.triangles_.length; ++i) {\n        trianglesSc.push(\"vec2(\"+triangles.triangles_[i].points_[0].x/scaleF+\", \"+triangles.triangles_[i].points_[0].y/scaleF+\")\");\n        trianglesSc.push(\"vec2(\"+triangles.triangles_[i].points_[1].x/scaleF+\", \"+triangles.triangles_[i].points_[1].y/scaleF+\")\");\n        trianglesSc.push(\"vec2(\"+triangles.triangles_[i].points_[2].x/scaleF+\", \"+triangles.triangles_[i].points_[2].y/scaleF+\")\");\n      }\n      return trianglesSc;\n    },\n    createShaderCode(triangles, heightSc){\n      console.log(\"Triangles length: \"+triangles.length);\n      let shader = /* glsl */ `\n\n      float opUnion( float d1, float d2 ) { return min(d1,d2); }\n\n      float opSubtraction( float d1, float d2 ) { return max(-d1,d2); }\n\n      float opIntersection( float d1, float d2 ) { return max(d1,d2); }\n\n      float dot2( in vec2 v ) { return dot(v,v); }\n      float ndot( in vec2 a, in vec2 b ) { return a.x*b.x - a.y*b.y; }\n\n      float opSmoothUnion( float d1, float d2, float k ) {\n        float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n        return mix( d2, d1, h ) - k*h*(1.0-h); }\n\n      float opSmoothSubtraction( float d1, float d2, float k ) {\n          float h = clamp( 0.5 - 0.5*(d2+d1)/k, 0.0, 1.0 );\n          return mix( d2, -d1, h ) + k*h*(1.0-h); }\n\n      float opSmoothIntersection( float d1, float d2, float k )\n      {\n          float h = clamp( 0.5 - 0.5*(d2-d1)/k, 0.0, 1.0 );\n          return mix( d2, d1, h ) + k*h*(1.0-h); }\n\n      float sdTriangle( in vec2 p, in vec2 p0, in vec2 p1, in vec2 p2 )\n      {\n          vec2 e0 = p1-p0, e1 = p2-p1, e2 = p0-p2;\n          vec2 v0 = p -p0, v1 = p -p1, v2 = p -p2;\n          vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );\n          vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );\n          vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );\n          float s = sign( e0.x*e2.y - e0.y*e2.x );\n          vec2 d = min(min(vec2(dot(pq0,pq0), s*(v0.x*e0.y-v0.y*e0.x)),\n                           vec2(dot(pq1,pq1), s*(v1.x*e1.y-v1.y*e1.x))),\n                           vec2(dot(pq2,pq2), s*(v2.x*e2.y-v2.y*e2.x)));\n          return -sqrt(d.x)*sign(d.y);\n      }\n\n      float opExtrussion( in vec3 p, in float sdf, in float h )\n      {\n          vec2 w = vec2( sdf, abs(p.z) - h );\n          return min(max(w.x,w.y),0.0) + length(max(w,0.0));\n      }\n\n      float sdCross( in vec2 p, in vec2 b, float r )\n      {\n          p = abs(p); p = (p.y>p.x) ? p.yx : p.xy;\n          vec2  q = p - b;\n          float k = max(q.y,q.x);\n          vec2  w = (k>0.0) ? q : vec2(b.y-p.x,-k);\n          return sign(k)*length(max(w,0.0)) + r;\n      }\n\n      float sdBox( vec3 p, vec3 b )\n      {\n        vec3 q = abs(p) - b;\n        return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\n      }\n\n      float sdSphere( vec3 p, float s )\n      {\n        return length(p)-s;\n      }\n\n      float extRoom(vec3 p){\n        vec2 shapes[`+triangles.length+`];\n        `\n        console.log(\"Shader code generated...\");\n        let tNum = 0;\n        while (triangles.length > 1) {\n          const points3 = triangles.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n          shader = shader+`float t`+tNum+` = sdTriangle( p.xy, `+points3[0]+`, `+points3[1]+`, `+points3[2]+`);`;\n          tNum = tNum+1;\n        }\n        shader = shader+`float u1 = opUnion( t0, t1);`;\n        for(var i=2; i<tNum; ++i) {\n          shader = shader+`float u`+i+` = opUnion( u`+(i-1)+`, t`+i+`);`;\n        }\n        shader = shader+`\n        float t3d = opExtrussion(p, u`+(tNum-1)+`, `+heightSc/2+`);\n        return t3d;\n      }\n\n      float surface (vec3 p) {\n        p = vec3(p.z, p.x, p.y );\n        return extRoom(p);\n      }\n      `\n      return shader;\n    },\n  }\n};\n","const a = {};\n\n// Class for array functions\n\na.getLastElement = function(array) {\n    if (Array.isArray(array)) {\n      return array.slice(-1)[0];\n    }\n};\n\na.getSecondLastElement = function(array) {\n  if (Array.isArray(array)) {\n    return array.slice(-2, -1)[0];\n  }\n};\n\na.removeFirstElement = function(array) {\n  if (Array.isArray(array)) {\n    array.shift();\n    return array;\n  }\n};\n\na.removeLastElement = function(array) {\n    if (Array.isArray(array)) {\n      return array.slice(0, array.length-1);\n    }\n};\n\na.checkIfDuplicateExists = function(array) {\n    if (Array.isArray(array)) {\n      return new Set(array).size !== array.length;\n    }\n};\n\na.removeDuplicates = (array = []) => {\n    const map = new Map();\n    array.forEach((x) => map.set(JSON.stringify(x), x));\n    array = [...map.values()];\n    return array;\n};\n\na.reverseSubArrays = function(array){\n    for(var sa =0 ; sa < array.length; sa++) {\n        array[sa].reverse();\n    }\n    return array;\n};\n\na.removeValueFromArray = function(array, value){\n  for( var i = 0; i < array.length; i++){ \n      if ( array[i] == value) { \n        array.splice(i, 1); \n      }\n  }\n  return array;\n}\n\nexport default a;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModuleV.vue?vue&type=style&index=0&id=5bd0ca6e&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/organization3.9ead0177.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesLib.vue?vue&type=style&index=0&id=181dfa8c&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.e245e368.svg\";","import u from \"./util.js\"\nimport store from '../store';\nimport { ns, nu, nl, neo, trinity, trinapp, namespaces, xsd } from './ontologies.js';\nimport q from './util-q.js'\nimport ur from './util-rdf'\nconst $rdf = require('rdflib');\nconst $ = require('jquery')\nconst N3 = require('n3')\nimport * as log from 'loglevel'\n//import JSZip from 'jszip' // Library not installed\n\nconst c = {};\n\nc.isTrinApp = function (){\n    if (store.state.crosslinkStatus){\n\treturn true\n    } else {\n\treturn false\n    }\n}\n\nc.attribute = function (Function, Result, obj) {\n\tif (!obj) {\n\t\tobj = {}\n\t}\n\tif (!obj.quads) {\n\t\tobj.quads = []\n\t}\n\tvar uri = u.getURI(Function)\n\tstore.commit('blankNodeIncrement')\n\tvar id = store.state.blankNodeIndex\n\tobj.attribute = new N3.BlankNode(id)\n\tFunction = $rdf.sym(uri)\n\tvar rUri = u.getURI(Result)\n\tif (rUri) {\n\t\tResult = $rdf.sym(rUri)\n\t} else if (typeof Result === 'string') {\n\t\tResult = $rdf.lit(Result, null, xsd.string)\n\t} else if (typeof Result === 'number') {\n\t\tResult = $rdf.lit(Result, null, xsd.integer)\n\t}\n\tvar Default = new N3.DefaultGraph()\n\tif (Function && Result) {\n\t\tobj.quads.push($rdf.st(obj.attribute, neo.i_function, Function, Default))\n\t\tobj.quads.push($rdf.st(obj.attribute, neo.o_result, Result, Default))\n\t\treturn obj\n\t} else {\n\t\tlog.debug(\"c.attribute missing function or result\", Function, Result)\n\t}\n}\n\nc.state = function (entity, attribute, obj) {\n\tif (entity) {\n\t\tif ($.type(entity) !== 'object') {\n\t\t\tentity = u.getURI(entity)\n\t\t\tif (entity) {\n\t\t\t\tentity = $rdf.sym(entity)\n\t\t\t}\n\t\t}\n\t}\n\tif (attribute) {\n\t\tif ($.type(attribute) === 'object' && attribute.termType === 'BlankNode') {\n\t\t} else if ($.type(attribute) !== 'object') {\n\t\t\tattribute = u.getURI(attribute)\n\t\t\tif (attribute) {\n\t\t\t\tattribute = $rdf.sym(attribute)\n\t\t\t}\n\t\t}\n\t}\n\tif (entity && attribute) {\n\t\tif (!obj) {\n\t\t\tobj = {}\n\t\t}\n\t\tif (!obj.quads) {\n\t\t\tobj.quads = []\n\t\t}\n\t\tvar start = obj.start\n\t\tvar state = c.start(null, start, obj)\n\t\tstate.state = state.event\n\t\tdelete state.event //hack, make sure event comes later\n\n\t\tstore.commit('blankNodeIncrement')\n\t\tvar id = store.state.blankNodeIndex\n\t\tvar Default = new N3.DefaultGraph()\n\t\tobj.quads.push($rdf.st(entity, neo.i_entity, obj.state, Default))\n\t\tobj.quads.push($rdf.st(attribute, neo.i_attribute, obj.state, Default))\n\t\treturn obj\n\t} else {\n\t\tlog.debug(\"c.state missing entity or attribute\", entity, attribute)\n\t}\n}\n\nc.time = function (time, obj) {\n\tvar Time\n\tif (time) {\n\t\tTime = new Date(time)\n\t} else {\n\t\tTime = new Date()\n\t}\n\treturn c.attribute(ns.TL('at'), $rdf.lit(Time.toISOString(), null, xsd.dateTime), obj)\n}\n\nc.start = function (event, time, obj) {\n\t//null event creates a new one\n\tvar Default = new N3.DefaultGraph()\n\tif (!obj) {\n\t\tobj = {}\n\t}\n\tif (!event || (!obj.event)) {\n\t\tstore.commit('blankNodeIncrement')\n\t\tvar id = store.state.blankNodeIndex\n\t\tevent = new N3.BlankNode(id)\n\t} else if (!event && obj && obj.event) {\n\t\tevent = obj.event\n\t}\n\tif (!obj.startAttribute) {\n\t\tobj = c.time(time, obj)\n\t\tobj.startAttribute = obj.attribute\n\t\tobj.attribute = null\n\t}\n\tif (!obj.event) {\n\t\tobj.event = event\n\t}\n\tif (obj.startAttribute) {\n\t\tobj.quads.push($rdf.st(event, neo.t_start, obj.startAttribute, Default))\n\t\treturn obj\n\t}\n}\n\n\n\nc.capability = function (system, func, obj) {\n    var func = u.getURI(func)\n    var system = u.getURI(system)\n    if (func && system) {\n\tvar capability = q.capability(system, func)\n\tif (capability) {\n\t    return { capability: capability[0] }\n\t} //  TODO debug code below\n\telse {\n\t    var Default = new N3.DefaultGraph()\n\t    if (!obj){\n\t\tobj = {}\n\t    }\n\t    var attrib = c.attribute(neo.b_capable, func, obj)\n\t    var cap = c.state(system,attrib.attribute,attrib)\n\t    cap.capability = cap.state\n\t    return cap\n\t}\n\t\n    }\n}\n\n\nc.event = function (obj) {\n\tif (typeof obj === 'object') {\n\t\tvar capability = obj.capability\n\t\tvar start = obj.start //time\n\t\tvar end = obj.end     //time\n\t\tvar input = obj.input\n\t\tvar output = obj.output\n\t\tvar cause = obj.cause\n\t\tvar effect = obj.effect\n\t\tif (capability) {\n\t\t\tvar capURI = u.getURI(capability)\n\t\t\tif (capURI) {\n\t\t\t\tif(typeof capURI === 'object'){\n\t\t\t\t\tcapability = capURI;\n\t\t\t\t} else {\n\t\t\t\t\tcapability = $rdf.sym(capURI)\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar eObj = c.start(null, start, obj)\n\t\t\tif (eObj.event) {\n\t\t\t\teObj.quads.push($rdf.st(eObj.event, neo.t_execute, capability))\n\t\t\t\tif (input) {\n\t\t\t\t\tif ($.type(input) !== 'array') {\n\t\t\t\t\t\tinput = [input]\n\t\t\t\t\t}\n\t\t\t\t\tinput.forEach(function (item) {\n\t\t\t\t\t\tif ($.type(item) !== 'object') {\n\t\t\t\t\t\t\titem = u.getURI(item)\n\t\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\t\titem = $rdf.sym(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\teObj.quads.push($rdf.st(item, neo.i_input, eObj.event))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (output) {\n\t\t\t\t\tif ($.type(output) !== 'array') {\n\t\t\t\t\t\toutput = [output]\n\t\t\t\t\t}\n\t\t\t\t\toutput.forEach(function (item) {\n\t\t\t\t\t\teObj.quads.push($rdf.st(eObj.event, neo.o_output, $rdf.sym(u.getURI(item))))\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn eObj\n\t\t\t}\n\t\t}\n\t}\n}\n\nc.addStateForInput = function (entity, func, result, obj) {\n\tentity = u.getURI(entity)\n\tfunc = u.getURI(func)\n\tvar rUri = u.getURI(result)\n\tif (rUri) {\n\t\tresult = $rdf.sym(rUri)\n\t} else if (typeof result === 'string') {\n\t\tresult = $rdf.lit(result, null, xsd.string)\n\t} else if (typeof result === 'number') {\n\t\tresult = $rdf.lit(Result, null, xsd.integer)\n\t}\n\tif (entity && func && result) {\n\t\tif (!obj) {\n\t\t\tobj = {}\n\t\t}\n\t\tif (!obj.quads) {\n\t\t\tobj.quads = []\n\t\t}\n\t\tif (!obj.input) {\n\t\t\tobj.input = []\n\t\t}\n\t\tconst attribute = c.attribute(func, result, obj)\n\t\tconst state = c.state(entity, attribute.attribute, attribute)\n\t\tdelete state.attribute\n\t\tstate.input = state.input.concat(state.state)\n\t\tdelete state.state\n\t\treturn state\n\t} else {\n\t\tlog.error(\"Bad Input to c.addStateForInput\", entity, func, result, obj)\n\t}\n}\n\nc.getTrinpodFunction = function(trinpodType) {\n    switch (trinpodType) {\n    case \"company\":\n\treturn trinapp.w_trinapp_add_business_pod.value;\n    case \"project\":\n\treturn trinapp.w_trinapp_add_project.value;\n    case \"building\":\n\treturn trinapp.w_trinapp_add_building.value\n    case \"organization\":\n\treturn trinity.f_add_organization_trinpod\n    case \"site\":\n\treturn trinity.f_add_site_trinpod\n    case \"sub_org\":\n\treturn trinity.f_add_suborg_trinpod\n    case \"group\":\n\treturn trinity.f_add_group_trinpod\n    }\n}\n\n\nc.checkTrinpodID = async function(trinpodID){\n    if (trinpodID){\n\ttry {\n\t    var response = await window.solid.session\n\t\t.fetch(\n\t\t    store.state.server +\n\t\t\t\"/trinpodIDExists?trinpodID=\" +\n\t\t\ttrinpodID,\n\t\t    {\n\t\t\tcredentials: \"include\",\n\t\t    }\n\t\t)\n\t    var text = await response.text()\n\t    return text\n\t    //this.trinpodIDExists = text === \"Exists\";\n\t} catch(error) {\n\t\tconsole.log(error)\n\t    log.debug(error)\n\t    c.trinpodIDLookupTimeout = null;\n\t}\n    } else {\n\t\tlog.error(\"need trinpodID to check\")\n    }\n}\n\nc.createTrinpods = async function(podArray){\n    if (Array.isArray(podArray) && podArray.length > 0){\n\tvar pods = []\n\tvar start = performance.now()\n\tfor (const pod of podArray) {\n\t    const create = await c.createTrinpod(pod[0],pod[1],pod[2],pod[3],pod[4])\n\t    pods.push(create)\n\t    console.log(create)\n\t}\n\tvar end = performance.now()\n\tvar duration = (end - start) / 1000\n\treturn [\"finished\",pods,duration]\n    }\n}\n\nc.createTrinpod = async function (trinpodID,trinpodName,parentPod,trinpodType,vertical) {\n    if (trinpodID && trinpodName && u.getURI(parentPod) && trinpodType){\n\t//add trinpodID validity check\n\tif (/^[a-z][a-z0-9\\-]+$/.test(trinpodID)){\n\t    var check = await c.checkTrinpodID(trinpodID)\n\t    if (check !== 'Exists'){\n\t\t//check that parentpod exists\n\t\tconst parentId = u.getSubdomain(parentPod)\n\t\tif (parentId){\n\t\t    const parentCheck = await c.checkTrinpodID(parentId)\n\t\t\tconsole.log(\"Parent pod: \"+parentCheck)\n\t\t    if (parentCheck === 'Exists'){\n\t\t\tconst url = new URL(store.state.server)\n\t\t\tconst trinpodUri = url.protocol + \"//\" + trinpodID + \".\" + url.host + \"/i\";\n\t\t\tconst podNodeURI = u.getBaseURI(parentPod);\n\t\t\tconst trinpodFunction = c.getTrinpodFunction(trinpodType)\n\t\t\tif (trinpodFunction && podNodeURI && trinpodUri){\n\t\t\t    var obj = c.capability(store.state.webId, trinpodFunction);\n\t\t\t    obj = c.addStateForInput(trinpodUri,neo.m_label,trinpodName,obj)\n\t\t\t    obj = c.addStateForInput(trinpodUri,ns.FOAF(\"maker\"),parentPod, obj)\n\t\t\t    var verticalType = ns.NEO(\"a_pod-solid\");\n\t\t\t    if (vertical === \"construction\") {\n\t\t\t\tverticalType = ns.NEO(\"a_pod-construction\");\n\t\t\t    }\n\t\t\t    obj = c.addStateForInput(trinpodUri,ns.RDF(\"type\"),verticalType,obj)\n\t\t\t    const event = c.event(obj);\n\t\t\t    const turtle = c.quadsToTurtle(event.quads);\n\t\t\t    //log.debug(\"event\",event,obj)\n\t\t\t    var start = performance.now()\n\t\t\t    await window.solid.session.fetch(\n\t\t\t\tu.getBaseURI(parentPod) + \"/node/Substance\",\n\t\t\t\t{\n\t\t\t\t    credentials: \"include\",\n\t\t\t\t    method: \"PATCH\",\n\t\t\t\t    body: \"INSERT DATA {\" + turtle + \"}\",\n\t\t\t\t    headers: { \"Content-Type\": \"application/sparql-update\" },\n\t\t\t\t}\n\t\t\t    );\n\t\t\t    var finish = performance.now()\n\t\t\t    var duration = (finish - start) / 1000;\n\t\t\t    return [\"created\",{uri: trinpodUri,\n\t\t\t\t\t       trinpodID: trinpodID,\n\t\t\t\t\t       duration: duration}]\n\t\t\t} else {\n\t\t\t    log.error(\"could not build pod info\",{trinpodFunction: trinpodFunction,\n\t\t\t\t\t\t\t\t  podNodeURI: podNodeURI,\n\t\t\t\t\t\t\t\t  trinpodUri: trinpodUri})\n\t\t\t    c.createAlert(\"Error:\",\n\t\t\t\t\t  \"Could not build Pod information\",\n\t\t\t\t\t  \"TrinPod Function: \" + ur.getLabel(trinpodFunction) +\n\t\t\t\t\t  \" , Parent uri: \" + podNodeURI + \" , TrinPod uri: \" + trinpodUri,\n\t\t\t\t\t  \"danger\",\n\t\t\t\t\t  true,\n\t\t\t\t\t  true,\n\t\t\t\t\t  \"pageMessages\"\n\t\t\t\t\t )\n\t\t\t    return [\"error\",\"could not build pod info\",{trinpodFunction: trinpodFunction,\n\t\t\t\t\t\t\t\t\tpodNodeURI: podNodeURI,\n\t\t\t\t\t\t\t\t\ttrinpodUri: trinpodUri}\n\t\t\t\t\t]\n\t\t\t}\n\t\t    } else {\n\t\t\t\tlog.error(\"Unable to find parent pod\",{parentId: parentId,\n\t\t\t\t\t\t\t\t\t\tparentPod: parentPod,\n\t\t\t\t\t\t\t\t\t\ttrinpodID: trinpodID})\n\t\t\t\tc.createAlert(\"Error:\",\n\t\t\t\t\t\t\"Unable to find Parent TrinPod\",\n\t\t\t\t\t\t\"Parent TrinPod: \" + parentPod + \" , New TrinPod user: \" + trinpodID,\n\t\t\t\t\t\t\"danger\",\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t\"pageMessages\"\n\t\t\t\t\t\t)\n\t\t\t\treturn [\"error\",\"Unable to find parent pod\",{parentId: parentId,\n\t\t\t\t\t\t\t\t\t\tparentPod: parentPod,\n\t\t\t\t\t\t\t\t\t\ttrinpodID: trinpodID}]\n\t\t    }\n\t\t} else {\n\t\t    log.error(\"Unable to make parentId\",{parentPod: parentPod,\n\t\t\t\t\t\t\t trinpodID: trinpodID})\n\t\t    c.createAlert(\"Error:\",\n\t\t\t\t  \"Unable to make parentId\",\n\t\t\t\t  \"Parent TrinPod: \" + parentPod + \" , New TrinPod user: \" + trinpodID,\n\t\t\t\t  \"danger\",\n\t\t\t\t  true,\n\t\t\t\t  true,\n\t\t\t\t  \"pageMessages\"\n\t\t\t\t )\n\t\t    return [\"error\",\"Unable to make parentId\",{parentPod: parentPod,\n\t\t\t\t\t\t\t       trinpodID: trinpodID}]\n\t\t}\n\t    } else {\n\t\tlog.error(\"That trinpodID is already being used:\",trinpodID)\n\t\tc.createAlert(\"Error:\",\n\t\t\t      \"That TrinPod ID is already being used\",\n\t\t\t      \"Parent TrinPod: \" + trinpodID,\n\t\t\t      \"danger\",\n\t\t\t      true,\n\t\t\t      true,\n\t\t\t      \"pageMessages\"\n\t\t\t     )\n\t\treturn [\"error\",\"That trinpodID is already being used:\",trinpodID]\n\t    }\n\t} else {\n\t    log.error(\"Invalid trinpodID /^[a-z][a-z0-9\\-]+$/.test(trinpodID)\",trinpodID)\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Invalid TrinPod ID\",\n\t\t\t  \"ID must start with a letter and can include any letters or numbers\",\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    return [\"error\",\"Invalid trinpodID /^[a-z][a-z0-9\\-]+$/.test(trinpodID)\",trinpodID]\n\t}\n    } else {\n\tlog.error(\"missing information to build pod\",{trinpodID: trinpodID,\n\t\t\t\t\t\t      trinpodName: trinpodName,\n\t\t\t\t\t\t      parentPod: parentPod,\n\t\t\t\t\t\t      trinpodType: trinpodType})\n\tc.createAlert(\"Error:\",\n\t\t      \"Missing information to build Pod\",\n\t\t      \"TrinPod ID: \" + trinpodID +\n\t\t      \" , Name: \" + trinpodName + \" , Parent TrinPod: \" + parentPod\n\t\t      + \" ,Type: \" + trinpodType,\n\t\t      \"danger\",\n\t\t      true,\n\t\t      true,\n\t\t      \"pageMessages\"\n\t\t     )\n\treturn [\"error\",\"missing information to build pod\",{trinpodID: trinpodID,\n\t\t\t\t\t\t\t    trinpodName: trinpodName,\n\t\t\t\t\t\t\t    parentPod: parentPod,\n\t\t\t\t\t\t\t    trinpodType: trinpodType}]\n    }\n}\n\nc.addMember = async function(parentWebid,memberWebids,addEmployee){\n    var start = performance.now()\n    const validParent = await ur.validateWebId(parentWebid)\n    //note if one member fails whole command fails\n    if (typeof(memberWebids) === 'string'){\n\tmemberWebids = [memberWebids]\n    }\n    if (Array.isArray(memberWebids) && memberWebids.length > 0){\n\tvar members = []\n\tvar invalidMembers = []\n\tvar alreadyMember = []\n\tif (validParent){\n\t    if (!addEmployee || (addEmployee && (ur.isPodBusiness(parentWebid) ||\n\t\t\t\t\t\tur.isPodOrganization(parentWebid)))){\n\t\tvar currentMembers = ur.getMember(parentWebid)\n\t\tif (!Array.isArray(currentMembers)){\n\t\t    currentMembers = []\n\t\t}\n\t\tif (ur.isPodProject(parentWebid) ||\n\t\t    ur.isPodBusiness(parentWebid) ||\n\t\t    ur.isPodOrganization(parentWebid) ||\n\t\t    ur.isPodGroup(parentWebid)){\n\t\t    await Promise.all(memberWebids.map(async (member) => {\n\t\t\tconst validMember = await ur.validateWebId(member)\n\t\t\tif (validMember){\n\t\t\t    if (currentMembers.includes(member)){\n\t\t\t\tlog.error(\"Already a member\",{memberWebId: member,\n\t\t\t\t\t\t\t      parentWebid: parentWebid})\n\t\t\t\t\n\t\t\t\talreadyMember.push(member)\n\t\t\t    } else {\n\t\t\t\tmembers.push(member)\n\t\t\t    }\n\t\t\t} else {\n\t\t\t    log.error(\"Invalid member\",member)\n\t\t\t    invalidMembers.push(member)\n\t\t\t}\n\t\t    }))\n\t\t    if (alreadyMember.length > 0){\n\t\t\tlog.error(\"Existing members included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t       invalidMembers: invalidMembers})\n\t\t\tc.createAlert(\"Error:\",\n\t\t\t\t      \"Existing members included\",\n\t\t\t\t      \"Parent: \" + parentWebid + \" , Existing: \" + alreadyMembers.join(),\n\t\t\t\t      \"danger\",\n\t\t\t\t      true,\n\t\t\t\t      true,\n\t\t\t\t      \"pageMessages\"\n\t\t\t\t     )\n\t\t\treturn [\"error\",\"Existing members included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t\t     alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t\t     invalidMembers: invalidMembers}]\n\t\t    } else if (invalidMembers.length > 0){\n\t\t\tlog.error(\"Invalid member webids included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t      alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t\t    invalidMembers: invalidMembers})\n\t\t\tc.createAlert(\"Error:\",\n\t\t\t\t      \"Existing member webids included\",\n\t\t\t\t      \"Parent: \" + parentWebid + \" , Invalid: \" + invalidMembers.join(),\n\t\t\t\t      \"danger\",\n\t\t\t\t      true,\n\t\t\t\t      true,\n\t\t\t\t      \"pageMessages\"\n\t\t\t\t     )\n\t\t\treturn [\"error\",\"Invalid member webids included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t\t\t  alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t\t\t  invalidMembers: invalidMembers}]\n\t\t    } else {\n\t\t\tvar Function\n\t\t\tif (addEmployee){\n\t\t\t    Function = trinapp.w_trinapp_add_employee.value\n\t\t\t} else {\n\t\t\t    Function = trinapp.w_trinapp_add_member.value\n\t\t\t}\n\t\t\tvar obj = c.capability(store.state.webId,Function)\n\t\t\tif (obj){\n\t\t\t    for (const member of members){\n\t\t\t\tobj = c.addStateForInput(\n\t\t\t\t    parentWebid,\n\t\t\t\t    ns.VCARD(\"hasMember\"), \n\t\t\t\t    member,\n\t\t\t\t    obj\n\t\t\t\t)\n\t\t\t    }\n\t\t\t    const event = c.event(obj);\n\t\t\t    const turtle = c.quadsToTurtle(event.quads);\n\t\t\t    await window.solid.session.fetch(\n\t\t\t\tu.getBaseURI(parentWebid) + \"/node/Substance\",\n\t\t\t\t{\n\t\t\t\t    credentials: \"include\",\n\t\t\t\t    method: \"PATCH\",\n\t\t\t\t    body: \"INSERT DATA {\" + turtle + \"}\",\n\t\t\t\t    headers: { \"Content-Type\": \"application/sparql-update\" },\n\t\t\t\t}\n\t\t\t    )\n\t\t\t    var finish = performance.now()\n\t\t\t    var duration = (finish - start) / 1000\n\t\t\t    return [\"added\",{members: members,\n\t\t\t\t\t     parentWebid: parentWebid,\n\t\t\t\t\t     duration: duration}]\n\t\t\t} else {\n\t\t\t    log.error(\"User does not have required capability\",{user: store.state.webId,\n\t\t\t\t\t\t\t\t\t\tFunction: Function})\n\t\t\t    c.createAlert(\"Error:\",\n\t\t\t\t\t  \"Your webid does not have required capability\",\n\t\t\t\t\t  \"Webid: \" + store.state.webid + \" , Function: \" + ur.getLabel(Function),\n\t\t\t\t\t  \"danger\",\n\t\t\t\t\t  true,\n\t\t\t\t\t  true,\n\t\t\t\t\t  \"pageMessages\"\n\t\t\t\t\t )\n\t\t\t    return [\"error\",\"User does not have required capability\",{user: store.state.webId,\n\t\t\t\t\t\t\t\t\t\t      Function: Function}]\n\t\t\t}\n\t\t    }\n\t\t} else {\n\t\t    log.error(\"Parent Pod type does not have members\",parentWebid)\n\t\t    c.createAlert(\"Error:\",\n\t\t\t\t  \"Parent Pod type does not have members\",\n\t\t\t\t  \"Parent Webid: \" + parentWebid,\n\t\t\t\t  \"danger\",\n\t\t\t\t  true,\n\t\t\t\t  true,\n\t\t\t\t  \"pageMessages\"\n\t\t\t\t )\n\t\t    return [\"error\",\"Parent Pod type does not have members\",parentWebid]\n\t\t}\n\t    } else {\n\t\tlog.error(\"Parent Pod type does not have employees\",parentWebid)\n\t\tc.createAlert(\"Error:\",\n\t\t\t      \"Parent Pod type does not have employees\",\n\t\t\t      \"Parent Webid: \" + parentWebid,\n\t\t\t      \"danger\",\n\t\t\t      true,\n\t\t\t      true,\n\t\t\t      \"pageMessages\"\n\t\t\t     )\n\t\treturn [\"error\",\"Parent Pod type does nt have employees\",parentWebid]\n\t    }\t    \n\t} else {\n\t    log.error(\"Invalid parentWebid\",{parentWebid: parentWebid,\n\t\t\t\t\t     memberWebids: memberWebids})\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Invalid Parent Webid\",\n\t\t\t  \"Parent Webid: \" + parentWebid,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    return [\"error\",\"Invalid parentWebid\",{parentWebid: parentWebid,\n\t\t\t\t\t\t   memberWebids: memberWebids}]\n\t}\n    } else {\n\tlog.error(\"Invalid memberWebids\",{parentWebid: parentWebid,\n\t\t\t\t\t  memberWebids: memberWebids})\n\tc.createAlert(\"Error:\",\n\t\t      \"Invalid Member Webids\",\n\t\t      \"Member Webids: \" + memberWebids.join(),\n\t\t      \"danger\",\n\t\t      true,\n\t\t      true,\n\t\t      \"pageMessages\"\n\t\t     )\n\treturn [\"error\",\"Invalid memberWebids\",{parentWebid: parentWebid,\n\t\t\t\t\t\tmemberWebids: memberWebids}]\n    }\n}\n\nc.createContainer = async function(podWebid,parentContainer,name){\n    var start = performance.now()\n    if (typeof(name) === 'string'){\n\tconst validParent = await ur.validateWebId(podWebid)\n\tif (validParent){\n\t    await ur.aLoadURI(parentContainer)\n\t    if (ur.isContainer(parentContainer)){\n\t\tconst newFolderUri =\n\t\t      parentContainer + encodeURIComponent(name) + \"/\";\n\t\tif (ur.isContainer(newFolderUri)){\n\t\t    var finish = performance.now()\n\t\t    var duration = (finish - start) / 1000\n\t\t    return [\"exists\",{containerUri: newFolderUri,\n\t\t\t\t      duration: duration}]\n\t\t} else {\n\t\t    try {\n\t\t\tconst res = await window.solid.session.fetch(newFolderUri, {\n\t\t\t    method: \"PUT\",\n\t\t\t    body:\n\t\t\t    '<> <http://www.w3.org/2000/01/rdf-schema#label> \"' +\n\t\t\t\tdecodeURIComponent(name) +\n\t\t\t\t'\" .',\n\t\t\t    headers: {\n\t\t\t\t\"Content-Type\": \"text/turtle\",\n\t\t\t\tlink: '<http://www.w3.org/ns/ldp#Container>; rel=\"type\", <http://www.w3.org/ns/ldp#BasicContainer>; rel=\"type\"',\n\t\t\t    },\n\t\t\t});\n\t\t\tif (!res.ok){\n\t\t\t    throw res.status + \" \" + res.statusText;\n\t\t\t} else {\n\t\t\t    var finish = performance.now()\n\t\t\t    var duration = (finish - start) / 1000\n\t\t\t    return [\"created\",{uri: res.url,\n\t\t\t\t\t       duration: duration}]\n\t\t\t}\n\t\t\t\n\t\t    } catch (error) {\n\t\t\talert(error);\n\t\t    }\n\t\t}\n\t\t\n\t    } else {\n\t\tlog.error(\"Invalid parentContainer\",{podWebid: podWebid,\n\t\t\t\t\t\t     parentContainer: parentContainer,\n\t\t\t\t\t\t     name: name})\n\t\tc.createAlert(\"Error:\",\n\t\t\t      \"Invalid Parent Container\",\n\t\t\t      \"Pod: \" + podWebid + \" , Parent Container: \" + parentContainer +\n\t\t\t      \" , Name: \" + name,\n\t\t\t      \"danger\",\n\t\t\t      true,\n\t\t\t      true,\n\t\t\t      \"pageMessages\"\n\t\t\t     )\n\t\treturn [\"error\",{podWebid: podWebid,\n\t\t\t\t parentContainer: parentContainer,\n\t\t\t\t name: name}]\n\t    }\n\t} else {\n\t    log.error(\"Invalid podWebid\",{podWebid: podWebid,\n\t\t\t\t\t  parentContainer: parentContainer,\n\t\t\t\t\t  name: name})\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Invalid Pod Webid\",\n\t\t\t  \"Pod: \" + podWebid + \" , Parent Container: \" + parentContainer +\n\t\t\t  \" , Name: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    return [\"error\",\"Invalid podWebid\",{podWebid: podWebid,\n\t\t\t\t\t\tparentContainer: parentContainer,\n\t\t\t\t\t\tname: name}]\n\t}\n    } else {\n\t\n    }\n}\n\n/*\nhttps://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\nhttps://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle\nhttps://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryHandle\nhttps://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\n*/\n\nc.count = 0\n\nc.uploadSize = 0\nc.totalSize = 0\nc.toUploadCount = 0\n\nc.allNodes = []\n\nc.importDirectoryTree = async function(pod,rootPath){\n    log.debug(\"importDirectory\",pod, rootPath)\n    if (!rootPath){\n\trootPath = \"/home/\"\n    }\n    var start = performance.now()\n    if (!pod){\n\tpod = store.state.webId\n    }\n    const isTrinApp = c.isTrinApp()\n    const where = $rdf.blankNode()\n    const rootFolder = await window.showDirectoryPicker()\n    const rootNode = $rdf.blankNode()\n    const zip = new JSZip()\n    if ($.type(rootFolder) === 'object' && rootFolder.kind === 'directory' && rootFolder.name){\n\trootNode.path = encodeURIComponent(rootFolder.name) + \"/\"\n\trootNode.pod = pod\n\trootNode.handle = rootFolder\n\tvar errors = []\n\trdfStore.add(rootNode,ns.RDF('type'),ns.LDP('BasicContainer'),where)\n\trdfStore.add(rootNode,ns.RDFS('label'),\"Root\",where)\n\trdfStore.add(rootNode,ns.NEO(\"m_folder\"),\"/home/\" + rootFolder.name + \"/\",where)\n\tfor await (const handle of rootFolder.values()) {\n\t    errors.push( await c.importDirectoryRecurse(rootNode,handle,where,errors))\n\t    log.debug(handle.kind, handle.name);\n\t}\n\tvar finish = performance.now()\n\tvar duration = (finish - start) / 1000\n\t\n    } else {\n\tlog.error(\"Cound not resove directory\",{rootFolder: rootFolder})\n\treturn [\"error\",\"Cound not resove directory\",{rootFolder: rootFolder}]\n    }\n    //Now manage the uploads\n    const directories = ur.getContents(rootNode)\n    if (!directories){\n\tdirectories = rootNode\n    }\n    c.count = 0\n    //first calculate overall size\n     for (const directory of directories){\n\tconst contents = ur.getContentsNested(directory)\n\tif (Array.isArray(contents) && contents.length > 0){\n\t    contents.forEach(item => {\n\t\tif (!item.permUri){\n\t\t    if (item.handle.kind === 'file'){\n\t\t\tc.totalSize += item.size\n\t\t\tc.count += 1\n\t\t    }\n\t\t}\n\t    })\t    \n\t}\n     }\n    c.uploadSize = c.totalSize\n    c.toUploadCount = c.count\n    for (const directory of directories){\n\tconst contents = ur.getContentsNested(directory)\n\tvar toUpload = []\n\tif (Array.isArray(contents) && contents.length > 0){\n\t    contents.forEach(item => {\n\t\tif (!item.permUri){\n\t\t    if (item.handle.kind === 'file'){\n\t\t\ttoUpload.push(item)\n\t\t    }\n\t\t}\n\t    })\n\t    c.appMessage(\"\")\n\t    if (toUpload.length > 0){\n\t\tfor (const item of toUpload){\n\t\t    var currentContainer = ur.getContainer(item)\n\t\t    if ($.type(currentContainer) === 'object'){\n\t\t\tcurrentContainer = currentContainer.name\n\t\t    }\n\t\t    if (typeof(currentContainer) !== 'string'){\n\t\t\tcurrentContainer = decodeURIComponent(item.path.split(\"/\").reverse()[1])\n\t\t    }\n\t\t    if (item.handle.kind === 'file'){\n\t\t\tif (!isTrinApp){\n\t\t\t    c.appMessage(\"Uploading: \" + Math.round(100 - ((c.uploadSize / c.totalSize) * 100)) + \"% (\" +\n\t\t\t\t\t (c.count - c.toUploadCount) + \" of \" + c.count + \")<br>\" +\n\t\t\t\t\t currentContainer + \"<br>\" + item.name)\n\t\t\t    await c.uploadFile(item,null,null,null,rootPath)\n\t\t\t} else {\n\t\t\t    const file = await item.handle.getFile()\n\t\t\t    zip.file(item.path,file,{date: new Date(file.lastModifiedDate)})\n\t\t\t}\n\t\t\tc.toUploadCount -= 1\n\t\t\tc.uploadSize = c.uploadSize - item.size\n\t\t\tlog.debug(\"item\",item,ur.getContainer(item))\n\t\t    }\n\t\t}\n\t\tc.appMessage(\"\")\n\t    }\n\t}\n    }\n    \n    log.debug(\"zip\",zip)\n    if (isTrinApp){\n\ttry {\n\t    var requestUri = u.getBaseURI(pod) + rootPath\n\t    var file = await zip.generateAsync({type: \"uint8array\"})\n\t    var result = await window.solid.session.fetch(requestUri, {\n\t\tmethod: \"PUT\",\n\t\tbody: file,\n\t\theaders: { link: '<https://trinity.graphmetrix.net/node/t_2qv>; rel=\"type\"'\n\t\t\t}\n\t    });\n\t    c.createAlert(\"Please Note:\",\n\t\t\t  \"I will send you an email notification when the bulk upload is complete\",\n\t\t\t  \"\",\n\t\t\t  \"success\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t} catch (error) {\n\t    alert(error);\n\t}\n\t//alert message email\n\n\t\n    }\n    //delete \n    rdfStore.removeMatches(null,null,null,where)\n    return [\"imported\",{rootNode: rootNode,\n\t\t\ttoUpload: toUpload,\n\t\t\tuploadSize: c.uploadSize,\n\t\t\twhere: where,\n\t\t\terrors: errors.flat(),\n\t\t\tduration: duration\n\t\t       }]\n    \n}\n\nc.appMessage = function(message){\n    if (message === \"\"){\n\tmessage = null\n    }\n    if (c.isTrinApp() === true){\n\tstore.commit(\"apiMessage\",message)\n    }\n}\n\nc.importDirectoryRecurse = async function(parentNode,handle,where,errors){\n    const handleResults = await c.importHandleNode(handle,where,errors,parentNode)\n    //log.debug(handleResults)\n    if (Array.isArray(handleResults)){\n\tconst node = handleResults[0]\n\t//log.debug(\"node\",node)\n\tconst obj = handleResults[1]\n\tif ($.type(obj) === 'object'){\n\t    errors = obj.errors\t    \n\t    if ($.type(node) === 'object' && node.termType === 'BlankNode'){\n\t\trdfStore.add(parentNode,ns.LDP('contains'),node,where)\n\t\tconst kind = handleResults[1].kind\n\t\tif (kind && kind === \"directory\"){\n\t\t    //log.debug(\"handle\",await handle.values())\n\t\t    for await (const entry of handle.values()) {\n\t\t\t//log.debug(\"entry\", entry)\n\t\t\t\n\t\t\terrors.push( await c.importDirectoryRecurse(node,entry,where,errors.flat()))\n\t\t\t//log.debug(entry.kind, entry.name);\n\t\t    }\n\t\t    \n\t\t} else if (kind && kind === \"file\"){\n\t\t    //log.debug(\"file\",node.path)\n\t\t}\n\t\t    \n\t\t    \n\t    } else {\n\t\tlog.error(\"Unable to create handle node\",{parentNode: parentNode,\n\t\t\t\t\t\t\t  handle: handle,\n\t\t\t\t\t\t\t  where: where})\n\t\tc.createAlert(\"Error:\",\n\t\t\t  \"Unable to create handle node\",\n\t\t\t  \"Kind: \" + handle.kind + \" , Name: \" + handle.name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t\terrors.push([\"error\",\"Unable to create handle node\",{parentNode: parentNode,\n\t\t\t\t\t\t\t\t     handle: handle,\n\t\t\t\t\t\t\t\t     where: where}])\n\t    }\n\t} else {\n\t    log.error(\"Bad object returned from importHandleNode\",{parentNode: parentNode,\n\t\t\t\t\t\t\t\t   node: node,\n\t\t\t\t\t\t\t\t   handleResults: handleResults,\n\t\t\t\t\t\t\t\t   handle: handle,\n\t\t\t\t\t\t\t\t   where: where})\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Bad object returned from import\",\n\t\t\t  \"Parent: \" + parentNode.name + \" , Node: \" + node.name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    errors.push([\"error\",\"Bad object returned from importHandleNode\",{parentNode: parentNode,\n\t\t\t\t\t\t\t\t   node: node,\n\t\t\t\t\t\t\t\t   handleResults: handleResults,\n\t\t\t\t\t\t\t\t   handle: handle,\n\t\t\t\t\t\t\t\t\t      where: where}])\n\t}\n    } else {\n\tlog.error(\"Unable to get importHandleNode results\",{parentNode: parentNode,\n\t\t\t\t\t\t\t    handle: handle,\n\t\t\t\t\t\t\t    where: where})\n\tc.createAlert(\"Error:\",\n\t\t\t  \"Unable to get import results\",\n\t\t\t  \"Parent: \" + parentNode.name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\terrors.push([\"error\",\"Unable to get importHandleNode results\",{parentNode: parentNode,\n\t\t\t\t\t\t\t\t       handle: handle,\n\t\t\t\t\t\t\t\t       where: where}])\n    }\n    return errors.flat()\n}\n\nc.importHandleNode = async function(handle,where,errors,parentNode){\n    const node = $rdf.blankNode()\n    node.handle = handle\n    c.count = c.count + 1\n    //log.debug(\"count\",c.count)\n    c.allNodes.push(node)\n    node.pod = parentNode.pod\n    const name = handle.name\n    //conditional character resolution when unzip missing encoding data between regions\n    var encName = \"\"\n    for (let letter of name) {\n\tvar code = letter.codePointAt(0)\n\tif (code > 300){\n\t    node.encodingIssue = name\n\t}\n\tswitch(code){\n\tcase 1089:\n\t    encName += \"ß\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1044:\n\t    encName += \"ä\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1054:\n\t    encName += \"Ä\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1041:\n\t    encName += \"ü\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1066:\n\t    encName += \"Ü\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1060:\n\t    encName += \"ö\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1065:\n\t    encName += \"Ö\"\n\t    delete node.encodingIssue\n\t    break;\n\tcase 1042:\n\t    encName += \"é\"\n\t    delete node.encodingIssue\n\t    break;\n\tdefault:\n\t    encName += letter\n\t    break;\n\t}\n    }\n    node.name = encName\n    const kind = handle.kind\n    node.path = parentNode.path + encodeURIComponent(node.name)\n    var rawPath = parentNode.path + node.name\n    rdfStore.add(node,ns.NEO(\"m_folder\"),rawPath,where)\n    var type\n    if (kind === \"directory\"){\n\ttype = ns.LDP('BasicContainer')\n\tnode.path = node.path + \"/\"\n    } else if (kind === \"file\"){\n\ttype = ns.REG('file')\n\tconst file = await handle.getFile(handle)\n\tnode.size = file.size\n\tnode.modified = file.lastModified\n\tnode.mimeType = file.type\n    }\n    if (type){\n\trdfStore.add(node,ns.RDF('type'),type,where)\n    } else {\n\tlog.error(\"Unable to determine type\",{handle: handle,\n\t\t\t\t\t      node: node,\n\t\t\t\t\t      name: name,\n\t\t\t\t\t      kind: kind})\n\tc.createAlert(\"Error:\",\n\t\t\t  \"Unable to determine type\",\n\t\t\t  \"Name: \" + name + \" , Kind: \" + kind,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\terrors.push([\"error\",\"Unable to determine type\",{handle: handle,\n\t\t\t\t\t\t\t node: node,\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tkind: kind}])\n    }\n    if (name){\n\trdfStore.add(node,ns.RDFS('label'),name,where)\n    } else {\n\tlog.error(\"Unable to determine name\",{handle: handle,\n\t\t\t\t\t      node: node,\n\t\t\t\t\t      name: name,\n\t\t\t\t\t      kind: kind})\n\tc.createAlert(\"Error:\",\n\t\t\t  \"Unable to determine name\",\n\t\t\t  \"Node: \" + node.value + \" , Kind: \" + kind,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\terrors.push([\"error\",\"Unable to determine name\",{handle: handle,\n\t\t\t\t\t\t\t node: node,\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tkind: kind}])\n    }\n    return [node,{name: name,\n\t\t  kind: kind,\n\t\t  errors: errors.flat()}]\n}\n    \nc.uploadFile = async function (handleOrBlank,containerNode,name,pod,rootPath){\n    if (!rootPath){\n\trootPath = \"/home/\"\n    }\n    var start = performance.now()\n    var handle\n    var newUri\n    var isBlank\n    if (u.isBlankNode(handleOrBlank)){\n\tisBlank = true\n\thandle = handleOrBlank.handle\n\tname = handleOrBlank.name\n\tvar pod = handleOrBlank.pod\n\tif (!pod){\n\t    pod = store.state.webId\n\t} else if (handleOrBlank.name){\n\t    name = handleOrBlank.name\n\t}\n\tvar path = handleOrBlank.path\n\tif (!path){\n\t    log.error(\"Could not find upload directory path\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t\t    containerNode: containerNode,\n\t\t\t\t\t\t\t    name: name,\n\t\t\t\t\t\t\t     pod: pod})\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Could not find upload directory path\",\n\t\t\t  \"File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    return [\"error\",\"Could not find upload directory path\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t\t\t   containerNode: containerNode,\n\t\t\t\t\t\t\t\t   name: name,\n\t\t\t\t\t\t\t\t   pod: pod}]\n\t} else {\n\t    newUri = u.getBaseURI(pod) + rootPath + path\n\t}\n    } else if (ur.isContainer(containerNode) && !u.isBlankNode(containerNode)){\n\thandle = handleOrBlank\t\n\tnewUri = u.getURI(containerNode) + encodeURIComponent(name)\n    }\n    if (!newUri){\n\tlog.error(\"Unable to resove request uri\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t  containerNode: containerNode,\n\t\t\t\t\t\t  handle: handle,\n\t\t\t\t\t\t  name: name,\n\t\t\t\t\t\t  pod: pod})\n\t c.createAlert(\"Error:\",\n\t\t\t  \"Unable to resove request uri\",\n\t\t       \"Container: \" + u.getURI(containerNode) + \" , File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\treturn [\"error\",\"Unable to resove request uri\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t\tcontainerNode: containerNode,\n\t\t\t\t\t\t\thandle: handle,\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tpod: pod}]\n    } else {\n\tif ($.type(handle) === 'object'){\n\t    if (handle.kind === 'file'){\n\t\tvar file = await handle.getFile()\n\t\tif ($.type(file) === 'object' && file.size){\n\t\t    file = await file.arrayBuffer()\n\t\t    file = await new Uint8Array(file)\n\t\t    if (u.checkURL(newUri)){\n\t\t\ttry {\n\t\t\t    var result = await window.solid.session.fetch(newUri, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\tbody: file,\n\t\t\t    });\n\t\t\t    if (!new RegExp(\"^2..$\").test(result.status)) {\n\t\t\t\talert(\"Upload failed:\" + result.status + \" - \" + result.statusText);\n\t\t\t\treturn;\n\t\t\t    } else {\n\t\t\t\tvar finish = performance.now()\n\t\t\t\tvar duration = (finish - start) / 1000\n\t\t\t\tvar permUri = await result.headers.get('Content-Location')\n\t\t\t\tif (u.isBlankNode(handleOrBlank)){\n\t\t\t\t    handleOrBlank.permUri = permUri\n\t\t\t\t}\n\t\t\t\tvar response = [result.statusText,{result: result,\n\t\t\t\t\t\t\t\t   uri: permUri,\n\t\t\t\t\t\t\t\t   duration: duration}]\n\t\t\t\t\n\t\t\t\tlog.debug(response)\n\t\t\t\treturn response\n\t\t\t    }\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t    alert(error);\n\t\t\t}\n\t\t    } else {\n\t\t\tlog.error(\"Unable to resolve container uri\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t\t\t     newUri: newUri,\n\t\t\t\t\t\t\t\t     containerNode: containerNode,\n\t\t\t\t\t\t\t\t     handle: handle,\n\t\t\t\t\t\t\t\t     name: name,\n\t\t\t\t\t\t\t\t     pod: pod})\n\t\t\tc.createAlert(\"Error:\",\n\t\t\t  \"Unable to resolve container uri\",\n\t\t\t  \"Path: \" + path + \" , File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t\t\treturn [\"error\",\"Unable to resolve container uri\",{handleOrBlank: handleOrBlank,\n\t\t\t\t\t\t\t\t\t   newUri: newUri,\n\t\t\t\t\t\t\t\t\t   containerNode: containerNode,\n\t\t\t\t\t\t\t\t\t   handle: handle,\n\t\t\t\t\t\t\t\t\t   name: name,\n\t\t\t\t\t\t\t\t\t   pod: pod}]\n\t\t    }\n\t\t} else {\n\t\t    log.error(\"Unable to retrieve file\",{containerNode: containerNode,\n\t\t\t\t\t\t\t handle: handle,\n\t\t\t\t\t\t\t file: file,\n\t\t\t\t\t\t\t name: name})\n\t\t    c.createAlert(\"Error:\",\n\t\t\t  \"Unable to retrieve file\",\n\t\t\t  \"Path: \" + path + \" , File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t\t    return [\"error\",\"Unable to retrieve file\",{containerNode: containerNode,\n\t\t\t\t\t\t\t       handle: handle,\n\t\t\t\t\t\t\t       file: file,\n\t\t\t\t\t\t\t       name: name}]\n\t\t}\n\t    } else {\n\t\tlog.error(\"Handle is not a file\",{containerNode: containerNode,\n\t\t\t\t\t\t     handle: handle,\n\t\t\t\t\t\t     name: name})\n\t\tc.createAlert(\"Error:\",\n\t\t\t  \"Handle is not a file\",\n\t\t\t  \"Path: \" + path + \" , File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t\treturn [\"error\",\"Handle is not a file\",{containerNode: containerNode,\n\t\t\t\t\t\t\t   handle: handle,\n\t\t\t\t\t\t\t   name: name}]\n\t    }\n\t} else {\n\t    log.error(\"Invalid file handle\",{containerNode: containerNode,\n\t\t\t\t\t     handle: handle,\n\t\t\t\t\t     name: name})\n\t    c.createAlert(\"Error:\",\n\t\t\t  \"Unable to retrieve file\",\n\t\t\t  \"Container: \" + u.getURI(containerNode) +\n\t\t\t  \"Path: \" + path + \" , File: \" + name,\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    return [\"error\",\"Invalid file handle\",{containerNode: containerNode,\n\t\t\t\t\t\t   handle: handle,\n\t\t\t\t\t\t   name: name}]\n\t}\n    }\n}\n    \n\n\nc.quadsToTurtle = function (quads) {\n\tif (quads && Array.isArray(quads)) {\n\t\tvar triples = []\n\t\tvar result\n\t\tvar Ns = {}\n\t\tvar Default = new N3.DefaultGraph()\n\t\tquads.forEach(function (q) {\n\t\t\tq.graph = Default\n\t\t\ttriples.push(q)\n\t\t})\n\t\t//Ns.u1 = ns.U1().value\n\t\tNs.solid = ns.SOLID().value\n\t\tNs.neo = ns.NEO().value\n\t\tNs.ldp = ns.LDP().value\n\t\tNs.rdf = ns.RDF().value\n\t\tNs.rdfs = ns.RDFS().value\n\t\tNs.sio = ns.SIO().value\n\t\tNs.acl = ns.ACL().value\n\t\tNs.vcard = ns.VCARD().value\n\n\t\tconst writer = new N3.Writer({ prefixes: Ns })\n\t\twriter.addQuads(quads)\n\t\twriter.end((error, res) => result = res)\n\t\treturn result\n\t}\n}\n\n////this was placed into util-c.js because the line \"const N3 = require('n3')\" seemed to cause problems in pod-main-properties-actions.vue\nc.createReadTriple = function(uri){\n\t//blank node entity to represent the new authorization object to create states for :\n    store.commit('blankNodeIncrement');\n    const id = store.state.blankNodeIndex;\n    var authorization = new N3.BlankNode(id);\n\n    const triples = []\n    const Default = new N3.DefaultGraph()//make a default node as per util-c\n    triples.push($rdf.st(authorization,ns.ACL('accessTo'),$rdf.sym(uri),Default))\n    triples.push($rdf.st(authorization,ns.ACL('agentClass'),ns.FOAF('Agent'),Default))\n    triples.push($rdf.st(authorization,ns.ACL('mode'),ns.ACL('Read'),Default))\n\ttriples.push($rdf.st(authorization,ns.RDF('type'),ns.ACL('Authorization'),Default))\n\n    return triples;\n}\n\nc.createAlert = function(\n    title,\n    summary,\n    details,\n    severity,\n    dismissible,\n    autoDismiss,\n    appendToId\n) {\n    var iconMap = {\n\tinfo: \"fa fa-info-circle\",\n\tsuccess: \"fa fa-thumbs-up\",\n\twarning: \"fa fa-exclamation-triangle\",\n\tdanger: \"fa ffa fa-exclamation-circle\",\n    };\n    \n    var iconAdded = false;\n    \n    var alertClasses = [\"alert\", \"animated\", \"flipInX\"];\n    alertClasses.push(\"alert-\" + severity.toLowerCase());\n    \n    if (dismissible) {\n\talertClasses.push(\"alert-dismissible\");\n    }\n    \n    var msgIcon = $(\"<i />\", {\n\tclass: iconMap[severity], // you need to quote \"class\" since it's a reserved keyword\n    });\n    \n    var msg = $(\"<div />\", {\n\tclass: alertClasses.join(\" \"), // you need to quote \"class\" since it's a reserved keyword\n    });\n    \n    if (title) {\n\tvar msgTitle = $(\"<h4 />\", {\n\t    html: title,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgTitle.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (summary) {\n\tvar msgSummary = $(\"<strong />\", {\n\t    html: summary,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgSummary.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (details) {\n\tvar msgDetails = $(\"<p />\", {\n\t    html: details,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgDetails.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (dismissible) {\n\tvar msgClose = $(\"<span />\", {\n\t    class: \"close\", // you need to quote \"class\" since it's a reserved keyword\n\t    \"data-dismiss\": \"alert\",\n\t    html: \"<i class='fa fa-times-circle'></i>\",\n\t}).appendTo(msg);\n    }\n    \n    $(\"#\" + appendToId).prepend(msg);\n    \n    if (autoDismiss) {\n\tsetTimeout(function () {\n\t    msg.addClass(\"flipOutX\");\n\t    setTimeout(function () {\n\t\tmsg.remove();\n\t    }, 5000); //was 1000\n\t}, 6000);//was 5000\n    }\n}\n\n/*\nc.addMember = async function(parentWebid,memberWebids,addEmployee){\n    var start = performance.now()\n    const validParent = await ur.validateWebId(parentWebid)\n    //note if one member fails whole command fails\n    if (typeof(memberWebids) === 'string'){t\n\tmemberWebids = [memberWebids]\n    }\n    if (Array.isArray(memberWebids) && memberWebids.length > 0){\n\tvar members = []\n\tvar invalidMembers = []\n\tvar alreadyMember = []\n\tif (validParent){\n\t    console.log(\"validParent\",validParent)\n\t    if (!addEmployee || (addEmployee && (ur.isPodBusiness(parentWebid) ||\n\t\t\t\t\t\tur.isPodOrganization(parentWebid)))){\n\t\tvar currentMembers = ur.getMember(parentWebid)\n\t\tconsole.log(\"currentMembers\",currentMembers)\n\t\tif (!Array.isArray(currentMembers)){\n\t\t    currentMembers = []\n\t\t}\n\t\tif (ur.isPodProject(parentWebid) ||\n\t\t    ur.isPodBusiness(parentWebid) ||\n\t\t    ur.isPodOrganization(parentWebid) ||\n\t\t    ur.isPodGroup(parentWebid)){\n\t\t    await Promise.all(memberWebids.map(async (member) => {\n\t\t\tconst validMember = await ur.validateWebId(member)\n\t\t\tif (validMember){\n\t\t\t    if (currentMembers.includes(member)){\n\t\t\t\tconsole.log(\"Already a member\",{memberWebId: member,\n\t\t\t\t\t\t\t       parentWebid: parentWebid})\n\t\t\t\talreadyMember.push(member)\n\t\t\t    } else {\n\t\t\t\tmembers.push(member)\n\t\t\t    }\n\t\t\t} else {\n\t\t\t    console.log(\"Invalid member\",member)\n\t\t\t    invalidMembers.push(member)\n\t\t\t}\n\t\t    }))\n\t\t    if (alreadyMember.length > 0){\n\t\t\tlog(\"Existing members included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t invalidMembers: invalidMembers})\n\t\t\treturn [\"error\",\"Existing members included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t\t     alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t\t     invalidMembers: invalidMembers}]\n\t\t    } else if (invalidMembers.length > 0){\n\t\t\tlog(\"Invalid member webids included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t      alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t      invalidMembers: invalidMembers})\n\t\t\treturn [\"error\",\"Invalid member webids included\",{parentWebid: parentWebid,\n\t\t\t\t\t\t\t\t\t  alreadyMember: alreadyMember,\n\t\t\t\t\t\t\t\t\t  invalidMembers: invalidMembers}]\n\t\t    } else {\n\t\t\tvar Function\n\t\t\tif (addEmployee){\n\t\t\t    Function = trinapp.w_trinapp_add_employee.value\n\t\t\t} else {\n\t\t\t    Function = trinapp.w_trinapp_add_member.value\n\t\t\t}\n\t\t\tvar obj = c.capability(store.state.webId,Function)\n\t\t\tif (obj){\n\t\t\t    for (const member of members){\n\t\t\t\tobj = c.addStateForInput(\n\t\t\t\t    parentWebid,\n\t\t\t\t    ns.VCARD(\"hasMember\"), \n\t\t\t\t    member,\n\t\t\t\t    obj\n\t\t\t\t)\n\t\t\t    }\n\t\t\t    const event = c.event(obj);\n\t\t\t    const turtle = c.quadsToTurtle(event.quads);\n\t\t\t    await window.solid.session.fetch(\n\t\t\t\tu.getBaseURI(parentWebid) + \"/node/Substance\",\n\t\t\t\t{\n\t\t\t\t    credentials: \"include\",\n\t\t\t\t    method: \"PATCH\",\n\t\t\t\t    body: \"INSERT DATA {\" + turtle + \"}\",\n\t\t\t\t    headers: { \"Content-Type\": \"application/sparql-update\" },\n\t\t\t\t}\n\t\t\t    )\n\t\t\t    var finish = performance.now()\n\t\t\t    var duration = (finish - start) / 1000\n\t\t\t    return [\"added\",{members: members,\n\t\t\t\t\t     parentWebid: parentWebid,\n\t\t\t\t\t     duration: duration}]\n\t\t\t} else {\n\t\t\t    console.log(\"User does not have required capability\",{user: store.state.webId,\n\t\t\t\t\t\t\t\t\t\tFunction: Function})\n\t\t\t    return [\"error\",\"User does not have required capability\",{user: store.state.webId,\n\t\t\t\t\t\t\t\t\t\t      Function: Function}]\n\t\t\t}\n\t\t    }\n\t\t} else {\n\t\t    console.log(\"Parent Pod type does not have members\",parentWebid)\n\t\t    return [\"error\",\"Parent Pod type does not have members\",parentWebid]\n\t\t}\n\t    } else {\n\t\tconsole.log(\"Parent Pod type does not have employees\",parentWebid)\n\t\treturn [\"error\",\"Parent Pod type does nt have employees\",parentWebid]\n\t    }\t    \n\t} else {\n\t    console.log(\"Invalid parentWebid\",{parentWebid: parentWebid,\n\t\t\t\t\t     memberWebids: memberWebids})\n\t    return [\"error\",\"Invalid parentWebid\",{parentWebid: parentWebid,\n\t\t\t\t\t\t   memberWebids: memberWebids}]\n\t}\n    } else {\n\tconsole.log(\"Invalid memberWebids\",{parentWebid: parentWebid,\n\t\t\t\t\t  memberWebids: memberWebids})\n\treturn [\"error\",\"Invalid memberWebids\",{parentWebid: parentWebid,\n\t\t\t\t\t\tmemberWebids: memberWebids}]\n    }\n}\n\nc.getTrinpodFunction = function(trinpodType) {\n    switch (trinpodType) {\n    case \"company\":\n\treturn trinapp.w_trinapp_add_business_pod.value;\n    case \"project\":\n\treturn trinapp.w_trinapp_add_project.value;\n    case \"building\":\n\treturn trinapp.w_trinapp_add_building.value\n    case \"organization\":\n\treturn trinity.f_add_organization_trinpod\n    case \"site\":\n\treturn trinity.f_add_site_trinpod\n    case \"sub_org\":\n\treturn trinity.f_add_suborg_trinpod\n    case \"group\":\n\treturn trinity.f_add_group_trinpod\n    }\n}\n\n\nc.checkTrinpodID = async function(trinpodID){\n    if (trinpodID){\n\ttry {\n\t    var response = await window.solid.session\n\t\t.fetch(\n\t\t    \"https://\"+ store.state.server +\n\t\t\t\"/trinpodIDExists?trinpodID=\" +\n\t\t\ttrinpodID,\n\t\t    {\n\t\t\tcredentials: \"include\",\n\t\t    }\n\t\t)\n\t    var text = await response.text()\n\t    return text\n\t    //this.trinpodIDExists = text === \"Exists\";\n\t} catch(error) {\n\t    console.log(error)\n\t    c.trinpodIDLookupTimeout = null;\n\t}\n    } else {\n\tconsole.log(\"need trinpodID to check\")\n    }\n}\n\nc.createTrinpods = async function(podArray){\n    if (Array.isArray(podArray) && podArray.length > 0){\n\tvar pods = []\n\tvar start = performance.now()\n\tfor (const pod of podArray) {\n\t    const create = await c.createTrinpod(pod[0],pod[1],pod[2],pod[3],pod[4])\n\t    pods.push(create)\n\t    console.log(create)\n\t}\n\tvar end = performance.now()\n\tvar duration = (end - start) / 1000\n\treturn [\"finished\",pods,duration]\n    }\n}\n\nc.createTrinpod = async function (trinpodID,trinpodName,parentPod,trinpodType,vertical) {\n    if (trinpodID && trinpodName && u.getURI(parentPod) && trinpodType){\n\t//add trinpodID validity check\n\tif (/^[a-z][a-z0-9\\-]+$/.test(trinpodID)){\n\t    var check = await c.checkTrinpodID(trinpodID)\n\t    if (check !== 'Exists'){\n\t\t//check that parentpod exists\n\t\tconst parentId = u.getSubdomain(parentPod)\n\t\tif (parentId){\n\t\t    const parentCheck = await c.checkTrinpodID(parentId)\n\t\t    if (parentCheck === 'Exists'){\n\t\t\tconst url = new URL(\"https://\"+store.state.server)\n\t\t\tconst trinpodUri = url.protocol + \"//\" + trinpodID + \".\" + url.host + \"/i\";\n\t\t\tconst podNodeURI = u.getBaseURI(parentPod);\n\t\t\tconst trinpodFunction = c.getTrinpodFunction(trinpodType)\n\t\t\tif (trinpodFunction && podNodeURI && trinpodUri){\n\t\t\t    var obj = c.capability(store.state.webId, trinpodFunction);\n\t\t\t    obj = c.addStateForInput(trinpodUri,neo.m_label,trinpodName,obj)\n\t\t\t    obj = c.addStateForInput(trinpodUri,ns.FOAF(\"maker\"),parentPod, obj)\n\t\t\t    var verticalType = ns.NEO(\"a_pod-solid\");\n\t\t\t    if (vertical === \"construction\") {\n\t\t\t\tverticalType = ns.NEO(\"a_pod-construction\");\n\t\t\t    }\n\t\t\t    obj = c.addStateForInput(trinpodUri,ns.RDF(\"type\"),verticalType,obj)\n\t\t\t    const event = c.event(obj);\n\t\t\t    const turtle = c.quadsToTurtle(event.quads);\n\t\t\t    //console.log(\"event\",event,obj)\n\t\t\t    var start = performance.now()\n\t\t\t    await window.solid.session.fetch(\n\t\t\t\tu.getBaseURI(parentPod) + \"/node/Substance\",\n\t\t\t\t{\n\t\t\t\t    credentials: \"include\",\n\t\t\t\t    method: \"PATCH\",\n\t\t\t\t    body: \"INSERT DATA {\" + turtle + \"}\",\n\t\t\t\t    headers: { \"Content-Type\": \"application/sparql-update\" },\n\t\t\t\t}\n\t\t\t    );\n\t\t\t    var finish = performance.now()\n\t\t\t    var duration = (finish - start) / 1000\n\t\t\t    return [\"created\",{uri: trinpodUri,\n\t\t\t\t\t       trinpodID: trinpodID,\n\t\t\t\t\t       duration: duration}]\n\t\t\t} else {\n\t\t\t    console.log(\"could not build pod info\",{trinpodFunction: trinpodFunction,\n\t\t\t\t\t\t\t\t  podNodeURI: podNodeURI,\n\t\t\t\t\t\t\t\t  trinpodUri: trinpodUri})\n\t\t\t    return [\"error\",\"could not build pod info\",{trinpodFunction: trinpodFunction,\n\t\t\t\t\t\t\t\t\tpodNodeURI: podNodeURI,\n\t\t\t\t\t\t\t\t\ttrinpodUri: trinpodUri}\n\t\t\t\t   ]\n\t\t\t}\n\t\t    } else {\n\t\t\tconsole.log(\"Unable to find parent pod\",{parentId: parentId,\n\t\t\t\t\t\t\t\t    parentPod: parentPod,\n\t\t\t\t\t\t\t\t    trinpodID: trinpodID})\n\t\t\treturn [\"error\",\"Unable to find parent pod\",{parentId: parentId,\n\t\t\t\t\t\t\t\t\t  parentPod: parentPod,\n\t\t\t\t\t\t\t\t\t  trinpodID: trinpodID}]\n\t\t    }\n\t\t} else {\n\t\t    console.log(\"Unable to make parentId\",{parentPod: parentPod,\n\t\t\t\t\t\t\t trinpodID: trinpodID})\n\t\t    return [\"error\",\"Unable to make parentId\",{parentPod: parentPod,\n\t\t\t\t\t\t\t       trinpodID: trinpodID}]\n\t\t}\n\t    } else {\n\t\tconsole.log(\"That trinpodID is already being used:\",trinpodID)\n\t\treturn [\"error\",\"That trinpodID is already being used:\",trinpodID]\n\t    }\n\t} else {\n\t    console.log(\"Invalid trinpodID /^[a-z][a-z0-9\\-]+$/.test(trinpodID)\",trinpodID)\n\t    return [\"error\",\"Invalid trinpodID /^[a-z][a-z0-9\\-]+$/.test(trinpodID)\",trinpodID]\n\t}\n    } else {\n\tconsole.log(\"missing information to build pod\",{trinpodID: trinpodID,\n\t\t\t\t\t\t      trinpodName: trinpodName,\n\t\t\t\t\t\t      parentPod: parentPod,\n\t\t\t\t\t\t      trinpodType: trinpodType})\n\treturn [\"error\",\"missing information to build pod\",{trinpodID: trinpodID,\n\t\t\t\t\t\t\t    trinpodName: trinpodName,\n\t\t\t\t\t\t\t    parentPod: parentPod,\n\t\t\t\t\t\t\t    trinpodType: trinpodType}]\n    }\n}\n\nc.addStateForInput = function (entity, func, result, obj) {\n\tentity = u.getURI(entity)\n\tfunc = u.getURI(func)\n\tvar rUri = u.getURI(result)\n\tif (rUri) {\n\t\tresult = $rdf.sym(rUri)\n\t} else if (typeof result === 'string') {\n\t\tresult = $rdf.lit(result, null, xsd.string)\n\t} else if (typeof result === 'number') {\n\t\tresult = $rdf.lit(Result, null, xsd.integer)\n\t}\n\tif (entity && func && result) {\n\t\tif (!obj) {\n\t\t\tobj = {}\n\t\t}\n\t\tif (!obj.quads) {\n\t\t\tobj.quads = []\n\t\t}\n\t\tif (!obj.input) {\n\t\t\tobj.input = []\n\t\t}\n\t\tconst attribute = c.attribute(func, result, obj)\n\t\tconst state = c.state(entity, attribute.attribute, attribute)\n\t\tdelete state.attribute\n\t\tstate.input = state.input.concat(state.state)\n\t\tdelete state.state\n\t\treturn state\n\t} else {\n\t\tconsole.log(\"Bad Input to c.addStateForInput\", entity, func, result, obj)\n\t}\n}\n\nc.quadsToTurtle = function (quads) {\n\tif (quads && Array.isArray(quads)) {\n\t\tvar triples = []\n\t\tvar result\n\t\tvar Ns = {}\n\t\tvar Default = new N3.DefaultGraph()\n\t\tquads.forEach(function (q) {\n\t\t\tq.graph = Default\n\t\t\ttriples.push(q)\n\t\t})\n\t\tNs.u1 = ns.U1().value\n\t\tNs.solid = ns.SOLID().value\n\t\tNs.neo = ns.NEO().value\n\t\tNs.ldp = ns.LDP().value\n\t\tNs.rdf = ns.RDF().value\n\t\tNs.rdfs = ns.RDFS().value\n\t\tNs.sio = ns.SIO().value\n\t\tNs.acl = ns.ACL().value\n\t\tNs.vcard = ns.VCARD().value\n\n\t\tconst writer = new N3.Writer({ prefixes: Ns })\n\t\twriter.addQuads(quads)\n\t\twriter.end((error, res) => result = res)\n\t\treturn result\n\t}\n}\n\nc.createAlert = function(\n    title,\n    summary,\n    details,\n    severity,\n    dismissible,\n    autoDismiss,\n    appendToId\n) {\n    var iconMap = {\n\tinfo: \"fa fa-info-circle\",\n\tsuccess: \"fa fa-thumbs-up\",\n\twarning: \"fa fa-exclamation-triangle\",\n\tdanger: \"fa ffa fa-exclamation-circle\",\n    };\n    \n    var iconAdded = false;\n    \n    var alertClasses = [\"alert\", \"animated\", \"flipInX\"];\n    alertClasses.push(\"alert-\" + severity.toLowerCase());\n    \n    if (dismissible) {\n\talertClasses.push(\"alert-dismissible\");\n    }\n    \n    var msgIcon = $(\"<i />\", {\n\tclass: iconMap[severity], // you need to quote \"class\" since it's a reserved keyword\n    });\n    \n    var msg = $(\"<div />\", {\n\tclass: alertClasses.join(\" \"), // you need to quote \"class\" since it's a reserved keyword\n    });\n    \n    if (title) {\n\tvar msgTitle = $(\"<h4 />\", {\n\t    html: title,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgTitle.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (summary) {\n\tvar msgSummary = $(\"<strong />\", {\n\t    html: summary,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgSummary.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (details) {\n\tvar msgDetails = $(\"<p />\", {\n\t    html: details,\n\t}).appendTo(msg);\n\t\n\tif (!iconAdded) {\n\t    msgDetails.prepend(msgIcon);\n\t    iconAdded = true;\n\t}\n    }\n    \n    if (dismissible) {\n\tvar msgClose = $(\"<span />\", {\n\t    class: \"close\", // you need to quote \"class\" since it's a reserved keyword\n\t    \"data-dismiss\": \"alert\",\n\t    html: \"<i class='fa fa-times-circle'></i>\",\n\t}).appendTo(msg);\n    }\n    \n    $(\"#\" + appendToId).prepend(msg);\n    \n    if (autoDismiss) {\n\tsetTimeout(function () {\n\t    msg.addClass(\"flipOutX\");\n\t    setTimeout(function () {\n\t\tmsg.remove();\n\t    }, 5000); //was 1000\n\t}, 6000);//was 5000\n    }\n}\n\nc.capability = function (system, func, obj) {\n    var func = u.getURI(func)\n    var system = u.getURI(system)\n    if (func && system) {\n\tvar capability = q.capability(system, func)\n\tif (capability) {\n\t    return { capability: capability[0] }\n\t} //  TODO debug code below\n\telse {\n\t    var Default = new N3.DefaultGraph()\n\t    if (!obj){\n\t\tobj = {}\n\t    }\n\t    var attrib = c.attribute(neo.b_capable, func, obj)\n\t    var cap = c.state(system,attrib.attribute,attrib)\n\t    cap.capability = cap.state\n\t    return cap\n\t}\n\t\n    }\n}\n*/\n\nexport default c;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporter.vue?vue&type=style&index=0&id=2e2d0c2b&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSviewerV.vue?vue&type=style&index=0&id=f96e88c6&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEdit.vue?vue&type=style&index=0&id=d1f69328&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/geometry2.f313f08d.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"viewport\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"viewport\",\"scroll\":\"no\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"30px\",\"left\":\"35px\"}},[(_vm.getSelectedRoomName)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"}},[_vm._v(\" \"+_vm._s(_vm.getSelectedRoomName)+\" \")]):_vm._e(),_c('v-slider',{staticStyle:{\"width\":\"150px\"},attrs:{\"thumb-label\":\"always\",\"max\":2,\"min\":1,\"step\":1},model:{value:(_vm.floorSplitFactor),callback:function ($$v) {_vm.floorSplitFactor=$$v},expression:\"floorSplitFactor\"}}),_c('v-switch',{attrs:{\"label\":\"GLTF geometry\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.gltfGeoVisible),callback:function ($$v) {_vm.gltfGeoVisible=$$v},expression:\"gltfGeoVisible\"}}),_c('v-switch',{attrs:{\"label\":\"Show spaces\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.spacesVisible),callback:function ($$v) {_vm.spacesVisible=$$v},expression:\"spacesVisible\"}})],1),(_vm.ifcloading)?_c('div',{attrs:{\"id\":\"text-container\"}},[_c('p',[_vm._v(\"Progress: \"+_vm._s(_vm.ifcloadpercentage)+\"%\")])]):_vm._e(),_c('div',{attrs:{\"id\":\"toolBar\"}},[_c('div',{staticClass:\"toolbar-tools\"},[_vm._m(0),_c('div',{staticClass:\"tool-separator\",attrs:{\"id\":\"tool_separator_1\"}}),(!_vm.twodim)?_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"twodim-button\",\"title\":\"2D\",\"data_operatorclass\":\"toolbar-orthograpic\"},on:{\"click\":_vm.setup2dview}},[_c('img',{attrs:{\"src\":require(\"./images/icon-2d.png\")}})]):_vm._e(),(_vm.twodim)?_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"threedim-button\",\"title\":\"3D\",\"data_operatorclass\":\"toolbar-perspective\"},on:{\"click\":_vm.setup2dview}},[_c('img',{attrs:{\"src\":require(\"./images/icon-3d.png\")}})]):_vm._e(),_c('div',{staticClass:\"tool-separator\",attrs:{\"id\":\"tool_separator_2\"}}),(!_vm.twodim)?_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"redline-button\",\"title\":\"Rotate\",\"data_operatorclass\":\"toolbar-redline-note\"},on:{\"click\":_vm.toggleRotation}},[_c('img',{attrs:{\"src\":_vm.icon_rotate}})]):_vm._e(),_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"click-button\",\"title\":\"Multiselect\"},on:{\"click\":_vm.multiSelect}},[_c('img',{attrs:{\"src\":_vm.icon_click}})]),(!_vm.twodim)?_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"camera-button\",\"title\":\"Walkmode\"},on:{\"click\":_vm.setupPersonView}},[_c('img',{attrs:{\"src\":_vm.icon_camera}})]):_vm._e(),_c('div',{staticClass:\"tool-separator\",attrs:{\"id\":\"tool_separator_4\"}}),(!_vm.twodim)?_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"snapshot-button\",\"title\":\"Snapshot\",\"data_operatorclass\":\"toolbar-snapshot\"},on:{\"click\":_vm.moveToObject}},[_c('img',{attrs:{\"src\":require(\"./images/icon-edgeface.png\")}})]):_vm._e(),_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"map-button\",\"title\":\"Map\"},on:{\"click\":_vm.toggleMap}},[_c('img',{attrs:{\"src\":require(\"./images/icon-map2.png\")}})]),_c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"settings-button\",\"title\":\"Settings\",\"data_operatorclass\":\"toolbar-settings\"},on:{\"click\":function($event){}}},[_c('img',{attrs:{\"src\":require(\"./images/icon-settings.png\")}})])])]),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.labelDialog),callback:function ($$v) {_vm.labelDialog=$$v},expression:\"labelDialog\"}},[_c('v-card',{staticStyle:{\"text-align\":\"left\"}},[_c('v-card-text',[_c('v-container',{staticStyle:{\"background-color\":\"white\"}},[_c('v-row',[_c('h2',[_vm._v(_vm._s(_vm.$t(\"text_create_issue\")))])]),_c('v-row',[_c('v-text-field',{attrs:{\"label\":_vm.$t('text_title')},model:{value:(_vm.labelObject.title),callback:function ($$v) {_vm.$set(_vm.labelObject, \"title\", $$v)},expression:\"labelObject.title\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":_vm.$t('text_description')},model:{value:(_vm.labelObject.description),callback:function ($$v) {_vm.$set(_vm.labelObject, \"description\", $$v)},expression:\"labelObject.description\"}})],1),_c('v-row',[_c('h3',[_vm._v(_vm._s(_vm.$t('text_issue_tags')))]),_c('br'),_c('v-select',{attrs:{\"items\":_vm.labelTagList,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.labelObject.tags),callback:function ($$v) {_vm.$set(_vm.labelObject, \"tags\", $$v)},expression:\"labelObject.tags\"}})],1),_c('v-row',[_c('h3',[_vm._v(_vm._s(_vm.$t('text_issue_responsible')))]),_c('br'),_c('v-select',{attrs:{\"items\":_vm.employeeNameList,\"menu-props\":\"auto\",\"label\":\"Select\",\"hide-details\":\"\",\"prepend-icon\":\"mdi-account\",\"single-line\":\"\"},model:{value:(_vm.labelObject.responsible),callback:function ($$v) {_vm.$set(_vm.labelObject, \"responsible\", $$v)},expression:\"labelObject.responsible\"}})],1),_c('v-row',[_c('div',{staticStyle:{\"margin-top\":\"60px\"}},[_c('h3',[_vm._v(_vm._s(_vm.$t('text_photo')))])]),_c('div',{staticStyle:{\"width\":\"200px\",\"margin-top\":\"10px\"}},[_c('vue-image-chooser',{staticStyle:{\"width\":\"200px\",\"height\":\"150px\"},attrs:{\"name\":\"image-chooser\",\"progress\":_vm.progress,\"error\":_vm.error},on:{\"change\":_vm.uploadImage}})],1)])],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.labelDialog = false}}},[_vm._v(_vm._s(_vm.$t(\"text_cancel\")))]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.createLabel()}}},[_vm._v(_vm._s(_vm.$t(\"text_create\")))]),(_vm.loading)?_c('v-progress-circular',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"menubutton\",attrs:{\"id\":\"home-button\",\"title\":\"Reset Camera\",\"data_operatorclass\":\"toolbar-home\"}},[_c('img',{attrs:{\"src\":require(\"./images/icon-home.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"viewport\" id=\"viewport\" scroll=\"no\" style=\"position: relative\">\n    <div style=\"position: absolute; top: 30px; left:35px\">\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        v-if=\"getSelectedRoomName\"\n      >\n        {{ getSelectedRoomName }}\n        </v-btn>\n        <v-slider\n          v-model=\"floorSplitFactor\"\n          thumb-label=\"always\"\n          :max=2\n          :min=1\n          :step=1\n          style=\"width: 150px\"\n        ></v-slider>\n        <v-switch\n            v-model=\"gltfGeoVisible\"\n            label=\"GLTF geometry\"\n            color=\"blue\"\n            hide-details\n          ></v-switch>\n          <v-switch\n            v-model=\"spacesVisible\"\n            label=\"Show spaces\"\n            color=\"blue\"\n            hide-details\n          ></v-switch>\n    </div>\n    <div id=\"text-container\" v-if=\"ifcloading\">\n      <p>Progress: {{ifcloadpercentage}}%</p>\n    </div>\n\n    <!-- Toolbar HTML-->\n    <div id=\"toolBar\">\n      <div class=\"toolbar-tools\">\n        <button id=\"home-button\" title=\"Reset Camera\" data_operatorclass=\"toolbar-home\" class=\"menubutton\"><img src=\"./images/icon-home.png\" /></button>\n        <div id=\"tool_separator_1\" class=\"tool-separator\"></div>\n        <button v-if=\"!twodim\" id=\"twodim-button\" title=\"2D\" data_operatorclass=\"toolbar-orthograpic\" class=\"menubutton\" @click=\"setup2dview\"><img src=\"./images/icon-2d.png\" /></button>\n        <button v-if=\"twodim\" id=\"threedim-button\" title=\"3D\" data_operatorclass=\"toolbar-perspective\" class=\"menubutton\" @click=\"setup2dview\"><img src=\"./images/icon-3d.png\" /></button>\n        <!-- <button id=\"edgeface-button\" title=\"Wireframe on Shaded\" data_operatorclass=\"toolbar-wireframeshaded\" class=\"menubutton\"><img v-bind:src=\"icon_edgeface\" /></button>-->\n        <div id=\"tool_separator_2\" class=\"tool-separator\"></div>\n        <button v-if=\"!twodim\" id=\"redline-button\" title=\"Rotate\" data_operatorclass=\"toolbar-redline-note\" class=\"menubutton\" @click=\"toggleRotation\"><img v-bind:src=\"icon_rotate\" /></button>\n        <button id=\"click-button\" title=\"Multiselect\" class=\"menubutton\" @click=\"multiSelect\"><img v-bind:src=\"icon_click\" /></button>\n        <button v-if=\"!twodim\" id=\"camera-button\" title=\"Walkmode\" class=\"menubutton\" @click=\"setupPersonView\"><img v-bind:src=\"icon_camera\" /></button>\n        <!-- <div id=\"tool_separator_3\" class=\"tool-separator\"></div>\n        <button id=\"explode-button\" title=\"Explode Menu\" data_operatorclass=\"toolbar-explode\" data_submenu=\"explode-slider\" class=\"menubutton\" @click=\"menu_explode = !menu_explode\"><img src=\"./images/icon-explode.png\" /></button>\n        <button id=\"cuttingplane-button\" title=\"Cutting Plane Menu\" data_operatorclass=\"toolbar-cuttingplane\" data_submenu=\"cuttingplane-submenu\" class=\"menubutton\" @click=\"menu_cuttingplane = !menu_cuttingplane\"><img v-bind:src=\"icon_cuttingplane\" /></button>-->\n        <div id=\"tool_separator_4\" class=\"tool-separator\"></div>\n        <button v-if=\"!twodim\" id=\"snapshot-button\" title=\"Snapshot\" data_operatorclass=\"toolbar-snapshot\" class=\"menubutton\" @click=\"moveToObject\"><img src=\"./images/icon-edgeface.png\" /></button>\n        <button id=\"map-button\" title=\"Map\" class=\"menubutton\" @click=\"toggleMap\"><img src=\"./images/icon-map2.png\" /></button>\n        <button id=\"settings-button\" title=\"Settings\" data_operatorclass=\"toolbar-settings\" class=\"menubutton\" @click=\"\"><img src=\"./images/icon-settings.png\" /></button>\n      </div>\n    </div>\n\n    <v-dialog v-model=\"labelDialog\" persistent max-width=\"600px\">\n      <v-card style=\"text-align: left\">\n        <v-card-text>\n          <v-container style=\"background-color: white;\">\n            <v-row>\n              <h2>{{ $t(\"text_create_issue\") }}</h2>\n            </v-row>\n            <v-row>\n              <v-text-field v-bind:label=\"$t('text_title')\" v-model=\"labelObject.title\"></v-text-field>\n            </v-row>\n            <v-row>\n              <v-text-field v-bind:label=\"$t('text_description')\" v-model=\"labelObject.description\"></v-text-field>\n            </v-row>\n            <v-row>\n              <h3>{{ $t('text_issue_tags') }}</h3>\n              <br>\n              <v-select\n                      v-model=\"labelObject.tags\"\n                      :items=\"labelTagList\"\n                      :label=\"$t('text_all')\"\n                      multiple\n                      chips\n                      solo\n                    ></v-select>\n            </v-row>\n            <v-row>\n              <h3>{{ $t('text_issue_responsible') }}</h3>\n              <br>\n              <v-select\n                v-model=\"labelObject.responsible\"\n                :items=\"employeeNameList\"\n                menu-props=\"auto\"\n                label=\"Select\"\n                hide-details\n                prepend-icon=\"mdi-account\"\n                single-line\n              ></v-select>\n            </v-row>\n            <v-row>\n              <div style=\"margin-top: 60px\"><h3>{{ $t('text_photo') }}</h3></div>\n              <div style=\"width:200px; margin-top: 10px;\">\n                <vue-image-chooser style=\"width: 200px; height: 150px\" name=\"image-chooser\" @change=\"uploadImage\" :progress=\"progress\" :error=\"error\"/>\n              </div>\n            </v-row>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"labelDialog = false\">{{ $t(\"text_cancel\") }}</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"createLabel()\">{{ $t(\"text_create\") }}</v-btn>\n          <v-progress-circular v-if=\"loading\" style=\"width: 20px; height: 20px; margin-left: 5px; margin-right: 5px;\" indeterminate color=\"primary\"></v-progress-circular>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    </div>\n</template>\n<script>\n\nconst bw = {}\n\nimport Vue from 'vue';\nimport { mapMutations, mapActions  } from \"vuex\";\nimport store from '../store';\nimport VueImageChooser from 'vue-image-chooser';\nVue.use(VueImageChooser)\n\nimport ig from './ImplicitGeometry.js'\nimport ir from './ImplicitRoom.js'\nimport a from './util-a.js';\nimport r from './util-r.js';\nimport u from './util.js';\nimport ur from './util-rdf.js';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport { spCode } from './sp-code.js';\nimport {\n  Color,\n  ExtrudeGeometry,\n  Shape,\n  MeshPhongMaterial,\n  Mesh,\n  LineBasicMaterial,\n  MeshBasicMaterial,\n  Geometry,\n  Vector3,\n  PointsMaterial,\n  Points,\n  Line,\n  BufferAttribute,\n  LineCurve3,\n  BoxGeometry,\n  BufferGeometry,\n  Float32BufferAttribute,\n  LineSegments,\n  Box3,\n  Raycaster,\n  Triangle,\n  LineDashedMaterial,\n  DoubleSide,\n  MeshLambertMaterial,\n  AxesHelper,\n  Euler} from \"three\";\nimport {\n  OpenStreetMapsProvider,\n  OpenMapTilesProvider,\n  MapBoxProvider,\n  HereMapsProvider,\n  BingMapsProvider,\n  MapTilerProvider,\n  HeightDebugProvider,\n  DebugProvider,\n  MapView,\n  LODRaycast,\n  LODFrustum,\n  LODRadial,\n  UnitsUtils,\n  DoubleSided } from \"geo-three\";\n  import { createSculpture, createSculptureWithGeometry, sculptToThreeJSMesh, glslToThreeJSMesh, glslToThreeJSMaterial, sculptToThreeJSShaderSource } from \"shader-park-core\";\n  import { IFCLoader } from \"web-ifc-three/IFCLoader\";\n  import { IfcViewerAPI } from 'web-ifc-viewer';\n  //import { WebIFC } from \"web-ifc\";\n // import { LBDParser } from \"ifc-lbd\";\n  import { CSG } from 'three-csg-ts';\n  import {\n    IFCWALLSTANDARDCASE,\n    IFCSLAB,\n    IFCWALL,\n    IFCROOF,\n    IFCDOOR,\n    IFCWINDOW,\n    IFCFURNISHINGELEMENT,\n    IFCMEMBER,\n    IFCPLATE,\n    IFCCURTAINWALL,\n    IFCSPACE,\n    IfcFillAreaStyle\n  } from \"web-ifc\";\n  import {\n    acceleratedRaycast,\n    computeBoundsTree,\n    disposeBoundsTree\n  } from 'three-mesh-bvh';\n  import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n  import { CSS2DObject } from \"three/examples/jsm/renderers/CSS2DRenderer.js\";\n  //import { VRButton } from \"three/examples/jsm/webxr/VRButton.js\";\n\n  const $rdf = require('rdflib');\n  const ifcLoader = new IFCLoader();\n  ifcLoader.ifcManager.setupThreeMeshBVH(computeBoundsTree, disposeBoundsTree, acceleratedRaycast); // Sets up optimized picking\n\n  const DEV_MAPBOX_API_KEY = \"pk.eyJ1IjoibWFydGhpbmkiLCJhIjoiY2w1ejBnYnpvMDlvYTNvcnlyN3B5YXNxeCJ9.FOG1KIIZzpyVWoNJkpcFkA\";\n\nasync function setUpMultiThreading() {\n  console.log(\"Initialize multithreading..\");\n  await ifcLoader.ifcManager.useWebWorkers(true, '../IFCWorker.js');\n  await ifcLoader.ifcManager.setWasmPath('../');\n}\n\nasync function getIFCelements(modelID, type) {\n  const elementIDs = ifcLoader.ifcManager.getAllItemsOfType(modelID, type);\n  return elementIDs;\n}\nfunction addToStores(subject, predicate, object){\n  store.state.rs.tempRdfStore.add(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nbw.zoomToObject = function() {\n  var boundingBox = null;\n  var cameraPosX = null;\n  var cameraPosY = 5;\n  var cameraHeighSetting = 5;\n  store.state.bv.animate = true;\n  if(store.state.bv.INTERSECTED){\n    boundingBox = new Box3().setFromObject( store.state.bv.INTERSECTED )\n  } else {\n    boundingBox = new Box3().setFromObject( store.state.bv.focusobject )\n  }\n  var size = new Vector3();\n  size = boundingBox.getSize(size);\n  if(size.x >= size.y){ // Find longest side of box\n    store.state.bv.camerafocuswidth = size.x;\n  } else {\n    store.state.bv.camerafocuswidth = size.y;\n  }\n  let start, previousTimestamp;\n  var cameraHeight = 5000;\n  var animateDown = false;\n  if(store.state.bv.INTERSECTED){\n    var target = new Vector3();\n    store.state.bv.INTERSECTED.getWorldPosition( target );\n    cameraHeighSetting = target.y;\n    console.log(target.x);\n    console.log(target.z);\n    cameraPosX = target.x + (store.state.bv.camerafocuswidth*0.5);\n    cameraPosY = target.z + (store.state.bv.camerafocuswidth*0.5);\n    store.state.bv.controls3d.target.set(target.x+(size.x/2), target.y+(size.y/2), target.z-(size.z/2));\n  } else {\n    cameraPosX = store.state.bv.coords.x + (store.state.bv.camerafocuswidth*0.5);\n    cameraPosY = -store.state.bv.coords.y + (store.state.bv.camerafocuswidth*0.5);\n    store.state.bv.controls3d.target.set(store.state.bv.coords.x, store.state.bv.coords.y, store.state.bv.coords.z);\n  }\n  function step(timestamp){\n    if(start === undefined){\n      start = timestamp;\n    }\n    const elapsed = timestamp-start;\n    if(previousTimestamp !== timestamp){\n      if(cameraHeight >= cameraHeighSetting+40){\n        cameraHeight = cameraHeight - 60;\n      }\n      store.state.bv.camera.position.set(cameraPosX, cameraHeight, cameraPosY);\n    }\n    if(cameraHeight >= cameraHeighSetting+40){\n      previousTimestamp = timestamp;\n      window.requestAnimationFrame(step);\n    } else {\n      if(!store.state.bv.autorotate){\n        setTimeout(function() { store.state.bv.animate = false; }, 5000);\n      }\n    }\n  }\n  window.requestAnimationFrame(step);\n  store.state.bv.camera.position.set(cameraPosX, cameraHeight, cameraPosY);\n  console.log(\"Zoom to object\");\n}\n\nbw.moveToObject = function() {\n  var target = new Vector3();\n  var size = new Vector3();\n  var center = new Vector3();\n  var boundingBox = new Box3().setFromObject( store.state.bv.INTERSECTED );\n  store.state.bv.animate = true;\n  size = boundingBox.getSize(size);\n  center = boundingBox.getCenter( center );\n  console.log(\"SizeX:\"+size.x+\" SizeY:\"+size.y);\n  if(size.x >= size.y){ // Find longest side of box\n    store.state.bv.camerafocuswidth = size.x;\n  } else {\n    store.state.bv.camerafocuswidth = size.y;\n  }\n  let start, previousTimestamp;\n  var animateDown = false;\n  //this.CONVERT_TO_SPHERICAL({ lat: store.state.bv.focuslat, long: store.state.bv.focuslong }).then(u => {\n  store.state.bv.INTERSECTED.getWorldPosition( target );\n  var newCameraPosX = center.x + (15+store.state.bv.camerafocuswidth*0.5);\n  var newCameraPosZ = center.y + (15+store.state.bv.camerafocuswidth*0.5);\n  var newCameraPosY = center.z + (15+store.state.bv.camerafocuswidth*0.5);\n\n  var newTargetPosX = center.x;\n  var newTargetPosY = center.y;\n  var newTargetPosZ = center.z;\n\n  var oldCameraPosX = store.state.bv.camera.position.x;\n  var oldCameraPosY = store.state.bv.camera.position.z;\n  var oldCameraPosZ = store.state.bv.camera.position.y;\n\n  var oldTargetPosX = store.state.bv.controls3d.target.x;\n  var oldTargetPosY = store.state.bv.controls3d.target.y;\n  var oldTargetPosZ = store.state.bv.controls3d.target.z;\n\n  var counter = 2;\n\n  var currentCameraPosX = oldCameraPosX;\n  var currentCameraPosY = oldCameraPosY;\n  var currentCameraPosZ = oldCameraPosZ;\n  var currentTargetPosX = oldTargetPosX;\n  var currentTargetPosY = oldTargetPosY;\n  var currentTargetPosZ = oldTargetPosZ;\n\n  function step(timestamp){\n    if(start === undefined){\n      start = timestamp;\n    }\n    const elapsed = timestamp-start;\n    if(previousTimestamp !== timestamp){\n      currentCameraPosX = (currentCameraPosX-((oldCameraPosX-newCameraPosX)/15));\n      currentCameraPosY = (currentCameraPosY-((oldCameraPosY-newCameraPosY)/15));\n      currentCameraPosZ = (currentCameraPosZ-((oldCameraPosZ-newCameraPosZ)/15));\n      currentTargetPosX = (currentTargetPosX-((oldTargetPosX-newTargetPosX)/15));\n      currentTargetPosY = (currentTargetPosY-((oldTargetPosY-newTargetPosY)/15));\n      currentTargetPosZ = (currentTargetPosZ-((oldTargetPosZ-newTargetPosZ)/15));\n      store.state.bv.camera.position.set(currentCameraPosX, currentCameraPosZ, currentCameraPosY);\n      store.state.bv.controls3d.target.set(currentTargetPosX, currentTargetPosY, currentTargetPosZ);\n    }\n    if(counter <= 15){\n      previousTimestamp = timestamp;\n      counter = counter+1;\n      window.requestAnimationFrame(step);\n    } else {\n      if(!store.state.bv.autorotate){\n        store.state.bv.animate = false;\n      }\n    }\n  }\n  window.requestAnimationFrame(step);\n  //});\n  console.log(\"Zoom to object\");\n}\n\nexport default {\n  bw: bw,\n  name: 'BIMViewer',\n  data () {\n    return {\n      height: 0,\n      autoRotate: true,\n      bval: -0.01,\n      file: \"\",\n      colors: false,\n      viewerWindow: null,\n      labelDialog: false,\n      labelLocation: null,\n      loading: false,\n      labelTagList: [\"Bug\", \"Warning\", \"Info\", \"Unknown\"],\n      labelObject: {title: \"\", description: \"\", tags: [\"Unknown\"], responsible: \"\", imageuri: \"\"},\n      employeeNameList: [\"https://espen.trinpod.us/i\"],\n      employeeList: [\"Espen Marthiniussen\"],\n      background: \"#ffff00\",\n      ifcloadpercentage: \"0\",\n      ifcloading: false,\n      progress: null,\n      error: null,\n      floorSplitFactor: 1,\n      gltfGeoVisible: false,\n      spacesVisible: false,\n      buildingLat: 0.00,\n      scaleFactor: 1,\n      container: undefined,\n      preselectMat: undefined,\n      preselectModel: undefined,\n      previousSelectedRoom: undefined,\n      twodim: true,\n      icon_home: require('./images/icon-home.png'),\n      icon_camera: require('./images/icon-walk.png'),\n      icon_rotate: require('./images/icon-turntable.png'),\n      icon_click: require('./images/icon-pointer.png'),\n      icon_edgeface: require('./images/icon-wireframeshaded.png'),\n      icon_cuttingplane: require('./images/icon-clippingtool.png'),\n    };\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    ...mapActions('bv', [\"INIT\", \"ANIMATE\", \"RENDER\", \"CALL_RAYCAST\", \"CONVERT_TO_UTM\", \"CONVERT_FROM_UTM\", \"CONVERT_TO_SPHERICAL\", \"ADD_TO_SCENE\", \"INITIALIZE_PLAYER\"]),\n    addEventListerners(){\n      document.addEventListener('dblclick', this.pickFromIFC, false );\n      //document.addEventListener('mousedown', this.mouseDown, false);\n      document.addEventListener('keyup',  this.keyEvents);\n      document.addEventListener('dblclick', this.setIssueLabel, false);\n    },\n    removeEventListerners(){\n      document.removeEventListener('dblclick', this.pickFromIFC, false );\n      //document.removeEventListener('mousedown', this.mouseDown, false);\n      document.removeEventListener('keyup',  this.keyEvents);\n      document.removeEventListener('dblclick', this.setIssueLabel, false);\n    },\n    mouseDown(event){\n      event.stopImmediatePropagation(); \n      let buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      let canvasBounds = this.$el.getBoundingClientRect();\n      store.state.bv.mouseVector.x = ((event.clientX - canvasBounds.left) / (canvasBounds.right - canvasBounds.left)) * 2 - 1;\n      store.state.bv.mouseVector.y  = -((event.clientY - canvasBounds.top) / (canvasBounds.bottom - canvasBounds.top)) * 2 + 1;\n      store.state.bv.raycaster.setFromCamera( store.state.bv.mouseVector, store.state.bv.camera );\n      const intersects = store.state.bv.raycaster.intersectObjects( buildingbox.children , true );\n      if(!intersects.length) {\n        return;\n      };\n      const firstIntersection = intersects[0];\n      const location =  firstIntersection.point;\n      store.state.bv.controls3d.target.set(location.x, location.y, location.z);\n      store.state.bv.controls3d.update();\n    },\n    createBuildingObb: function(lat, long, oBB, bRotation, color, position={x:0, y:0, z:0}){\n      // obb = oBB = NEO(\"m_matrix\")\n      // Scalefactor is used in all xyz directions\n      console.log(\"oBB: \"+oBB);\n      let u = UnitsUtils.datumsToSpherical(lat, long);\n\n      var v2Length = Math.sqrt((oBB.v2.x*oBB.v2.x)+(oBB.v2.y*oBB.v2.y)+(oBB.v2.z*oBB.v2.z));\n      var v3Length = Math.sqrt((oBB.v3.x*oBB.v3.x)+(oBB.v3.y*oBB.v3.y));\n\n      // Setting the dimentions of the bounding box\n      var geoW, geoH, geoL;\n      geoW = v2Length*this.scaleFactor;\n      geoH = oBB.v3.z*this.scaleFactor;\n      geoL = v3Length*this.scaleFactor;\n      store.state.bv.coords = { x:geoW/2, y:geoH/2, z:-geoL/2 };\n      //var geometry = new BoxGeometry( geoW, geoH, geoL );\n      var geometry = this.lineDashBox( geoW, geoH, geoL );\n      // Moving anchor from center of the bounding box\n\n      // Set the initial position of the bounding box. Based on gps anchor u.\n      //const material = new MeshPhongMaterial({color: 0x6666FF, side: DoubleSide, emissive: 0x666666, transparent:true, opacity:1});\n      //var mesh = new Mesh( geometry, material );\n      var mesh = new LineSegments( geometry, new LineDashedMaterial( { color: 0xffaa00, dashSize: 3, gapSize: 1 } ) );\n      mesh.computeLineDistances();\n      mesh.position.x = oBB.v1.x+position.x;\n      mesh.position.y = oBB.v1.y+position.y;\n      mesh.position.z = oBB.v1.z+position.z;\n\n      if(bRotation){\n        mesh.setRotationFromEuler(new Euler(bRotation.x, bRotation.y, bRotation.z, \"XYZ\"));\n      }\n\n      mesh.updateMatrix();\n      mesh.matrixAutoUpdate = false;\n      mesh.castShadow = false;\n      mesh.renderOrder=1;\n      return(mesh);\n    },\n    drawRoomFromPolyline(buildingbox, vx, vy, vz, height, polyline, lat, roomuri, color, opacity){\n      var polyArray = [];\n      if(polyline != \"\"){\n        polyline = polyline.replace(\"^^neo:a_matrix-3xm\", \"\");\n        polyline = polyline.replace(\"[\", \"\");\n        polyline = polyline.replace(\"]\", \"\");\n        polyArray = polyline.split(\",\");\n      }\n      vx = vx*this.scaleFactor;\n      vy = vy*this.scaleFactor;\n      vz = vz*this.scaleFactor;\n      const material = new MeshPhongMaterial({color: color, side: DoubleSide, emissive: 0x555555, transparent:true, opacity:opacity});\n      const wireMaterial = new MeshBasicMaterial({\n        color: 'white',\n        polygonOffset: true,\n        polygonOffsetFactor: 1,\n      });\n      const polyShape = new Shape();\n      const points = [];\n      var v1 = new Vector3( 0, vz, 0 );\n      var v2 = new Vector3( 0, vz+(height*this.scaleFactor), 0 );\n      var path = new LineCurve3( v1, v2 )\n      var i = 0;\n      while (polyArray.length > 1) {\n        const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n        const x = (polyXYZ[0]*this.scaleFactor);\n        const y = (polyXYZ[1]*this.scaleFactor);\n        if(i == 0){\n          polyShape.moveTo( (-x+vy), (-y-vx), vz );\n          i = i+1;\n        } else {\n          polyShape.lineTo( (-x+vy), (-y-vx), vz );\n        }\n      }\n      polyShape.autoClose = true;\n      const extrudeSettings = { \n        extrudePath: path,\n      };\n      const polyGeometry = new ExtrudeGeometry( polyShape, extrudeSettings );\n      const polyMesh = new Mesh( polyGeometry, material ) ;\n\n      // Test to add border on box\n      const wireMesh = new Mesh( polyGeometry, wireMaterial );\n      polyMesh.add(wireMesh);\n\n      //console.log(roomuri);\n      polyMesh.name = roomuri;\n      polyMesh.castShadow = true;\n      polyMesh.receiveShadow = true;\n      store.state.bv.boundingBoxDrawed.push(String(polyline));\n      buildingbox.add(polyMesh);\n      return(buildingbox);\n    },\n    moveToObject(){\n      bw.moveToObject();\n    },\n    raycast( event ) {\n      if(!store.state.bv.lockSelection){\n        let canvasBounds = this.$el.getBoundingClientRect();\n        store.state.bv.mouseVector.x = ((event.clientX - canvasBounds.left) / (canvasBounds.right - canvasBounds.left)) * 2 - 1;\n        store.state.bv.mouseVector.y  = -((event.clientY - canvasBounds.top) / (canvasBounds.bottom - canvasBounds.top)) * 2 + 1;\n        //console.log(store.state.bv.mouseVector.x+\":\"+store.state.bv.mouseVector.y);\n        return this.CALL_RAYCAST();\n      }\n    },\n    checkIfPointInsideAnyRoomGeometry(point){\n      const foundRoomNames = [];\n      store.state.bv.scene.getObjectByName(\"buildingbox\").children.forEach((roomMesh, i) => {\n          if(bmu.checkIfPointInsideMesh(point, roomMesh)){\n            const rname = u.decodeCharacters(roomMesh.name);\n            if(!foundRoomNames.includes(rname)){\n              foundRoomNames.push(rname);\n              console.log(\"Yay. Found inside: \"+rname);\n            }\n          } \n      });\n      return foundRoomNames;\n    },\n    async setIssueLabel( event ) {\n      event.stopImmediatePropagation(); // May need to be removed.\n      let buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      let canvasBounds = this.$el.getBoundingClientRect();\n      store.state.bv.mouseVector.x = ((event.clientX - canvasBounds.left) / (canvasBounds.right - canvasBounds.left)) * 2 - 1;\n      store.state.bv.mouseVector.y  = -((event.clientY - canvasBounds.top) / (canvasBounds.bottom - canvasBounds.top)) * 2 + 1;\n      store.state.bv.raycaster.setFromCamera( store.state.bv.mouseVector, store.state.bv.camera );\n      const intersects = store.state.bv.raycaster.intersectObjects( buildingbox.children , true );\n\n      if(!intersects.length) {\n        return;\n      };\n\n      const firstIntersection = intersects[0];\n      const location =  firstIntersection.point;\n      this.labelLocation = location;\n      let foundRooms = this.checkIfPointInsideAnyRoomGeometry(location);\n      this.labelDialog = true;\n      if(this.$route.query.location){\n        this.employeeList = await bmu.getEmployeeList(this.$route.query.location+\"i\");\n        this.employeeList.forEach(empl => {\n          this.employeeNameList.push(empl.name);\n        });\n      }\n    },\n    setRoomLabel( location, foundObjectName ) {\n      // Remove all previous labels:\n      console.log(\"Setting label for: \"+foundObjectName);\n      store.state.bv.selectedRoomNames.push(foundObjectName);\n      let foundObjectURI = \"\";\n      if(store.state.rs.rdfStore.match(null, ns.FOAF(\"name\"), $rdf.literal(foundObjectName))[0]) foundObjectURI = store.state.rs.rdfStore.match(null, ns.FOAF(\"name\"), $rdf.literal(foundObjectName))[0].subject.value;\n      console.log(\"URI: \"+foundObjectURI);\n      if(foundObjectURI!=\"\"){\n        if(store.state.rs.rdfStore.match($rdf.sym(foundObjectURI), ns.IFOUR(\"trafficload\"), null)[0]) console.log(\"Trafficload: \"+store.state.rs.rdfStore.match($rdf.sym(foundObjectURI), ns.IFOUR(\"trafficload\"), null)[0].object.value);\n      }\n      try { \n        let foundRooms = [];\n        let previousLabel = store.state.bv.scene.getObjectByName(\"roomlabel\");\n        if(foundObjectName) {\n          foundRooms.push(foundObjectName);\n        } else {\n          foundRooms = this.checkIfPointInsideAnyRoomGeometry(location);\n        }\n\n        this.labelLocation = location;\n      \n        let roomName = store.state.rs.rdfStore.match($rdf.sym(foundRooms[0]), ns.RDFS(\"label\"), null)[0].object.value;\n        roomName = u.decodeCharacters(roomName);\n\n        if(!store.state.bv.multiSelect) store.state.bv.selectedRoomNames = [];\n        store.state.bv.selectedRoomNames.push(roomName.replace(\"Rom \", \"\").replace(\"Room \", \"\"));\n\n        let roomuri = store.state.rs.rdfStore.match($rdf.sym(foundRooms[0]), ns.RDFS(\"label\"), null)[0].subject.value;\n        let roomGeo = store.state.rs.rdfStore.match($rdf.sym(foundRooms[0]), ns.IFOUR(\"m_polyline\"), null)[0].object.value;\n        console.log(\"Roomgeo\");\n        console.log(roomGeo);\n        this.addRoomLabelHTML(roomName, location, foundRooms[0], roomuri);\n        store.state.bv.scene.remove(previousLabel);\n      } catch (error){}\n\n    },\n    createLabel(){\n      this.labelDialog = false;\n      let labelID = Date.now();\n      this.addLabelToDatabase(this.labelObject.title, this.labelObject.description, this.labelLocation, this.labelObject.tags, this.labelObject.responsible, this.labelObject.imageuri, \"Not started\", labelID);\n      store.state.tasks.push({ id: labelID, uri: \"\", position: this.labelLocation, title: this.labelObject.title, description: this.labelObject.description, imageuri: this.labelObject.imageuri, responsible: this.labelObject.responsible, state: \"Not started\", date: \"16.09.2022\", type: \"issue\" });\n      this.addLabelHTML(this.labelObject.title, this.labelLocation, this.labelObject.description, this.labelObject.imageuri);\n      store.state.bv.labelrenderer.render(store.state.bv.scene, store.state.bv.camera);\n    },\n    addLabelToDatabase(title, description, position, tags, responsible, imageuri, state, labelID){\n        let matrixString = \"[0,0,0,0,0,0,\"+position.x+\",\"+position.y+\",\"+position.z+\"]^^neo:a_matrix-3m\";\n        const labelBlank = u.getBlankNode(\"Issuelabel: \"+title)\n        this.employeeList.forEach(empl => {\n          if(empl.name == responsible){\n            responsible = empl.personuri;\n          }\n        });\n        bmu.sendEmailToResponsible(responsible);\n        if(!store.state.blankExisted){\n          store.state.rs.tempRdfStore = $rdf.graph();\n          tags.forEach(tag => {\n            addToStores(labelBlank, ns.TAG(\"tag\"), tag);\n          });\n          console.log(\"Adding label to store...\");\n          addToStores(labelBlank, ns.RDF(\"type\"), ns.CTO(\"TaskContext\"));\n          addToStores(labelBlank, ns.RDFS(\"label\"), $rdf.literal(title, 'en'));\n          addToStores(labelBlank, ns.RDFS(\"comment\"), description);\n          addToStores(labelBlank, ns.TAG(\"tag\"), \"i4task\"+\".\"+labelID);\n          addToStores(labelBlank, ns.IFOUR(\"taskStatus\"), state);\n          addToStores(labelBlank, ns.FOAF(\"aimChatID\"), $rdf.sym(responsible)); // Who the issue is assigned to.\n          addToStores(labelBlank, ns.FOAF(\"maker\"), $rdf.sym(store.state.webId)); // Concept verified and used by Fred - foaf:Maker\n          addToStores(labelBlank, ns.FOAF(\"image\"), $rdf.sym(imageuri));\n          addToStores(labelBlank, ns.NEO(\"m_matrix\"), matrixString);\n          let turtle = u.storeToTurtle(store.state.rs.tempRdfStore, \"\");\n          turtle = ur.modifyTurtle(turtle);\n          console.log(turtle);\n          ur.uploadTurtle(this.$route.query.location+\"i\", turtle, false).then((successfulFetch) => {\n            console.log(successfulFetch);\n          });\n        }\n    },\n    removeLabelFromDatabase(){\n\n    },\n    loadIssueLabelsFromStore(tag){\n      console.log(\"loading labels..\")\n      store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n        if(item.object.value.includes(\"i4task\")){\n            console.log(\"Found item: \"+item.object.value);\n            let title = \"\";\n            let descript = \"\";\n            let imageuri = \"\";\n            let roomuri = \"\";\n            let responsible = \"\";\n            let responsibleName = \"\";\n            let state = \"Not started\";\n            //state = decodeURIComponent(item.object.value.replace(\"i4task.\", \"\"));\n            store.state.rs.rdfStore.match(item.subject, ns.IFOUR(\"taskStatus\"), null).forEach(foundItem => {\n                //console.log(\"Found state: \"+foundItem.object.value);\n                state = foundItem.object.value;\n            });\n            store.state.rs.rdfStore.match(item.subject, ns.RDFS(\"label\"), null).forEach(foundItem => {\n                title = foundItem.object.value;\n                roomuri = item.subject.value;\n                console.log(\"Label\", title);\n            });\n            store.state.rs.rdfStore.match(item.subject, ns.RDFS(\"comment\"), null).forEach(foundItem => {\n                descript = foundItem.object.value;\n            });\n            store.state.rs.rdfStore.match(item.subject, ns.FOAF(\"image\"), null).forEach(foundItem => {\n                imageuri = foundItem.object.value;\n            });\n            store.state.rs.rdfStore.match(item.subject, ns.FOAF(\"aimChatID\"), null).forEach(foundItem => {\n                responsible = foundItem.object.value;\n                responsibleName = store.state.rs.rdfStore.match($rdf.sym(foundItem.object.value), ns.FOAF(\"name\"), null)[0].object.value || \"\";\n            });\n            let matrix = \"\";\n            let position = new Vector3( 0, 0, 0);\n            store.state.rs.rdfStore.match(item.subject, ns.NEO(\"t_\"), null).forEach(foundMatrix => {\n                matrix = foundMatrix.object.value;\n            });\n            console.log(\"Matrix: \"+matrix);\n            if(matrix.length>=10){\n                matrix = matrix.replace(']^^neo:a_matrix-3m', '');\n                matrix = matrix.replace('[0,0,0,0,0,0,', '');\n                const matrixArray = matrix.split(\",\");\n                position.x = parseInt(matrixArray[0]);\n                position.y = parseInt(matrixArray[1]);\n                position.z = parseInt(matrixArray[2]);\n            }\n            console.log(position);\n            let found = false;\n            store.state.tasks.forEach(task => {\n              if(task.uri===item.subject.value) found = true;\n            });\n            this.addLabelHTML(title, position, descript, imageuri, roomuri); \n          }\n      });\n      this.RENDER();\n    },\n    async addLabelHTML(title, location, descript, imageuri, roomuri){\n        const base = document.createElement( 'div' );\n        base.classList.add('base-label');\n\n        const postit = document.createElement( 'div' );\n        postit.classList.add('label');\n        base.appendChild(postit);\n\n        const spacer = document.createElement( 'div' );\n        spacer.setAttribute('style', \"display: flex; justify-content: space-between;\");\n        postit.appendChild(spacer);\n\n        const h4 = document.createElement( 'h4' );\n        h4.textContent = title;\n        spacer.appendChild(h4);\n\n        /*const deleteButton = document.createElement( 'button' );\n        deleteButton.textContent = 'X';\n        deleteButton.classList.add('delete-button');\n        deleteButton.classList.add('hidden');\n        spacer.appendChild(deleteButton);*/\n\n        //postit.appendChild(document.createElement( 'br' ));\n\n        const labelContainer = document.createElement( 'div' );\n        labelContainer.classList.add('hidden');\n        labelContainer.classList.add('texttop');\n        postit.appendChild(labelContainer);\n\n        const labelImage = document.createElement( 'img' );\n        labelImage.classList.add('hidden');\n        labelImage.setAttribute('style', \"width: 80px; margin-right: 8px; margin-top: 3px\");\n        try {\n          const res = await window.solid.session.fetch(\n            imageuri, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n              console.log(res);\n            let filedata = await res.arrayBuffer();\n            let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"image/jpeg\"}));\n            labelImage.setAttribute('src', fileurl);\n            labelContainer.appendChild(labelImage);\n        } catch (error) {\n          console.log(error);\n        }\n        \n        const labelDescription = document.createElement( 'span' );\n        labelDescription.classList.add('texttop');\n        labelDescription.textContent = descript;\n        labelContainer.appendChild(labelDescription);\n\n        labelContainer.appendChild(document.createElement( 'br' ));\n\n        const detailsButton = document.createElement( 'button' );\n        detailsButton.classList.add('details-button');\n        detailsButton.classList.add('hidden');\n        detailsButton.textContent = \"Show details\";\n        labelContainer.appendChild(detailsButton);\n\n        base.onmouseenter = () => { \n          //deleteButton.classList.remove('hidden');\n          labelContainer.classList.remove('hidden');\n          detailsButton.classList.remove('hidden');\n          labelImage.classList.remove('hidden');\n        }\n        base.onmouseleave = () => {\n          //deleteButton.classList.add('hidden');\n          labelContainer.classList.add('hidden');\n          detailsButton.classList.add('hidden');\n          labelImage.classList.add('hidden');\n        }\n\n        const ifcJsTitle = new CSS2DObject( base );\n        ifcJsTitle.position.copy(location);\n        store.state.bv.scene.add(ifcJsTitle);\n\n        /*deleteButton.onclick = () => {\n          base.remove();\n          ifcJsTitle.element = null;\n          ifcJsTitle.removeFromParent();\n        }*/\n    },\n    async addRoomLabelHTML(title, location, descript, roomuri){\n        const base = document.createElement( 'div' );\n        base.classList.add('base-label');\n\n        const postit = document.createElement( 'div' );\n        postit.classList.add('label');\n        base.appendChild(postit);\n\n        const spacer = document.createElement( 'div' );\n        spacer.setAttribute('style', \"display: flex; justify-content: space-between;\");\n        postit.appendChild(spacer);\n\n        const h4 = document.createElement( 'h4' );\n        h4.textContent = title;\n        spacer.appendChild(h4);\n\n        //postit.appendChild(document.createElement( 'br' ));\n\n        const labelContainer = document.createElement( 'div' );\n        labelContainer.classList.add('hidden');\n        labelContainer.classList.add('texttop');\n        postit.appendChild(labelContainer);\n        \n        /*const labelDescription = document.createElement( 'span' );\n        labelDescription.classList.add('texttop');\n        labelDescription.textContent = descript;\n        labelContainer.appendChild(labelDescription);\n\n        labelContainer.appendChild(document.createElement( 'br' ));*/\n\n        const detailsButton = document.createElement( 'button' );\n        detailsButton.classList.add('details-button');\n        detailsButton.classList.add('hidden');\n        detailsButton.textContent = \"Show room details\";\n        labelContainer.appendChild(detailsButton);\n\n        base.onmouseenter = () => { \n          labelContainer.classList.remove('hidden');\n          detailsButton.classList.remove('hidden');\n        }\n        base.onmouseleave = () => {\n          labelContainer.classList.add('hidden');\n          detailsButton.classList.add('hidden');\n        }\n\n        detailsButton.onclick = () => {\n          console.log(\"Button clicked.\")\n          store.state.cp.roomDetailURI = roomuri;\n        }\n\n        const labelObject = new CSS2DObject( base );\n        labelObject.position.copy(location);\n        labelObject.name = \"roomlabel\"\n        store.state.bv.scene.add(labelObject);\n    },\n    async uploadImage(fileChooser) {\n      console.log(fileChooser);\n      this.progress = 0;\n      let formData = new FormData();\n      formData.append('image', fileChooser);\n      let imageuri = this.$route.query.location+\"Home/Issues/\"+fileChooser.file.name;\n      try {\n        window.solid.session.fetch(\n            imageuri, {\n              method: \"PUT\",\n              credentials: \"include\",\n              body: fileChooser.file,\n              headers: {\n                \"Content-Type\": \"\",\n              },\n              onUploadProgress: function( progressEvent ) {\n                this.progress = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n              }.bind(this)}).then(res => {\n            this.progress = 100;\n            this.labelObject.imageuri = imageuri;\n            console.log('done uploading', res);\n        });\n      } catch (e) {\n        this.error = 'Error has occured'\n      }\n    },\n    async pickFromIFC(event) {\n      event.stopImmediatePropagation(); \n      const intersects = await this.raycast(event);\n      /*\n      let buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      let canvasBounds = this.$el.getBoundingClientRect();\n      store.state.bv.mouseVector.x = ((event.clientX - canvasBounds.left) / (canvasBounds.right - canvasBounds.left)) * 2 - 1;\n      store.state.bv.mouseVector.y  = -((event.clientY - canvasBounds.top) / (canvasBounds.bottom - canvasBounds.top)) * 2 + 1;\n      if(store.state.bv.twodim){\n        store.state.bv.raycaster.setFromCamera( store.state.bv.mouseVector, store.state.bv.twodimcamera );\n      } else {\n        store.state.bv.raycaster.setFromCamera( store.state.bv.mouseVector, store.state.bv.camera );\n      }\n      const intersects = store.state.bv.raycaster.intersectObjects( buildingbox.children , true );*/\n \n      if(!intersects.length) {\n        return;\n      };\n      let firstIntersection = intersects[0];\n      intersects.forEach(intersect => {\n        if(intersect.object.visible){\n          firstIntersection = intersect;\n          return;\n        }\n      });\n      const location =  firstIntersection.point;\n      \n      let foundObjectName = \"\";\n      if(firstIntersection.object) foundObjectName = firstIntersection.object.name;\n      //console.log(found[0].object.id);\n      this.setRoomLabel(location, foundObjectName);\n      this.RENDER();\n\n      // Code for getting expressID from generated GLTF - START -----------\n      try{\n        const IdAttrName = '_expressid';\n        const geoIndex = firstIntersection.object.geometry.index.array;\n        let expressID = firstIntersection.object.geometry.attributes[IdAttrName].array[geoIndex[3 * firstIntersection.faceIndex]];\n        console.log(\"Expressid1: \"+expressID);\n        //ifcu.getPropertySets(expressID);\n        const geometry = firstIntersection.object.geometry;\n        const modelid = firstIntersection.object.modelID;\n        this.markIFCElementWithColor(expressID, modelid, geometry);\n      } catch (error) {}\n      // Code for getting expressID from generated GLTF - END -----------\n\n      \n      //console.log(found[0].object.geometry.attributes[IdAttrName].getX(geoIndex[3 * found[0].faceIndex]));\n      //let expressID = ifcLoader.ifcManager.getExpressId(found[0].object.geometry, found[0].faceIndex);\n      //console.log(\"Found object:\");\n      //console.log(found);\n      \n\n      //this.addRoomLabelHTML(\"Room\", worldPosition, \"You have selected this room\");\n      //try{\n        //let foundMesh = found[0].object;\n        /*const markerPosition = new Vector3(foundMesh.geometry.boundingSphere.center.x, foundMesh.geometry.boundingSphere.center.y, foundMesh.geometry.boundingSphere.center.z);\n        let markerMesh = bmu.createPlaceMarker(markerPosition, 0x009900, false, 1);\n        let worldPosition = markerMesh.getWorldPosition(markerPosition.clone());\n        worldPosition.add(markerPosition);*/\n        /*if(found[0]) found = found[0];\n        const modelid = found.object.modelID;\n        const index = found.faceIndex;\n        const geometry = found.object.geometry;\n        const id = ifcLoader.ifcManager.getExpressId(geometry, index);\n        console.log(\"Expressid2: \"+id);*/\n        \n        //const props = await ifcLoader.ifcManager.getItemProperties(found.object.modelID, id); // Get the properties of the IFC element.\n        //console.log(props);\n        //const materialProps = await ifcLoader.ifcManager.getMaterialsProperties(found.object.modelID, id); // Get the material properties.\n        //console.log(materialProps);\n        \n\n        // Test\n        //let myObject = found.object.clone;\n        //myObject.position.set(-50, -50, -50);\n        //buildingbox.add(myObject);\n\n        //this.markIFCElementWithColor(id, modelid, geometry);\n        \n      //} catch (error) { }\n    },\n    markIFCElementWithColor(elementid, modelid, geometry){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      let material = new MeshLambertMaterial({\n          transparent: true,\n          opacity: 0.6,\n          color: 0xff88ff,\n          depthTest: false\n      });\n      let subset = ifcLoader.ifcManager.createSubset({ // Problem with create subset is that it does not support scale the geometry using the scalefactor.\n          modelID: modelid,\n          ids: [elementid],\n          material: material,\n          scene: buildingbox,\n          removePrevious: true\n      });\n      buildingbox.add(subset);\n      //geometry.scale(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n      this.RENDER();\n    },\n    getFloorTagfromJson(jsonResult, IFCfloorName){\n      for(let o=0; o<=Object.keys(jsonResult.storeys).length; o++){\n        if(Object.values(jsonResult.storeys)[o]==IFCfloorName) return Object.keys(jsonResult.storeys)[o];\n      }\n      return \"\";\n    },\n    toggleRotation() {\n      store.state.bv.controls3d.autoRotate = !store.state.bv.controls3d.autoRotate;\n      store.state.bv.animate = store.state.bv.controls3d.autoRotate;\n      this.autoRotate = store.state.bv.controls3d.autoRotate;\n      store.state.bv.controls3d.rotateSpeed = 0.5;\n      store.state.bv.controls3d.autoRotateSpeed = 0.5;\n      console.log(\"Toggle rotation\");\n    },\n    toggleMap() {\n      var selectedObject = store.state.bv.scene.getObjectByName(\"map\");\n      if(selectedObject){\n        store.state.bv.scene.remove( selectedObject );\n        this.RENDER();\n        console.log(\"Toggle map\");\n      } else {\n        store.state.bv.scene.add(store.state.bv.map);\n        this.show3DMap();\n        this.RENDER();\n      }\n\n    },\n    toggleColors() {\n      this.colors = !this.colors;\n      var lastitem = store.state.bv.roomGeometry.pop();\n      store.state.bv.roomGeometry.length = store.state.bv.roomGeometry.length-1;\n      store.state.bv.roomGeometry.push(lastitem);\n    },\n    lockSelection(){\n      if(store.state.bv.lockSelection == true){\n        store.state.bv.lockSelection = false;\n      } else {\n        store.state.bv.lockSelection = true;\n      }\n    },\n    multiSelect(){\n      store.state.bv.scene.getObjectByName(\"buildingbox\").children.forEach((item, i) => {\n        if(!item.name.includes(\"placemarker\")){\n          try {\n            item.material.color.setHex( 0x225577 );\n            item.material.opacity = 0.9;\n            item.children.forEach((item2, j) => {\n              item2.material.color.setHex( 0x225577 );\n              item2.material.opacity = 0.9;\n            });\n          } catch (e){\n\n          }\n        }\n      });\n      store.state.bv.selectedRoomName = \"\";\n      store.state.bv.selectedRoomNames = [];\n      store.state.bv.selectedRoomIDs = [];\n      if(store.state.bv.multiSelect == true){\n        store.state.bv.multiSelect = false;\n      } else {\n        store.state.bv.multiSelect = true;\n      }\n      this.RENDER();\n    },\n    changeFocusObject(focusObject) {\n      // Set the focus area and adjust camera placement\n      // Set focus position Here\n      /*store.state.bv.focusobject = someobject;\n      store.state.bv.coords = ;*/\n      bw.zoomToObject();\n    },\n    async setupBuildingBox() {\n      const axesHelper = new AxesHelper();\n      store.state.bv.scene.add( axesHelper );\n      const IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\"); // Create function for storing in local storage\n      const buildingLat = IFCmetadata.buildinglat;\n      const buildingLong = IFCmetadata.buildinglong;\n      const bRotation = IFCmetadata.rotation;\n      const color1 = 0xFF4433;\n      let oBB = IFCmetadata.buildingdimensions; // First vector goes from buildingpoint2 to buildingpoint1 in meters\n      this.buildingLat = buildingLat;\n      this.scaleFactor = 1/(Math.cos(buildingLat*Math.PI/180)); // Translates meters into epsg-3857\n\n      const buildingbox = this.createBuildingObb(buildingLat, buildingLong, oBB, bRotation, color1);\n      buildingbox.name = \"buildingbox\";\n      \n      const u = UnitsUtils.datumsToSpherical(buildingLat, buildingLong);\n      store.state.bv.buildingboxPosition = {x: u.x, y: 0, z:u.y };\n      store.state.currentBuildingTag = IFCmetadata.tag;\n      // Move the map so the zero point of the scene is same as zero point of buildingbox\n      store.state.bv.scene.getObjectByName(\"map\").position.set(-store.state.bv.buildingboxPosition.x, 0, store.state.bv.buildingboxPosition.z);\n      this.ADD_TO_SCENE({ buildingbox: buildingbox });\n      store.state.bv.focusobject = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      bw.zoomToObject();\n      store.state.bv.selectedRoomURI = this.$route.query.select;\n      this.selectRoomFromURI();\n      this.RENDER();\n    },\n    async changeRoomGeometry(){\n      let buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      if(!buildingbox) buildingbox = await this.setupBuildingBox();\n      store.state.bv.boundingBoxDrawed = [];\n      store.state.bv.roomGeometry.forEach((item, i) => {\n        if(!store.state.bv.scene.getObjectByName(item.roomuri)){ // Check if mesh already exist\n          buildingbox = this.drawRoomFromPolyline(buildingbox, item.x, item.y, item.z, item.height, item.polyline, this.buildingLat, item.roomuri, item.color, item.opacity);\n          console.log(item);\n        }\n      });\n      this.RENDER();\n    },\n    selectRoomFromURI(){\n      if(store.state.bv.selectedRoomURI){\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        let roomURI = store.state.bv.selectedRoomURI;\n        let polyline = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"m_polyline\"), null)[0].object.value;\n        var obb = polyline+\"\";\n        obb = obb.replace('^^neo:a_matrix-3m', '');\n        obb = obb.replaceAll('\"', '');\n        const obbArray = obb.split(\";\");\n        let obbString = '{\"x\":'+obbArray[2]+', \"y\":'+obbArray[3]+', \"z\":'+obbArray[4]+', \"height\":'+obbArray[5]+', \"color\":'+0xff0000+', \"opacity\":'+1+', \"roomuri\":\"'+roomURI+'\", \"polyline\":\"'+obbArray[6]+'\"}';\n        console.log(obbString);\n        let obbJson = JSON.parse(obbString);\n        store.state.bv.roomGeometry.push(obbJson);\n        setTimeout(function() { \n          store.state.bv.INTERSECTED = store.state.bv.scene.getObjectByName(roomURI);\n          bw.moveToObject();\n         }, 100);\n         if(this.previousSelectedRoom) store.state.bv.scene.getObjectByName(this.previousSelectedRoom).material.color.setHex( 0x225577 );\n         store.state.bv.scene.getObjectByName(roomURI).material.color.setHex( 0xff0000 );\n         this.previousSelectedRoom = roomURI;\n         const xyz = bmu.getMeshCenterPointTop(store.state.bv.scene.getObjectByName(roomURI)).applyMatrix4(buildingbox.matrixWorld);\n         this.setRoomLabel(xyz, roomURI);\n         this.RENDER();\n      }\n    },\n    setup2dview(){\n      store.state.bv.twodim = !store.state.bv.twodim; \n      this.twodim = store.state.bv.twodim;  \n      if(store.state.bv.twodim){\n        store.state.bv.controls3d.enabled = false;\n        store.state.bv.controls2d.enabled = true;\n      } else {\n        store.state.bv.controls3d.enabled = true;\n        store.state.bv.controls2d.enabled = false;\n      }\n      this.RENDER();\n      store.state.bv.controls2d.update();\n    },\n    setupPersonView(){\n      store.state.bv.thirdperson = !store.state.bv.thirdperson;\n      /*if(store.state.bv.thirdperson){\n        store.state.bv.controls3d.enabled = false;\n      } else {\n        store.state.bv.controls3d.enabled = true;\n      }  */\n      this.INITIALIZE_PLAYER();\n      this.RENDER();\n    },\n    zoomToLatLong(lat, long) {\n      var cameraHeight = 2;\n      const siteLat = lat;\n      const siteLong = long;\n      let coords = UnitsUtils.datumsToSpherical(siteLat, siteLong);\n      store.state.bv.controls3d.target.set(coords.x, 0, -coords.y);\n      store.state.bv.camera.position.set(coords.x+5, cameraHeight, -coords.y+5);\n      store.state.bv.scene.getObjectByName(\"sdfmesh\").position.set(coords.x, 0, -coords.y);\n      this.RENDER();\n    },\n    parseIFC(file){\n\n    },\n    loadFloorPlan(){\n      bmu.loadGeometryUsingTag(store.state.currentBuildingTag+\".E02\", this.$route.query.location, [\"FLOORPLAN\"]);\n    },\n    async highlight(event) {\n      let model = { id: - 1};\n      // Creates subset material\n      let material = new MeshLambertMaterial({\n          transparent: true,\n          opacity: 0.6,\n          color: 0xff88ff,\n          depthTest: false\n      })\n       let found = await this.raycast(event);\n       console.log(found);\n       if (found[0]) found = found[0];\n       if (found) {\n           // Gets model ID\n           model.id = found.object.modelID;\n           // Gets Express ID\n          const index = found.faceIndex;\n          const geometry = found.object.geometry;\n          const ifc = ifcLoader.ifcManager;\n          const id = ifc.getExpressId(geometry, index);\n          console.log(id);\n           // Creates subset\n           ifcLoader.ifcManager.createSubset({\n               modelID: model.id,\n               ids: [id],\n               material: material,\n               scene: store.state.bv.scene,\n               removePrevious: true\n           })\n       } else {\n           // Removes previous highlight\n           ifcLoader.ifcManager.removeSubset(model.id, material);\n       }\n    },\n    async drawIFC(){\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/building.ifc\"\n      console.log(\"IFC uri: \"+IFCuri);\n      try {\n          const res = await window.solid.session.fetch(\n            IFCuri, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n              console.log(res);\n            let filedata = await res.arrayBuffer();\n            let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/ifc\"}));\n\n            //const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n            let roomURI = \"buildingbox\";\n            store.state.bv.selectedRoomIDs.forEach((item, i) => {\n              roomURI = item;\n            });\n            const roomMesh = store.state.bv.scene.getObjectByName( roomURI );\n            const boundingBox = new Box3().setFromObject( roomMesh );\n            try{\n              roomMesh.material.color.setHex( 0x225577 );\n              roomMesh.material.opacity = 0.1;\n              roomMesh.children.forEach((item2, j) => {\n                item2.material.color.setHex( 0x225577 );\n                item2.material.opacity = 0.1;\n              });\n            } catch (error){\n\n            }\n            // Sets up the IFC loading\n            const ifcModel = await ifcLoader.loadAsync(fileurl);\n\n            ifcModel.scale.set(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n            roomMesh.add(ifcModel);\n            this.RENDER();\n              //  ifcModel.position.z = ifcModel.position.z-boundingBox.getSize().z;\n              //ifcModel.material.opacity = 1;\n\n        } catch (error) {\n          console.log(error);\n        }\n    },\n    addIFCelementstoScene(ifcModel, types){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const modelID = ifcModel.modelID;\n      types.forEach((type, i) => {\n        getIFCelements(modelID, type).then((zoneIDs) => {\n          console.log(zoneIDs);\n          const manager = ifcLoader.ifcManager;\n          const config = {\n                modelID: modelID,\n                scene: store.state.bv.scene,\n                ids: zoneIDs,\n                removePrevious: false\n          }\n          ifcModel = manager.createSubset(config);\n\n          ifcModel.scale.set(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n          ifcModel.name = \"IFCshell\";\n          buildingbox.add(ifcModel);\n          this.RENDER();\n        });\n      });\n    },\n    drawIFCWalls(){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const ifcshell = buildingbox.getObjectByName(\"IFCshell\");\n      if(!ifcshell){\n        console.log(\"Loading the IFC elements...\");\n        // Sets up the IFC loading\n        ifcLoader.load(\"../Mir111Shell.ifc\",(ifcModel) => {\n          //this.addIFCelementstoScene(ifcModel, this.scaleFactor, [IFCDOOR, IFCWINDOW]);\n          this.addIFCelementstoScene(ifcModel, this.scaleFactor, [IFCDOOR, IFCWINDOW, IFCWALL, IFCSLAB, IFCWALLSTANDARDCASE]);\n          //this.addIFCelementstoScene(ifcModel, this.scaleFactor, [IFCROOF]);\n        });\n      } else {\n        console.log(\"Trying to show/hide shell!\");\n        ifcshell.visible = !ifcshell.visible;\n      }\n      this.RENDER();\n      store.state.bv.scene.getObjectByName(\"buildingbox\").children.forEach((item, i) => {\n        try {\n          item.material.color.setHex( 0x225577 );\n          item.material.opacity = 0.9;\n          item.children.forEach((item2, j) => {\n            item2.material.color.setHex( 0x225577 );\n            item2.material.opacity = 0.9;\n          });\n        } catch (e){\n\n        }\n      });\n    },\n    setupIFCLoadingProgress(){\n      ifcLoader.ifcManager.setOnProgress((event) => {\n        const percent = event.loaded / event.total * 100;\n        const result = Math.trunc(percent);\n        this.ifcloadpercentage = result.toString();\n        if(result===100){\n          setTimeout(() => { this.ifcloading = false; }, 5000);\n        }\n      });\n    },\n    cutIFCpart(){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const ifcshell = buildingbox.getObjectByName(\"IFCshell\");\n      if(!ifcshell){\n        console.log(\"Loading IFC part...\");\n        // Sets up the IFC loading\n        ifcLoader.load(\"../Mir111Full.ifc\",(ifcModel) => {\n          /*const model = ifcModel.modelID;\n          const manager = ifcLoader.ifcManager;\n          const config = {\n                modelID: model,\n                scene: store.state.bv.scene,\n                ids: [\"IFCWALL\"],\n                removePrevious: true\n          }\n          manager.createSubset(config);\n          ifcModel.removeSubset(model, material);*/\n\n          //Create a mesh of the entire IFC model\n          ifcModel.visible = false;\n          const modelCopy = new Mesh(ifcModel.geometry, new MeshBasicMaterial({\n                  transparent: false,\n                  opacity: 1,\n                  color: 0x77aaff\n          }));\n          console.log(modelCopy);\n          modelCopy.scale.set(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n          modelCopy.updateMatrix();\n\n          // Cut parts from one room zone using zone input\n          let roomURI = \"buildingbox\";\n          store.state.bv.selectedRoomIDs.forEach((item, i) => {\n            roomURI = item;\n          });\n          //console.log(roomURI);\n          var roomMesh = store.state.bv.scene.getObjectByName( roomURI );\n          roomMesh.updateMatrix();\n          console.log(roomMesh);\n          var bufferGeometry = new BufferGeometry().fromGeometry( roomMesh.geometry );\n          roomMesh = new Mesh(bufferGeometry, new MeshBasicMaterial());\n          roomMesh.updateMatrix();\n          console.log(roomMesh);\n\n          // Perform CSG operations\n          // The result is a THREE.Mesh that you can add to your scene...\n          const uniRes = CSG.intersect(ifcModel, roomMesh);\n\n          uniRes.name = \"IFCcut\";\n          buildingbox.add(uniRes);\n          this.RENDER();\n        });\n      } else {\n        console.log(\"Trying to show/hide shell!\");\n        ifcshell.visible = !ifcshell.visible;\n      }\n      this.RENDER();\n      store.state.bv.scene.getObjectByName(\"buildingbox\").children.forEach((item, i) => {\n        try {\n          item.material.color.setHex( 0x225577 );\n          item.material.opacity = 0.9;\n          item.children.forEach((item2, j) => {\n            item2.material.color.setHex( 0x225577 );\n            item2.material.opacity = 0.9;\n          });\n        } catch (e){\n\n        }\n      });\n    },\n    loadGLTF(GLTFname){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const loader = new GLTFLoader();\n      // Load a glTF resource\n      loader.load(\n        // resource URL\n        GLTFname,\n        // called when the resource is loaded\n        function ( gltf ) {\n          const model = gltf.scene;\n          //model.position.set(model.position.x+50, -100, -140);\n          model.scale.set(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n          model.name = \"Espensmodel\";\n          //store.state.bv.scene.add( model );\n          /*const model = gltf.scene.children[0];\n          model.position.set(model.position.x+50, -30, -140);\n          model.scale.set(this.scaleFactor, this.scaleFactor, this.scaleFactor);\n          store.state.bv.scene.updateMatrixWorld();\n          let material = new MeshPhongMaterial({\n                  transparent: false,\n                  opacity: 1,\n                  color: 0x333333\n          });\n          model.traverse(function(object) {\n            if(object.isMesh) object.castShadow = true;\n            //if(object.isMesh) object.material = material; // Give the model a new material\n          });\n          model.name = \"GLTFModel\";\n          /*let mixer = new AnimationMixer( model );\n          let walkAction = mixer.clipAction( gltf.animations[ 3 ] );\n          let actions = [ walkAction ];*/\n          //buildingbox.add( model );\n\n         /*const gltfAnimations = gltf.animations;\n         const mixer = new AnimationMixer(model);\n         const animationsMap = new Map()\n         gltfAnimations.filter(a => a.name != 'TPose').forEach((a) => {\n             animationsMap.set(a.name, mixer.clipAction(a))\n         })\n         animationsMap.forEach((value, key) => {\n            value.play();\n          });*/\n\n         //characterControls = new CharacterControls(model, mixer, animationsMap, orbitControls, camera,  'Idle');\n\n          /*gltf.animations; // Array<THREE.AnimationClip>\n          gltf.scene; // THREE.Group\n          gltf.scenes; // Array<THREE.Group>\n          gltf.cameras; // Array<THREE.Camera>\n          gltf.asset; // Object*/\n\n        },\n        // called while loading is progressing\n        function ( progress ) {\n          console.log( ( progress.loaded / progress.total * 100 ) + '% loaded' );\n          if(progress==100){ \n            console.log(\"GLTF loading finished!\");\n          }\n          //this.RENDER();\n        },\n        // called when loading has errors\n        function ( error ) {\n          console.log( 'An error happened: '+error );\n        }\n      );\n    },\n    async populateSpaces(){\n        let loaded = await r.populateStoreFromTurtle();\n        const selectedRoomURIs = [];\n        store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(cont => {\n          console.log(\"Found room: \" + cont.subject.value);\n          selectedRoomURIs.push(cont.subject.value);\n        });\n        selectedRoomURIs.forEach((roomURIitem, i) => {\n          store.state.rs.rdfStore.match($rdf.sym(roomURIitem), ns.IFOUR(\"m_polyline\"), null).forEach((polyline, i) => {\n              bmu.addRoomMatrix(polyline, 0x1B4F72, 0.9, roomURIitem);\n          });\n        });\n\n    },\n    show3DMap(){\n      const mapPosition = store.state.bv.scene.getObjectByName(\"map\").position;\n      store.state.bv.scene.remove(store.state.bv.scene.getObjectByName(\"map\"));\n      let provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/streets-v10\", MapBoxProvider.STYLE);\n      let providerTerrain = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox.terrain-rgb\", MapBoxProvider.MAP_ID, \"pngraw\");\n      store.state.bv.map = new MapView(MapView.HEIGHT, provider, providerTerrain);\n      this.activateNewMap(mapPosition);\n    },\n    show2DMap(){\n      const mapPosition = store.state.bv.scene.getObjectByName(\"map\").position;\n      store.state.bv.scene.remove(store.state.bv.scene.getObjectByName(\"map\"));\n      let provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/streets-v10\", MapBoxProvider.STYLE);\n      store.state.bv.map = new MapView(MapView.PLANAR, provider);\n      this.activateNewMap(mapPosition);\n    },\n    showSatteliteMap(){\n      const mapPosition = store.state.bv.scene.getObjectByName(\"map\").position;\n      store.state.bv.scene.remove(store.state.bv.scene.getObjectByName(\"map\"));\n      let provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox.satellite\", MapBoxProvider.MAP_ID, \"jpg70\", false); // Virker med høydekurver\n      //var provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/satellite-streets-v10\", MapBoxProvider.STYLE, \"jpg70\");\n      let providerTerrain = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox.terrain-rgb\", MapBoxProvider.MAP_ID, \"pngraw\");\n      store.state.bv.map = new MapView(MapView.HEIGHT, provider, providerTerrain);\n      this.activateNewMap(mapPosition);\n    },\n    activateNewMap(mapPosition){\n      store.state.bv.map.position = mapPosition;\n      store.state.bv.map.receiveShadow = true;\n      store.state.bv.map.name = \"map\";\n      store.state.bv.map.renderOrder = 2;\n      store.state.bv.scene.add(store.state.bv.map);\n      store.state.bv.map.updateMatrixWorld(true);\n    },\n    lineDashBox( width, height, depth ) {\n      width = width * 0.5,\n      height = height * 0.5,\n      depth = depth * 0.5;\n      const geometry = new BufferGeometry();\n      const position = [];\n\n      position.push(\n        - width, - height, - depth,\n        - width, height, - depth,\n\n        - width, height, - depth,\n        width, height, - depth,\n\n        width, height, - depth,\n        width, - height, - depth,\n\n        width, - height, - depth,\n        - width, - height, - depth,\n\n        - width, - height, depth,\n        - width, height, depth,\n\n        - width, height, depth,\n        width, height, depth,\n\n        width, height, depth,\n        width, - height, depth,\n\n        width, - height, depth,\n        - width, - height, depth,\n\n        - width, - height, - depth,\n        - width, - height, depth,\n\n        - width, height, - depth,\n        - width, height, depth,\n\n        width, height, - depth,\n        width, height, depth,\n\n        width, - height, - depth,\n        width, - height, depth\n       );\n      geometry.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n      return geometry;\n    },\n    keyEvents(event) {\n      if (event.isComposing || event.keyCode === 90) {\n        console.log(\"Z key down 1\");\n        bw.moveToObject();\n        return;\n      } else if (event.keyCode === 76) {\n        console.log(\"L key down 2\");\n        this.lockSelection();\n        return;\n      } else if (event.keyCode === 73){\n        console.log(\"I key down\");\n        this.drawIFC();\n        return;\n      } else if (event.keyCode === 81){\n        console.log(\"Q key down\");\n        this.drawIFCWalls();\n        return;\n      }\n    },\n  },\n  computed: {\n    getSelectedRoomName() {\n      return store.state.bv.selectedRoomName;\n    },\n    getAutoRotate() {\n      return this.autoRotate;\n    },\n    getLockSelection() {\n      return store.state.bv.lockSelection;\n    },\n    getMultiSelect() {\n      return store.state.bv.multiSelect;\n    }\n  },\n  watch: {\n    \"$store.state.bv.roomGeometry\": function (roomGeo) {\n      console.log(\"Detected ROOM geometry change......\");\n      this.changeRoomGeometry();\n    },\n    \"$store.state.bv.selectedRoomNames\": function (val){\n      store.state.bv.selectedRoomName = \"\";\n      store.state.bv.selectedRoomNames.forEach((item, i) => {\n        store.state.bv.selectedRoomName = store.state.bv.selectedRoomName + \" - \" + item;\n      });\n    },\n    \"$store.state.bv.selectedRoomIDs\": function (val){\n      store.state.bv.scene.getObjectByName(\"buildingbox\").children.forEach((item, i) => {\n        if(!item.name.includes(\"IFC\")&&!item.name.includes(\"placemarker\")){\n          try {\n            item.material.color.setHex( 0x225577 );\n            item.children.forEach((item2, j) => {\n              item2.material.color.setHex( 0x225577 );\n            });\n          } catch (e){\n\n          }\n        }\n      });\n      store.state.bv.selectedRoomIDs.forEach((item, i) => {\n        var selectedObject = store.state.bv.scene.getObjectByName(item);\n        if(selectedObject){\n          selectedObject.material.color.setHex( 0xff0000 );\n        }\n      });\n      this.RENDER();\n    },\n    \"$store.state.bv.wayBetweenRooms\": function (val) {\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      buildingbox.children.forEach((item, i) => {\n        try {\n          if(!item.name.includes(\"placemarker\")){\n            item.material.opacity = 0.6;\n            item.children.forEach((item2, j) => {\n              item2.material.opacity = 0.6;\n            });\n          }\n        } catch (e){\n\n        }\n      });\n      /*store.state.bv.wayBetweenRooms.forEach((wayitem, i) => {\n            //console.log(wayitem.value);\n            var selectedObject = store.state.bv.scene.getObjectByName(\"<\"+wayitem.value+\">\");\n            if(selectedObject){\n              selectedObject.material.color.setHex( 0x00BB44 );\n              selectedObject.material.opacity = 1;\n            }\n            let roomName = store.state.rs.rdfStore.match($rdf.sym(wayitem.value), ns.RDFS(\"label\"), null)[0].object.value;\n            roomName = roomName.replace(\"Room \", \"\");\n            roomName = roomName.replace(\"Rom \", \"\");\n            var selectedObject = store.state.bv.scene.getObjectByName(roomName);\n            if(selectedObject){\n              selectedObject.material.color.setHex( 0x00BB44 );\n              selectedObject.material.opacity = 1;\n            }\n      });*/\n      for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n        if(buildingbox.children[i].name.includes(\"arrow\")) buildingbox.remove(buildingbox.children[i]);\n      }\n      bmu.showWay(store.state.bv.wayBetweenRooms, store.state.bv.scaleFactor);\n      store.state.bv.needsrender = true;\n      this.RENDER();\n    },\n    \"$store.state.bv.animate\": function (val) {\n      if(val) this.ANIMATE();\n    },\n    \"$store.state.bv.drawBuildingBoxFlag\": function (val) {\n      if(val){\n        console.log(\"Should draw building box nearby..\");\n        console.log(store.state.cp.buildingLocationList);\n        store.state.cp.buildingLocationList.forEach(building => {\n          if(!building.uri.includes(this.$route.query.location)){\n            console.log(\"Found other building: \"+building.uri);\n            // Check if building box already drawn\n            if(!store.state.bv.scene.getObjectByName(building.uri)){\n              console.log(\"Building box does not exist.\");\n              const position2d = UnitsUtils.datumsToSpherical(building.buildinglat, building.buildinglong);\n              const position = new Vector3( -store.state.bv.buildingboxPosition.x+position2d.x, 0, store.state.bv.buildingboxPosition.z-position2d.y);\n              // Create building box\n              const buildingbox = this.createBuildingObb(building.buildinglat, building.buildinglong, building.buildingdimensions, building.rotation, 0xFF4433, position);\n              buildingbox.name = building.uri;\n              this.ADD_TO_SCENE({ buildingbox: buildingbox });\n\n            } else {\n              console.log(\"Building box already exist..\");\n            }\n          }\n        });\n        store.state.bv.drawBuildingBoxFlag = false;\n      }\n    },\n    \"$store.state.bv.selectedRoomURI\": function (val){\n      this.selectRoomFromURI();\n    },\n    \"$store.state.bv.twodim\": function (val){\n      if(val){\n        //this.show2DMap();\n      } else {\n        //this.show3DMap();\n      }\n    },\n    \"$store.state.bv.needsrender\": function (val){\n      if(val){\n        this.RENDER();\n        store.state.bv.needsrender = false;\n      }\n    },\n    \"$store.state.bv.coords\": function (val){\n      store.state.bv.twodimcamera.position.set(val.x, 300, -val.y);\n      store.state.bv.controls2d.target.set(val.x, 0, -val.y);\n    },\n    floorSplitFactor: function (newvalue, prevvalue){\n      store.state.bv.animate = true;\n      console.log(\"Detected splitfactor change...\", newvalue, \" : \", prevvalue);\n      var buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      if(buildingbox){\n        for( var i = buildingbox.children.length - 1; i >= 0; i--) { // Note that buildingbox.children changes every time you call .remove\n            console.log(\"Found a child to move..\");\n            const heightAboveGround = bmu.getMeshHeightAboveGround(buildingbox.children[i]).min;\n            let factor = 3;\n            if(newvalue>prevvalue){\n              factor = 4;\n              if(buildingbox.children[i]){\n                const currentMesh = buildingbox.children[i];\n                const newPosition = {x:0, y:heightAboveGround*factor, z:0};\n                const currentPosition = {x:currentMesh.position.x, y:currentMesh.position.y, z:currentMesh.position.z};\n                const tween = new store.state.bv.TWEEN.Tween(currentPosition) // Create a new tween that modifies 'coords'.\n                  .to({y: newPosition.y}, 1500) // Move to (300, 200) in 1 second.\n                  .easing(store.state.bv.TWEEN.Easing.Quadratic.Out) // Use an easing function to make the animation smooth.\n                  .onUpdate(() => {\n                    currentMesh.position.y = currentPosition.y;\n                  })\n                  .onComplete(function() {\n                    setTimeout(function() { store.state.bv.animate = false; }, 1000);\n                  })\n                  .start()\n              }\n            } else {\n              factor = 0.25;\n              if(buildingbox.children[i]){\n                const currentMesh = buildingbox.children[i];\n                const newPosition = {x:0, y:-(heightAboveGround*factor), z:0};\n                const currentPosition = {x:currentMesh.position.x, y:currentMesh.position.y, z:currentMesh.position.z};\n                const tween = new store.state.bv.TWEEN.Tween(currentPosition) // Create a new tween that modifies 'coords'.\n                  .to({y: newPosition.y}, 1500) // Move to (300, 200) in 1 second.\n                  .easing(store.state.bv.TWEEN.Easing.Quadratic.Out) // Use an easing function to make the animation smooth.\n                  .onUpdate(() => {\n                    currentMesh.position.y = currentPosition.y;\n                  })\n                  .onComplete(function() {\n                    setTimeout(function() { store.state.bv.animate = false; }, 1000);\n                  })\n                  .start()\n              }\n            }\n        }\n      }\n    },\n    gltfGeoVisible: function (val){\n      store.state.bv.gltfGeoVisible = val;\n      var buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      if(buildingbox && !val){\n        for( var i = buildingbox.children.length - 1; i >= 0; i--) { // Note that buildingbox.children changes every time you call .remove\n          console.log(buildingbox.children[i].name);\n          if(buildingbox.children[i].name.includes(\"HOVEDBYGG\")){\n            console.log(\"Trying to remove..\");\n            buildingbox.remove(buildingbox.children[i]);\n          }\n        }\n        store.state.bv.gltfLoadedList = [];\n        this.RENDER();\n      }\n      if(buildingbox && val){\n        bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"BUILDING\"]);\n        this.RENDER();\n      }\n    },\n    spacesVisible: function (val){\n      var buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      if(!val){\n        for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n          if(buildingbox.children[i].name != \"\"){\n            try{\n              if(store.state.rs.rdfStore.match(null, ns.FOAF(\"name\"), $rdf.literal(buildingbox.children[i].name))[0] || store.state.rs.rdfStore.match($rdf.sym(buildingbox.children[i].name), ns.FOAF(\"name\"), null)[0]) buildingbox.remove(buildingbox.children[i]);\n            } catch (error){}\n          }\n        }\n      } else {\n        this.populateSpaces();\n      }\n      store.state.bv.needsrender = true;\n    },\n    labelDialog: function (val) {\n      if(this.labelDialog){\n        this.removeEventListerners();\n      } else {\n        this.addEventListerners();\n      }\n    },\n    scaleFactor: function (scaleFactor){\n      store.state.bv.scaleFactor = scaleFactor;\n    },\n    file: function(file) {\n      let reader = new FileReader()\n      reader.onload = (event) => {\n        var encoder = new TextEncoder(\"utf-8\");\n        var resultArray = encoder.encode(event.target.result);\n          const WebIFC = require(\"web-ifc/web-ifc-api.js\");\n          const ifcApi = new WebIFC.IfcAPI();\n          ifcApi.SetWasmPath(\"../\");\n          // initialize the library\n          ifcApi.Init().then((result) => {\n              const modelID = ifcApi.OpenModel(resultArray);\n\n              // Init LBD Parser and parse BOT\n              /*const lbdParser = new LBDParser();\n              const botTriples = lbdParser.parseBOTTriples(ifcApi, modelID).then((result) => {\n                console.log(result);\n                // Close the model, all memory is freed\n                //ifcApi.CloseModel(modelID);\n              });*/\n              console.log(\"Printing object:\");\n              console.log(ifcApi.GetLine(modelID, 33774));\n              let propertySetFlattened = ifcApi.GetLine(modelID, 33774, true);\n              console.log(propertySetFlattened);\n              //console.log(propertySetFlattened.GlobalId.value);\n              //let types = WebIFC.IfcElements.filter((f) => (f === WebIFC.IFCSPACE)); // returns only element type ID\n              //let ifcspaces = ifcApi.GetLineIDsWithType(modelID, WebIFC.IFCSPACE);\n              console.log(ifcspaces);\n          });\n      }\n      reader.readAsText(file);\n    },\n  },\n  mounted() {\n    let currentWidth = 0, currentHeight = 0;\n    if(this.$route.path.includes(\"BimViewer\")){\n      currentWidth = window.innerWidth;\n      currentHeight = window.innerHeight-70;\n    } else {\n      currentWidth = window.innerWidth*0.65;\n      currentHeight = window.innerHeight-70;\n    }\n    this.INIT({\n      width: currentWidth,\n      height: currentHeight,\n      el: this.$el\n    });\n\n    \n    setUpMultiThreading();\n    this.setupIFCLoadingProgress();\n    store.state.bv.GLTFloadingFlag = false;\n    store.state.bv.gltfLoadedList = [];\n    this.gltfGeoVisible = store.state.bv.gltfGeoVisible;\n    this.spacesVisible = store.state.bv.spacesVisible;\n\n    // Test of converting coordinates to UTM and back\n    console.log(\"Original lat: 66.32649, long: 14.1868\");\n    this.CONVERT_TO_UTM({ lat: 66.32587, long: 14.18655, zoneNum: 33 }).then(u => {\n      console.log(\"Converted UTM x:\"+u.easting+\" y: \"+u.northing+\" zoneNum: \"+u.zoneNum+\" letter: \"+u.zoneLetter);\n      this.CONVERT_FROM_UTM( { easting: u.easting, northing: u.northing, zoneNum: u.zoneNum, zoneLetter:u.zoneLetter }).then(l => {\n        console.log(\"Converted back lat: \"+l.lat+\" long: \"+l.long);\n      });\n    });\n\n    this.setupBuildingBox();\n\n    const params = {\n      camera: store.state.bv.camera,\n      scene: store.state.bv.scene,\n    }\n\n\n    //store.state.bv.renderer.domElement.addEventListener( 'click', raycast, false );\n\n    //window.onmousemove = (event) => this.highlight(event, this.preselectMat, this.preselectModel);\n    //this.draw2dElement();\n    this.loadIssueLabelsFromStore(\"Warning\");\n\n    //document.body.appendChild( VRButton.createButton( store.state.bv.renderer ) );\n    //store.state.bv.renderer.xr.enabled = true;\n    \n    /*store.state.bv.renderer.setAnimationLoop( function () { \n      this.RENDER();\n    } );*/\n\n    this.RENDER();\n\n    if(store.state.bv.gltfGeoVisible){\n      bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"BUILDING\"]);\n      //bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"FLOW\"]);\n    }\n    //bmu.loadGeometryUsingTag(store.state.currentBuildingTag+\".E01\", this.$route.query.location, [\"IFCSPACE\"]);\n    //bmu.loadGeometryUsingTag(store.state.currentBuildingTag+\".E01\", this.$route.query.location, [\"FLOORPLAN\"]);\n    if(!store.state.bv.IFCPropertyJson && store.state.isLoggedIn){\n      ifcu.getIFCpropertiesJson(this.$route.query.location);\n    }\n\n    setTimeout(function() { \n      const polyLines = [];\n      //const polyArrays = [[0,0,0,-2.72643165079,-3.3389157942340076e-16,0,-2.72643165079,-1.6366602880800005,0,-1.5623570484699998,-2.298,0,0.000007387709651421427,-2.298,0,0,0,0], [0,0,0,4.5714166789299995,0,0,4.57141189468,1.46619871622,0,4.57142562584,1.81519871595,0,4.65970991688,1.81519524247,0,4.65982178417,4.673191896760001,0,0.35782178417,4.673191896760001,0,0.35782178417,4.82319189676,0,0.402425625842,4.82319189676,0,0.402425625842,4.862,0,-1.04157437426,4.862,0,-1.04157437426,2.662,0,-1.61157437426,2.662,0,-1.61157437426,0.002,0,0,0.002,0,0,0,0], [0,0,0,4.17142544256,0,0,4.17142544256,3.9600479999999996,0,0,3.9600479999999996,0,0,0,0], [0,0,0,4.17142544256,0,0,4.17142544256,3.7899520000000004,0,0,3.7899520000000004,0,0,0,0], [0,0,0,4.17142544256,0,0,4.17142544256,3.7899520000000004,0,1.1,3.7899520000000004,0,0,4.38,0,0,0,0], [0,0,0,4.17142544256,0,0,4.17142544256,3.7899520000000004,0,0,3.7899520000000004,0,0,0,0]];\n      //const polyPositions = [{x:92.003, y:20.6500084647, z:3}, {x:92.153, y:25.2214256258, z:3}, {x:104.517150716, y:35.939, z:3}, {x:88.303, y:27.65, z:3}, {x:85.833, y:23.409, z:3}, {x:89.723, y:20.529, z:3}];\n      polyLines.push(\"polyline;V014;0.39180128404599995;20.59;0;2.9;[0,0,0,5.45,0,0,5.45,0.47,0,5.45,2.87,0,5.45,4,0,0,4,0,0,0,0]\");\n      polyLines.push(\"polyline;V013;4.54180128405;20.59;0;2.9;[0,0,0,2.725,0,0,2.725,4.7,0,0,4.7,0,0,0,0]\");\n      polyLines.push(\"polyline;V013.1;6.59180128405;15.09;0;2.9;[0,0,0,-2.65,-3.245314017740486e-16,0,-2.6499999999999995,-2.0500000000000003,0,2.5105259382520737e-16,-2.05,0,0,0,0]\");\n      polyLines.push(\"polyline;V012.1;21.841801284000002;15.14;0;2.9;[0,0,0,-5.45,-6.674325055353075e-16,0,-5.449999999999998,-12.45,0,1.5246852649384546e-15,-12.45,0,0,0,0]\");\n      polyLines.push(\"polyline;V011.1;25.457801284000002;17.69;0;2.9;[0,0,0,-2.9,-3.5514757175273243e-16,0,-2.9,-0.5210000000000004,0,-2.8999999999999995,-3.4960000000000004,0,4.2813652098191467e-16,-3.496,0,0,0,0]\");\n      polyLines.push(\"polyline;V011;25.457801284000002;15.14;0;2.9;[0,0,0,-2.4,-2.9391523179536476e-16,0,-2.3999999999999995,-3.4960000000000004,0,4.2813652098191467e-16,-3.496,0,0,0,0]\");\n      polyLines.push(\"polyline;V010;25.577801284;20.59;0;2.9;[0,0,0,5.45,0,0,5.45,4.104,0,0,4.104,0,0,0,0]\");\n      polyLines.push(\"polyline;N007;29.771801284000002;28.105;0;2.9;[0,0,0,7.125,0,0,7.125,3.89,0,6.595,3.89,0,0,3.89,0,0,0,0]\");\n      polyLines.push(\"polyline;N008;29.621801284;20.98;0;2.9;[0,0,0,-7.125,-8.725608443924891e-16,0,-7.124999999999999,-4.6850000000000005,0,5.737470254005349e-16,-4.685,0,0,0,0]\");\n      polyLines.push(\"polyline;V009.1;32.611801284;18.84;0;2.9;[0,0,0,-1.75,-2.143131898507868e-16,0,-1.7499999999999996,-2.78,0,3.404518101629642e-16,-2.78,0,0,0,0]\");\n      polyLines.push(\"polyline;V009;29.831801284;18.69;0;2.9;[0,0,0,3.55,0,0,3.55,2.78,0,0,2.78,0,0,0,0]\");\n      polyLines.push(\"polyline;V008;32.711801284;20.59;0;2.9;[0,0,0,5.45,0,0,5.45,1.19,0,0,1.19,0,0,0,0]\");\n      polyLines.push(\"polyline;V007;36.5015668809;15.06;0;2.9;[0,0,0,-2.53,-3.0983564018428034e-16,0,-2.5299999999999994,-2.4497655968200007,0,-0.0799999999999997,-2.4497655968200003,0,3.000097596806919e-16,-2.4497655968200003,0,0,0,0]\");\n      polyLines.push(\"polyline;V006;36.6215668809;17.59;0;2.9;[0,0,0,2.53,0,0,2.53,1.87023440318,0,0,1.87023440318,0,0,0,0]\");\n      polyLines.push(\"polyline;N006;41.701801284;24.13;0;2.9;[0,0,0,-8.46,-1.0360511920786608e-15,0,-8.459999999999999,-7.650000000000001,0,-3.974999999999999,-7.650000000000001,0,2.620000000000001,-7.65,0,3.540000000000001,-7.65,0,6.340000000000001,-7.6499999999999995,0,6.34,7.764260706594219e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;N005;41.701801284;38.69500003580001;0;2.9;[0,0,0,4.684274006738626e-16,-7.65,0,5.905000035760001,-7.65,0,5.9050000357600005,3.6157696963792453e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V012;10.046518690200001;12.7932422759;0;2.9;[0,0,0,-1.8017577240876206,-0.0014414061792685745,0,-1.801757724094091,-0.02671740617928987,0,-2.146757724094038,-0.026717406179269574,0,-2.146757724093207,-0.8047174061791494,0,-4.946757724092777,-0.804717406179347,0,-4.946757724092776,-3.3047174061819633,0,-2.146757724093209,-3.3047174061787654,0,-2.146757724086411,-5.504717406178422,0,-1.9567577240864413,-5.504717406177062,0,-1.9567577240948413,-5.6547174061770455,0,-1.952757724094841,-5.65471740617807,0,-1.952757724094122,-6.784717406177895,0,-2.1967577240940868,-6.784717406175432,0,-2.1967577240884886,-9.184717406175059,0,-1.956757724088524,-9.1847174061765,0,-1.9567577240888445,-9.654717406176426,0,-1.9567577240946847,-9.794717406176408,0,0.4101449956078221,-9.794717406176577,0,0.40838443222724513,-6.494717406177338,0,0.1632422759087946,-6.4947174061796344,0,0.16324227590959697,-3.6947174061800654,0,0.35324227590956664,-3.694717406178705,0,0.3532422759089278,-2.3847174061789067,0,0.553242275908898,-2.384717406180107,0,0.5532422759094592,-0.12471740617945368,0,0.35324227590948964,-0.1247174061792535,0,0.35324227590957774,-0.026717406179268488,0,-0.0017577240907376839,-0.026717406179288486,0,0,0,0]\");\n      polyLines.push(\"polyline;V016;3.94180128405;10.295;0;2.9;[0,0,0,1.73,0,0,2.185,0,0,2.185,2.26,0,-1.945,2.26,0,-1.945,0,0,-1.93985782234,0,0,0,0,0]\");\n      polyLines.push(\"polyline;V017;6.3518012840499996;12.24;0;2.9;[0,0,0,4.13,0,0,4.13,3.52,0,0.05,3.52,0,0.05,1.31,0,0.025,1.31,0,0,1.31,0,0,0,0]\");\n      polyLines.push(\"polyline;V020.1;5.201801284049999;7.96;0;2.9;[0,0,0,2.43,0,0,2.43,4.72,0,0,4.72,0,0,0,0]\");\n      polyLines.push(\"polyline;V020;3.94180128405;6.08;0;2.9;[0,0,0,5.69,0,0,5.69,6.088,0,0.79,6.088,0,0.79,5.98,0,0.75,5.98,0,0.75,1.26,0,0.75,1.11,0,0,1.11,0,0,0,0]\");\n      polyLines.push(\"polyline;V021;16.221801283999998;0.39;0;2.9;[0,0,0,-3.45,-4.225031457058369e-16,0,-3.4499999999999997,-2.9540000000000006,0,3.6176066446812815e-16,-2.954,0,0,0,0]\");\n      polyLines.push(\"polyline;V022;16.371801284;3.84;0;2.9;[0,0,0,3.45,0,0,3.45,2.97,0,0,2.97,0,0,0,0]\");\n      polyLines.push(\"polyline;V023;19.491801284;3.84;0;2.9;[0,0,0,3.45,0,0,3.45,2.97,0,0,2.97,0,0,0,0]\");\n      polyLines.push(\"polyline;V024;25.581801284;0.39;0;2.9;[0,0,0,-3.45,-4.225031457058369e-16,0,-3.4499999999999997,-2.9700000000000006,0,3.637200993467639e-16,-2.97,0,0,0,0]\");\n      polyLines.push(\"polyline;V025;25.731801284;3.84;0;2.9;[0,0,0,3.45,0,0,3.45,2.97,0,0,2.97,0,0,0,0]\");\n      polyLines.push(\"polyline;V026;31.771801284000002;0.39;0;2.9;[0,0,0,-3.45,-4.225031457058369e-16,0,-3.4499999999999997,-2.9200000000000004,0,3.5759686535102713e-16,-2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;V027;34.941801284;0.39;0;2.9;[0,0,0,-4.9,-6.000769315822031e-16,0,-4.9,-3.0500000000000003,0,3.735172737399427e-16,-3.05,0,0,0,0]\");\n      polyLines.push(\"polyline;V028;41.561801284;0.39;0;2.9;[0,0,0,-4.9,-6.000769315822031e-16,0,-4.9,-3.3265561999400006,0,4.0738564024403037e-16,-3.32655619994,0,0,0,0]\");\n      polyLines.push(\"polyline;V028.2;35.061801284;5.29;0;2.9;[0,0,0,4.9,0,0,4.9,3.02344380006,0,0,3.02344380006,0,0,1.55,0,0,1.16,0,0,0,0]\");\n      polyLines.push(\"polyline;V028.1;36.611801284;12.24;0;2.9;[0,0,0,3.90069637327,0,0,6.55,0,0,6.75,0,0,6.75,4.95,0,6.725,4.95,0,6.725,5.34,0,0,5.34,0,0,0,0]\");\n      polyLines.push(\"polyline;V001;36.461801284;7.94;0;2.9;[0,0,0,-4.3,-5.265981236333618e-16,0,-4.299999999999999,-4.605000000000001,0,2.4500000000000006,-4.605,0,2.45,-0.23999999999999969,0,2.45,-0.1999999999999997,0,2.25,-0.19999999999999973,0,2.25,2.755455298081545e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V002;18.441801284;12.19;0;2.9;[0,0,0,6.65,0,0,6.65,11.815,0,0,11.815,0,0,0,0]\");\n      polyLines.push(\"polyline;V003;18.291801284;5.54;0;2.9;[0,0,0,-4.209,-5.154538377611209e-16,0,-4.209,-0.15967136805100052,0,-4.359,-0.15967136805100052,0,-4.359,-5.338235397483313e-16,0,-6.65,-8.143901214329899e-16,0,-6.65,-2.140000000000001,0,-6.65,-2.450000000000001,0,-4.359,-2.4500000000000006,0,-4.359,-2.1400000000000006,0,-4.209,-2.1400000000000006,0,-4.209,-2.4500000011200003,0,-2.7500005737699995,-2.4500000283200007,0,3.000384692593013e-16,-2.4500000283200003,0,0,0,0]\");\n      polyLines.push(\"polyline;0V03.1;13.267801283999999;9.74;0;2.9;[0,0,0,1.65,0,0,1.65,2.42399998649,0,0,2.42399999881,0,0,0,0]\");\n      polyLines.push(\"polyline;V004;13.267801283999999;7.94;0;2.9;[0,0,0,1.125,0,0,1.125,2.42399997168,0,0,2.42399997168,0,0,0,0]\");\n      polyLines.push(\"polyline;V005;13.267801283999999;6.665;0;2.9;[0,0,0,1.125,0,0,1.125,2.42399997168,0,0,2.42399997168,0,0,0,0]\");\n      polyLines.push(\"polyline;0V03;13.267801283999999;12.19;0;2.9;[0,0,0,2.3,0,0,2.3,2.424,0,0,2.424,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98003;63.991801284000005;10.87;0;2.9;[0,0,0,4.505,0,0,4.505,3.68699998522,0,0.00006659266824370003,3.68500001478,0,0,3.835,0,0,3.81,0,0,3.31,0,0,0,0]\");\n      polyLines.push(\"polyline;M001;86.501801284;12.05;0;2.9;[0,0,0,3.25,0,0,3.25,2.4,0,2,2.4,0,1.3500000000099999,2.4,0,1.35,1.43,0,0,1.43,0,0,0,0]\");\n      polyLines.push(\"polyline;M002;86.501801284;8.65;0;2.9;[0,0,0,2.985,0,0,2.985,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;M003;91.151801284;10.05;0;2.9;[0,0,0,-2,-2.4492935982947064e-16,0,-1.9999999999999996,-3.0700000000000003,0,-0.7999999999989996,-3.07,0,-0.7999999999929998,-2.1,0,2.571758278209442e-16,-2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;M004;93.561801284;7.5;0;2.9;[0,0,0,-2.4,-2.9391523179536476e-16,0,-2.3999999999999995,-4.51,0,5.523157064154562e-16,-4.51,0,0,0,0]\");\n      polyLines.push(\"polyline;M005;91.301801284;12.05;0;2.9;[0,0,0,2,0,0,2,2.26,0,0,2.26,0,0,0,0]\");\n      polyLines.push(\"polyline;M007;86.351801284;18.7480031249;0;2.9;[0,0,0,2.658,0,0,2.658,7.45,0,0,7.45,0,0,0,0]\");\n      polyLines.push(\"polyline;F001;90.2488012917;21.0050031249;0;2.9;[0,0,0,-5.789,-7.089480320264027e-16,0,-5.789,-2.021000000000001,0,-4.617,-2.0210000000000004,0,-4.616999999999999,-3.8970000076200004,0,-2.8099968750899995,-3.8970000076200004,0,4.772448585609044e-16,-3.89700000762,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98021;85.951801284;21.0050031249;0;2.9;[0,0,0,-1.79876944444,-2.2028572425375088e-16,0,-1.7987694444399998,-1.1953429853300002,0,-1.4128716427099999,-1.6552380769200001,0,-0.5760080155469999,-0.9530261160260001,0,0.000007224525273246713,-0.953026116026,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98022;82.64895031859999;23.815;0;2.9;[0,0,0,2.8100219127300003,0,0,2.81001373438,1.07885097303,0,1.74383241693,1.07885097303,0,0.911227430642,2.07111095665,0,0.911227430642,3.30285096541,0,0,3.30285096541,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98023;81.951801284;23.815;0;2.9;[0,0,0,3.3849970754000003,0,0,3.38499690186,1.77600000508,0,3.01001373438,1.77600000508,0,3.01002342886,0.497149034587,0,0,0.497149034587,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98024;78.801801284;23.815;0;2.9;[0,0,0,3.3849973832,0,0,3.3849970871300004,3.03,0,0,3.03,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98025;75.201801284;23.815;0;2.9;[0,0,0,3.3849977349800002,0,0,3.38499739493,3.48,0,0,3.48,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98026;70.851801284;23.815;0;2.9;[0,0,0,3.38499816003,0,0,3.3849977467,4.23,0,1.5,4.23,0,1.5,2.23,0,0,2.23,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98027;66.931801284;23.815;0;2.9;[0,0,0,3.38499854308,0,0,3.38499817176,3.8,0,0,3.8,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98028;64.311801284;23.815;0;2.9;[0,0,0,3.38499879909,0,0,3.3849985548,2.5,0,0,2.5,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98029;58.7328975191;23.815;0;2.9;[0,0,0,3.38499934423,0,0,3.38499881081,5.4589037649800005,0,0,5.4589037649800005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98030;58.6128975191;20.430000644;0;2.9;[0,0,0,-3.38499935595,-4.1454286263800195e-16,0,-3.384999355949999,-6.47109623502,0,6.323206322034809e-7,-6.47109623502,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98020;75.251801284;18.779999983699998;0;2.9;[0,0,0,3.58999998374,0,0,3.58999998374,1.78,0,-1.522848336320001e-8,1.78,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98013;73.651801284;18.7799999701;0;2.9;[0,0,0,3.58999997006,0,0,3.58999997006,1.48,0,-1.2661885762100007e-8,1.48,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98013.1;69.651801284;18.7799999358;0;2.9;[0,0,0,3.5899999358300003,0,0,3.5899999358300003,3.88,0,-3.319467722920002e-8,3.88,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98014;69.531801284;15.19;0;2.9;[0,0,0,-3.58999993481,-4.396481929104273e-16,0,-3.5899999174399997,-2.0300000000000002,0,2.4860330022691267e-16,-2.03,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98015;65.801801284;18.7799999029;0;2.9;[0,0,0,3.5899999029000003,0,0,3.5899999029000003,1.58,0,-1.3517421848500008e-8,1.58,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98016;64.001801284;18.779999887499997;0;2.9;[0,0,0,3.5899998875000003,0,0,3.5899998875000003,1.68,0,-1.4372950829500008e-8,1.68,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98017;63.881801284;15.19;0;2.9;[0,0,0,-3.5899998864700002,-4.3964818699048474e-16,0,-3.5899998676499996,-2.2000000000000006,0,2.6942229581241775e-16,-2.2,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98018;60.311801284;18.7479998843;0;2.9;[0,0,0,3.68799988432,0,0,3.68799988432,1.25,0,1.7698720711200013e-8,1.25,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98033;60.191801284;15.24;0;2.9;[0,0,0,-3.50799988602,-4.2960608318236726e-16,0,-3.507999965989999,-5.648,0,6.91680512158425e-16,-5.648,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98031;52.141801284;18.748;0;2.9;[0,0,0,1.156,0,0,1.156,2.252,0,3.188605646190002e-8,2.252,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98032;52.141801284;17.442;0;2.9;[0,0,0,2.202,0,0,2.202,2.252,0,0,2.252,0,0,0,0]\");\n      polyLines.push(\"polyline;N021;59.506801284;30.5282293944;0;2.9;[0,0,0,-2.96377060564,-3.629572185604039e-16,0,-5.00677060564,-6.131525596262081e-16,0,-5.006770605639999,-6.995000000000001,0,5.5182293943600005,-6.994999999999999,0,5.918229394360001,-6.994999999999999,0,6.27822939436,-6.994999999999999,0,6.278229394359999,7.688613532115799e-16,0,5.65,6.919254415182546e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;N021.1;56.111801284;39.135;0;2.9;[0,0,0,3.45,0,0,3.45,3.395,0,1.393,3.395,0,0,3.395,0,0,0,0]\");\n      polyLines.push(\"polyline;N022.1;55.961801284;35.685;0;2.9;[0,0,0,-3.45,-4.225031457058369e-16,0,-3.4499999999999997,-3.4500000000000006,0,4.225031457058369e-16,-3.45,0,0,0,0]\");\n      polyLines.push(\"polyline;N022;52.511801284;51.135;0;2.9;[0,0,0,11.85,0,0,11.85,6.995,0,0,6.995,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98023.1;52.511801284;58.359;0;2.9;[0,0,0,2.298,0,0,2.298,2.34900050095,0,2.27208470471,2.34900002847,0,0,2.3474725972,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98023.2;54.985290044;58.335;0;2.9;[0,0,0,2.247999999997057,0.00151124009024343,0,2.2480847047160752,-0.1244887314449699,0,2.2479999999973534,4.521511240089098,0,3.964710504344993e-15,4.521511240090343,0,0,0,0]\");\n      polyLines.push(\"polyline;N025;52.511801284;68.0051957557;0;2.9;[0,0,0,5.413548409840001,0,0,9.52019575574,0,0,9.52019575574,2.47338792094,0,9.52019575574,6.995,0,0,6.995,0,0,1.77450937975,0,0,0,0]\");\n      polyLines.push(\"polyline;N014;48.961801284;64.8916473459;0;2.9;[0,0,0,-3.1135484098400004,-3.812997094100888e-16,0,-3.11354840984,-4.65,0,5.694607616035193e-16,-4.65,0,4.0413344371862655e-16,-3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N014.1;45.661801284;64.74164734589999;0;2.9;[0,0,0,1.84988128164,0,0,1.84994109394,3.3,0,0,3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N014.2;49.111801284;68.0051957557;0;2.9;[0,0,0,5.11349222252,0,0,5.11354840984,3.1,0,0,3.1,0,0,0,0]\");\n      polyLines.push(\"polyline;N010;36.4816689404;46.335;0;2.9;[0,0,0,6.99999621874894,0.0001323435903302405,0,6.999999999996419,-0.19986765629692518,0,7.000000000004821,5.030132343630796,0,-1.962988690866474e-15,5.030132343629,0,0,0,0]\");\n      polyLines.push(\"polyline;N011;36.4815328155;53.535;0;2.9;[0,0,0,7.050000000000003,0.00013328897369274068,0,7.0500000000001455,5.030268468532693,0,1.3823577699190182e-16,5.030268468539025,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9802.1;41.961801284;23.88;0;2.9;[0,0,0,3.3818693442099996,0,0,3.3801572058000002,1.03859120886,0,0,1.03859120886,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9802;43.0003924929;20.499842794200003;0;2.9;[0,0,0,-0.010157205800951159,6.161408791137086,0,-3.3151572057960115,6.161408791133492,0,-3.315157205804406,6.311408791134434,0,-3.5901572057961557,6.311408791132393,0,-3.590157205797761,6.161408791131435,0,-3.3801572057984317,6.161408791137184,0,-3.380157205802952,4.431408791132149,0,-3.380157205799156,-5.532900526628026e-15,0,0,0,0]\");\n      polyLines.push(\"polyline;VO15;0.251801284046;12.2348578223;0;2.9;[0,0,0,1.54985782234,0,0,1.54985782234,0.14,0,1.93985782234,0.14,0,1.93985782234,0,0,6.00485782234,0,0,6.00485782234,0.14,0,6.39485782234,0.14,0,6.39485782234,0,0,6.46985782234,0,0,11.8448578223,0,0,11.8462339716,0.14,0,11.9848578223,0.14,0,11.9848578223,3.3,0,6.00485782234,3.3,0,6.00485782234,4.8,0,4.27485782234,4.8,0,4.27485782234,3.3,0,3.66985782234,3.3,0,3.66985782234,3.538,0,1.93985782234,3.538,0,1.93985782234,3.3,0,0,3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N012;36.4813966906;60.735;0;2.9;[0,0,0,7.050000000000003,0.00013328897369274068,0,7.049999999996536,5.030404593442717,0,-2.6266966032806316e-15,5.030404593449048,0,0,0,0]\");\n      polyLines.push(\"polyline;N013;36.4812592386;68.0051957557;0;2.9;[0,0,0,7.120195755737458,0.00013461611131224984,0,7.120195755740383,5.030542045490361,0,-2.6192508448610874e-14,5.0305420454890735,0,-9.68414801474915e-15,3.15505142524388,0,0,0,0]\");\n      polyLines.push(\"polyline;N010.1;34.316801284;44.8351176582;0;2.9;[0,0,0,3.65011765822,0,0,3.65011765822,1.96496502346,0,0,1.96489601347,0,0,0,0]\");\n      polyLines.push(\"polyline;N011.1;34.316801284;51.635;0;2.9;[0,0,0,3.65,0,0,3.65,1.96483646105,0,0,1.96476745328,0,0,0,0]\");\n      polyLines.push(\"polyline;N012.1;36.2814940577;55.585;0;2.9;[0,0,0,-3.6501176582176407,-0.00006900999100127861,0,-3.6501176582243606,-1.9646927736421247,0,3.380562702600537e-15,-1.9646927736411357,0,0,0,0]\");\n      polyLines.push(\"polyline;N013.1;34.316801284;66.035;0;2.9;[0,0,0,3.65,0,0,3.65,1.96456421123,0,0,1.96449520346,0,0,0,0]\");\n      polyLines.push(\"polyline;N013.4;34.366801284000005;68.0541957557;0;2.9;[0,0,0,1.9191957557400001,0,0,1.9191957557400001,1.9144933128400001,0,0.0490000001717,1.91445795447,0,0,1.91445795447,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9804;42.3420898321;17.355;0;2.9;[0,0,0,1.34280158206,0,0,1.715,0,0,1.715,2.92966213222,0,1.4646959189900002,2.92966213222,0,-0.13500000001,2.93,0,-0.545,2.93,0,-0.545,0,0,0,0,0]\");\n      polyLines.push(\"polyline;N023;52.511801284;55.935;0;2.9;[0,0,0,4.65,0,0,4.65,6.995,0,-0.0019999999750600003,6.995,0,-0.00191645302151,2.41250272847,0,0,2.41250272847,0,0,0,0]\");\n      polyLines.push(\"polyline;N015;49.761801284;51.71;0;2.9;[0,0,0,-6.35,-7.776507174585692e-16,0,-6.349999999999999,-5.450000000000001,0,6.674325055353075e-16,-5.45,0,0,0,0]\");\n      polyLines.push(\"polyline;N016;44.311801284;51.56;0;2.9;[0,0,0,2.8,0,0,2.8,5.45,0,0,5.45,0,0,0,0]\");\n      polyLines.push(\"polyline;N017;46.761801284;46.61;0;2.9;[0,0,0,-2,-2.4492935982947064e-16,0,-1.9999999999999998,-2.4500000000000006,0,0.2500000000000003,-2.45,0,0.25,3.061616997868383e-17,0,0,0,0]\");\n      polyLines.push(\"polyline;N017.1;46.911801284;48.61;0;2.9;[0,0,0,2,0,0,2,0.25,0,2.25,0.25,0,2.25,2.85,0,0,2.85,0,0,0,0]\");\n      polyLines.push(\"polyline;N018;44.311801284;46.21;0;2.9;[0,0,0,3.7,0,0,3.7,2.81774939693,0,3.7,5.45,0,0,5.45,0,0,0,0]\");\n      polyLines.push(\"polyline;1N06;44.361801284;42.26;0;2.9;[0,0,0,2.925,0,0,2.925,2.77,0,0,2.76792660977,0,0,0,0]\");\n      polyLines.push(\"polyline;N004;43.271801284;38.695;0;2.9;[0,0,0,4.515,0,0,4.515,3.58,0,0,3.58,0,0,0,0]\");\n      polyLines.push(\"polyline;N005.1;41.901801284;37.05;0;2.9;[0,0,0,1.2,0,0,1.2,1.25,0,0,1.25,0,0,0,0]\");\n      polyLines.push(\"polyline;N005.2;41.901801284;38.695;0;2.9;[0,0,0,1.525,0,0,1.525,1.25,0,0,1.25,0,0,0,0]\");\n      polyLines.push(\"polyline;N005.3;41.901801284;35.73;0;2.9;[0,0,0,1.55,0,0,1.55,1.25,0,0,1.25,0,0,0,0]\");\n      polyLines.push(\"polyline;N003.2;41.901801284;28.91;0;2.9;[0,0,0,4.78,0,0,4.78,0.06,0,4.78,4.95,0,0,4.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N002;47.431801284;32.061;0;2.9;[0,0,0,5.87,0,0,5.87,2,0,0,2,0,0,0,0]\");\n      polyLines.push(\"polyline;N001;47.431801284;26.039;0;2.9;[0,0,0,1.909,0,0,1.999,0,0,1.999,1.57,0,1.789,1.57,0,1.789,2,0,0,2,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9801.1;45.271751964299995;14.9683686802;0;2.9;[0,0,0,-0.636170469449,-7.79084129122787e-17,0,-0.5216313197550001,-0.001091318667690064,0,-0.5216313197549999,-2.21966213222,0,-0.09163131975509972,-2.21966213222,0,-0.0916313197551,-0.0010913186676900113,0,0,0,0]\");\n      polyLines.push(\"polyline;0V02;36.5015668809;12.44;0;2.9;[0,0,0,-2.5,-3.061616997868383e-16,0,-2.4999999999999996,-2.4497655968200007,0,-2.499999999999997,-26.3297655968,0,-2.1549999999999967,-26.3297655968,0,-2.1549999999999967,-26.356489564799997,0,-0.34666298015699676,-26.3550428952,0,-0.34499999999999675,-26.3297655968,0,3.2244663160421223e-15,-26.3297655968,0,6.955000000000004,-26.3297655968,0,6.955000000000003,-23.3837655968,0,2.8636853690133116e-15,-23.3837655968,0,2.845438131706016e-15,-23.2347655968,0,2.492127530152005e-15,-20.3497655968,0,7.341470499784285e-16,-5.99476559682,0,7.150000000000001,-5.994765596819999,0,7.150000000000003,-23.2337655968,0,7.295000000000003,-23.2337655968,0,8.450000000000003,-23.2337655968,0,8.45,-4.729765596819999,0,7.150000000000001,-4.729765596819999,0,7.150000000000001,-4.794765596819999,0,6.950000000000001,-4.794765596819999,0,6.950000000000001,-4.7647655968199984,0,0.2000000000000006,-4.764765596819999,0,5.835154936833041e-16,-4.764765596819999,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98005.1;85.951801284;5.965;0;2.9;[0,0,0,-4.72163125596,-5.782330604365512e-16,0,-4.72163125596,-3.2800000000000002,0,-4.64416301578,-3.2800000000000002,0,-4.64416301578,-3.4300000000000006,0,-3.7141630157799996,-3.4300000000000006,0,-3.7141630157799996,-3.2800000000000002,0,-0.39999999999999963,-3.28,0,4.0168415012033185e-16,-3.28,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98026.1;75.08180128400001;22.415;0;2.9;[0,0,0,-1.4,-1.7145055188062944e-16,0,-1.3999999999999997,-1.9000000000000001,0,2.326828918379971e-16,-1.9,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9805;52.141801284;20.1300000117;0;2.9;[0,0,0,1.23000001173,0,0,1.23000014408,9.54,0,1.23000001173,25.01,0,1.22999688681,33.81,0,1.22999688681,40.46,0,-0.675003113187,40.46,0,-0.675003113187,34.21,0,-0.0000031131870166200006,34.21,0,-0.00000311318702018,33.81,0,-0.675003113181,33.81,0,-0.674994543678,32.6795505507,0,-0.8749945436719999,32.6795490346,0,-0.8749951306,32.756973884,0,-1.41461410531,32.756973884,0,-2.22359599493,32.0781574788,0,-1.89453680553,31.6860000076,0,-0.874987011958,31.6860000076,0,-0.874987569505,31.759549032,0,-0.6749875695109999,31.7595505482,0,-0.674987004372,31.685000005099997,0,-0.30000309608700004,31.685000005099997,0,-0.300003113187,31.86,0,-0.0000031131870486,31.8600000293,0,0,0,0]\");\n      polyLines.push(\"polyline;N003.1;41.901801284;32.7138986764;0;2.9;[0,0,0,3.6838986764199997,0,0,3.6838986764199997,3.277,0,1.71393398282,3.277,0,0,1.56306601718,0,0,0,0]\");\n      polyLines.push(\"polyline;N003;46.851801284000004;29.03;0;2.9;[0,0,0,-5.03,-6.159973399711187e-16,0,-5.029999999999999,-4.950000000000001,0,-3.6838986764199992,-4.950000000000001,0,-3.6838986764199992,-3.3869339828200005,0,-1.9699646935899997,-1.6730000000000003,0,2.048834094973522e-16,-1.673,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9808.1;67.421801284;12.27;0;2.9;[0,0,0,1.28,0,0,1.28,0.38,0,0.33,0.38,0,0.33,0.28,0,0,0.28,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9808.3;68.951801284;10.94;0;2.9;[0,0,0,-0.21,-2.5717582782094416e-17,0,-0.20999999999999988,-1,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9808.2;68.951801284;11.27;0;2.9;[0,0,0,-1,-1.2246467991473532e-16,0,-0.9999999999999999,-1.0000000000000002,0,-0.6699999999999999,-1,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;0N01;50.061801284;58.36;0;2.9;[0,0,0,15.85,0,0,16.15,0,0,16.15,-2.63203787229,0,19.0248936723,-2.63,0,19.275,-2.63,0,19.665,-2.63,0,26.149,-2.63,0,26.149,-0.48,0,34.11,-0.48,0,34.11,-0.395,0,34.27,-0.395,0,34.27,9.445,0,34.26,9.445,0,34.26,1.875,0,34.11,1.875,0,34.11,2.3,0,33.75,2.3,0,33.75,2.05,0,33.35,2.05,0,33.35,2.3,0,26.55,2.3,0,26.55,2.05,0,26.15,2.05,0,26.15,2.3,0,19.35,2.3,0,19.35,2.05,0,18.95,2.05,0,18.95,2.3,0,12.15,2.3,0,12.15,2.05,0,11.75,2.05,0,11.75,2.3,0,4.95,2.3,0,4.95,2.05,0,4.55,2.05,0,4.55,2.3,0,-2.25,2.3,0,-2.25,2.05,0,-2.65,2.05,0,-2.65,2.3,0,-4.231644627110001,2.3,0,-4.2317642517200005,-4.3,0,-2.65,-4.3,0,-2.65,-2.415845301580003e-13,0,0,0,0]\");\n      polyLines.push(\"polyline;0N04;44.837310663800004;60.86;0;2.9;[0,0,0,2.5,0,0,2.5,5.07449062025,0,0,5.07449062025,0,0,0.924490620251,0,0,0,0]\");\n      polyLines.push(\"polyline;0N04.1;44.711310663800006;58.36;0;2.9;[0,0,0,-2.5,-3.061616997868383e-16,0,-2.5,-0.7000000000000003,0,8.572527594031472e-17,-0.7,0,0,0,0]\");\n      polyLines.push(\"polyline;0N05;44.111801284;42.51;0;2.9;[0,0,0,-15.55,-1.9043257726741342e-15,0,-15.55,-0.4004906202510019,0,-18.35,-0.40049062025100224,0,-18.65,-0.4004906202510023,0,-18.65,1.3499999999999979,0,-20.3817696893,1.3499999999999976,0,-22.1816473459,1.3499999999999974,0,-22.1816473459,-2.7164683421971816e-15,0,-25.4951957557,-3.122260987585319e-15,0,-25.4951957557,-2.400000000000003,0,3.1750000000000003,-2.3999999999999995,0,3.175,3.888253587292846e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;N012.2;34.366801284000005;55.485;0;2.9;[0,0,0,1.8,0,0,1.8,1.91472869549,0,0,1.91469466427,0,0,0,0]\");\n      polyLines.push(\"polyline;N012.3;34.316801284;60.735;0;2.9;[0,0,0,1.39988234178,0,0,1.39988234178,0.9330192063849999,0,0,0.9330192063849999,0,0,0,0]\");\n      polyLines.push(\"polyline;N012.4;36.2814231571;59.3351176582;0;2.9;[0,0,0,-1.399882341779809,-0.00002646650789044393,0,-1.399882341779013,-0.9316026666423844,0,-4.1263718245261594e-16,-0.9316026666424988,0,0,0,0]\");\n      polyLines.push(\"polyline;N011.4;34.366801284000005;53.535;0;2.9;[0,0,0,1.8,0,0,1.8,1.91476556266,0,0,1.91473153143,0,0,0,0]\");\n      polyLines.push(\"polyline;N011.2;35.249820490400005;46.485;0;2.9;[0,0,0,-1.4,-1.7145055188062944e-16,0,-1.3999999999999997,-0.9330192063850001,0,1.1426189846423939e-16,-0.9330192063849999,0,0,0,0]\");\n      polyLines.push(\"polyline;N011.3;36.2816661044;46.485;0;2.9;[0,0,0,-1.399999999999788,-0.000026468732365305036,0,-1.399999999995813,-0.9318456140179027,0,-4.6505463054732216e-15,-0.9318456140175422,0,0,0,0]\");\n      polyLines.push(\"polyline;N010.2;34.366801284000005;41.085;0;2.9;[0,0,0,1.75,0,0,1.75,1.915,0,0,1.9149669140799999,0,0,0,0]\");\n      polyLines.push(\"polyline;N010.3;34.316801284;46.335;0;2.9;[0,0,0,1.39988234178,0,0,1.39988234178,0.9330192063849999,0,0,0.9330192063849999,0,0,0,0]\");\n      polyLines.push(\"polyline;N010.4;36.2816954069;44.9351176582;0;2.9;[0,0,0,-1.399882341779809,-0.00002646650789044393,0,-1.3998823417817932,-0.9318749164614333,0,-2.001606616997692e-15,-0.9318749164615474,0,0,0,0]\");\n      polyLines.push(\"polyline;N013.2;35.249820490400005;60.885;0;2.9;[0,0,0,-1.4,-1.7145055188062944e-16,0,-1.3999999999999997,-0.9330192063850001,0,1.1426189846423939e-16,-0.9330192063849999,0,0,0,0]\");\n      polyLines.push(\"polyline;N013.3;36.2813938546;60.885;0;2.9;[0,0,0,-1.399999999999788,-0.000026468732365305036,0,-1.4000000000030328,-0.9315733641988541,0,-3.042796456421623e-15,-0.9315733641994934,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9801.2;42.902089832099996;15.06;0;2.9;[0,0,0,-0.43,-5.265981236333619e-17,0,-0.4299999999999999,-0.71,0,8.694992273946207e-17,-0.71,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9801;56.636801284;14.94;0;2.9;[0,0,0,4.567932560819627e-16,-7.46,0,-0.29999999999999954,-7.46,0,-0.2999999999999997,-4.615,0,-8.875,-4.615000000000001,0,-8.875,-7.325000000000001,0,-5.489999999999999,-7.325,0,-5.49,-6.795,0,-5.19,-6.795,0,-5.1899999999999995,-7.325,0,-5.089999999999999,-7.325,0,-5.089999999999999,-7.475,0,-5.369999999999999,-7.475,0,-5.369999999999999,-11.214711452,0,-5.08183760684,-11.214711452,0,-4.984999999999999,-11.364711452,0,-3.654999999999999,-11.364711452,0,-3.519999999999999,-11.214711452,0,-2.549999999999999,-11.214711452,0,-2.414999999999999,-11.364711452,0,-1.0849999999999993,-11.364711452,0,-0.9503040809999993,-11.2150493198,0,6.867237125886385e-16,-11.2150493198,0,9.14504997263286e-16,-14.935,0,-0.9499391344049991,-14.935,0,-1.072198417939999,-14.294711452,0,-2.414999999999999,-14.294711452,0,-2.550060865599999,-14.935,0,-2.649999999999999,-14.935,0,-2.649999999999999,-18.025,0,1.103712927731552e-15,-18.025,0,1.2255796373031433e-15,-20.0152344032,0,2.5000000000000013,-20.0152344032,0,2.500000000000001,-14.405,0,2.5424117442200007,-14.405,0,2.5424117442200003,-7.485,0,2.5000000000000004,-7.485,0,2.5000000000000004,-7.085,0,2.5425000000000004,-7.085,0,2.5425000000000004,-3.805,0,2.5000000000000004,-3.80490593235,0,2.5,-3.40488097837,0,2.5425,-3.405,0,2.5425,-0.12499999999999985,0,2.5001802339699997,-0.12499999999999985,0,2.5001802339699997,1.5309188604114204e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98001;42.231801284;12.282588255799999;0;2.9;[0,0,0,6.79514691891,0,0,6.79514691891,0.12,0,6.97514691891,0.12,0,6.97514691891,6.869,0,5.86658825578,6.869,0,5.86658825578,6.92,0,0,6.92,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98001.3;41.951801284;0.426;0;2.9;[0,0,0,-1.3498057020202126e-15,7.348,0,-4.830441336860002,7.347999999999999,0,-4.830441336860001,7.148999999999999,0,-4.881441336860001,7.148999999999999,0,-4.88144133686,-8.967062262616763e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98001.2;53.231801284;12.2525;0;2.9;[0,0,0,0.3123197660340815,0.00011902163469557517,0,0.3124999999996115,-0.09700000000006433,0,2.110499999995328,-0.09700000000005003,0,2.110500000002986,-0.04202094638127534,0,2.2105000000044273,-0.042020946381279914,0,2.2105000000022357,6.930000000003434,0,0.31250000000007966,6.929999999999123,0,0.31249999999965744,6.960426914828556,0,-0.029999999999978943,6.960426914827444,0,-0.03000000000002441,3.6800000000011654,0,0.3125000000002241,3.68002495398409,0,0.31250000000029365,3.2799999999965124,0,-2.2941717969793274e-16,3.2799999999952782,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98001.1;60.165801284000004;0.426;0;2.9;[0,0,0,-9.61600000000328,-0.003999999999894853,0,-9.615999999996959,-7.1309999999959395,0,-11.51399999995606,-7.130999999998477,0,-11.514180234012922,-7.333905932345835,0,-11.856500000029374,-7.333905932342836,0,-11.85650000003894,-10.614000000016459,0,-10.789999999968636,-10.6140000000475,0,-10.789999999979916,-10.862000000003702,0,-5.990000017717692,-10.862000050570902,0,-5.989999999999488,-10.562987687693907,0,-4.830441336868047,-10.5629876877019,0,-4.830441336863916,-10.86600000001759,0,2.8536201179818477e-15,-10.86599999999279,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98002;60.311801284;6.365;0;2.9;[0,0,0,-6.484504801485234e-16,3.53,0,-5.575000000000001,3.529999999999999,0,-5.575000000000001,3.560264525249999,0,-5.925000000000001,3.559999999999999,0,-5.925,0.2799999999999989,0,-5.575,0.28045186881199896,0,-5.575,-1.0241108857869742e-15,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9807;56.786801284;14.94;0;2.9;[0,0,0,2.5001802459799998,-3.899745563147662e-8,0,2.5001802339701213,0.12502495398054456,0,2.5424999625101226,0.12502499460844746,0,2.5425000600873635,3.4054268497124465,0,2.5001802339673644,3.405426914832545,0,2.4999999999989195,5.358999999995356,0,-4.9618347914118886e-15,5.359,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9808;62.265801284;14.94;0;2.9;[0,0,0,2.5,0,0,2.5001802339699997,2.00628947923,0,3,2.00628947923,0,3,1.726,0,3.92,1.726,0,3.92,5.036,0,2.5,5.036,0,2.5,21.4572285716,0,0,21.4572285716,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98006;82.671801284;10.836631256;0;2.9;[0,0,0,-6.025262251804977e-16,3.28,0,-1.6033687440400006,3.2799999999999994,0,-1.603368744040001,6.63,0,-5.103371868950001,6.629999999999999,0,-5.103371868950001,3.6799999999999993,0,-4.103368744040001,3.6799999999999993,0,-4.10336874404,1.2012285715699993,0,-1.45336874404,1.2012285715699997,0,-1.45336873337,0.000024955430830833033,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98005;78.5921167564;11.94;0;2.9;[0,0,0,5.57500000000419,-0.00031547231924414405,0,5.57499999999879,3.929684527682852,0,0.7999999999998132,3.929684527681189,0,0.8000000000002634,4.079684527681345,0,-1.334018616058752e-14,4.079709481661788,0,-1.3300829621726296e-14,3.67968452768133,0,-0.49981976603400374,3.679684527683939,0,-0.4998197660339615,0.4000249539810653,0,5.606206146015202e-16,0.4000249539804569,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98004;75.31391483910001;12.439819766000001;0;2.9;[0,0,0,0.499819766034,0,0,0.499819766034,-0.400024953981,0,0,-0.400024953981,0,0,-3.6809374983399996,0,0.499819766034,-3.6809374983399996,0,0.499819766034,-4.08096245232,0,0,-4.08096245232,0,-0.00018023396597400003,-6.16211355505,0,1.56981976603,-6.16211355505,0,1.56981976603,-7.4871135550500005,0,6.07481976603,-7.48511355505,0,6.07481976603,3.27788644495,0,0,3.27820191727,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98007;81.0518000199;18.7500013849;0;2.9;[0,0,0,3.060001384899807,0.0000010866180278134203,0,3.060001384902767,1.3200012641681111,0,3.5600013849027987,1.320001264169996,0,3.5600013849013026,4.900001264170222,0,-0.0000017400089216396455,4.90000126416969,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98012;77.171801284;15.09;0;2.9;[0,0,0,-6.888638245203861e-16,3.75,0,-0.1000000000000007,3.75,0,-0.10000312491300069,3.76,0,-3.660001342290001,3.759998735829999,0,-3.66,-0.01999997272560067,0,-0.1,-0.020000000000000018,0,-0.1,-1.8369701987210297e-17,0,0,0,0]\");\n      polyLines.push(\"polyline;0%C3%9803;42.3420898321;20.31;0;2.9;[0,0,0,2.26,0,0,2.26,2.93,0,1.85,2.93,0,0.288925626628,2.93,0,0,2.93,0,0,0,0]\");\n      polyLines.push(\"polyline;0V05;10.181801283999999;5.29;0;2.9;[0,0,0,4.9,0,0,5.015,0,0,5.015,2.87,0,4.9,2.87,0,4.9,2.936,0,0.145,2.936,0,-0.045,2.936,0,-0.045,-0.01,0,0,-0.01,0,0,0,0]\");\n      /*polyLines.push(\"polyline;F131;86.468;31.6850000001;3;2.9;[0,0,0,11.1850000001,0,0,11.1850000001,0.137,0,11.1850000001,1.83119871595,0,9.433,1.83119871595,0,9.433,1.833,0,9.433,3.087,0,8.15855988463,3.81104110276,0,8.15855988463,5.535,0,6.463574374259999,5.535,0,6.463574374259999,5.487,0,6.468,1.89419871595,0,6.59716863768,1.89667178762,0,6.59716863768,1.63413863282,0,6.33743777878,1.63413863282,0,6.32499,1.63398708909,0,6.32499,1.602,0,3.7,1.602,0,1.40157437426,1.602,0,1.20157437426,1.602,0,1.20157437426,3.502,0,0,3.502,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9809;60.4581987526;14.95;3;2.9;[0,0,0,2.499999999995241,-0.0018012840462486206,0,2.5000000000027875,2.0849999633144036,0,4.4500000000033175,2.086801247360582,0,4.4500000000012685,5.228509838843367,0,2.649999999995561,5.22850983884003,0,2.649999999998391,4.8118012473650476,0,2.4980000000037776,4.8118012473666285,0,2.4979999999956726,5.378509838847091,0,2.499022085738046,7.446060521444377,0,2.64999999998566,7.446146485561619,0,2.4980000000010385,7.446146485553192,0,2.498000000002304,9.517017694998891,0,2.4980711587207742,9.51701769499808,0,2.498071158712362,9.6690176950027,0,4.447999999995071,9.669017695002132,0,4.4480000000038995,12.714801247335663,0,2.498000000002713,12.714801247327046,0,2.4979999999996503,25.521801247337937,0,2.415073439234417,25.521801247338797,0,3.634245682171411e-14,25.521801247389767,0,-5.769343336403665e-14,23.12180124732216,0,0,0,0]\");\n      polyLines.push(\"polyline;N103.1;59.517663688499994;50.096;3;2.9;[0,0,0,-3.4480000000023465,-0.0000873978279192545,0,-3.4480000000046025,-4.997464972533304,0,-1.5077728562212789e-15,-4.997464972535413,0,0,0,0]\");\n      polyLines.push(\"polyline;N104;59.5175724379;53.696;3;2.9;[0,0,0,-2.247999999997841,-0.00005698095044707327,0,-2.2480000000020874,-4.997373721895812,0,-1.1030672902867522e-15,-4.997373721895384,0,0,0,0]\");\n      polyLines.push(\"polyline;N105;59.5175116041;56.096;3;2.9;[0,0,0,-2.8479999999950936,-0.00007218938918603208,0,-2.8479999999967984,-4.997312888144527,0,4.946320046259056e-15,-4.997312888145364,0,0,0,0]\");\n      polyLines.push(\"polyline;N106;59.5174355619;59.096;3;2.9;[0,0,0,-2.847918855945119,-0.00007218733239298166,0,-2.847918855944249,-4.997236845947709,0,-3.1384129236394775e-15,-4.997236845955339,0,0,0,0]\");\n      polyLines.push(\"polyline;N108;59.517359521799996;62.0959188559;3;2.9;[0,0,0,-2.8480811440550675,-0.00007219144597301213,0,-2.848081144061723,-4.997160805811264,0,-4.1579153314819095e-17,-4.997160805815315,0,0,0,0]\");\n      polyLines.push(\"polyline;N123;50.9842651201;31.919;3;2.9;[0,0,0,-2.637402187677356e-16,1.4357348799199998,0,-2.4344526256400005,1.4357348799199994,0,-2.43249985865,-0.0018012840463604472,0,-2.58249972026,-0.0020050457223104745,0,-2.584452764040001,1.4357348799199994,0,-6.117,1.4357348799199987,0,-6.117,0.7339924721769988,0,-7.179,0.7321911881299986,0,-7.178999999999999,-3.5442651200800013,0,1.3580588291100006,-3.5442651200799995,0,1.3580588291099998,1.43573487992,0,0.14999999999999972,1.4357348799199998,0,0.15,-0.0018012840462699727,0,3.3089051124296226e-19,-0.0018012840462700002,0,0,0,0]\");\n      polyLines.push(\"polyline;V121.3;18.571198715999998;8.2;3;2.9;[0,0,0,-2.001999999999489,0.0008795538196620507,0,-2.0019999999977807,-0.9463242701387836,0,5.776629175002768e-16,-0.9480000000002828,0,0,0,0]\");\n      polyLines.push(\"polyline;V121.2;17.4722232345;9.424059286039999;3;2.9;[0,0,0,-0.7779407139583051,0.0006511580841038195,0,-0.7779407139581889,-0.7472232344840327,0,-1.302529843793785,-0.7472232344838106,0,-1.3025298437931065,-1.747223234484482,0,-0.4399407139585154,-1.7472232344816538,0,-2.0216033708164716e-15,-1.7472232344857015,0,0,0,0]\");\n      polyLines.push(\"polyline;1V4;15.599;9.864;3;2.9;[0,0,0,-2.436,-2.983239602722952e-16,0,-2.4359999999999995,-2.4240000000000004,0,2.968543841133184e-16,-2.424,0,0,0,0]\");\n      polyLines.push(\"polyline;V140;13.175;9.75;3;2.9;[0,0,0,1.55,0,0,1.55,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;V118;10.777;10.601;3;2.9;[0,0,0,-4.129509006724875e-16,2.248,0,-1.6990000000000005,2.2479999999999998,0,-1.699,-3.1210123676270295e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V114;3.29019871595;14.38;3;2.9;[0,0,0,2.1680000004799997,0,0,2.16800312645,1.29780128405,0,-0.08701677484130001,1.29780128405,0,0,1.09481320893,0,0,0,0]\");\n      polyLines.push(\"polyline;V114.1;3.29019871595;12.0597239659;3;2.9;[0,0,0,1.2697239659,0,0,1.2697239659,1.59980128405,0,-0.0002721802249090001,1.59980128405,0,-0.00027603361991000003,0,0,0,0,0]\");\n      polyLines.push(\"polyline;V128;4.911801284049999;0.59;3;2.9;[0,0,0,-4.06313302755,-4.975902856699002e-16,0,-4.06597249207,-0.5800000000000004,0,-5.13,-0.5800000000000006,0,-5.13,-0.09785589897330063,0,-5.59774084835,-0.09785589897330069,0,-5.75643409797,-0.29087657207700074,0,-6.61643185226,-1.3453086012500008,0,-6.616431852259999,-4.320000000000001,0,5.290474172316566e-16,-4.32,0,0,0,0]\");\n      polyLines.push(\"polyline;V119;18.572144170399998;10.352;3;2.9;[0,0,0,-1.9480000000009616,0.0008558295907633134,0,-1.9479999999960023,-2.8471441704061227,0,-0.5245891298344194,-2.8471441704117955,0,-0.5245891298340778,-1.6971441704067478,0,-3.980106175194287e-16,-1.6971441704092407,0,0,0,0]\");\n      polyLines.push(\"polyline;V131;9.989;0.39;3;2.9;[0,0,0,-5.001509384619999,-6.12508245878033e-16,0,-5.00101800432,-1.6260094815300006,0,-3.50544237134,-1.6260094815300004,0,-3.5054423713399996,-2.9336870149500003,0,3.5927304125586707e-16,-2.93368701495,0,0,0,0]\");\n      polyLines.push(\"polyline;V133;10.141;5.39155531905;3;2.9;[0,0,0,5.00155531905,0,0,5.00155531905,2.984,0,-0.0009017652435980002,2.984,0,0,0,0]\");\n      polyLines.push(\"polyline;V134;16.229;0.39;3;2.9;[0,0,0,-5.00339511355,-6.127391810678515e-16,0,-5.002493348310001,-2.9840000000000004,0,3.654346048655702e-16,-2.984,0,0,0,0]\");\n      polyLines.push(\"polyline;V134.1;16.381;5.39344104797;3;2.9;[0,0,0,5.00344104797,0,0,5.00344104797,2.968,0,-0.0008969300412190001,2.968,0,0,0,0]\");\n      polyLines.push(\"polyline;V135;24.045;0.39;3;2.9;[0,0,0,-5.005757109909999,-6.130284421960386e-16,0,-5.004383912439999,-4.5440000000000005,0,5.564795055325572e-16,-4.544,0,0,0,0]\");\n      polyLines.push(\"polyline;V136;28.709;0.39;3;2.9;[0,0,0,-5.00716657141,-6.132010514474884e-16,0,-5.005793373929999,-4.5440000000000005,0,5.564795055325572e-16,-4.544,0,0,0,0]\");\n      polyLines.push(\"polyline;V137;33.389;0.39;3;2.9;[0,0,0,-5.0085808681,-6.133742528389337e-16,0,-5.007212505829999,-4.5280000000000005,0,5.545200706539215e-16,-4.528,0,0,0,0]\");\n      polyLines.push(\"polyline;V124.2;41.6;0.39;3;2.9;[0,0,0,-3.608,-4.4185256513236504e-16,0,-3.6079999999999997,-2.4170395385200005,0,-3.6079999999999997,-2.4188408225700004,0,-2.6620395385199993,-3.3648012840500003,0,-2.6499999999999995,-3.3648012840500003,0,4.1206931222787364e-16,-3.36480128405,0,0,0,0]\");\n      polyLines.push(\"polyline;V105;24.378078607;20.6100093383;3;2.9;[0,0,0,5.459012463158682,0.00012010903165934366,0,5.459012463166884,0.0019213930174155128,0,5.660012463165535,0.0019213930174127997,0,5.660009338248212,6.551921393014812,0,5.410009338247701,6.551921393022166,0,0.000006585865754873179,6.551921393020751,0,0,0,0]\");\n      polyLines.push(\"polyline;V123.1;33.706;8.05;3;2.9;[0,0,0,2.4953233273300004,0,0,2.49401781612,4.3200217224,0,2.44695976818,4.36707977034,0,1.5520395385199999,5.262,0,0,5.262,0,0,0,0]\");\n      polyLines.push(\"polyline;V123;38.969938580000004;8.2;3;2.9;[0,0,0,-4.100000000001851,-0.0016784692248989562,0,-4.100000000003775,-5.21493858002099,0,-6.8703723266061445e-15,-5.214938580016742,0,0,0,0]\");\n      polyLines.push(\"polyline;V122;33.605;8.05;3;2.9;[0,0,0,-4.25,-5.204748896376251e-16,0,-4.25,-1.4120000000000004,0,-3.64,-1.4120000000000004,0,-3.6399999999999997,-2.9300000000000006,0,-2.4599999999999995,-2.9300000000000006,0,-2.4599999999999995,-4.29856231246,0,2.4966533098900006,-4.29999902356,0,2.49536926175,-0.05099999999999969,0,6.245698675651501e-18,-0.051,0,0,0,0]\");\n      polyLines.push(\"polyline;V104;31.38;20.6100023001;3;2.9;[0,0,0,5.210002300049999,0,0,5.210002300049999,3.54835958318,0,0.000002300053278500001,3.5499999776899998,0,0.000002300053278500001,2.67819871595,0,0.0000023000530760000007,2.2881983239299997,0,-0.389997699947,2.2881986124,0,-0.389997699947,2.17319871595,0,0.0000021858502954300004,2.17458415072,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9805;45.29;18.605;3;2.9;[0,0,0,0.1350000000001397,0.22000000000014167,0,1.1049999999999578,0.22000000000006953,0,1.2399999999961853,1.875943844709127e-12,0,2.5700000000018917,-2.9660718325885682e-12,0,2.7050000000004624,0.2199999999946185,0,2.955000000002199,0.2200000000015485,0,3.5350000000030612,0.21999999999563613,0,3.6549999999951712,0.219999999997746,0,3.655000000004083,13.56819871596351,0,3.354999999999983,13.567999999988514,0,-1.435000000005667,13.567999999985668,0,-1.4350000000084622,13.089999999980368,0,-1.8949999999930016,13.090000000008729,0,-1.894999999980568,13.293473223899491,0,-5.334406220806916,13.293473223869679,0,-5.3344062207939675,14.225509379743176,0,-6.308000000031648,14.225510083325297,0,-11.908170565279253,14.22550937977299,0,-12.087524180617185,14.22550937973893,0,-12.080000094315267,10.351097099555513,0,-12.129999999996304,10.351000000000463,0,-12.135785200835366,13.329999999988534,0,-14.697999999988244,13.329999999992852,0,-14.697999999993495,10.99919871595675,0,-14.698000000028854,10.401000000019737,0,-14.698000000021308,10.351000000017958,0,-20.53800000001477,10.351000000013936,0,-20.538000000031595,9.37800000001847,0,-24.138999999977614,9.377999999985008,0,-24.13899999998754,9.079999999999636,0,-24.138999999975937,8.964999999986164,0,-24.13899999996074,8.373198715937662,0,-24.22925481553554,8.37319871596751,0,-24.22925481551055,7.284999999990885,0,-24.13900000002098,7.285000000013341,0,-24.139000000030766,6.695000000022466,0,-24.139000000019166,6.580000000008993,0,-22.9189999999778,6.579999999983212,0,-22.918999999993314,5.380000000002457,0,-20.645000000035935,5.380000000022591,0,-20.64499999996641,6.426198497295445,0,-20.644742189497276,6.426198934609838,0,-20.6449999999902,6.578198715954242,0,-19.583000000038204,6.580000000021759,0,-19.583000000007672,7.282000000001498,0,-11.80394117084854,7.28199999997606,0,-3.6686693587875423,7.280246161487847,0,-3.5186693597428063,7.28022963074448,0,-3.5186693850540784,7.280000000001084,0,-1.5850000000008704,7.280000000006364,0,-1.4350000000026948,7.279999999998202,0,-1.4349999999981815,4.280000000002148,0,-1.4268376068410287,0.22000000000238984,0,-1.4349921754513628,0.21998360571367298,0,-1.329999999997706,-1.2403411631112249e-12,0,0,0,0]\");\n      polyLines.push(\"polyline;1N01;62.205509379700004;30.75;3;2.9;[0,0,0,-2.54,-3.110602869834277e-16,0,-2.5393294347499995,-2.2650000000000006,0,-2.3018294347499997,-2.2650000000000006,0,-2.3018294347499997,-2.6900000000000004,0,-2.5529999999999995,-2.6900000000000004,0,-2.5529999999999995,-3.53550937975,0,0.009117699423760433,-3.5355093797499997,0,0.00747572507190033,-2.69,0,-0.23817056524899965,-2.69,0,-0.2381705652489997,-2.2655093797499997,0,2.774136024559312e-16,-2.26525397077,0,0,0,0]\");\n      polyLines.push(\"polyline;N101.2;55.691;39.143;3;2.9;[0,0,0,5.79,0,0,5.79,0.598198715954,0,5.84,0.598198715954,0,5.84,2.929,0,5.79,2.929,0,5.79,3.82879929644,0,5.61617056525,3.82879929644,0,5.61617056525,4.24368729822,0,5.615740552399999,3.8226875178300004,0,1.4157405521600002,3.82697720387,0,0,3.82694131853,0,0,0,0]\");\n      polyLines.push(\"polyline;1V3.1;24.1952731316;12.3;3;2.9;[0,0,0,1.8791667547500002,0,0,1.8791667547500002,0.373726868374,0,0,0.373726868374,0,0,0,0]\");\n      polyLines.push(\"polyline;N152;38.918198716;21.16;3;2.9;[0,0,0,-2.0274904682138395,0.0006725757337582566,0,-2.027490468218065,-4.859999999999145,0,-0.08999999996847236,-4.860000000000873,0,0.2500000000315373,-4.859999999997674,0,0.25000000003144746,-6.149963351076426e-14,0,0,0,0]\");\n      polyLines.push(\"polyline;N151;38.9189217144;23.3394904682;3;2.9;[0,0,0,-3.2505095317511374,0.0010782856283249708,0,-3.250509531749729,-4.860722998416684,0,-6.094950932844512e-15,-4.86072299841568,0,0,0,0]\");\n      polyLines.push(\"polyline;N148.1;36.41;26.79;3;2.9;[0,0,0,-1.67,-2.0451601545760798e-16,0,-1.6699999999999997,-2.35180128405,0,2.8801259147424677e-16,-2.35180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;N149.1;38.1;31.025;3;2.9;[0,0,0,1.268,0,0,1.268,0.97,0,0,0.97,0,0,0,0]\");\n      polyLines.push(\"polyline;N149;37.98;29.725;3;2.9;[0,0,0,-1.3,-1.5920408388915593e-16,0,-1.2999999999999998,-1.3250000000000002,0,-1.4199999999999997,-1.4450000000000003,0,-1.4199999999999997,-1.4500000000000002,0,1.7757378587636622e-16,-1.45,0,0,0,0]\");\n      polyLines.push(\"polyline;N148;31.91;32.335;3;2.9;[0,0,0,3.755,0,0,3.755,1.7581987159499999,0,3.755,2.14819871595,0,3.755,4.5,0,1.30824473273,4.5,0,1.0475769106600001,4.239332177930001,0,0.125,3.31675526727,0,0.035,3.31675526727,0,0.035,2.15,0,0.125,2.15,0,0.125,1.76,0,0,1.76,0,0,0,0]\");\n      polyLines.push(\"polyline;1N14;31.91;34.6749999934;3;2.9;[0,0,0,2.2399999934,0,0,2.2399999934,1.76,0,2.1649999934000004,1.76,0,2.1649999934000004,2.15,0,2.2549999934000002,2.15,0,2.2549999934000002,3.31810286048,0,2.3749999934000003,3.31810286048,0,-0.00110128800289,3.3200008797000002,0,0,0,0]\");\n      polyLines.push(\"polyline;1N15;41.718198715999996;24.1;3;2.9;[0,0,0,-12.71,-1.556526081716286e-15,0,-12.71,0.14999999999999844,0,-12.58,0.14999999999999844,0,-12.58,1.4518012840499985,0,-13.64,1.4518012840499983,0,-13.64,0.14999999999999833,0,-13.54,0.14999999999999833,0,-13.54,-1.6581717660455162e-15,0,-14.61,-1.789208973554283e-15,0,-14.61,-0.12319871595400178,0,-15.15,-0.12319871595400185,0,-15.15,0.0008012840461461448,0,-21.7826038969,0.0008012840462653325,0,-22.374,0.5921973871139972,0,-24.6392084692,0.5921973871139969,0,-24.6392084692,-0.443198715954003,0,-24.6392084692,-2.498198715950003,0,-15.15,-2.498198715950002,0,-15.15,-2.373198715950002,0,-14.61,-2.373198715950002,0,-14.61,-2.498198715950002,0,-10.5743113843,-2.4981987159500014,0,-10.5743113843,-2.6481987159500013,0,-10.5773750597,-2.6481987159500013,0,-10.576151038399999,-6.338197748650001,0,-8.2,-6.340095807610001,0,-8.2,-6.338198715950002,0,-8.16464466094,-6.302843376890001,0,-7.044999999999999,-5.1831987159500015,0,-7.045,-2.648198715950001,0,-7.145,-2.648198715950001,0,-7.145,-2.498198715950001,0,-2.6899999999999995,-2.4981987159500005,0,-2.4899999999999998,-2.4981987159500005,0,-2.4899999999999998,-2.7981987159500004,0,-2.48990048155,-2.4981987324600006,0,1.0749714025500001,-2.49938130094,0,1.0750000000000002,-2.41317383633,0,1.075,-0.08319871595369988,0,1.075,1.3164953090834046e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;N146;34.418224198000004;42.771156213299996;3;2.9;[0,0,0,3.6511562133220443,-0.00002534324902039175,0,3.6511562133221096,0.0030490814992236706,0,3.5211562133289775,0.003049081499221838,0,3.5211562133293315,4.649775801973422,0,0.00003227482450861819,4.649775801977987,0,0,0,0]\");\n      polyLines.push(\"polyline;N145;39.068;42.8911239385;3;2.9;[0,0,0,-5.84808453065,-7.161838001603674e-16,0,-5.84808453065,-2.1879228302700007,0,-4.66512406916,-2.1879228302700002,0,-3.4528760614899996,-3.4001708379400006,0,-3.4528760614899996,-4.6497510023,0,-0.00003227481872813058,-4.649774969039999,0,0,0,0]\");\n      polyLines.push(\"polyline;N144;34.4182742511;49.982208469199996;3;2.9;[0,0,0,3.486208469146018,-0.000024198320815871564,0,3.486208469152521,1.1865944495077696,0,2.3630000000019504,2.3098029186613154,0,-4.131182971666564e-16,2.309802918665643,0,0,0,0]\");\n      polyLines.push(\"polyline;1N10.1;34.4182903794;52.305790537300005;3;2.9;[0,0,0,2.1715820681376865,-0.000015073292388574233,0,2.171582068131282,2.4617867903169155,0,0.00842327443210196,2.4617867903120323,0,0,0,0]\");\n      polyLines.push(\"polyline;1N10;39.5707373717;53.369;3;2.9;[0,0,0,8.90953513179211e-20,-0.00145503750763,0,0.928832292769,-0.001737374025939943,0,0.928887028436,0.014259675917700056,0,1.08088613868,0.013739594233900067,0,1.07163273715,-2.690660202,0,3.23479153085,-2.690660202,0,4.477791530849999,-2.6906602019999997,0,4.477791530849999,1.7042626282600002,0,4.477791530849999,2.1482626282600004,0,-1.3154314757132445e-16,2.14826262826,0,0,0,0]\");\n      polyLines.push(\"polyline;N143;34.418315632799995;55.944;3;2.9;[0,0,0,3.553169644994405,-0.000024663108859882074,0,3.486209358903094,0.00020444887921369288,0,3.503233511602667,4.975684538835553,0,0.6145446196619201,4.9765626116291095,0,0.6147219166886077,2.415684367196771,0,-1.397096143201243e-15,2.415446655708188,0,0,0,0]\");\n      polyLines.push(\"polyline;N142;34.418340621000006;59.544;3;2.9;[0,0,0,3.4479999999969384,-0.00002393310982273962,0,3.4479999999964304,2.4153628894983634,0,3.448066626626611,2.4153629152658973,0,3.448007848602416,2.5673629038975467,0,4.062711396987168,2.5676006082936285,0,4.0625430276711825,4.99952711219089,0,1.7558112082316502e-15,4.999245850560431,0,0,0,0]\");\n      polyLines.push(\"polyline;N141;34.4183624856;62.694;3;2.9;[0,0,0,2.997999999997779,-0.000020809589109218076,0,2.9979999999984464,4.999213462511321,0,2.338576652206187e-15,4.999005902280425,0,0,0,0]\");\n      polyLines.push(\"polyline;N141.1;34.4183781102;64.9449999641;3;2.9;[0,0,0,2.098999964109436,-0.000014569488591130012,0,2.0989999641145864,4.998979754331834,0,0.0010000066455264321,4.998834503709218,0,0,0,0]\");\n      polyLines.push(\"polyline;N140;34.4183994195;68.015;3;2.9;[0,0,0,2.918000033059706,-0.000020254296771299907,0,2.9190000373851808,4.998802670962463,0,-1.9073013567821873e-15,4.998600580120415,0,0,0,0]\");\n      polyLines.push(\"polyline;1N04;54.368198716;42.894;3;2.9;[0,0,0,-25.125,-3.076925082857725e-15,0,-25.125,-0.10000000000000309,0,-25.121,-0.10000000000000309,0,-25.121,-4.398198715950003,0,-20.176,-4.398198715950003,0,-20.176,-11.905802612900002,0,-18.126,-11.905802612900002,0,-18.126,-10.4976893362,0,-18.125910233400003,-10.4976893362,0,-18.126,-10.3476893362,0,-18.0805902961,-10.347662161000002,0,-18.125999994900003,-10.347650362500003,0,-18.1239749537,-2.5537825220800023,0,-16.726,-1.879438834460002,0,-15.3291928321,-2.5532192151400017,0,-15.3291928321,-2.498198715950002,0,-5.38129166669,-2.4981987159500005,0,-3.5819999999999994,-2.4981987159500005,0,3.059411061122195e-16,-2.49819871595,0,2.9185766792202495e-16,-2.38319871595,0,0.034418379132500294,-2.38319871595,0,0.03500000000000029,-2.31819871595,0,0.059745184473400284,-2.31819871595,0,0.05974518447340023,-1.8431987159499998,0,0.05500000000000023,-1.8431987159499998,0,0.05500000000000022,-1.79319871595,0,0.05974518447340022,-1.79319871595,0,0.05974518447340008,-0.705,0,0.055000000000000084,-0.705,0,0.055000000000000084,-0.7031987159540001,0,0.055000000000000084,-0.653198715954,0,0.05974518447340008,-0.653198715954,0,0.05974518447340002,-0.18,0,0.035000000000000024,-0.18,0,0.03500000000000002,-0.113198715954,0,1.3862844516065652e-17,-0.113198715954,0,0,0,0]\");\n      polyLines.push(\"polyline;N118;46.6940655729;48.8912084692;3;2.9;[0,0,0,-4.477791530849999,-5.483713065504578e-16,0,-4.4777915308499985,-4.823065572930001,0,5.90655181596652e-16,-4.82306557293,0,0,0,0]\");\n      polyLines.push(\"polyline;N138;43.870418389;57.83;3;2.9;[0,0,0,-2.944000000004922,-0.0017618192698997974,0,-2.944000000000554,-1.44789025161463,0,-2.3924718625790877,-1.9994183890347916,0,-1.693523793422358e-16,-1.9994183890310315,0,0,0,0]\");\n      polyLines.push(\"polyline;1N08;51.87;46.476;3;2.9;[0,0,0,-1.79929166669,-2.2034967803444148e-16,0,-1.79929166669,-0.15200000000000022,0,-2.26320846915,-0.15200000000000027,0,-2.2632084691499985,-9.40760389693,0,-9.43869739360999e-13,-9.40760389693,0,0,0,0]\");\n      polyLines.push(\"polyline;N117;51.718;48.8912084692;3;2.9;[0,0,0,-4.477791530849999,-5.483713065504578e-16,0,-4.4777915308499985,-4.821934427070001,0,5.905166561809702e-16,-4.82193442707,0,0,0,0]\");\n      polyLines.push(\"polyline;N117.1;48.218;53.521;3;2.9;[0,0,0,-1.848,-2.2631472848243086e-16,0,-1.8479999999999999,-1.3466067213900004,0,1.6495992342386997e-16,-1.34699999656,0,0,0,0]\");\n      polyLines.push(\"polyline;N115;46.8720000034;58.22;3;2.9;[0,0,0,2.6489999999952203,-0.0005637369653385522,0,2.6490000000018123,1.3459999965566671,0,2.6490000000025002,4.845999996561753,0,1.3499999999975414,4.845999996561635,0,1.3500000000048111,3.048509376308698,0,-2.3765711620882257e-15,3.0485093763113924,0,0,0,0]\");\n      polyLines.push(\"polyline;N116;51.718;53.521;3;2.9;[0,0,0,-1.898,-2.3243796247816764e-16,0,-1.8979999999999995,-3.3480000000000003,0,4.1001174835453383e-16,-3.348,0,0,0,0]\");\n      polyLines.push(\"polyline;N114;50.0725093797;58.22;3;2.9;[0,0,0,1.198,0,0,1.198,1.64549062025,0,0,1.64549062025,0,0,0,0]\");\n      polyLines.push(\"polyline;1N09;39.5698782562;55.3294674961;3;2.9;[0,0,0,1.8084674961112033,-0.0005497186308991821,0,1.8084674961187581,2.1491217438010604,0,1.5134514389594103,2.1491217438065267,0,-4.955964827939016,2.149121743804328,0,-5.547360931009089,2.740517846867685,0,-7.740532503880695,2.7405178468735194,0,-7.74053250388234,2.1491217438018064,0,-12.685532503836258,2.149126936768681,0,-12.68553250385304,0.09832045975715495,0,-12.685532503917651,-0.000878256196604134,0,-0.1519999996159886,-0.000010523400681241211,0,-0.1520000035428017,0.00004620333736928928,0,0,0,0]\");\n      polyLines.push(\"polyline;N139.1;43.9;63.222;3;2.9;[0,0,0,-1.198,-1.467126865378529e-16,0,-1.1979999999999997,-2.0289985823,0,2.4848081599918577e-16,-2.02899984038,0,0,0,0]\");\n      polyLines.push(\"polyline;N139;43.9;64.572;3;2.9;[0,0,0,-3.443,-4.216458929464337e-16,0,-3.4429999999999996,-2.0289948070300006,0,2.4848064238100904e-16,-2.02899842268,0,0,0,0]\");\n      polyLines.push(\"polyline;N111;44.052;68.015;3;2.9;[0,0,0,4.793,0,0,4.793,2.842,0,0,2.842,0,0,0,0]\");\n      polyLines.push(\"polyline;N110;49.818;63.222;3;2.9;[0,0,0,-4.793,-5.869732108313264e-16,0,-4.793,-2.7720000000000002,0,3.394720927236463e-16,-2.772,0,0,0,0]\");\n      polyLines.push(\"polyline;1N03;49.568;23.9200052731;3;2.9;[0,0,0,1.6460050645716637,0.00011572814980851725,0,1.6463359143004583,3.002246161491551,0,-6.488935897756784,3.003999999995628,0,-6.488935897755334,0.0020000000000067407,0,-2.245468660286999,0.0020000000000028094,0,-7.030850100788524e-8,0.00200000000001,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9804;42.36;16.035;3;2.9;[0,0,0,0.385,0,0,0.385,2.93,0,0,2.93,0,-1.33,2.93,0,-1.875,2.93,0,-1.875,0,0,-1.33,0,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9803;42.36;18.605;3;2.9;[0,0,0,0.545,0,0,0.545,2.93,0,0.0226513200467,2.93,0,0,2.93,0,-1.33,2.93,0,-1.715,2.93,0,-1.715,0,0,-1.33,0,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9805.2;51.08;22.1238335905;3;2.9;[0,0,0,1.9338335904800001,0,0,1.9338335904800001,1.244,0,0.00013709499669500004,1.244,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9805.1;50.908;20.19;3;2.9;[0,0,0,-1.9338525457400002,-2.3682863301634515e-16,0,-1.9340002064899997,-1.3398737255700002,0,-0.3299974297609998,-1.33976095054,0,-0.32999999999999985,-1.33848250551,0,1.638762073140735e-16,-1.33815078297,0,0,0,0]\");\n      polyLines.push(\"polyline;N130;41.868198716;27.87;3;2.9;[0,0,0,3.15,0,0,3.15,5.01180128405,0,0,5.01180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;N131;44.77;27.99;3;2.9;[0,0,0,-1.958,-2.3978584327305174e-16,0,-1.9579999999999995,-2.9018012840500007,0,3.553681654273512e-16,-2.9018012840500003,0,0,0,0]\");\n      polyLines.push(\"polyline;N147;34.058198716;38.71;3;2.9;[0,0,0,1.68,0,0,1.68,-0.388198715954,0,1.68,-2.14819871595,0,3.915,-2.14819871595,0,3.9135078882600003,2.35,0,0,2.35180128405,0,0,0.363074563571,0,0,0,0]\");\n      polyLines.push(\"polyline;N150;36.53;29.605;3;2.9;[0,0,0,2.815,0,0,2.815,2.54,0,-0.002,2.54,0,-0.002,1.57,0,0,1.57,0,0,0,0]\");\n      polyLines.push(\"polyline;N126;49.418;23.92;3;2.9;[0,0,0,-2.0934739334300003,-2.563766151673469e-16,0,-2.09347393343,-1.9780000000000002,0,2.4223513687134645e-16,-1.978,0,0,0,0]\");\n      polyLines.push(\"polyline;N125;49.455;26.1654739334;3;2.9;[0,0,0,-4.243467237460001,-5.196748569642051e-16,0,-4.243467237460001,-2.0150000000000006,0,2.467663300281917e-16,-2.015,0,0,0,0]\");\n      polyLines.push(\"polyline;N131.1;46.88;27.99;3;2.9;[0,0,0,-1.958,-2.3978584327305174e-16,0,-1.9579999999999997,-1.9600000000000002,0,2.4003077263288124e-16,-1.96,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9801;49.4181157266;22.274016739300002;3;2.9;[0,0,0,-1.6459832606617175,-0.00011572661679093713,0,-1.27598326068721,-0.00011572661678803878,0,-1.2759832606894252,-6.648115726612729,0,-0.2959832606852145,-6.648115726621287,0,1.1840167393108163,-6.648115726619108,0,1.3040167393174138,-6.648115726618932,0,1.7540167393096524,-6.648115726613269,0,1.7540167393156199,-3.9081157266209683,0,1.7621781624257917,-3.9081157266135396,0,1.7543208757639457,0.0001233436721806373,0,0.1500000020732536,0.00001054627539261398,0,0.1499999881573114,-0.0001157266168008965,0,-1.0931875607679613e-8,-0.00009919586970618057,0,0,0,0]\");\n      polyLines.push(\"polyline;N134;43.17;37.86;3;2.9;[0,0,0,-0.85,-1.0409497792752501e-16,0,-0.8499999999999999,-1.30180128405,0,1.5942467756377468e-16,-1.30180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;N122;50.518;39.25;3;2.9;[0,0,0,-2.274,-2.784846821261081e-16,0,-2.2739999999999996,-3.4280000000000004,0,4.198089227477127e-16,-3.428,0,3.769462847775553e-16,-3.078,0,0,0,0]\");\n      polyLines.push(\"polyline;N132;46.88;30.098;3;2.9;[0,0,0,-4.99573883911,-6.118015578692176e-16,0,-5.001999999999999,-5.011801284050001,0,6.137686400474426e-16,-5.01180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;N133;46.88;35.2137389328;3;2.9;[0,0,0,-3.49626106725,-4.2816849249912213e-16,0,-3.4962610672499994,-3.5900000000000003,0,-1.4662610672499996,-3.59,0,-1.4662610672499996,-3.01,0,-1.3462610672499995,-3.01,0,-1.3462610672499995,-3.71,0,-1.3462610672499993,-5.01180128405,0,-0.006261160888349386,-5.01180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;N135;46.938;39.25;3;2.9;[0,0,0,-2.274,-2.784846821261081e-16,0,-2.2739999999999996,-5.067,0,6.205285331279639e-16,-5.067,0,7.102951435066896e-18,-0.0580000000001,0,0,0,0]\");\n      polyLines.push(\"polyline;N119;44.219;41.676;3;2.9;[0,0,0,-4.648,-5.692158322436897e-16,0,-4.648,-1.8436434354500006,0,-4.14364343545,-2.3480000000000003,0,2.8754706843979854e-16,-2.348,0,0,0,0]\");\n      polyLines.push(\"polyline;N120;44.371;46.324;3;2.9;[0,0,0,4.648,0,0,4.648,2.348,0,0,2.348,0,0,0,0]\");\n      polyLines.push(\"polyline;N121;51.718;41.676;3;2.9;[0,0,0,-4.648,-5.692158322436897e-16,0,-4.647999999999999,-4.847000000000001,0,5.935863035467221e-16,-4.847,0,1.4695761589768238e-16,-1.2,0,0.15200000000000014,-1.2,0,0.15200000000000014,-1.19591544057,0,1.4645740163449474e-16,-1.19591544057,0,0,0,0]\");\n      polyLines.push(\"polyline;N101.1;54.82;41.294999406;3;2.9;[0,0,0,1.9999994059600001,0,0,1.9999994059600001,1.2980775461999998,0,0.000005073601208490002,1.2981987156099999,0,0,0,0]\");\n      polyLines.push(\"polyline;N103;54.520198715999996;49.944;3;2.9;[0,0,0,2.248,0,0,2.248,4.9975258062900005,0,0,4.99746882534,0,0,0,0]\");\n      polyLines.push(\"polyline;N102;54.520198715999996;47.544;3;2.9;[0,0,0,2.248,0,0,2.248,4.99758664004,0,0,4.99752965909,0,0,0,0]\");\n      polyLines.push(\"polyline;N101;54.520198715999996;45.144;3;2.9;[0,0,0,2.248,0,0,2.248,0.227801284046,0,2.4,0.227801284046,0,2.4,0.299801284046,0,3.74900059404,0.299801284046,0,3.74900605849,1.6980060582999998,0,5.849,1.69787883043,0,5.849,4.99773874978,0,0,4.997590492850001,0,0,0,0]\");\n      polyLines.push(\"polyline;N109;54.520198715999996;68.019;3;2.9;[0,0,0,2.923,0,0,2.923,4.99708476156,0,0,4.99701067112,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9811;86.518198716;5.4995765751;3;2.9;[0,0,0,9.39951774599,0,0,9.39951774599,0.00180128404631,0,9.54951774599,0.00180128404631,0,9.54951774599,0,0,10.349517746,0,0,10.349517746,0.00180128404631,0,10.499517745999999,0.00180128404631,0,10.499517745999999,0,0,11.549517746,0,0,11.549517746,0.00180128404631,0,11.699517746,0.00180128404631,0,11.699517746,-0.350057221787,0,13.449517746,-0.350057221787,0,13.449517746,0.4,0,15.439517746,0.4,0,15.439678065199999,2.39800937105,0,-6.89239446728,2.39980128454,0,-6.8923943068,2.4018012840500003,0,-9.39238225347,2.4018012840500003,0,-9.39238225347,2.4,0,-10.8504234249,2.4,0,-10.8504234249,2.4018012840500003,0,-10.8504234249,3.15,0,-13.2368231349,3.15,0,-13.2368231349,2.65380128405,0,-13.2368231349,2.55180128405,0,-14.8004234249,2.55180128405,0,-14.8004234249,0.0868012840462,0,-14.8004234249,-0.0781987159537,0,-7.0354234249,-0.0781987159537,0,-7.0354234249,0.0018012840462700002,0,-0.0004234249027280001,0.0018012840462700002,0,-0.0004234249027280001,-0.148198715955,0,0,0,0]\");\n      polyLines.push(\"polyline;F121;108.629198716;24.669;3;2.9;[0,0,0,4.10785814992,0,0,4.10800007828,3.626,0,0,3.626,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.6;47.043198716;3.998;3;2.9;[0,0,0,3.608,0,0,3.608,3.51982205832,0,1.00238181772,3.51982205832,0,0,2.5174402406,0,0,0,0]\");\n      polyLines.push(\"polyline;1V3.2;30.555;10.63;3;2.9;[0,0,0,-1.7,-2.0818995585505003e-16,0,-1.6999999999999997,-1.2480347762200001,0,1.5290052430781541e-16,-1.24852752985,0,0,0,0]\");\n      polyLines.push(\"polyline;V121.1;17.4711986627;8.2;3;2.9;[0,0,0,-1.0740592860386615,0.0008990175913949344,0,-1.0740592860432552,-1.74619866271032,0,4.661852501253172e-15,-1.7461986627067865,0,0,0,0]\");\n      polyLines.push(\"polyline;V118.1;13.025;8.2;3;2.9;[0,0,0,-2.251,-2.756679944880692e-16,0,-2.2509999999999994,-2.2434999994100004,0,2.747251736300192e-16,-2.24330128345,0,0,0,0]\");\n      polyLines.push(\"polyline;V138;10.629698716;8.2;3;2.9;[0,0,0,-2.250999999998781,-0.00019871595374198122,0,-2.250999999995963,-1.0830796887132825,0,-7.078755984157858e-16,-1.0829655534998708,0,0,0,0]\");\n      polyLines.push(\"polyline;V139;7.026;10.451;3;2.9;[0,0,0,2.251,0,0,2.251,2.34773316223,0,0,2.34761902702,0,0,0,0]\");\n      polyLines.push(\"polyline;V115;3.1381987159499998;12.0597239659;3;2.9;[0,0,0,-2.3202760341,-2.84151861829888e-16,0,-2.3202760340999995,-2.7494321652100004,0,1.1844683859700005,-2.74913154425,0,1.18446838597,1.4505554175693922e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V106;13.9026207912;17.16;3;2.9;[0,0,0,-1.29799999989,-1.5895915451585533e-16,0,-1.2979999998499998,-1.4126176662400003,0,1.7299577033798203e-16,-1.41261766624,0,0,0,0]\");\n      polyLines.push(\"polyline;V111%20;12.4400031249;16.670163826299998;3;2.9;[0,0,0,1.0001638263400001,0,0,1.0001638263400001,1.17819701956,0,0.520164183472,1.17819559104,0,0.520163826341,1.29819559104,0,1.57016382634,1.2981987159400001,0,1.57016382634,2.49639430426,0,-0.389836173658,2.4981081499299997,0,-0.389836173659,0.05,0,0,0.05,0,0,0,0]\");\n      polyLines.push(\"polyline;V107.1;18.19;15.513;3;2.9;[0,0,0,-1.297,-1.588366898494117e-16,0,-1.2969999999999997,-1.4980000000000002,0,-0.2069999999999998,-1.498,0,-0.20699999999999985,-1.048,0,1.2834298455064263e-16,-1.048,0,0,0,0]\");\n      polyLines.push(\"polyline;V107.2;17.142;18.458;3;2.9;[0,0,0,0.51799999997,0,0,0.61799999997,0,0,0.61799999997,-0.45,0,1.54799999997,-0.45,0,1.54799999997,1.048,0,-2.6524560325900022e-11,1.048,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.2;49.34;7.6;3;2.9;[0,0,0,-3.05,-3.735172737399427e-16,0,-3.05,0.04999999999999963,0,-3.05399999875,0.050000000000099624,0,-3.0537687618899994,-2.24419911998,0,2.7483512689328134e-16,-2.2441991199799998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.3;49.54;9.85;3;2.9;[0,0,0,2.3,0,0,2.3,3.28,0,0,3.28,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98105;56.393198716;6.01;3;2.9;[0,0,0,-6.288,-7.700579073038558e-16,0,-6.288,-3.453198715950001,0,4.228948754307918e-16,-3.45319871595,0,3.439051568857875e-16,-2.80819871595,0,-0.002000000000049656,-2.80819871595,0,-0.0020000000000099756,-0.198198715954,0,2.4272342308818153e-17,-0.198198715954,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98111;63.905;5.96;3;2.9;[0,0,0,-4.39,-5.37619944825688e-16,0,-4.39,-3.4330000000000003,0,4.2042124614728632e-16,-3.433,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98113;67.735;5.96;3;2.9;[0,0,0,-4.39,-5.37619944825688e-16,0,-4.39,-1.8962914085200004,0,-4.389999999999999,-3.7100000000000004,0,4.54343962483668e-16,-3.71,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%981232;71.465;5.96;3;2.9;[0,0,0,-4.39,-5.37619944825688e-16,0,-4.39,-1.4897835523600005,0,-5.0578,-1.4897835523600007,0,-4.9058,-1.4911061164600008,0,-4.9058,-2.4098012840500007,0,-4.9058,-2.5618012840500004,0,-5.19,-2.5618012840500004,0,-5.19,-3.5618012840500004,0,-5.19009576933,-3.5618012840500004,0,-5.1899999999999995,-3.7300000000000004,0,-5.19,-3.5800000000000005,0,-4.94,-3.5800000000000005,0,-4.94,-3.6100000000000003,0,4.420974944921945e-16,-3.61,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98125;71.585;10.35;3;2.9;[0,0,0,4.39,0,0,4.39,3.56,0,0,3.56,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98129;75.315;12.3;3;2.9;[0,0,0,6.34,0,0,6.34,7.34,0,1.42,7.34,0,1.42,1.67,0,0,1.67,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98115;67.735;10.5;3;2.9;[0,0,0,-0.4,-4.898587196589413e-17,0,-0.6499999999939999,-7.960204194384317e-17,0,-1.05,-0.00022775282155912863,0,-1.0499999999999998,-1.8962914085200002,0,2.322287203694644e-16,-1.89629140852,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98109;62.3929999352;10.5;3;2.9;[0,0,0,-1.7979999999950567,-0.0016608762641987435,0,-1.7980000000021699,-1.9209999351473153,0,3.690624195140657e-16,-1.9209999351517117,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98127;75.145;10.502;3;2.9;[0,0,0,-1.798,-2.201914944866941e-16,0,-1.7979999999999998,-1.8200000000000003,0,2.228857174448183e-16,-1.82,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98129.1;78.925;11;3;2.9;[0,0,0,-1.3,-1.5920408388915593e-16,0,-1.2999999999999998,-1.8200000000000003,0,2.228857174448183e-16,-1.82,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98129.2;79.045;12.3;3;2.9;[0,0,0,1.3,0,0,1.3,1.91819871595,0,0,1.91819871595,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98131;82.655;11;3;2.9;[0,0,0,-1.3,-1.5920408388915593e-16,0,-1.2999999999999998,-1.5718012840500002,0,1.9249014114075321e-16,-1.57180128405,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98133;82.775;12.3;3;2.9;[0,0,0,2.1509999927,0,0,2.1499999926999998,3.205,0,0.65,3.205,0,0.65,1.855,0,0,1.855,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98139;84.82;-3.89994117089;3;2.9;[0,0,0,-2.8439949028983143e-16,1.54819871595,0,-2.2240000000000006,1.5481987159499995,0,-2.224,-4.0854217219555706e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98114;83.33319944520001;15.102;3;2.9;[0,0,0,-4.9379999999997075,0.0018005547814665753,0,-4.937999999996505,-0.5781994452189985,0,-4.937999999996525,-0.9741994452184395,0,-4.938000000000879,-3.1581994452202333,0,4.785668389351017e-16,-3.1581994452220026,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98112;75.995;20.04;3;2.9;[0,0,0,4.938,0,0,4.938,4.058,0,0,4.058,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9810;85.98;15.07;3;2.9;[0,0,0,-4.97,-6.086494591762345e-16,0,-4.97,-2.3989999836500004,0,-0.03199999999999971,-2.40080053843,0,-0.03199999999999971,-2.4,0,2.9391523179536476e-16,-2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98108;75.873;15.102;3;2.9;[0,0,0,-4.938,-6.04730589418963e-16,0,-4.938,-2.8780000000000006,0,3.524533487946083e-16,-2.878,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98108.1;72.843;15.102;3;2.9;[0,0,0,-4.938,-6.04730589418963e-16,0,-4.938,-2.8480000000000003,0,3.4877940839716616e-16,-2.848,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98108.2;69.843;15.102;3;2.9;[0,0,0,-4.938,-6.04730589418963e-16,0,-4.938,-2.8283030113400005,0,3.4636722298563515e-16,-2.82830301134,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98106.1;65.1898465573;20.04;3;2.9;[0,0,0,4.937999999995138,-0.0016471741889723605,0,4.937999999995249,1.6728504313714363,0,-6.186566016419537e-15,1.6728504313687682,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98106;61.897;20.04;3;2.9;[0,0,0,4.938,0,0,4.938,1.268,0,3.52,1.268,0,3.52,2.008,0,3.64,2.008,0,4.938,2.008,0,4.938,3.14119937475,0,0,3.14284654894,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98102;61.745;15.102;3;2.9;[0,0,0,-4.938,-6.04730589418963e-16,0,-4.938,-2.7350000000000003,0,-0.14799999999999966,-2.735,0,-0.1479999999999997,-2.585,0,3.165711975795908e-16,-2.585,0,0,0,0]\");\n      polyLines.push(\"polyline;F102;86.318;25.8150000001;3;2.9;[0,0,0,-2.8337,-3.470281634743855e-16,0,-2.8336999999999994,-3.7017975359900004,0,4.533517536996587e-16,-3.70189800043,0,0,0,0]\");\n      polyLines.push(\"polyline;F101B;86.318;22.9628000001;3;2.9;[0,0,0,-2.7022,-3.3092405806559776e-16,0,-2.7021999999999995,-3.7019033184400003,0,0.024799999999900454,-3.702,0,0.024799999999900436,-3.563,0,4.3634165453620196e-16,-3.563,0,0,0,0]\");\n      polyLines.push(\"polyline;F101A;86.318;20.5;3;2.9;[0,0,0,-2.3128000001,-2.8323631171904636e-16,0,-2.3128000000999998,-3.5630000000000006,0,-1.6509999999999996,-3.563,0,-1.6509999999999996,-3.7025,0,-0.6509999999999996,-3.7025,0,-0.6509999999999996,-3.563,0,4.3634165453620196e-16,-3.563,0,0,0,0]\");\n      polyLines.push(\"polyline;F127;92.003;20.6500084647;3;2.9;[0,0,0,-2.72643165079,-3.3389157942340076e-16,0,-2.72643165079,-1.6366602880800005,0,-1.5623570484699998,-2.298,0,0.000007387709651421427,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F119;92.155;30.1403169403;3;2.9;[0,0,0,3.15531694021,0,0,3.15531694021,2.2,0,0,2.2,0,0,0,0]\");\n      polyLines.push(\"polyline;F130;88.27;30.2834256258;3;2.9;[0,0,0,2.09904783604,0,0,2.09904783604,1.91,0,0,1.91,0,0,0,0]\");\n      polyLines.push(\"polyline;F118;97.227;26.4150000001;3;2.9;[0,0,0,-3.7253169402100004,-4.562197466637589e-16,0,-3.72531694021,-2.7220000000000004,0,-0.5699999999999996,-2.722,0,-0.5699999999999997,-2.26,0,2.767701766073018e-16,-2.26,0,0,0,0]\");\n      polyLines.push(\"polyline;F116;101.153;30.1314256258;3;2.9;[0,0,0,3.7364256257400004,0,0,3.7364256257400004,1.89819871595,0,0,1.89819871595,0,0,0,0]\");\n      polyLines.push(\"polyline;F122;108.477198716;20.5611477996;3;2.9;[0,0,0,-4.10785220035,-5.03066804852904e-16,0,-4.107852200349999,-3.9601552111200005,0,-0.00015500782310251502,-3.96015521112,0,0,0,0]\");\n      polyLines.push(\"polyline;F123;104.36504350499999;20.561308757;3;2.9;[0,0,0,-4.10769124297,-5.030470932588823e-16,0,-4.10769124297,-2.7628447888800007,0,-0.00010814287154266167,-2.7628447888800003,0,0,0,0]\");\n      polyLines.push(\"polyline;F124;101.450198716;20.561422849499998;3;2.9;[0,0,0,-4.10757715053,-5.03033120964737e-16,0,-4.107577150529999,-4.283198715950001,0,-4.101577150629999,-4.283198715950001,0,-4.101577150629999,-4.435198715950001,0,-4.107577150529999,-4.435198715950001,0,-4.107577150529999,-4.474006819190001,0,-0.0001751209284994521,-4.47400681919,0,0,0,0]\");\n      polyLines.push(\"polyline;F113;110.642;26.3950000001;3;2.9;[0,0,0,-1.8,-2.2043642384652358e-16,0,-1.7999999999999998,-0.9246014943960003,0,-1.0099999999999998,-1.2650000000000001,0,1.5491782009214017e-16,-1.265,0,0,0,0]\");\n      polyLines.push(\"polyline;F111;112.392198716;26.3965000001;3;2.9;[0,0,0,-0.8984999999997859,-0.0009132089373235613,0,-0.8985000000003157,-1.5981987159519095,0,0.001499999999997257,-1.598198715951227,0,0.0014999999999945187,-0.13700000000003346,0,3.3621109368775492e-16,-0.1370000000000679,0,0,0,0]\");\n      polyLines.push(\"polyline;F111;110.642;29.2170000052;3;2.9;[0,0,0,-0.9144256206620001,-1.1198484094020502e-16,0,-0.914425620662,-0.9017836903650001,0,0.8680000050800002,-0.9017836903649998,0,0.8680000050800001,1.0629934278811084e-16,0,0.8200000025399999,1.0042103784114324e-16,0,0.8200000025399999,0.1520000000000001,0,-1.8614631347039768e-17,0.152,0,0,0,0]\");\n      polyLines.push(\"polyline;F109;112.391131019;27.4470000001;3;2.9;[0,0,0,-2.6844256257423207,-0.0027283711441651974,0,-2.6844256257467793,-1.5971310186897463,0,-1.7700000050821552,-1.5971310186906487,0,-0.9500000025397562,-1.5971310186892131,0,8.584062280436733e-15,-1.5971310186947916,0,0,0,0]\");\n      polyLines.push(\"polyline;F108;108.629198716;35.939;3;2.9;[0,0,0,4.17142544256,0,0,4.17142544256,3.7575409980099996,0,0,3.75330128405,0,0,0,0]\");\n      polyLines.push(\"polyline;F107;104.517150716;35.939;3;2.9;[0,0,0,4.17142544256,0,0,4.17142544256,3.9600479999999996,0,0,3.9600479999999996,0,0,0,0]\");\n      polyLines.push(\"polyline;F106;100.575198716;35.939;3;2.9;[0,0,0,4.17142544256,0,0,4.17142544256,3.7899520000000004,0,0,3.7899520000000004,0,0,0,0]\");\n      polyLines.push(\"polyline;F105;97.780198716;35.939;3;2.9;[0,0,0,2.9999999999,0,0,2.9999999999,0.0258055473354,0,3.1039999999,0.0258055473354,0,3.1039999999,0.024,0,4.17142544256,0.024,0,4.17142544256,2.643,0,0,2.643,0,0,0,0]\");\n      polyLines.push(\"polyline;F132;97.1602429952;31.6155745574;3;2.9;[0,0,0,1.3227182727528235,0.00475603520003033,0,1.3232576171340402,-0.14524299515563047,0,1.3232576171419206,0.06675700484436393,0,1.323257617142289,0.21875700484399563,0,5.200574557345104,0.21875700484429467,0,5.352574557348035,0.21875700484393815,0,5.352574557340154,0.006757004844343762,0,6.796574557442993,0.00675700484432664,0,6.796574557442292,15.094955720749613,0,5.372574557345339,15.094955720756914,0,5.372574557340968,1.8187570048440265,0,1.484148931598338,1.8187570048405366,0,1.3321489316054063,1.8187570048409292,0,1.332148931605393,15.22800516403473,0,-1.4327428132787645e-13,15.22665120717432,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98137;82.62;5.5;3;2.9;[0,0,0,7.42581744947441,-0.0009763508395769642,0,7.425921447509573,0.7899999999995618,0,7.025941170892313,0.7899999999997925,0,7.025941170893532,3.748198715954197,0,0.14999999999983574,3.7481987159498997,0,0.15000000000052635,0.00026512652197026337,0,-7.279915456521118e-16,0.00026512652197064045,0,0,0,0]\");\n      polyLines.push(\"polyline;F103C;88.578198716;35.939;3;2.9;[0,0,0,4.1019999999,0,0,4.1019999999,3.448,0,0,3.448,0,0,0,0]\");\n      polyLines.push(\"polyline;F103B;86.179198716;35.939;3;2.9;[0,0,0,4.1019999999,0,0,4.1019999999,2.247,0,0,2.247,0,0,0,0]\");\n      polyLines.push(\"polyline;F103A;82.61646093030001;35.939;3;2.9;[0,0,0,7.140299999902511,-0.0002531482663075555,0,7.140299999896326,3.7015390697001713,0,4.253999999902363,3.7015390697017407,0,4.253999999898035,3.5627377856545084,0,4.253999999903697,3.41073778565898,0,3.6034543404728225e-15,3.410737785653559,0,0,0,0]\");\n      polyLines.push(\"polyline;F120;90.38;30.2834256258;3;2.9;[0,0,0,2.09904783604,0,0,2.09904783604,1.575,0,0,1.575,0,0,0,0]\");\n      polyLines.push(\"polyline;F135;97.129;32.8350000001;3;2.9;[0,0,0,1.06742544266,0,0,1.06742544266,0.523198715954,0,0,0.523198715954,0,0,0,0]\");\n      polyLines.push(\"polyline;F104;92.178198716;35.939;3;2.9;[0,0,0,4.2539999999,0,0,4.2539999999,-2.05619871595,0,5.45557437416,-2.05619871595,0,5.45557437416,-0.22319871595399998,0,5.45557437416,-0.0231987159537,0,5.64668305969,-0.0231987159537,0,5.64668305969,4.83680128405,0,4.3234254425600005,4.83204330955,0,4.3234254425600005,4.83149677038,0,4.17142544256,4.83149677038,0,4.17142544256,4.89480128405,0,3.1039999999,4.89480128405,0,2.9999999999,4.89480128405,0,2.9999999999,5.5,0,0,5.5,0,0,2.3778012840500002,0,0,0,0]\");\n      polyLines.push(\"polyline;F128;88.451198716;22.102000000100002;3;2.9;[0,0,0,1.6020000001,0,0,1.6020000001,0.7,0,0,0.7,0,0,0,0]\");\n      polyLines.push(\"polyline;F125;92.153;25.2214256258;3;2.9;[0,0,0,4.5714166789299995,0,0,4.57141189468,1.46619871622,0,4.57142562584,1.81519871595,0,4.65970991688,1.81519524247,0,4.65982178417,4.673191896760001,0,0.35782178417,4.673191896760001,0,0.35782178417,4.82319189676,0,0.402425625842,4.82319189676,0,0.402425625842,4.862,0,-1.04157437426,4.862,0,-1.04157437426,2.662,0,-1.61157437426,2.662,0,-1.61157437426,0.002,0,0,0.002,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98124;93.61876897479999;9.72743318927;3;2.9;[0,0,0,-2.0500000000033256,0.0000806558424535116,0,-2.0499999999986644,-4.5488182839983375,0,-1.4968766243877996e-15,-4.548982774900855,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98124.1;93.61868241730001;7.52743318927;3;2.9;[0,0,0,-2.0500000000033256,0.0000806558424535116,0,-2.0499999999984464,-4.548908253328407,0,-6.186186545659167e-16,-4.549072744220926,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98126;93.6185958598;5.32743318927;3;2.9;[0,0,0,-2.0500000000033256,0.0000806558424535116,0,-2.0499999999982275,-4.548998222658477,0,-1.1338044218767163e-15,-4.549162713550995,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98122;93.6188555323;11.9274331893;3;2.9;[0,0,0,-5.372566810731701,0.0002113799523036101,0,-5.372566810732422,-3.7986568163279726,0,-4.422566810727134,-3.7986568163256633,0,-4.422566810732481,-3.948855532281915,0,-4.272566810726382,-3.948855532278919,0,-4.272566810726054,-4.548656816323158,0,-2.964525639293647,-4.548656816324892,0,-2.964525639298993,-4.698855532281144,0,-0.46453769262403394,-4.6988555322803105,0,-0.46452565670502066,-4.548855532277757,0,2.1590531012333214e-15,-4.5488928055707865,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98126.1;93.6184660236;2.02743318927;3;2.9;[0,0,0,-3.1500000000019392,0.0001239345871789439,0,-3.1499999999966137,-4.549044913233821,0,8.713461809722878e-16,-4.549297667541099,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98128;93.6183361873;-1.27256681073;3;2.9;[0,0,0,-3.1500000000019392,0.0001239345871789439,0,-3.149999999996286,-4.549179867223925,0,7.95560449115551e-16,-4.549432621531204,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98128.1;93.61820635219999;-4.57253880673;3;2.9;[0,0,0,-3.1499719960019608,0.0001239334853835903,0,-3.1499719960059833,-4.549314822315824,0,-0.0003650548524155101,-4.549567545088475,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98130;93.6180577306;-8.35;3;2.9;[0,0,0,-3.6274611932523904,0.00014271996998492138,0,-3.6278262486051505,-4.549430959388476,0,-0.0000017563572869943168,-4.549722054072324,0,-6.641941770885174e-14,-4.54805773060014,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98139.1;82.6190039271;-2.07581744817;3;2.9;[0,0,0,1.8241237227130545,-0.00023983685839827588,0,1.824123722712173,2.1009960729237864,0,-0.3998762772841314,2.1009960729274475,0,-0.39987627728409886,0.940996072927904,0,0.00012372271632998875,0.9409960729274324,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9812;82.6187443681;-4.04994117089;3;2.9;[0,0,0,3.900000000000068,-0.0005127742905422131,0,3.8999999999967288,3.3993971260368254,0,-2.92300905702092e-16,3.3993971260429348,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98120;89.81999988689999;20.2999999702;3;2.9;[0,0,0,2.899999929739997,1.2476128618813027e-7,0,2.899999929739635,3.7990715721012895,0,-0.000013598980478887588,3.799185104869418,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9809.1;67.7346868399;11.7;3;2.9;[0,0,0,-0.6750619224668474,-0.00038436814392648033,0,-0.6759999907140364,-1.8979782483890906,0,-0.5999999999995981,-1.8979782483852954,0,-0.5999999999995179,-1.8959782483910994,0,1.5124620306172787e-15,-1.8959782483841345,0,0,0,0]\");\n      polyLines.push(\"polyline;F129;88.1019870891;25.3600100001;3;2.9;[0,0,0,0.012447778777055829,0.00015154372354722525,0,0.27217863767980405,0.00015154372352701095,0,0.2721786376800671,0.2626846985244121,0,0.14301000000006292,0.26021162686230637,0,0.1385843742578813,3.85301291090576,0,-2.624367789705226,3.853012910907677,0,-2.6243677897046678,0.16801291090815063,0,-2.6249899999999946,0.16801291090814643,0,-2.624989999999142,-0.03195756977937325,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98107;60.32;5.96;3;2.9;[0,0,0,-6.338,-7.761811412995924e-16,0,-6.337999999999999,-3.8048012840500007,0,-0.04999999999999954,-3.80480128405,0,-0.04999999999999963,-3.055,0,-0.05199999999999962,-3.055,0,-0.05199999999999995,-0.395,0,4.8373548566320456e-17,-0.395,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101;42.41;12.298;3;2.9;[0,0,0,7.048,0,0,7.048,-0.54,0,8.148,-0.54,0,8.148,7.21359941803,0,9.23942135624,8.30502077427,0,11.72,8.30502077427,0,11.72,17.769,0,11.872,17.769,0,11.872,8.30502077427,0,11.908,8.30502077427,0,11.908,17.803198716,0,6.798,17.803198716,0,6.798,17.515,0,6.438,17.515,0,6.438,14.855,0,7.198,14.855,0,7.198,14.67,0,6.998,14.6696051836,0,6.998,13.9678038995,0,7.198,13.9678038995,0,7.198,13.783198716000001,0,6.438,13.7846414327,0,6.438,11.175,0,7.198,11.175,0,7.198,10.1050207743,0,6.288,10.1050207743,0,6.288,10.41,0,4.898,10.41,0,4.898,7.13,0,6.388,7.13,0,6.388,7.505,0,7.00976955262,7.505,0,7.198,7.316769552619999,0,7.198,6.89327199592,0,7.00976955262,6.70504154854,0,6.388,6.70504154854,0,6.388,6.98,0,4.898,6.98,0,4.898,4.485800880019999,0,1.39823123686,4.485800880019999,0,0,4.485800880019999,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.8;44.389198715999996;0.39;3;2.9;[0,0,0,-3.608,-4.4185256513236504e-16,0,-3.6079999999999997,-2.34819871595,0,2.875714041250092e-16,-2.3481987159499997,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.7;46.891198716;0.39;3;2.9;[0,0,0,-3.608,-4.4185256513236504e-16,0,-3.6079999999999997,-2.3500000000000005,0,2.8779199779962803e-16,-2.35,0,0,0,0]\");\n      polyLines.push(\"polyline;V130;7.05531298505;5.39062282397;3;2.9;[0,0,0,1.34318045263,0,0,1.34318045263,1.15567753342,0,-0.000349245922401,1.15567753342,0,0,0,0]\");\n      polyLines.push(\"polyline;V124;39.12;8.04999999998;3;2.9;[0,0,0,1.61499999998,0,0,2.5544399989,-0.939439998917,0,2.6499999999800004,-1.035,0,2.65137319746,-5.579,0,7.65999999998,-5.579,0,7.65999999998,-1.03680128405,0,5.00999999998,-1.03680128405,0,4.9349999999800005,-1.03680128405,0,4.89048023072,-0.992281514787,0,3.9445197692400003,-0.0463210533059,0,3.8999999999800004,-0.0018012840462700002,0,3.8999999999800004,0.0629604614807,0,3.8999999999800004,2.6,0,2.7999999999800003,2.6,0,-3.0939722564600003,2.6,0,-3.0939722564600003,-0.0012666188329600002,0,0,0,0]\");\n      polyLines.push(\"polyline;V120.2;26.6714151636;10.2688332452;3;2.9;[0,0,0,3.17483324525,0,0,3.17483324525,2.48203237264,0,0,2.48295261416,0,0,0,0]\");\n      polyLines.push(\"polyline;V120.1;26.5404151636;7.094;3;2.9;[0,0,0,-3.17483324525,-3.888049371622016e-16,0,-3.1748332452499994,-2.3251453192600007,0,2.84756586049919e-16,-2.32521398209,0,0,0,0]\");\n      polyLines.push(\"polyline;V120;18.724999985300002;12.2999332207;3;2.9;[0,0,0,4.099933220690584,-0.001801254707602229,0,4.099933220699621,2.6464966482962806,0,4.174933259647778,2.646496648294429,0,4.1749910416855665,5.318223492543595,0,1.8790999754367763,5.318273146298258,0,-0.00006677930453409834,5.3182731462984805,0,-0.00006677930453945987,-0.15199998533267195,0,0,0,0]\");\n      polyLines.push(\"polyline;1V6;6.876;8.05;3;2.9;[0,0,0,-4.04,-4.947573068555307e-16,0,-4.04,-1.3842772148400004,0,-4.00999469677,-1.3842772871100006,0,-4.00999578483,-1.8360000000000005,0,-2.5899999999999994,-1.8360000000000003,0,-2.5899999999999994,-3.5858012840500004,0,0.49156814773600044,-3.58580128405,0,0.4915681477360004,-3.1841630472799998,0,0.6407386243620004,-3.00126707159,0,0.7585288748240003,-3.09733713402,0,0.8360224606550004,-3.16054112247,0,1.6260723162000001,-2.19187129959,0,1.54857873037,-2.12866731114,0,1.5512122298800002,-2.1254384117300003,0,1.4334219794200003,-2.0293683493,0,1.6775170871700003,-1.7300865215399996,0,2.5039540793,-1.7297211308399996,0,2.5021072802599997,4.3814573151300005,0,-5.364461409039269e-16,4.3804151635999995,0,0,0,0]\");\n      polyLines.push(\"polyline;V113;0.38823216693699997;20.6100334524;3;2.9;[0,0,0,6.078033452380664,0.0005213459376395092,0,6.078033452380477,4.351357222733113,0,5.551944824323994,5.578588617429213,0,5.55313021883768,5.5790982117788115,0,5.51417684861364,5.669966549020993,0,5.460256188405282,5.669966549013152,0,0.00000569934165981623,5.66996654904704,0,0,0,0]\");\n      polyLines.push(\"polyline;V109;14.0026207805;17.159999958500002;3;2.9;[0,0,0,-1.7186288969923366e-16,0.93557799587,0,-1.7219376902915683e-16,0.937379219048,0,0.0000015011444103778066,0.937379219048,0,0.00013290131845480023,1.08757787427,0,2.05999995855,1.0857767511700003,0,2.0599999585499997,2.5893792353600005,0,-0.7800000396870005,2.58937923536,0,-1.2980000414100004,2.5893792353599996,0,-1.29800004141,-2.3843873940088323e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V108;19.4412829089;19.538691401399998;3;2.9;[0,0,0,1.0681228113386838,-1.0992829088555045,0,4.38769452636061,-1.0992829088567613,0,4.387694526357458,4.6869158070912285,0,-1.0713181880977156,4.686795698059944,0,-1.0713228991773738,5.985212325754219e-13,0,-0.1713085985541306,2.7067237340361316e-13,0,0,0,0]\");\n      polyLines.push(\"polyline;V108.1;19.341282908900002;19.5809573953;3;2.9;[0,0,0,-0.129042604654,-1.5803161274315846e-17,0,-0.129042604654,0.09999999999999999,0,-1.0290569052799998,0.09999999999999988,0,-1.0290612770899996,-4.24928089848,0,0.9709573954290006,-4.24928290886,0,0.9709573953460001,-0.9992829088559998,0,0,0,0]\");\n      polyLines.push(\"polyline;1V3;4.74;12.211996507399999;3;2.9;[0,0,0,0.0000018106536019916414,0.7517230790078193,0,0.001996507427446205,0.751723074203251,0,0.0019965074274473182,2.2859999999977014,0,1.6109965074266446,2.2859999999960166,0,1.6109965074301253,5.834999999996311,0,-0.2380034925722381,5.834999999999043,0,-0.2380034925723133,19.95500000003,0,-0.08800349257257815,19.95500000002935,0,1.7911632621755729,19.95500000003483,0,1.7911632621816664,24.414411835747764,0,-0.2380034925725254,24.415000000042937,0,-0.23795943460354432,24.566999993637257,0,-0.23800349257251388,24.56700000634338,0,-0.23800349257256181,25.93500000004735,0,0.3719965074272074,25.93499999995802,0,0.37199650742717466,27.30299999996199,0,-0.23800349257259484,27.302999999951318,0,-0.23800349257283793,33.054999999968004,0,-2.73800349257709,33.055000000045574,0,-2.7380034925700665,30.638217920738562,0,-2.7380034925737013,26.190000000025663,0,-2.7380003676589393,19.639999999999134,0,-2.7380003676546107,13.601999999981619,0,-2.7380034925746104,13.601999999989145,0,-2.738003492576171,7.7481987159521655,0,-2.738003492574872,7.746397431912159,0,-2.7380034925756016,1.3622625513936408,0,-2.706448975023329,1.2868525776289694,0,-2.1548019832462506,-9.308477044180606e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;V102;35.3792128625;18.11;3;2.9;[0,0,0,3.010000000003835,-0.000947713531544475,0,3.009999999996186,2.4907871374858552,0,1.1500000000018824,2.490787137485421,0,1.1499999999953594,1.8707871374839882,0,-3.9118014383277e-16,1.870787137488988,0,0,0,0]\");\n      polyLines.push(\"polyline;V103;35.38;20.61;3;2.9;[0,0,0,2.380000000000939,-0.0007493548854066002,0,2.3800000000049284,2.4900000000031417,0,-3.597057547655158e-15,2.4900000000014066,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98101.1;49.39;10.9;3;2.9;[0,0,0,-0.95,-1.1634144591899854e-16,0,-1.398,-1.7120562252079997e-16,0,-1.3979999999999997,-2.34419911998,0,0.0002312368594702871,-2.34419911998,0,0.00023123685946828098,-2.29419911996,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98103;49.54;11.85;3;2.9;[0,0,0,1.8,0,0,1.8,3.28,0,-0.448,3.28,0,-0.448,0.15,0,0,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98135;82.775;9.999;3;2.9;[0,0,0,4.039,0,0,4.039,0.2,0,4.499,0.2,0,4.499,3.205,0,4.49788571429,3.205,0,4.497,2.895,0,4.039,2.895,0,4.039,3.205,0,-0.001,3.205,0,0,0,0]\");\n      polyLines.push(\"polyline;F117;101.003;26.3950000001;3;2.9;[0,0,0,-3.7364256257400004,-4.575801682814638e-16,0,-3.73642562574,-1.8720000000000006,0,2.2925388080038456e-16,-1.872,0,0,0,0]\");\n      polyLines.push(\"polyline;V112.1;10.04;20.61;3;2.9;[0,0,0,0.9,0,0,0.9,0.1,0,0.992104096285,0.1,0,2,1.13729901571,0,2,4.9,0,0,4.90000201036,0,0,0,0]\");\n      polyLines.push(\"polyline;F115;107.559;27.4481699215;3;2.9;[0,0,0,-2.68325570432,-3.2860405095893647e-16,0,-2.6832557043199996,-4.35580128405,0,1.0531699214200005,-4.35580128405,0,1.05316992142,1.2897611732252726e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F112;109.190292181;27.4470000001;3;2.9;[0,0,0,-6.81834227318534e-18,0.0371173265518,0,-0.8373397609550001,0.39791378643999986,0,-0.9000000000000001,0.3979065336489998,0,-0.9000000000000001,0.42491309242999986,0,-0.9020000000000001,0.42577486079799987,0,-0.9020000000000001,0.39792412834799984,0,-2.6844256257400003,0.3979241283479995,0,-2.68442562574,-1.4622921812900003,0,-0.0011699214170297315,-1.4622921812899998,0,-0.0011699214170297284,-1.47929218129,0,2.3475084436622337e-13,-1.47929218129,0,1.1028756472789142e-13,-0.835292183826,0,2.8091276630284518e-18,-0.0152921787462,0,0,0,0]\");\n      polyLines.push(\"polyline;F114;107.711;27.2950000001;3;2.9;[0,0,0,0.9,0,0,0.9,1.512,0,0,1.512,0,0,1.46400000254,0,-0.152,1.46400000254,0,-0.152,0.64399999746,0,0,0.64399999746,0,0,0,0]\");\n      polyLines.push(\"polyline;1V1;38.02;18.11;3;2.9;[0,0,0,1.03,0,0,1.03,0.002,0,3.01,0.002,0,3.01,3.7,0,2.21,3.7,0,2.075,4.34,0,0.745,4.34,0,0.662734375,3.95,0,0.61,3.7,0,-0.36,3.7,0,-0.495,4.34,0,-1.825,4.34,0,-1.907265625,3.95,0,-1.9336328125,3.825,0,-1.96,3.7,0,-1.96,3.69819871595,0,-4.765,3.69819871595,0,-4.765,3.615,0,-4.765,1.285,0,-4.7650286057,1.19876765579,0,-3.04995024075,1.19819871595,0,-2.5,1.19819871595,0,-2.5,0.002,0,0,0.002,0,0,0,0]\");\n      polyLines.push(\"polyline;1V7;11.408415176799998;8.04999990428;3;2.9;[0,0,0,2.5020612501300916,0.0010420864704571379,0,2.4966990396394815,17.74458575099814,0,1.0699998975460594,17.744999306760405,0,1.0699998975441447,12.806783421156869,0,1.0700035994544483,12.806783421198682,0,1.0699998975479397,12.634783624938908,0,-0.07494217340022599,12.634808216195445,0,-0.07500008178314768,9.963081485851724,0,2.484991379336776e-15,9.963081485852413,0,0,0,0]\");\n      polyLines.push(\"polyline;V129;5.24180124921;5.03999887882;3;2.9;[0,0,0,4.649998878818066,-0.0018012518761857024,0,4.649998878817567,1.5975117358342459,0,-0.3505586699184357,1.5975117358357807,0,-0.3500758696634841,-0.00010579297985524296,0,0,0,0]\");\n      polyLines.push(\"polyline;V116;3.1381987159499998;7.55843185226;3;2.9;[0,0,0,-3.1668237276599998,-3.878240541542708e-16,0,-3.1668237276599993,-2.7491186779400003,0,3.3663667316616246e-16,-2.74884704227,0,0,0,0]\");\n      polyLines.push(\"polyline;N136;46.719;53.521;3;2.9;[0,0,0,-1.8980000000010977,0.0004039157267702928,0,-1.897999999999818,-4.848000000001993,0,-0.29501605715135154,-4.847999999999146,0,3.572879839208731e-15,-4.847999999999617,0,0,0,0]\");\n      polyLines.push(\"polyline;N137;46.719436263000006;55.571;3;2.9;[0,0,0,-2.6489999999952203,0.0005637369653464625,0,-2.649000000003163,-2.6972512399548116,0,-2.107000000003204,-2.696926883285009,0,-2.1070000000041675,-4.848436263034455,0,-6.327837559494398e-15,-4.8484362630394955,0,0,0,0]\");\n      polyLines.push(\"polyline;N113;51.718;58.372;3;2.9;[0,0,0,-1.2480000000027496,0.6020000000013572,0,-2.49600000000242,1.0751399770470016e-12,0,-2.4964280591410706,-1.6474906202522757,0,-1.0550449403012863e-12,-1.6474906202529578,0,0,0,0]\");\n      polyLines.push(\"polyline;1N07;49.9185093797;58.372;3;2.9;[0,0,0,-2.49646755253,-3.0572909973810913e-16,0,-2.4977853845999993,-5.072,0,4.624739191005281e-13,-5.072,0,0,0,0]\");\n      polyLines.push(\"polyline;1N07.1;44.0205991464;60.869999976699994;3;2.9;[0,0,0,2.497999976679085,0.0014949132116611845,0,2.4979999766743,0.6999102333792063,0,0.0001818541308875341,0.6999102333787408,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98121;69.9752164476;11.0178;3;2.9;[0,0,0,-1.2822,-1.5702421258667362e-16,0,-1.2821999999999998,-0.920017731684,0,1.126696770265619e-16,-0.9200177316839999,0,0,0,0]\");\n      polyLines.push(\"polyline;V112;6.26;20.61;3;2.9;[0,0,0,5.459003124910001,0,0,5.459003125070001,6.0300084281199995,0,2.1,6.03000312491,0,2.1,4.8767172825,0,1.03437009019,3.78,0,0,3.78,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9811.1;89.66819871599999;18.83839971;3;2.9;[0,0,0,-1.46160124868,-1.7899452908257367e-16,0,-1.46160029002,-0.29819815348300016,0,-1.46160029002,-0.49619871595400017,0,6.076681692340928e-17,-0.496198715954,0,0,0,0]\");\n      polyLines.push(\"polyline;N130.1;46.88;24.1;3;2.9;[0,0,0,-0.5,-6.123233995736766e-17,0,-0.4999999999999994,-5.01180128405,0,6.137686400474426e-16,-5.01180128405,0,6.012772426961396e-16,-4.909801284049999,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9809.2;68.903198716;11.3;3;2.9;[0,0,0,-1,-1.2246467991473532e-16,0,-0.9999999999999999,-0.9988534777590001,0,1.2225454224448382e-16,-0.998284095705,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9806;37.945;14.95;3;2.9;[0,0,0,2.5,0,0,2.5,1.17319871595,0,3.6540277435500004,1.17367115499,0,3.6540277435500004,3.775,0,2.5,3.775,0,2.5,22.3613974297,0,0,22.3631987137,0,0,21.215,0,0,20.915,0,0,7.565,0,0,5.83,0,0,5.03519871595,0,0,4.025,0,0,3.775,0,-0.15,3.775,0,-0.15,1.175,0,0,1.175,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9809;85.98;11.8;3;2.9;[0,0,0,-0.5,-6.123233995736766e-17,0,-0.49999999999999983,-1.2,0,1.4695761589768238e-16,-1.2,0,0,0,0]\");\n      polyLines.push(\"polyline;1%C3%9801.1;42.12;23.77;3;2.9;[0,0,0,1.2,0,0,1.2,0.53,0,1.2,0.59,0,0,0.59,0,0,0,0]\");\n      /*polyLines.push(\"polyline;V215;0.39;20.61;6;2.9;[0,0,0,5.71,0,0,5.71,1.2,0,6.01,1.2,0,6.01,6.455,0,0,6.455,0,0,0,0]\");\n      polyLines.push(\"polyline;V217;0.39;14.45;6;2.9;[0,0,0,3.7,0,0,3.7,4.695,0,0,4.695,0,0,0,0]\");\n      polyLines.push(\"polyline;V219;6.845;4.59;6;2.9;[0,0,0,-6.01,-7.3601272628755925e-16,0,-6.009999999999999,-5.315000000000001,0,-5.709999999999999,-5.315000000000001,0,-5.709999999999999,-5.415000000000001,0,-5.709999999999999,-6.355000000000001,0,-6.009999999999999,-6.355000000000001,0,-6.009999999999999,-6.455000000000001,0,7.905095088496165e-16,-6.455,0,5.5109105961630896e-17,-0.45,0,0,0,0]\");\n      polyLines.push(\"polyline;V236;13.125;0.39;6;2.9;[0,0,0,-5.01,-6.135480463728239e-16,0,-5.01,-3.0050000000000003,0,3.6800636314377963e-16,-3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;V232;13.245;4;6;2.9;[0,0,0,3.61,0,0,3.61,3.01,0,0,3.01,0,0,0,0]\");\n      polyLines.push(\"polyline;V234;13.245;5.4;6;2.9;[0,0,0,1.3,0,0,1.3,1.45,0,0,1.45,0,0,0,0]\");\n      polyLines.push(\"polyline;2V8.1;14.795;5.4;6;2.9;[0,0,0,1.3,0,0,1.3,1.46,0,0,1.46,0,0,0,0]\");\n      polyLines.push(\"polyline;V213;10.12;20.61;6;2.9;[0,0,0,1.69,0,0,1.69,0.65,0,2.37,0.65,0,2.37,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;V211.1;10.77;18.12;6;2.9;[0,0,0,1.6,0,0,1.6,2.355,0,0,2.355,0,0,0,0]\");\n      polyLines.push(\"polyline;V211.3;11.62;15.1;6;2.9;[0,0,0,-1.3,-1.5920408388915593e-16,0,-1.3,-0.8500000000000001,0,1.0409497792752501e-16,-0.85,0,0,0,0]\");\n      polyLines.push(\"polyline;V211;13.245;20.61;6;2.9;[0,0,0,4.97,0,0,4.97,1.315,0,5.51,1.315,0,5.51,3,0,0,3,0,0,0,0]\");\n      polyLines.push(\"polyline;V209;16.365;20.61;6;2.9;[0,0,0,5.51,0,0,5.51,4.56,0,0,4.56,0,0,0,0]\");\n      polyLines.push(\"polyline;V207;21.045;20.61;6;2.9;[0,0,0,5.51,0,0,5.51,4.56,0,0,4.56,0,0,0,0]\");\n      polyLines.push(\"polyline;V205;25.725;20.61;6;2.9;[0,0,0,5.234,0,0,5.234,1.076,0,5.51,1.076,0,5.51,4.593,0,5.509740497,4.593,0,5.509740497,4.3345,0,5.145740496999999,4.3345,0,5.145740496999999,4.593,0,0,4.593,0,0,0,0]\");\n      polyLines.push(\"polyline;V203;30.47;20.61;6;2.9;[0,0,0,3.048,0,0,3.048,2.87,0,0,2.87,0,0,0,0]\");\n      polyLines.push(\"polyline;2V2.1;33.34;15.1;6;2.9;[0,0,0,-2.31,-2.828934106030386e-16,0,-2.3099999999999996,-2.8700000000000006,0,3.514736313552904e-16,-2.87,0,0,0,0]\");\n      polyLines.push(\"polyline;V201;37.347;16.597;6;2.9;[0,0,0,-1.636,-2.0035221634050696e-16,0,-1.636,0.5229999999999998,0,-4.013,0.5229999999999996,0,-4.013,-0.1280000000000005,0,-4.013,-3.26550937975,0,-4.012999999999999,-3.8550000000000004,0,1.2210000000000005,-3.855,0,1.2210000000000005,-2.779,0,1.4970000000000006,-2.779,0,1.497,0.5230000000000002,0,-6.404902759540658e-17,0.523,0,0,0,0]\");\n      polyLines.push(\"polyline;2V6;7.045;10.75;6;2.9;[0,0,0,-3.7,-4.531193156845207e-16,0,-3.6999999999999997,-1.8400000000000005,0,2.25335011043113e-16,-1.84,0,0,0,0]\");\n      polyLines.push(\"polyline;V229;15.675;8.20040241036;6;2.9;[0,0,0,-1.54959758964,-1.8977097281190798e-16,0,-1.5495975896399998,-2.4,0,0.00017018235316829393,-2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;2V4;13.275;12.299777725;6;2.9;[0,0,0,2.54977772499,0,0,2.54977772499,2.4,0,0.00016288855707800003,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;V212;15.825;12.299604655900001;6;2.9;[0,0,0,4.09919160914,0,0,4.098882586359999,4.358,0,1.5488330359,4.358,0,1.5488330359,3.758,0,0.000255056332293,3.758,0,0,0,0]\");\n      polyLines.push(\"polyline;2V9.1;20.183;10.90277162;6;2.9;[0,0,0,-1.39653725743,-1.7102648822016725e-16,0,-1.39656766329,-0.4480000000000002,0,5.4864176601801425e-17,-0.448,0,0,0,0]\");\n      polyLines.push(\"polyline;2V9;22.335;8.20087466639;6;2.9;[0,0,0,-4.0982881543000005,-5.01895547014701e-16,0,-4.09842389477,-2.0000000000000004,0,0.00014181862764124493,-2,0,0,0,0]\");\n      polyLines.push(\"polyline;V210;22.455;12.2991546763;6;2.9;[0,0,0,1.98915467626,0,0,1.98915467626,1.39,0,0.00009433962264180002,1.39,0,0,0,0]\");\n      polyLines.push(\"polyline;V227;23.845;8.20098173945;6;2.9;[0,0,0,-1.98901826055,-2.4358448462281936e-16,0,-1.9890182605499998,-1.3900000000000001,0,0.00009856394621027026,-1.39,0,0,0,0]\");\n      polyLines.push(\"polyline;V225;23.935;10.19;6;2.9;[0,0,0,1.8281372202,0,0,1.828137031,0.17500000839399998,0,1.98899946957,0.17500018231199999,0,1.98891331477,1.39,0,0,1.39,0,0,0,0]\");\n      polyLines.push(\"polyline;V206.4;26.27;9.34;6;2.9;[0,0,0,0.12,0,0,0.12,-0.825,0,1.13890480565,-0.825,0,1.1387909962,0.7799999916089999,0,-0.85,0.77999999568,0,-0.85,-0.825,0,0,-0.825,0,0,0,0]\");\n      polyLines.push(\"polyline;V206.2;28.38;10.31;6;2.9;[0,0,0,-1.98875254513,-2.435519438689607e-16,0,-1.9888346681099998,-1.2100000000000002,0,1.4818226319526097e-16,-1.2100000040699999,0,0,0,0]\");\n      polyLines.push(\"polyline;V208;27.049999995900002;10.31;6;2.9;[0,0,0,-1.9888428125400002,4.071694267696008e-9,0,-1.9889517442658653,-1.6049999959280827,0,6.534161792092484e-16,-1.60499999593,0,0,0,0]\");\n      polyLines.push(\"polyline;V206.1;28.5;12.298744400699999;6;2.9;[0,0,0,1.95674440071,0,0,1.95674440071,2,0,0.000135740464234,2,0,0,0,0]\");\n      polyLines.push(\"polyline;V206.3;30.5;8.20145364093;6;2.9;[0,0,0,-1.98854635907,-2.435266933591199e-16,0,-1.9885463590699999,-2.0000000000000004,0,-1.9885463590699997,-2.8750000083900003,0,-1.3335463655399995,-2.87500000839,0,-1.3335463655399995,-3.33000000566,0,-0.17840932806699958,-3.3300000080300003,0,-0.1784093280669996,-3.092,0,0.00021925159833537867,-3.092,0,0,0,0]\");\n      polyLines.push(\"polyline;V206;30.62;12.2986005158;6;2.9;[0,0,0,4.09713836576,0,0,4.096846219390001,4.12,0,0.00027962535631900006,4.12,0,0,0,0]\");\n      polyLines.push(\"polyline;V204;36.312215705;8.20186578116;6;2.9;[0,0,0,-4.09634840265,-5.016579959497696e-16,0,-4.096446964869999,-1.4522157050000004,0,0.00010297561916117786,-1.452215705,0,0,0,0]\");\n      polyLines.push(\"polyline;V202;36.464215705;12.2982038675;6;2.9;[0,0,0,4.09632730816,0,0,4.096228475869999,1.393784295,0,0.00009459646362050004,1.393784295,0,0,0,0]\");\n      polyLines.push(\"polyline;V223;38.01;12.2980989548;6;2.9;[0,0,0,4.09611278492,0,0,4.0960989547999995,0.19503953899999998,0,2.8331384938,1.458,0,0.00009895479842470003,1.458,0,0,0,0]\");\n      polyLines.push(\"polyline;V230%20/%20V226;23.705;1.59961512264;6;2.9;[0,0,0,-3.80038487736,-4.65412917558693e-16,0,-3.800384877359999,-7.330000000000001,0,1.209615122640001,-7.33,0,1.20961512264,0.05000000000000015,0,-6.123233995736766e-18,0.05,0,0,0,0]\");\n      polyLines.push(\"polyline;V224;27.165;0.39;6;2.9;[0,0,0,-5.01,-6.135480463728239e-16,0,-5.01,-3.3600000000000003,0,-1.2096151226399996,-3.36,0,-1.2096151226399996,-3.41,0,4.176045585092475e-16,-3.41,0,0,0,0]\");\n      polyLines.push(\"polyline;V222;27.285;3.3;6;2.9;[0,0,0,2.91,0,0,2.91,2.974,0,0,2.974,0,0,0,0]\");\n      polyLines.push(\"polyline;V220;30.259;3.4;6;2.9;[0,0,0,-2,-2.4492935982947064e-16,0,-1.9999999999999998,-2.7110000000000003,0,-1.7869999999999997,-2.711,0,-1.7869999999999995,-2.974,0,3.6420995806642285e-16,-2.974,0,0,0,0]\");\n      polyLines.push(\"polyline;V239;41.9770913884;0.426;6;2.9;[0,0,0,-4.8250000000018884,1.6205819178416943,0,-4.824999999999942,1.6199101740408746,0,-4.974999999998957,1.6199101740405781,0,-4.975000000002606,0.3939086115945789,0,-4.823000000000812,0.3939086115952326,0,-4.823000000002827,-0.27709138839917147,0,-4.8230000000005075,-0.8415913103967434,0,-4.97400000000211,-0.8415913104007839,0,-4.974000000010138,-11.24609138841071,0,-4.473999999998483,-11.246091388388285,0,-4.473999999991478,-11.546091388367373,0,0.03600000000899195,-11.546091388374677,0,0.036000000000436544,-0.41209138840261383,0,-8.87900863943969e-14,-0.412091388403068,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.10;47.29;0.426;6;2.9;[0,0,0,-4.825,-5.90892080588598e-16,0,-4.825,-3.5407183785600003,0,-4.823,-3.5347637274,0,6.312654894046895e-16,-5.15467390144,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.9;47.44;5.251;6;2.9;[0,0,0,4.825,0,0,4.825,3.5634585861800003,0,0,3.5634585861800003,0,0,2.476,0,0.246956864567,2.476,0,0.246956864567,1.674,0,0,1.674,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.8;51.1534585862;5.251;6;2.9;[0,0,0,4.825,0,0,4.825,4.54580500722,0,0,4.54580500722,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.7;55.849263593399996;5.251;6;2.9;[0,0,0,4.825,0,0,4.825,4.3297364066,0,0,4.3297364066,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.11;58.7924802307;8.52778306985;6;2.9;[0,0,0,0.4,0,0,0.4,1.39251976926,0,0,1.39251976926,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.1;42.32;12.3;6;2.9;[0,0,0,4.12221693015,0,0,4.12221693015,1.9403,0,0,1.9403,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98201;44.4103;12.3;6;2.9;[0,0,0,4.12221693015,0,0,4.12221693015,4.9997,0,3.87421693015,4.9997,0,0.496,4.9997,0,0.496,4.7397,0,0.3,4.7397,0,0,4.7397,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.2;49.56;12;6;2.9;[0,0,0,3.57421693015,0,0,3.57421693015,0.2,0,3.8222169301499997,0.2,0,3.8222169301499997,2.18966666667,0,-0.3,2.18966666667,0,-0.3,0.15,0,0,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.3;51.9016666667;12.3;6;2.9;[0,0,0,4.12221693015,0,0,4.12221693015,2.18966666667,0,0,2.18966666667,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.4;54.2433333333;12.3;6;2.9;[0,0,0,4.12221693015,0,0,4.12221693015,1.37870620519,0,3.31125646867,2.18966666667,0,0,2.18966666667,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.5;60.185;11.2;6;2.9;[0,0,0,-1.1,-1.3471114790620887e-16,0,-1.0999999999999999,-1.9500000000000002,0,2.3880612583373386e-16,-1.95,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203.6;58.235;11.05;6;2.9;[0,0,0,2.37021693015,0,0,2.37021693015,1.95,0,0,1.95,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98204;60.335;12.3;6;2.9;[0,0,0,3.10347129644,0,0,3.10000000051,3.62,0,0,3.62,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98204.1;63.955;5.96;6;2.9;[0,0,0,-3.08999993053,-3.784158524289108e-16,0,-3.086528634599999,-3.6200000000000006,0,4.4332214129134187e-16,-3.62,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98205;64.105;12.3;6;2.9;[0,0,0,6.34,0,0,6.34,3.6,0,0.670000004717,3.6,0,0.6693727228699999,1.36270374852,0,0,1.36270374852,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.1;67.705;11.75;6;2.9;[0,0,0,-0.55,-6.735557395310444e-17,0,-0.5499999999999998,-2.11729625148,0,-0.0005936368516767408,-2.11729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98225;69.9775;11.03;6;2.9;[0,0,0,-1.27,-1.5553014349171386e-16,0,-1.2699999999999998,-0.9725000000000001,0,1.1909690121708011e-16,-0.9725,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98206;67.855;10.91;6;2.9;[0,0,0,4.95,0,0,4.95,3.6,0,0,3.6,0,0,3.54,0,-0.12,3.54,0,-0.12,3.6,0,-1.39,3.6,0,-1.39,2.2425,0,-0.12,2.2425,0,-0.12,2.33,0,0,2.33,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98207;71.605;12.3;6;2.9;[0,0,0,6.34,0,0,6.34,3.6,0,1.87,3.6,0,1.87,1.46492837235,0,0,1.46492837235,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98208;78.955;5.96;6;2.9;[0,0,0,-6.34,-7.764260706594219e-16,0,-6.34,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98209;85.98;5.96;6;2.9;[0,0,0,-5.47,-6.698817991336022e-16,0,-5.47,-1.3470000000000006,0,-6.34,-1.3470000000000006,0,-6.34,-2.4970000000000008,0,-6.27,-2.4970000000000008,0,-6.27,-2.8205246745100006,0,-6.34,-2.8205246745100006,0,-6.339999999999999,-4.049500000000001,0,-6.269999999999999,-4.049500000000001,0,-6.269999999999999,-4.372000000000001,0,-6.339999999999999,-4.372000000000001,0,-6.339999999999999,-6.875000000000001,0,8.419446744138053e-16,-6.875,0,4.1148132451351065e-16,-3.36,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9803;42.36;18.605;6;2.9;[0,0,0,0.545,0,0,0.545,2.93,0,0.0226513200467,2.93,0,0,2.93,0,-1.33,2.93,0,-1.715,2.93,0,-1.715,0,0,-1.33,0,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9804;42.36;16.035;6;2.9;[0,0,0,0.385,0,0,0.385,2.93,0,0,2.93,0,-1.33,2.93,0,-1.875,2.93,0,-1.875,0,0,-1.33,0,0,0,0,0]\");\n      polyLines.push(\"polyline;N232.1;37.219;22.56;6;2.9;[0,0,0,1.75,0,0,1.75,1.801,0,0,1.801,0,0,0,0]\");\n      polyLines.push(\"polyline;N233.1;39.020156080499994;24.462;6;2.9;[0,0,0,-1.7999826435219983,-0.00015620682115295294,0,-1.7999869826421873,0.04984379299056741,0,-1.8000000000021381,0.049843791860889615,0,-1.800000260123329,-1.8014522291629111,0,-1.1983144511396038e-15,-1.8011560777624205,0,0,0,0]\");\n      polyLines.push(\"polyline;N234.1;37.219;29.86;6;2.9;[0,0,0,1.75,0,0,1.75,1.80083949828,0,0,1.80068762908,0,0,0,0]\");\n      polyLines.push(\"polyline;N235.1;37.219;33.45;6;2.9;[0,0,0,1.75,0,0,1.75,1.801,0,0,1.801,0,0,0,0]\");\n      polyLines.push(\"polyline;N232;34.0814906203;24.31;6;2.9;[0,0,0,3.55,0,0,3.55,2.93550937975,0,1.598,2.93550937975,0,1.598,4.98650937975,0,0,4.98650937975,0,0,0,0]\");\n      polyLines.push(\"polyline;N233;37.017;24.462;6;2.9;[0,0,0,-1.9520002885100287,-0.00032115974794792707,0,-1.9520000000066335,2.0529866814306694,0,-3.4479869826345735,2.0528568560854903,0,-3.447982643517903,2.0028568562726576,0,-3.44799999999789,2.002856854767021,0,-3.4479999999980566,2.8644621397067027e-16,0,-3.4479999999966235,-2.9355093797528715,0,2.6141198580797997e-15,-2.935509379751588,0,0,0,0]\");\n      polyLines.push(\"polyline;N234;37.017;28.06;6;2.9;[0,0,0,-1.95,-2.3880612583373386e-16,0,-1.9500000000000002,2.0507156843699996,0,-3.4700142156500005,2.0509999999999997,0,-3.4700187048,2.0029999999999997,0,-3.4700000000000006,2.0029999999999997,0,-3.47,-4.249524393041316e-16,0,-3.4699999999999998,-2.9355093797500005,0,3.5949621657778696e-16,-2.93550937975,0,0,0,0]\");\n      polyLines.push(\"polyline;N235;34.0814906203;35.15;6;2.9;[0,0,0,3.5,0,0,3.5,2.93550937975,0,1.548,2.93550937975,0,1.548,4.93850937975,0,1.548,4.98850937975,0,0,4.98850937975,0,0,0,0]\");\n      polyLines.push(\"polyline;N236;36.92;35.3;6;2.9;[0,0,0,-3.41,-4.176045585092475e-16,0,-3.4099999999999997,-2.8385093797500005,0,3.4761714262605764e-16,-2.83850937975,0,0,0,0]\");\n      polyLines.push(\"polyline;N237;37.795;42.7338042443;6;2.9;[0,0,0,3.46380424426,0,0,3.46380424426,3.925,0,-0.002,3.925,0,-0.002,0.975,0,0,0.975,0,0,0.825,0,0,0,0]\");\n      polyLines.push(\"polyline;N237.1;34.425;42.7338042443;6;2.9;[0,0,0,3.46380424426,0,0,3.46380424426,3.22,0,0,3.22,0,0,0,0]\");\n      polyLines.push(\"polyline;N238.1;38.62;42.9058042443;6;2.9;[0,0,0,-3.43919575574,-4.2118000739081536e-16,0,-3.4391957557399997,-4.195,0,5.137393322423147e-16,-4.195,0,0,0,0]\");\n      polyLines.push(\"polyline;N238;38.77;44.47;6;2.9;[0,0,0,1.5841957557400002,0,0,1.5841957557400002,2.95,0,0,2.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N239;41.02;48.37;6;2.9;[0,0,0,-1.56380424426,-1.9151078622260546e-16,0,-1.5638042442599998,-2.25,0,2.755455298081545e-16,-2.25,0,0,0,0]\");\n      polyLines.push(\"polyline;N239.1;34.425;49.9338042443;6;2.9;[0,0,0,3.43880424426,0,0,3.43880424426,4.195,0,1.7138042442599999,4.195,0,1.56380424426,4.195,0,0,4.195,0,0,0,0]\");\n      polyLines.push(\"polyline;N239.2;38.77;48.22;6;2.9;[0,0,0,1.7,0,0,1.7,2.05,0,1.55,2.05,0,1.55,2.95,0,0,2.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N238.2;38.77;46.32;6;2.9;[0,0,0,1.7,0,0,1.7,2.95,0,0.15,2.95,0,0.15,2.05,0,0,2.05,0,0,0,0]\");\n      polyLines.push(\"polyline;N240.1;39.972;53.37;6;2.9;[0,0,0,1.0536036554400001,0,0,1.775,0.721396344562,0,1.775,1.748,0,9.580076465450006e-8,1.748,0,0.00019565994041000003,1.44829363355,0,0,1.4482935058800002,0,0,0,0]\");\n      polyLines.push(\"polyline;N240;34.425;53.534;6;2.9;[0,0,0,3.42819575574,0,0,3.42819575574,6.59499989245,0,2.08917962135,6.5933964521099995,0,2.089,6.74339634456,0,2.089,6.20626431021,0,1.2797356897899999,5.397,0,0,5.397,0,0,0,0]\");\n      polyLines.push(\"polyline;N242;34.425;57.1338042443;6;2.9;[0,0,0,3.42780424426,0,0,3.42780424426,5.397,0,0,5.397,0,0,0,0]\");\n      polyLines.push(\"polyline;N243;34.425;60.745;6;2.9;[0,0,0,3.4391957557199997,0,0,3.4391957557199997,5.397,0,-2.0534685063500015e-11,5.397,0,0,0,0]\");\n      polyLines.push(\"polyline;N245;34.425;68.0148042443;6;2.9;[0,0,0,7.11980424428,0,0,7.11980424426,5.397,0,4.84480424426,5.397,0,4.84480424426,6.795,0,1.9848042442599998,6.795,0,1.9848042442599998,5.397,0,0,5.397,0,0,5.245,0,0,0,0]\");\n      polyLines.push(\"polyline;N245.2;39.972;68.0148042443;6;2.9;[0,0,0,1.8348042442599999,0,0,1.8348042442599999,1.248,0,0,1.248,0,0,0,0]\");\n      polyLines.push(\"polyline;N244;41.72;58.795;6;2.9;[0,0,0,-1.775,-2.173748068486552e-16,0,-1.775,-0.3000000000000002,0,-1.7749999999999997,-1.7480000000000002,0,2.1406826049095733e-16,-1.748,0,0,0,0]\");\n      polyLines.push(\"polyline;N215;52.22;60.57;6;2.9;[0,0,0,1.775,0,0,1.775,1.748,0,0,1.748,0,0,0.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N216.2;53.968;66.18;6;2.9;[0,0,0,-1.8348042442599999,-2.2469871447949875e-16,0,-1.8348042442599997,-1.2480000000000002,0,-1.8008042442599996,-1.2480000000000002,0,1.5283592053358969e-16,-1.248,0,0,0,0]\");\n      polyLines.push(\"polyline;N245.1;39.972;63.02;6;2.9;[0,0,0,2.25,0,0,2.25,1.448,0,2,1.448,0,2,1.748,0,0,1.748,0,0,1.248,0,0,0,0]\");\n      polyLines.push(\"polyline;N241;39.972;55.645;6;2.9;[0,0,0,2.075,0,0,2.075,1.44816300205,0,1.82519575574,1.448,0,1.825,1.748,0,0,1.748,0,0,0,0]\");\n      polyLines.push(\"polyline;N216.1;53.968;60.77;6;2.9;[0,0,0,-2.25,-2.755455298081545e-16,0,-2.25,-1.3980000000000001,0,-2.25,-1.7480000000000002,0,-0.24999999999999978,-1.748,0,-0.24999999999999983,-1.448,0,1.7732885651653675e-16,-1.448,0,0,0,0]\");\n      polyLines.push(\"polyline;N212;52.22;55.645;6;2.9;[0,0,0,2.0756918044885015,0.0008218998640379252,0,2.0756914949411986,0.0016036554377560864,0,1.824999999998526,0.0016036554377539328,0,1.8249999999964153,0.3000000000002553,0,2.0755733406398256,0.3000000000003111,0,2.0749999843252946,1.747999999995998,0,-6.4642301927930745e-15,1.7480000000024611,0,0,0,0]\");\n      polyLines.push(\"polyline;N211.1;52.2209010927;53.3693082112;6;2.9;[0,0,0,1.7743082111951258,0.0007025627188079477,0,1.7743082111936777,1.0257025627225103,0,1.052911866630375,1.7470989072852903,0,-0.000691788805675971,1.7470989072781684,0,0,0,0]\");\n      polyLines.push(\"polyline;N210.2;52.22;48.22;6;2.9;[0,0,0,1.55,0,0,1.55,0.9,0,1.7,0.9,0,1.7,2.95,0,0,2.95,0,0,0.7016036554380001,0,0,0,0]\");\n      polyLines.push(\"polyline;N209.2;55.17;44.62;6;2.9;[0,0,0,-1.7,-2.0818995585505003e-16,0,-1.6999999999999997,-2.05,0,-1.5499999999999998,-2.05,0,-1.5499999999999996,-2.95,0,3.612708057484692e-16,-2.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N218;48.918;62.547;6;2.9;[0,0,0,-1.8,-2.2043642384652358e-16,0,-1.7999999999999998,-1.5000080486800003,0,-1.0000008504699998,-2.3,0,2.816687638038912e-16,-2.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N217;44.372;67.9808042443;6;2.9;[0,0,0,4.09803953852,0,0,5.43380424426,1.33576470574,0,5.43380424426,2.044,0,4.42084378278,2.044,0,3.48180424426,2.98303108926,0,3.48180424426,4.546,0,3.48180424426,5.196,0,0,5.196,0,0,0,0]\");\n      polyLines.push(\"polyline;N216;59.520000118199995;60.895;6;2.9;[0,0,0,-7.1198042376799995,-1.1154607921259073e-7,0,-7.11980424425817,-5.25000011820608,0,-7.119804244256784,-5.40200011820608,0,-5.134999999996784,-5.402000118200122,0,-5.135000000004297,-6.800000118200122,0,-2.275000000004297,-6.80000011820246,0,-2.2749999999967834,-5.4020001182024595,0,2.230057517391265e-15,-5.402000118199999,0,0,0,0]\");\n      polyLines.push(\"polyline;N214;54.118;60.745;6;2.9;[0,0,0,3.45,0,0,3.45,5.4020001746099995,0,0,5.40200012055,0,0,0,0]\");\n      polyLines.push(\"polyline;N213;54.118;57.145;6;2.9;[0,0,0,3.45,0,0,3.45,5.40200023101,0,0,5.402000176960001,0,0,0,0]\");\n      polyLines.push(\"polyline;N211;54.118;52.2542643102;6;2.9;[0,0,0,0.8092643102075326,-0.8092643102075325,0,0.809264310208947,-1.1963963445654118,0,2.15926431020776,-1.1963963445639973,0,2.1592643102049305,5.4020002874110045,0,-1.2907356897899938,5.402000233359763,0,-1.2907356897942357,-1.1102230246251565e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;N210;52.921603655400006;49.945;6;2.9;[0,0,0,1.575,0,0,1.575,2.24839634456,0,0,2.24839634456,0,0,0,0]\");\n      polyLines.push(\"polyline;N210.1;55.32;48.37;6;2.9;[0,0,0,0.15,0,0,1.875,0,0,1.875,4.20000034381,0,-1.575,4.20000028976,0,-1.575,0,0,0,0,0]\");\n      polyLines.push(\"polyline;N209.1;55.32;46.345;6;2.9;[0,0,0,3.43919575574,0,0,3.43919575574,4.20000040004,0,0,4.2000003461599995,0,0,0,0]\");\n      polyLines.push(\"polyline;N209;52.22;44.47;6;2.9;[0,0,0,1.5841957557400002,0,0,1.5841957557400002,2.95,0,0,2.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N204;52.22;38.97;6;2.9;[0,0,0,1.775,0,0,1.775,1.748,0,-0.125,1.748,0,-0.125,0.35,0,0,0.35,0,0,0.3,0,0,0,0]\");\n      polyLines.push(\"polyline;N203;52.22;34.045;6;2.9;[0,0,0,1.775,0,0,1.775,0.351,0,1.898,0.351,0,1.898,1.748,0,0,1.748,0,0,0,0]\");\n      polyLines.push(\"polyline;N224;47.44;39.12;6;2.9;[0,0,0,1.5,0,0,1.5,2.08,0,0,2.08,0,0,0,0]\");\n      polyLines.push(\"polyline;2N08.1;44.02;60.8698042443;6;2.9;[0,0,0,2.5,0,0,2.5,0.7,0,0,0.7,0,0,0,0]\");\n      polyLines.push(\"polyline;2N08;44.843;60.8698042443;6;2.9;[0,0,0,2.5,0,0,2.5,5.077,0,0,5.077,0,0,0,0]\");\n      polyLines.push(\"polyline;N219;44.42;57.3478042443;6;2.9;[0,0,0,3.827,0,0,3.827,2.35,0,3.528,2.35,0,3.528,2.75,0,3.827,2.75,0,3.827,5.1,0,0,5.1,0,0,0,0]\");\n      polyLines.push(\"polyline;N220;44.42;53.3688042443;6;2.9;[0,0,0,2.04893494031,0,0,2.04893494031,4.87399993657,0,1.82293494031,4.87399993657,0,1.82293494031,5.1,0,0,5.1,0,0,0,0]\");\n      polyLines.push(\"polyline;N221;44.42;51.1678693039;6;2.9;[0,0,0,2.29886930395,0,0,2.29886930395,5.1,0,0,5.1,0,0,0,0]\");\n      polyLines.push(\"polyline;N222;44.42;48.717;6;2.9;[0,0,0,1.799,0,0,1.799,1.001,0,1.799,1.151,0,2.3963336118100003,1.151,0,2.3963336118100003,2.3489983261500003,0,2.09566444849,2.35000222963,0,2.097,2.75,0,2.3963336118100003,2.74900055579,0,2.3963336118100003,5.1,0,0,5.1,0,0,0,0]\");\n      polyLines.push(\"polyline;2N10;39.972;58.645;6;2.9;[0,0,0,2.85,0,0,2.85,1.748,0,2.85,1.898,0,0,1.898,0,0,0,0]\");\n      polyLines.push(\"polyline;N208;52.22;42.7358042443;6;2.9;[0,0,0,3.3158042442599998,0,0,3.3158042442599998,0.3,0,3.4408042442599998,0.3,0,3.4408042442599998,1.748,0,3.4408042442599998,1.898,0,3.44080425279,7.183000456609999,0,3.44080425093,7.300000456609999,0,0.002,7.30000040274,0,0.002,3.1,0,0.002,2.95,0,0,2.95,0,0,0,0]\");\n      polyLines.push(\"polyline;N206;54.118;39.145;6;2.9;[0,0,0,3.45,0,0,3.45,5.285000514579999,0,0,5.28500045903,0,0,0,0]\");\n      polyLines.push(\"polyline;N205;54.118;35.545;6;2.9;[0,0,0,3.45,0,0,3.45,5.2850005725399996,0,0,5.285000516989999,0,0,0,0]\");\n      polyLines.push(\"polyline;N202;52.07;25.071;6;2.9;[0,0,0,-9.203220695592359e-17,0.501,0,0.5019999999999999,0.5010000000000001,0,0.502,9.221590397579569e-17,0,1.11319575574,2.0449074286371148e-16,0,1.113195755739999,6.54500070356,0,1.1131957557399987,7.33300070356,0,-6.874000000000001,7.33300057496,0,-6.874,2.0479999999999987,0,-6.874,0.5009999999999988,0,-6.698,0.5009999999999988,0,-6.698,-1.2304026391033457e-15,0,0,0,0]\");\n      polyLines.push(\"polyline;N201;52.222;23.5798042443;6;2.9;[0,0,0,3.07921578988,0,0,3.07980424426,0.15799999999900002,0,3.07980424426,6.39300070356,0,0.047,6.39300070356,0,-0.226,6.39300070356,0,-0.226,0.226,0,0,0.226,0,0,0,0]\");\n      polyLines.push(\"polyline;N225;47.44;37.47;6;2.9;[0,0,0,3.1,0,0,3.1,2.08,0,0,2.08,0,0,0,0]\");\n      polyLines.push(\"polyline;N223.1;44.37;38.71;6;2.9;[0,0,0,4.34,0,0,4.34,2.51,0,0,2.51,0,0,0,0]\");\n      polyLines.push(\"polyline;N226.1;41.87;34.22;6;2.9;[0,0,0,2.72,0,0,2.72,2.2,0,0,2.2,0,0,0,0]\");\n      polyLines.push(\"polyline;N226;44.22;34.22;6;2.9;[0,0,0,2.72,0,0,2.72,2.66,0,1.72,2.66,0,1.72,3.07,0,0.15,3.07,0,0.15,2.66,0,0,2.66,0,0,0,0]\");\n      polyLines.push(\"polyline;2N02;49.67;32.22;6;2.9;[0,0,0,-2,-2.4492935982947064e-16,0,-2,-0.15000000000000024,0,-1.9999999999999998,-2.2300000000000004,0,-1.8499999999999999,-2.2300000000000004,0,-0.27999999999999975,-2.23,0,2.730962362098598e-16,-2.23,0,0,0,0]\");\n      polyLines.push(\"polyline;N227;49.52;29.905;6;2.9;[0,0,0,-2.165,-2.65136032015402e-16,0,-2.1649999999999996,-2.0800000000000005,0,2.547265342226495e-16,-2.08,0,0,0,0]\");\n      polyLines.push(\"polyline;N228;47.44;29.755;6;2.9;[0,0,0,2.175,0,0,2.175,2.08,0,0,2.08,0,0,0,0]\");\n      polyLines.push(\"polyline;N229;41.87;27.75;6;2.9;[0,0,0,3,0,0,3,5.01,0,0.32,5.01,0,0.32,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;N230;47.44;26.0199702181;6;2.9;[0,0,0,2.09997021812,0,0,2.09997021812,2.08,0,0,2.08,0,0,0,0]\");\n      polyLines.push(\"polyline;N231;41.87;31.35;6;2.9;[0,0,0,3.48,0,0,3.48,2.4,0,3.48,2.52,0,3.8,2.52,0,3.8,5.01,0,0,5.01,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9802;45.51;18.47;6;2.9;[0,0,0,0.97,0,0,1.105,-0.22,0,2.435,-0.22,0,2.57,0,0,2.82,0,0,2.82,-0.0690000000001,0,2.97,-0.0690000000001,0,2.97,-0.0700000000001,0,3.405,-0.0700000000001,0,3.405,3.671,0,3.37,3.671,0,3.25,3.671,0,3.25,3.945,0,3.37,3.945,0,3.37,7.091,0,-1.57,7.091,0,-1.57,6.86914339217,0,-1.88,6.86972067136,0,-1.88058741405,6.712,0,-1.88,6.712,0,-1.88,6.56,0,-1.88115352205,6.56,0,-1.89046006388,4.061193519790001,0,-1.57,4.06,0,-1.5714525038899998,3.6700027048400004,0,-1.89191256777,3.67119622463,0,-1.9,1.4997206713600002,0,-1.85,1.4996275618100001,0,-1.85,0,0,-1.57,0,0,-1.465,-0.22,0,-0.135,-0.22,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9801;42.77;22.57;6;2.9;[0,0,0,1.6,0,0,2.05,0,0,2.05,2.74,0,2.05,4.24,0,2.05808193669,6.41,0,-0.98,6.41,0,-0.98,4.67,0,-0.98,4.11,0,-0.98,0,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98222;55.83;16.72;6;2.9;[0,0,0,-3.32,-4.0658273731692125e-16,0,-3.3199999999999994,-3.0790000000000006,0,3.770687494574701e-16,-3.079,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98223;55.381;15.1;6;2.9;[0,0,0,-1.47,-1.8002307947466092e-16,0,-1.4699999999999998,-2.63,0,3.220821081757539e-16,-2.63,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98220;58.77;20.04;6;2.9;[0,0,0,4.29,0,0,4.29,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98218;64.29;20.04;6;2.9;[0,0,0,2.92,0,0,2.92,1.397,0,4.94,1.397,0,4.94,2.755,0,0,2.755,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98218.1;64.29;16.968;6;2.9;[0,0,0,1.868,0,0,1.868,1.245,0,0,1.245,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98217.1;68.37;15.7;6;2.9;[0,0,0,-1.3,-1.5920408388915593e-16,0,-1.2999999999999998,-1.2050000000000003,0,1.4756993929725607e-16,-1.205,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98214;69.66;17;6;2.9;[0,0,0,1.9,0,0,1.9,2.565,0,0,2.565,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98211.1;76.6680719633;16.67;6;2.9;[0,0,0,1.42,0,0,1.42,0.15,0,1.57,0.15,0,1.57,1.7019280367199998,0,0,1.7019280367199998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98210.1;81.82;15.1;6;2.9;[0,0,0,-1.57,-1.9226954746613447e-16,0,-1.5699999999999998,-1.7000000000000002,0,-0.14999999999999977,-1.7,0,-0.1499999999999998,-1.55,0,1.8982025386783975e-16,-1.55,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98217.2;68.49;17;6;2.9;[0,0,0,1.3,0,0,1.42,0,0,1.42,-1.325,0,1.9,-1.325,0,1.9,1.05,0,0,1.05,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98217;67.165;20.04;6;2.9;[0,0,0,2.92,0,0,2.92,3.535,0,2.7,3.535,0,2.7,3.935,0,0,3.935,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98213;71.22;20.04;6;2.9;[0,0,0,2.92,0,0,2.92,1.005,0,2.92,1.125,0,4.29,1.125,0,4.29,2.175,0,1.9698925735200001,2.175,0,0,2.175,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98212;73.515;20.04;6;2.9;[0,0,0,1.9698925735200001,0,0,2.92,0,0,2.92,1,0,2.92,1.12,0,4.94,1.12,0,4.94,3.00307196328,0,0,3.00307196328,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98211;76.6680719633;20.04;6;2.9;[0,0,0,3.22,0,0,3.22,3.30192803672,0,0,3.30192803672,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.7;73.515;17;6;2.9;[0,0,0,1.9,0,0,1.9,1,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98210;80.12;20.04;6;2.9;[0,0,0,3.22,0,0,3.22,3.21,0,0.00030021314661999996,3.21,0,0.00030021314661999996,2.6211511914399996,0,0,2.2251513052,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98211.2;78.49;16.67;6;2.9;[0,0,0,1.57,0,0,1.57,1.48,0,0,1.48,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98210.2;83.33;15.1;6;2.9;[0,0,0,-1.57,-1.9226954746613447e-16,0,-1.5699999999999998,-1.3900000000000001,0,1.702259050814821e-16,-1.39,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9808;83.58;20.0396997869;6;2.9;[0,0,0,4.93969978685,0,0,4.93969978685,0.1,0,4.969699786850001,0.1,0,4.969699786850001,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;F201;82.74342424550001;23.038;6;2.9;[0,0,0,2.3383002131460646,-0.001772698652488584,0,2.3383002131404087,2.1580757545198503,0,0.0011024439310274095,2.158075754524731,0,0,0,0]\");\n      polyLines.push(\"polyline;F202;85.0035;23.036845449799998;6;2.9;[0,0,0,2.33714566294,0,0,2.33714566294,0.9765,0,2.33714566294,1.4,0,0.0007151841172440001,1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;F205;85.0065;29.983;6;2.9;[0,0,0,2.248,0,0,2.248,1.4,0,0,1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;F204;82.60450002649999;29.983;6;2.9;[0,0,0,2.248,9.993172454869637e-9,0,2.247999999995669,2.2999999735231724,0,-1.3033965032712189e-15,2.29999997352,0,0,0,0]\");\n      polyLines.push(\"polyline;F203;82.6045000369;27.633;6;2.9;[0,0,0,4.49494730341,1.998162736594489e-8,0,4.494999992032096,0.1390000199818616,0,4.493000026192089,0.13900153618397101,0,4.494947907041734,3.9520520693416303,0,-1.3573682730368768e-15,3.95205206934,0,0,0,0]\");\n      polyLines.push(\"polyline;F206;82.6045;35.939;6;2.9;[0,0,0,5.854,2.602310151278431e-8,0,5.8539999999950405,5.454000000003101,0,5.45399999999504,5.454000000004959,0,5.454000000002403,5.909000000004959,0,3.675762151739411e-15,5.909,0,0,0,0]\");\n      polyLines.push(\"polyline;F207;93.2415;30.2834256258;6;2.9;[0,0,0,-5.6555743741599995,-6.926081054654839e-16,0,-5.655574374159999,-4.728000000000001,0,-0.20157437415799942,-4.728,0,-0.20157437415799986,-1.098,0,1.344662185463794e-16,-1.098,0,2.4003077263288125e-17,-0.196,0,0,0,0]\");\n      polyLines.push(\"polyline;F221;93.3435;35.939;6;2.9;[0,0,0,3.85,0,0,3.85,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F222;98.0415;31.789;6;2.9;[0,0,0,-4.15,-5.082284216461516e-16,0,-4.15,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F223;98.1435;35.939;6;2.9;[0,0,0,4.15,0,0,4.15,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F224;102.8415;31.789;6;2.9;[0,0,0,-4.15,-5.082284216461516e-16,0,-4.15,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F225;105.2415;31.789;6;2.9;[0,0,0,-4.15,-5.082284216461516e-16,0,-4.15,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F226;105.3435;35.939;6;2.9;[0,0,0,4.15,0,0,4.15,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F227;107.7435;35.939;6;2.9;[0,0,0,3.85,0,0,3.85,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F228;110.1435;35.939;6;2.9;[0,0,0,3.85,0,0,3.85,2.239,0,0,2.239,0,0,0,0]\");\n      polyLines.push(\"polyline;F229;95.7280386397;30.1814256258;6;2.9;[0,0,0,1.86853881955,0,0,1.86853881955,2.94838938858,0,0,2.94838938858,0,0,0,0]\");\n      polyLines.push(\"polyline;F230;101.734066668;28.3128868063;6;2.9;[0,0,0,-1.86853881955,-2.288300084444481e-16,0,-1.8685388195499995,-2.9556386397200005,0,3.619613399569335e-16,-2.95563863972,0,0,0,0]\");\n      polyLines.push(\"polyline;F231;101.836066668;30.1814256258;6;2.9;[0,0,0,1.86853881955,0,0,1.86853881955,2.94026136028,0,0,2.94026136028,0,0,0,0]\");\n      polyLines.push(\"polyline;F232;107.82646136;28.3128868063;6;2.9;[0,0,0,-1.86853881955,-2.288300084444481e-16,0,-1.8685388195499995,-2.9481333319900003,0,3.6104220484811745e-16,-2.94813333199,0,0,0,0]\");\n      polyLines.push(\"polyline;F233;98.6764280283;26.3230256258;6;2.9;[0,0,0,-1.8878611804499998,-2.311963151872636e-16,0,-1.8878611804499994,-2.9483893885800003,0,3.6107356273645185e-16,-2.94838938858,0,0,0,0]\");\n      polyLines.push(\"polyline;F234;101.734066668;28.2108868238;6;2.9;[0,0,0,1.8098066997846675e-16,-2.95563863972,0,1.8878611980000002,-2.95563863972,0,1.887861198,1.1559815866825937e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F235;101.836066668;26.3230256258;6;2.9;[0,0,0,-5.4011724952853165e-16,2.94026136028,0,-1.8878611818400004,2.9402613602799996,0,-1.88786118184,-3.4679447303623426e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F236;107.82646136;28.2108867876;6;2.9;[0,0,0,1.8052110242405872e-16,-2.94813333199,0,1.88786116176,-2.94813333199,0,1.8878611617599999,1.1559815644919937e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F237;95.6415;20.561;6;2.9;[0,0,0,-3.318,-4.063378079570918e-16,0,-3.3179999999999996,-2.29817554193,0,-1.7389999999999999,-2.2980950286299997,0,-1.7389999999999999,-2.297,0,-0.16399999999999973,-2.297,0,-0.16399999999999976,-2.0215,0,-0.16299999999999976,-2.0215,0,-0.1629999999999998,-1.6715,0,2.046997124774801e-16,-1.6715,0,0,0,0]\");\n      polyLines.push(\"polyline;F238;98.0415;20.561;6;2.9;[0,0,0,-4.156,-5.0896320972564e-16,0,-4.156,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F239;100.4415;20.561;6;2.9;[0,0,0,-4.156,-5.0896320972564e-16,0,-4.156,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F240;100.5435;24.717;6;2.9;[0,0,0,4.156,0,0,4.156,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F241;105.2415;20.561;6;2.9;[0,0,0,-4.156,-5.0896320972564e-16,0,-4.156,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F242;105.3435;24.717;6;2.9;[0,0,0,4.156,0,0,4.156,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F244;110.0415;20.561;6;2.9;[0,0,0,-3.855,-4.721013410713046e-16,0,-3.8549999999999995,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F245;112.2435;20.561;6;2.9;[0,0,0,-3.855,-4.721013410713046e-16,0,-3.8549999999999995,-2.1000000000000005,0,2.571758278209442e-16,-2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;F220;107.92846136;30.2834256258;6;2.9;[0,0,0,4.0624,0,0,4.0624,-0.18496136028500001,0,5.46442562584,-0.18496136028500001,0,5.76542562584,-0.18496136028500001,0,5.76542562584,4.31503863972,0,3.63592562584,4.31503863972,0,3.63592562584,4.45403863972,0,-1.70357437416,4.45403863972,0,-1.70357437416,2.21503863972,0,-1.70348884877,2.21503863972,0,-1.70348884877,2.11303863972,0,-1.70357437416,2.11303863972,0,-1.70357437416,-0.18496136028500001,0,-1.40357437416,-0.18496136028500001,0,0,-0.18496136028500001,0,0,0,0]\");\n      polyLines.push(\"polyline;F208;88.2585;30.235;6;2.9;[0,0,0,2.05,0,0,2.05,1.91,0,0,1.91,0,0,0,0]\");\n      polyLines.push(\"polyline;F209;90.3685;30.235;6;2.9;[0,0,0,2.05,0,0,2.05,1.575,0,0,1.575,0,0,0,0]\");\n      polyLines.push(\"polyline;F211;88.3585;23.879;6;2.9;[0,0,0,1.477,0,0,1.477,1.682,0,0,1.682,0,0,0,0]\");\n      polyLines.push(\"polyline;F212;93.09139977010001;22.402;6;2.9;[0,0,0,-1.4769999999999104,-0.00007531231409545157,0,-1.476999999997154,-1.6468997700649552,0,-1.0766940724410423e-15,-1.646899770060958,0,0,0,0]\");\n      polyLines.push(\"polyline;F213;89.6925;22.3;6;2.9;[0,0,0,1.575,0,0,1.575,3.55,0,0,3.55,0,0,0,0]\");\n      polyLines.push(\"polyline;F214;88.8405;22.3;6;2.9;[0,0,0,1.6,0,0,1.6,0.7,0,0,0.7,0,0,0,0]\");\n      polyLines.push(\"polyline;F202;89.82;20.3;6;2.9;[0,0,0,4,0,0,4,3.8,0,0,3.8,0,0,0,0]\");\n      polyLines.push(\"polyline;F203;89.0708699646;16.2;6;2.9;[0,0,0,3.17805064131,0,0,3.17805064131,4.549130035389999,0,0,4.549130035389999,0,0,0.749130035391,0,0,0,0]\");\n      polyLines.push(\"polyline;F204;93.62;10.7896848051;6;2.9;[0,0,0,-2.13226455354,-2.6112709604281214e-16,0,-2.1322645535399998,-4.549130035389999,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F205;93.62;8.6;6;2.9;[0,0,0,-2.08968480515,-2.5591258078538083e-16,0,-2.0896848051499997,-4.549130035389999,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F206;93.62;6.4;6;2.9;[0,0,0,-2.1,-2.571758278209442e-16,0,-2.0999999999999996,-4.549130035389999,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F207;89.0708699646;6.3;6;2.9;[0,0,0,2.1,0,0,2.1,4.549130035389999,0,0,4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F208;93.62;2;6;2.9;[0,0,0,-2.1,-2.571758278209442e-16,0,-2.0999999999999996,-4.549130035389999,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F209;89.0708699646;1.9;6;2.9;[0,0,0,2.1,0,0,2.1,4.549130035389999,0,0,4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F210;93.62;-2.4;6;2.9;[0,0,0,-2.1,-2.571758278209442e-16,0,-2.0999999999999996,-4.549130035389999,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;F213;82.62;0.35;6;2.9;[0,0,0,4.65,0,0,4.65,3.75,0,0,3.75,0,0,0,0]\");\n      polyLines.push(\"polyline;F214;86.37;0.45;6;2.9;[0,0,0,-2.3,-2.816687638038912e-16,0,-2.2999999999999994,-3.7500000000000004,0,4.592425496802575e-16,-3.75,0,0,0,0]\");\n      polyLines.push(\"polyline;F215;82.62;5.35;6;2.9;[0,0,0,2.5,0,0,2.5,3.75,0,2.5,3.8,0,0,3.8,0,0,3.36,0,0,0,0]\");\n      polyLines.push(\"polyline;M211;93.62;-8.35;6;2.9;[0,0,0,-5.85,-7.164183775012015e-16,0,-5.849999999999999,-4.54913003539,0,5.571077536745449e-16,-4.549130035389999,0,0,0,0]\");\n      polyLines.push(\"polyline;2M02;86.0198799954;-8.350100738450001;6;2.9;[0,0,0,-3.9001007384479762,0.00011556006840860061,0,-3.9001007384490594,-3.399879995424085,0,0.1498992613657656,-3.399879995430765,0,-0.00010073838538905686,-3.3998755509275598,0,0,0,0]\");\n      polyLines.push(\"polyline;2M01;86.52;18.1399996984;6;2.9;[0,0,0,12.7899996984,0,0,15.2899996984,0,0,24.7399996984,0,0,24.7399996984,-0.15,0,24.7399996984,-0.35006814898300004,0,26.490104881399997,-0.350120004638,0,26.4901256578,0.35107650253600003,0,26.640125657600002,0.351072058033,0,28.4799996989,0.351072058033,0,28.4799996989,2.6900086560300003,0,27.5915722939,2.6900086560300003,0,27.5915722939,2.4015565468,0,27.4915722939,2.4015565468,0,27.4915722939,2.4010720549799998,0,26.4899996984,2.40086996461,0,1.7899996984100002,2.40086996461,0,1.7899996984100002,3.15,0,0,3.15,0,0,0,0]\");\n      polyLines.push(\"polyline;F210;88.0585;25.547;6;2.9;[0,0,0,-6.2456986756515014e-18,0.034,0,-5.400692384239827e-17,0.294,0,-7.1366292220312e-16,3.885,0,-2.438000000000001,3.8849999999999993,0,-2.438,0.19999999999999957,0,-2.4376100000000003,0.19999999999999957,0,-2.4376100000000003,-4.477816926104369e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.2;58.77;15.65;6;2.9;[0,0,0,0.55,0,0,0.55,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807;85.98;12.45;6;2.9;[0,0,0,-2.5,-3.061616997868383e-16,0,-2.4999999999999996,-2.3000000000000003,0,-2.499999999999997,-24.815,0,-2.4999999999999964,-27.36,0,-7.589999999999996,-27.36,0,-7.589999999999996,-27.3649992964,0,-7.589999999999996,-30,0,-2.4999999999999964,-30,0,-2.4999999999999964,-30.455,0,3.729661826803264e-15,-30.455,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98203;56.585;12.3;6;2.9;[0,0,0,3.37421693015,0,0,4.27421693015,-0.9,0,4.27421693015,2.1,0,3.6742169301499996,1.5,0,0,1.5,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98204;60.185;5.96;6;2.9;[0,0,0,-2.06578306985,-2.529854624224596e-16,0,-2.06578306985,-1.5000000000000002,0,-2.0657830698499997,-4.5,0,-2.065783069849998,-17.865,0,-2.065783069849998,-18.333,0,0.05000000000000225,-18.333,0,0.05000000000030218,-17.814,0,0.5590000000000023,-17.814,0,0.559000000000002,-16.5879984376,0,0.5590000000000014,-11.071,0,0.050000000000001356,-11.071,0,0.05000000000000126,-10.269,0,0.5590000000000013,-10.269,0,0.5590000000000009,-7.6758385087,0,0.05000000000000094,-7.6758385087,0,0.05000000000000081,-6.599,0,0.5590000000000008,-6.599,0,0.5590000000000005,-3.9907896328400003,0,0.05000000000000049,-3.9907896328400003,0,0.050000000000000364,-2.91939481642,0,0.5590000000000004,-2.91939481642,0,0.559,-0.30999999999999994,0,0.05000000000000004,-0.31,0,0.05,6.123233995736766e-18,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9805;55.375;12.45;6;2.9;[0,0,0,-2.5,-3.061616997868383e-16,0,-2.499999999999999,-6.194,0,-2.4999999999999987,-9.935,0,-2.0999999999999988,-9.935,0,-2.0999999999999988,-12.035,0,-2.4999999999999987,-12.035,0,-2.4999999999899987,-12.545,0,-2.4999999999999982,-13.255,0,-2.4999999999999982,-13.405,0,-2.4999999999999982,-13.54,0,-1.8500000000199985,-13.54,0,-1.8500000000199983,-13.655,0,-0.7050004886789983,-13.655,0,-0.7050000000269984,-13.54,0,1.658172132912958e-15,-13.5400029957,0,0,0,0]\");\n      polyLines.push(\"polyline;2V2;37.89;12.450239998999999;6;2.9;[0,0,0,-2.499760000959984,0.009999040003830605,0,-2.499760000961846,-4.7799999999986476,0,0.0018084797587376474,-4.78000000000229,0,0.0021307276208241354,-0.032000000000028866,0,-0.00006399974399997652,-0.032000000000000015,0,0,0,0]\");\n      polyLines.push(\"polyline;2V3;32.99;12.4484396637;6;2.9;[0,0,0,-2.5015603362900003,-3.0635278587115254e-16,0,-2.5015603362899976,-22.99,0,-0.0015603359453971845,-22.9899898195,0,0,0,0]\");\n      polyLines.push(\"polyline;2N11;41.72;23.77;6;2.9;[0,0,0,-11.544904826600002,-1.4138430742356521e-15,0,-11.544904826600002,0.14999999999999858,0,-10.6,0.1499999999999987,0,-10.6,2.4999999999999987,0,-14.94,2.4999999999999982,0,-14.94,2.4658711384999985,0,-14.94,0.22087113850099815,0,-14.94,-4.650000000000002,0,-11.53,-4.650000000000002,0,-11.53,-2.6500000000000012,0,-11.544904826600002,-2.6500000000000012,0,-11.544904826600002,-2.5000000000000013,0,-9.832,-2.5000000000000013,0,-7.76,-2.500000000000001,0,-6.09000000001,-2.500312370170001,0,-4.14,-2.5001431444800004,0,-2.4919999999999995,-2.5000001270800003,0,-0.5399999999999997,-2.49983072783,0,-0.5399999999999997,-2.5,0,1.2100000000000002,-2.5,0,3.0400000000000005,-2.4999999999999996,0,3.04,3.722926269407954e-16,0,2.8,3.429011037612589e-16,0,1.32,1.6165337748745064e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;2N03;52.07;34.195;6;2.9;[0,0,0,-3.486569437172514e-16,1.898,0,-2.8500000000000005,1.8979999999999995,0,-2.85,-5.235365066354935e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;2N05;52.07;58.645;6;2.9;[0,0,0,-4.375,-5.357829746269671e-16,0,-4.525,-5.541526766141774e-16,0,-4.525,0.49999999999999944,0,-9.33580424426,0.49999999999999883,0,-9.33580424426,-2.3500000000000014,0,-5.854,-2.350000000000001,0,-5.702,-2.350000000000001,0,-5.702,-3.000000000000001,0,-3.9019999999999997,-3.0000000000000004,0,-3.9019999999999997,-2.3500000000000005,0,-3.7499999999999996,-2.3500000000000005,0,-3.749999999999999,-6.425195755740001,0,-5.174804244259999,-7.8500000000000005,0,-9.335804244259998,-7.8500000000000005,0,-9.335804244259998,-10.700000000000001,0,-4.5249999999999995,-10.7,0,-4.5249999999999995,-10.35,0,-4.5249999999999995,-10.2,0,-2.7586252721087e-13,-10.2,0,2.8500000000000014,-10.2,0,7.200000000000001,-10.2,0,7.200000000000001,-10.35,0,7.200000000000002,-10.9016036554,0,8.539195755740002,-10.899999999999999,0,10.275000000000002,-10.899999999999999,0,10.275000000000002,-10.349999999999998,0,10.275000000000002,-10.199999999999998,0,11.625195755700002,-10.199999999999998,0,11.625195755700002,-7.799999999999998,0,0.425195755741001,-7.8,0,0.42519575574100105,-8.2,0,-2.224804244259999,-8.2,0,-2.374804244259999,-8.2,0,-2.3748042442599995,-2.0000000000000004,0,0.42519575574100027,-2,0,0.4251957557410003,-2.15,0,0.4251957557410003,-2.174,0,0.6511957557410002,-2.174,0,0.6511957557410003,-2.4,0,11.6251957557,-2.3999999999999986,0,11.6251957557,-3.822694014328325e-13,0,10.275,-3.469076159358765e-13,0,10.275,0.7016036554370013,0,7.2,0.701603655438001,0,7.2,0.0016630383242608817,0,2.85,-0.00005940640506415098,0,2.8499999999999996,1.8980000000000004,0,-2.3243796247816764e-16,1.898,0,-1.8369701987210297e-17,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;2V1;38.02;20.61;6;2.9;[0,0,0,5.51,0,0,5.51,0.0005999999999990001,0,8.16,-0.01,0,8.16190104486,-0.01,0,8.16201018019,1.598,0,11.2071715734,1.598,0,12.557995594300001,0.247175979031,0,12.558800844699999,-11.108883383,0,15.06,-11.108883383,0,15.06,3.115500078,0,15.06,3.68,0,14.7,3.68,0,12.5842169301,3.68,0,8.16,3.68,0,8.16,3.69999700435,0,7.4549997719,3.7,0,6.3099999999800005,3.7,0,5.66,3.7,0,4.71,3.7,0,4.575,4.34,0,3.245,4.34,0,3.162734375,3.95,0,3.11,3.7,0,2.14,3.7,0,2.005,4.34,0,0.675,4.34,0,0.592734375,3.95,0,0.54,3.95,0,0.54,3.7,0,0,3.7,0,0,1.2,0,0,0,0]\");\n      polyLines.push(\"polyline;2V1.1;37.47;18.11;6;2.9;[0,0,0,1.39,0,0,1.39,0.4,0,0,0.4,0,0,0,0]\");\n      polyLines.push(\"polyline;F215;86.52;18.2399996984;6;2.9;[0,0,0,-5.786456240359378e-16,3.1500000622699997,0,-2.2600003468800005,3.1500000622699993,0,-2.2600003468800005,1.5865000151999995,0,-2.4600003859700004,1.5865000151999995,0,-2.4600003859700004,2.1685001574199996,0,-4.06000038246,2.168500157419999,0,-4.06000038246,1.5865000151999993,0,-5.7410002666999995,1.5865000151999988,0,-5.7410002666999995,1.8384999822299988,0,-5.7410002667,3.520499865079999,0,-5.7410002667,3.622500039989999,0,-4.162000241110001,3.622500039989999,0,-4.162000241110001,4.822499958289999,0,-5.7410002667,4.822499958289999,0,-5.7410002667,6.823319133669999,0,-5.741000266700001,9.121500009539997,0,-6.579000370410002,9.121500009539997,0,-6.579000370410004,21.2235,0,-7.981025941700003,21.2235,0,-7.981025941700001,9.208038789049999,0,-7.981025941700001,9.121500009539997,0,-7.981025941700001,9.106038614149998,0,-12.0434260678,9.106038614149998,0,-12.0434260678,9.208038789049999,0,-12.043426067800002,21.223499999999998,0,-13.447000340300002,21.223499999999998,0,-13.447000340300002,21.121500141399995,0,-13.4470003403,9.223499868189998,0,-13.4470003403,9.121500009539997,0,-13.747000240800002,9.121500009539997,0,-13.747000240800002,6.823500031579997,0,-11.941425892900002,6.823500031579998,0,-11.941425892900002,6.525500128299998,0,-7.047000354360001,6.525500128299999,0,-7.047000354360001,5.623500113279999,0,-7.060000336350001,5.623500113279999,0,-7.060000336350001,5.42350007419,0,-7.30700031031,5.423500074189999,0,-7.307000310309999,1.8324999905499986,0,-7.04700035436,1.8324999905499986,0,-7.04700035436,1.5725000345999987,0,-7.307000310309999,1.5725000345999987,0,-7.307000310309999,1.5385000817199987,0,-9.74461015172,1.5385000817199983,0,-11.7430001717,1.5385000817199979,0,-11.7430001717,0.13850012432099781,0,-9.495000440710001,0.13850012432099823,0,-9.495000440710001,0.13855199015599823,0,-4.89800016992,0.1385519901559991,0,-4.796000311269999,0.1385001243209991,0,-2.46000038597,0.13850012432099953,0,-2.46000038597,0.18650005780199955,0,-2.26000034688,0.18650005780199957,0,-2.26000034688,-4.1515532863177497e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F245;92.8935;25.439;6;2.9;[0,0,0,-4.69242562584,-5.746564022921972e-16,0,-4.69242562584,-0.7500000000000006,0,9.184850993605148e-17,-0.75,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9805.1;43.49;15.1;6;2.9;[0,0,0,0.4,0,0,0.4,1.8,0,-0.4,1.8,0,-0.4,-0.51,0,0,-0.51,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98224;55.83;15.1;6;2.9;[0,0,0,-1.47,-1.8002307947466092e-16,0,-1.47,-0.3290000000000002,0,4.0290879691947924e-17,-0.329,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807;68.855;11.3;6;2.9;[0,0,0,-1,-1.2246467991473532e-16,0,-0.9999999999999999,-1.0000000000000002,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.5;84.783;12.3;6;2.9;[0,0,0,0.72,0,0,0.72,1.197,0,0,1.197,0,0,0,0]\");\n      polyLines.push(\"polyline;2N08.2;44.42;58.2198042443;6;2.9;[0,0,0,0.65,0,0,0.65,5.1,0,0,5.1,0,0,0,0]\");\n      polyLines.push(\"polyline;V211.2;11.74;16.4;6;2.9;[0,0,0,1.3,0,0,1.3,1.385,0,0,1.385,0,0,0,0]\");\n      polyLines.push(\"polyline;V221;5.325;1.75;6;2.9;[0,0,0,-1.23,-1.5063155629512443e-16,0,-2.69,-3.29429988970638e-16,0,-2.6899999999999995,-4.935,0,1.3600000000000008,-4.935,0,1.36,1.6655196468404004e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.4;73.21992837239999;12.3;6;2.9;[0,0,0,1.72,0,0,1.72,1.98507162765,0,0,1.98507162765,0,0,0,0]\");\n      polyLines.push(\"polyline;2V3.2;25.325;11.28;6;2.9;[0,0,0,-1.01895988869,-1.2478659661437517e-16,0,-1.0190542283199997,-1.3900000000000001,0,1.702259050814821e-16,-1.39,0,1.0838124172454077e-16,-0.885,0,0.1200000000000001,-0.885,0,0.12000000000000016,-1.39,0,0.9700000000000002,-1.3899999999999997,0,0.97,1.1879073951729327e-16,0,0.12,1.4695761589768237e-17,0,0.12000000000000001,-0.15499999999999997,0,1.8982025386783976e-17,-0.155,0,0,0,0]\");\n      polyLines.push(\"polyline;2V7;7.045;10.75;6;2.9;[0,0,0,6.61,0,0,9.48,0,0,10.21,0,0,10.36,0,0,10.36,2.955,0,5.2,2.955,0,5.2,10.234989363299999,0,2.6994837939,10.2348120534,0,2.69999999962,2.9550106364,0,2.55,2.955,0,2.54977840839,6.08,0,0.163,6.08,0,0.163,5.7925,0,-0.363,5.7925,0,-0.363,6.08,0,-1.5497879055200001,6.08,0,-1.55,2.955,0,-1.69999999962,2.95501018053,0,-4.19999999979,2.955,0,-4.35,2.955,0,-4.35,3.605,0,-8.05,3.605,0,-8.05,2.955,0,-9.86,2.955,0,-9.86,0,0,-3.7,0,0,0,0,0]\");\n      polyLines.push(\"polyline;2V10;17.3998120531;8.05052471522;6;2.9;[0,0,0,2.5005247152135173,0.00017731049175039992,0,2.5005247152156365,9.391304563931657,0,-0.0006659309625203816,9.391304563929646,0,0,0,0]\");\n      polyLines.push(\"polyline;2V5.2;5.445;1.57;6;2.9;[0,0,0,1.18,0,0,1.18,1.4,0,1.03,1.4,0,1.03,1.6,0,0.3,1.6,0,0.3,1.4,0,0,1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;2V5.1;6.845;1.69;6;2.9;[0,0,0,-2.45,-3.0003846579110154e-16,0,-2.45,-0.4500000000000003,0,-2.75,-0.45000000000000034,0,-2.75,-1.4000000000000004,0,-1.2899999999999998,-1.4000000000000001,0,-1.2899999999999998,-1.5200000000000002,0,-0.05999999999999981,-1.52,0,-0.059999999999999824,-1.4,0,1.7145055188062944e-16,-1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%985219;61.165;20.04;6;2.9;[0,0,0,4.94,0,0,4.94,1.535,0,4.42,1.535,0,4.42,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;2%C3%9807.6;62.82;15.5;6;2.9;[0,0,0,0.4,0,0,0.4,1.35,0,0,1.35,0,0,0,0]\");\n      polyLines.push(\"polyline;F301;86.0226099292;27.745414217;9;2.9;[0,0,0,-1.9059999999955224,0.0003616195089925385,0,-1.9060000000003727,-3.427714151200034,0,-2.875304161431558e-16,-3.427714151202519,0,0,0,0]\");\n      polyLines.push(\"polyline;F302;86.0229946954;29.773414217000003;9;2.9;[0,0,0,-2.114000000001907,0.00040108270829346466,0,-2.114000000004486,-3.4280989173883682,0,2.1344688169722126e-15,-3.4280989173894443,0,0,0,0]\");\n      polyLines.push(\"polyline;F303;82.59489577800001;35.939414217;9;2.9;[0,0,0,3.95,0,0,3.95,5.837,0,0,5.837,0,0,0,0]\");\n      polyLines.push(\"polyline;F304;88.533895778;35.939414217;9;2.9;[0,0,0,3.95,0,0,3.95,2.2956772473,0,0,2.2956772473,0,0,0,0]\");\n      polyLines.push(\"polyline;F305;93.23189577800001;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.3003227527000005,0,2.8170828960998836e-16,-2.3003227527,0,0,0,0]\");\n      polyLines.push(\"polyline;F306;95.631895778;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F307;98.0319347713;31.989414217;9;2.9;[0,0,0,-3.949999999997534,-0.00003899332010394682,0,-3.9499999999997892,-2.298038993312075,0,-4.0265405213627675e-15,-2.2980389933119727,0,0,0,0]\");\n      polyLines.push(\"polyline;F308;100.431877046;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.2979812684000005,0,2.8141676518021087e-16,-2.29794227508,0,0,0,0]\");\n      polyLines.push(\"polyline;F309;100.533877046;35.939414217;9;2.9;[0,0,0,3.95,0,0,3.95,2.29801873154,0,0,2.29815816902,0,0,0,0]\");\n      polyLines.push(\"polyline;F310;105.231877046;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.2978418309200004,0,2.814215404846635e-16,-2.2979812684,0,0,0,0]\");\n      polyLines.push(\"polyline;F311;107.631877046;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.2980000000000005,0,2.8142383444406176e-16,-2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F312;107.73387704599999;35.939414217;9;2.9;[0,0,0,3.95,0,0,3.95,2.29803899332,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F313;112.372895778;31.989414217;9;2.9;[0,0,0,-3.95,-4.837354856632045e-16,0,-3.9499999999999997,-2.2390187316000008,0,2.741959369840381e-16,-2.2389797382800003,0,0,0,0]\");\n      polyLines.push(\"polyline;F314;110.13389577800001;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.1,0,0,2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;F315;107.733895778;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F316;105.333895778;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F317;102.93389577800001;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F318;100.533895778;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F319;98.13389577800001;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F320;95.733895778;24.511414217000002;9;2.9;[0,0,0,3.95,0,0,3.95,2.298,0,0,2.298,0,0,0,0]\");\n      polyLines.push(\"polyline;F321;93.334895778;23.879414217;9;2.9;[0,0,0,3.318,0,0,3.318,2.297,0,-0.625942785486,2.297,0,0,-0.00738207715493,0,0,0,0]\");\n      polyLines.push(\"polyline;F322;89.685895778;22.300414217;9;2.9;[0,0,0,1.6,0,0,1.6,1.25034757526,0,1.739,1.25034757526,0,1.739,3.547,0,-1.579,3.547,0,-1.579,0.705,0,0,0.705,0,0,0,0]\");\n      polyLines.push(\"polyline;F323;88.80389577800001;23.859414217;9;2.9;[0,0,0,1.437,0,0,1.437,1.335,0,0,1.335,0,0,0,0]\");\n      polyLines.push(\"polyline;F324;87.5295169598;22.258314217;9;2.9;[0,0,0,-1.471,-1.8014554415457566e-16,0,-1.4709999999999999,-1.3856211817100001,0,1.6968965450119244e-16,-1.38562118171,0,0,0,0]\");\n      polyLines.push(\"polyline;F325;86.27389577810001;22.136314217;9;2.9;[0,0,0,1.4359000000000002,0,0,1.4359000000000002,1.25562118171,0,0,1.25562118171,0,0,0,0]\");\n      polyLines.push(\"polyline;F326;88.833895778;22.300414217;9;2.9;[0,0,0,1.6,0,0,1.6,0.7,0,0,0.7,0,0,0,0]\");\n      polyLines.push(\"polyline;F328;82.733895778;23.1384445394;9;2.9;[0,0,0,2.4380303223805773,0.00037336813112117756,0,2.4380303223803095,3.2880000001032865,0,0.8801303223826844,3.288000000101023,0,-0.8428696776629765,3.2880000001019547,0,-2.1489696776181613,3.2882478024276973,0,-2.1489696776143608,-0.13899999999972706,0,0.000010643462761255484,-0.139,0,0,0,0]\");\n      polyLines.push(\"polyline;F329;82.59489577800001;27.623414217;9;2.9;[0,0,0,2.214,0,0,2.214,3.42727094911,0,0,3.4276910045099998,0,0,0,0]\");\n      polyLines.push(\"polyline;F330;91.920895778;25.503414217000003;9;2.9;[0,0,0,-2.482,-3.039573355483731e-16,0,-2.4819999999999998,-3.8716062607,0,4.741350214725108e-16,-3.8716062606999997,0,0,0,0]\");\n      polyLines.push(\"polyline;F331;88.2489351494;30.2354457158;9;2.9;[0,0,0,2.050031498814585,0.0003228711877060696,0,2.0500314988140556,1.9099606285518942,0,0.00001548574626370939,1.9099606285471313,0,0,0,0]\");\n      polyLines.push(\"polyline;F332;91.920895778;28.185414217;9;2.9;[0,0,0,-2.05,-2.5105259382520737e-16,0,-2.05,-1.5620000000000003,0,1.9128983002681657e-16,-1.562,0,0,0,0]\");\n      polyLines.push(\"polyline;F333;92.13389577800001;30.333414217;9;2.9;[0,0,0,2.348,0,0,4.894,0,0,4.894,0.8,0,3.748,0.8,0,3.748,9.024,0,0,9.024,0,0,0,0]\");\n      polyLines.push(\"polyline;F334;102.55989577800001;30.363414217000003;9;2.9;[0,0,0,7.654042494670958e-17,-1.25,0,4.198,-1.2499999999999998,0,4.198,2.5705336314102945e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;F335;103.783895778;30.335414217;9;2.9;[0,0,0,4.17,0,0,4.17,3.982,0,0,3.982,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98301.1;45.0354933777;12.3004142488;9;2.9;[0,0,0,3.248380055743777,-0.00009759968302387346,0,3.2483800557465576,-2.705097599683981,0,6.410000031753619,-2.7050975996841644,0,6.410000031749454,4.124902785098696,0,0.5531584218044399,4.124875146868744,0,0.5531584218046349,3.7864180138259744,0,-0.03323992025794802,3.7864180138240133,0,-0.033239920257870814,3.88641801382915,0,0.45315842180527494,3.8864180138258884,0,0.453158421805124,4.124874674963521,0,-0.0336745784898433,4.12487237761637,0,-0.0349999562265381,-0.00007866164744273766,0,-2.19026479775119e-9,-0.00007289790566299603,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98306;49.5703659204;12.299109509300001;9;2.9;[0,0,0,6.408695292348644,0.000030242410312253567,0,6.408695292351226,3.373529857627874,0,-0.0001701049081287441,3.3735298576248427,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98302.2;53.093895778;12.2992871778;9;2.9;[0,0,0,6.40887296077,0,0,6.40887296077,3.3515,0,-0.00016899408739400008,3.3515,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98303;60.195395778;5.890414216999999;9;2.9;[0,0,0,-6.40923104268,-7.849044281413915e-16,0,-6.409049518370001,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98304;63.945395778;5.890414216999999;9;2.9;[0,0,0,-6.4094201305,-7.849275847207436e-16,0,-6.40923860619,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98305;64.095395778;12.299841911;9;2.9;[0,0,0,6.40942769401,0,0,6.40942769401,3.6,0,0.669427694008,3.6,0,0.669427694008,1.36270374852,0,-0.00006871218152330003,1.36270374852,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98306;71.445395778;5.890414216999999;9;2.9;[0,0,0,-3.6738691909999996,-4.499192145244225e-16,0,-3.6738691909999996,-1.5609290185000004,0,-2.6239999999999997,-2.3999999994100003,0,-2.6239999999999997,-3.6000000000000005,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98306.1;69.884466759;10.910414217;9;2.9;[0,0,0,1.200130809,0,0,1.200130809,1.560929019,0,-1.3897983061299999,1.560929019,0,-1.38972985634,0.20342901900000002,0,0,0.20342901900000002,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98306.2;67.84539577800001;10.910414217;9;2.9;[0,0,0,2.25,0,0,2.25,1.1297857260000002,0,1.294956039,1.8930709810000002,0,0,1.8930709810000002,0,0,1.15,0,-0.000178010721184,1.15,0,0,0.999999999998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98307;71.59539577800001;12.3002200866;9;2.9;[0,0,0,6.40980586965,0,0,6.40980586965,3.6,0,-0.000181524306914,3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98308;75.34539577800001;10.090414217;9;2.9;[0,0,0,4.2,0,0,4.2,3.6,0,0,3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98311;80.720944011;12.300414217;9;2.9;[0,0,0,2.061,0,0,2.061,3.624764273,0,0,3.624764273,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98311.1;79.09539577800001;10.089414217;9;2.9;[0,0,0,4.199,0,0,4.199,6.875,0,0.7972301129999999,6.875,0,0.7972301129999999,5.250312506,0,0,5.250312506,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98311.2;84.49570828399999;11.128414217;9;2.9;[0,0,0,0.889,0,0,1.6862301130000001,0,0,1.6862301130000001,1.474687494,0,0,1.474687494,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98315;79.7726256835;20.110414217000002;9;2.9;[0,0,0,5.01,0,0,5.01,3.64777009453,0,0,3.64777009453,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98316;73.50539577800001;20.110414217000002;9;2.9;[0,0,0,5.01,0,0,5.01,3.005,0,3.8261999999999996,3.005,0,3.8261999999999996,3.08055995669,0,1.45,3.08055995669,0,1.45,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98316.1;76.5859557347;16.284214217000002;9;2.9;[0,0,0,-1.3674414114848251e-17,0.0744400433081,0,1.1838,0.07444004330810022,0,1.1837999999999993,3.0366699487699997,0,-3.8262,3.036669948769999,0,-3.8261999999999996,0.0744400433080993,0,-2.3762,0.07444004330809957,0,-2.3762,-4.3650085862009106e-16,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98317;71.21661222559999;20.110414217000002;9;2.9;[0,0,0,2.99,0,0,2.99,1.1187835523599998,0,5.01,1.1187835523599998,0,5.01,2.1687835523600003,0,0,2.1687835523600003,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98318;69.650395778;17.000414217000003;9;2.9;[0,0,0,1.9,0,0,1.9,2.565,0,0,2.565,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98319;67.155395778;20.110414217000002;9;2.9;[0,0,0,2.99,0,0,2.99,2.375,0,2.99,3.94121644764,0,0,3.94121644764,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98319.1;68.480395778;17.000414217000003;9;2.9;[0,0,0,1.42,0,0,1.42,-1.325,0,1.9,-1.325,0,1.9,1.05,0,0,1.05,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98320;64.280395778;20.110414217000002;9;2.9;[0,0,0,5.01,0,0,5.01,2.755,0,2.99,2.755,0,0,2.755,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98321;64.160395778;15.620414217;9;2.9;[0,0,0,-4.49,-5.498664128171616e-16,0,-4.49,-3.0050000000000003,0,0.5200000000000004,-3.005,0,0.5200000000000002,-1.41,0,0.5197109014900002,-1.4699993035099999,0,1.797163234525578e-16,-1.46749514699,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98322;58.760395777999996;20.110414217000002;9;2.9;[0,0,0,4.328,0,0,4.328,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98323;55.970395778;20.110414217000002;9;2.9;[0,0,0,2.37,0,0,2.37,2.64,0,0,2.64,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98324;52.741395778;20.110414217000002;9;2.9;[0,0,0,1.5505202209871882,-0.000008410712290018093,0,1.5505202209902171,3.0790000000030093,0,4.552971498081315e-17,3.078999999995299,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98325;51.9516122256;16.570414217;9;2.9;[0,0,0,1.47,0,0,1.47,1.714,0,0,1.714,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98310;42.330395777999996;12.2986541373;9;2.9;[0,0,0,3.1266199442500002,0,0,3.1266199442600002,2.58500360543,0,-0.00168203172744,2.58509759729,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98326;52.591395778;16.720414217000002;9;2.9;[0,0,0,-3.39,-4.1515526491095273e-16,0,-3.3899999999999997,-3.2719999974500005,0,4.006279440157642e-16,-3.27137542265,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98324.1;54.5193957784;16.720414217000002;9;2.9;[0,0,0,-1.6894797790099998,-2.0690160035887738e-16,0,-1.6894797790099996,-1.77800000046,0,2.1774220094473313e-16,-1.7780000004599998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98325.1;55.371395778;15.100414216999999;9;2.9;[0,0,0,-1.47,-1.8002307947466092e-16,0,-1.4699999999999998,-1.5857835523600001,0,1.942024751538193e-16,-1.58578355236,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9805.2;51.831612225600004;15.100414216999999;9;2.9;[0,0,0,-1.47,-1.8002307947466092e-16,0,-1.47,-0.8902164476380002,0,1.090200723148204e-16,-0.890216447638,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98319.2;67.155395778;17.000414217000003;9;2.9;[0,0,0,1.3,0,0,1.3,1.205,0,0,1.205,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98313;79.09539577800001;12.300414217;9;2.9;[0,0,0,2.061,0,0,2.061,1.475548233,0,0,1.475548233,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98312;76.9998309069;12.300414217;9;2.9;[0,0,0,2.06,0,0,2.06,1.94556487113,0,0,1.94556487113,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9805;55.3675294509;12.4494018223;9;2.9;[0,0,0,-2.501012394660562,-0.00012610959487382523,0,-2.501012394661101,-4.712133672915063,0,-2.6510123946617896,-4.712133672917842,0,-2.651012394659265,-4.546133672916813,0,-4.121012394658019,-4.546133672912045,0,-4.121012394659941,-6.047182992690271,0,-4.271012394660629,-6.047182992683049,0,-4.271012394657407,-6.047509095573463,0,-2.651012394657811,-6.047210626195072,0,-2.6510123946585025,-5.92218299268613,0,-2.5010123946578133,-5.922182992683351,0,-2.501012394657719,-6.197182992682947,0,-2.5010123946593046,-9.9371336729174,0,-2.1010123946608004,-9.93713367291999,0,-2.10101239466278,-12.026803733016504,0,-2.501012394661286,-12.026803732983915,0,-2.501012394660245,-13.017133672942883,0,-2.5010123946574665,-13.167133672933572,0,-2.5010123946570197,-13.407133672938674,0,-3.3655981776561354,-13.407133672909463,0,-3.3655981776618287,-14.82713367291465,0,0.0007476533316348506,-14.827133672949914,0,0.0007476533316284837,-13.037133672874356,0,-0.0010123946581575066,-10.332133672883234,0,0.0003129864406423432,-6.207164238299078,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9808;85.97039577800001;12.450414216999999;9;2.9;[0,0,0,-2.5,-3.061616997868383e-16,0,-2.4999999999999996,-2.4000000000000004,0,-2.499999999999999,-6.875,0,8.419446744138053e-16,-6.875,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9809;85.97039577800001;15.070414217;9;2.9;[0,0,0,-5.04,-6.17221986770266e-16,0,-5.04,-2.4000000000000004,0,2.9391523179536476e-16,-2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98329;49.231395778;20.500414217000003;9;2.9;[0,0,0,-3.0495329734000003,-3.734600794768621e-16,0,-3.0517504826599993,-6.31993623376,0,-0.019999999999999227,-6.321,0,-0.019999999999999993,-0.0610000000001,0,7.470345474811101e-18,-0.0610000000001,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98327;45.430684326000005;19.935414217;9;2.9;[0,0,0,1.33,0,0,2.5699999999900003,0,0,3.90164522757,-0.00028854800667900003,0,4.865,-0.00028854800667900003,0,4.865,3.73964002338,0,-0.385,3.73867276152,0,-0.385,0,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9803;45.430684326000005;19.935414217;9;2.9;[0,0,0,9.184850993605149e-18,-0.15,0,-0.385,-0.15000000000000002,0,-0.38499999999999984,-3.08,0,1.8750000000000002,-3.08,0,1.875,-0.14999999999999988,0,1.33,-0.1499999999999999,0,1.33,8.143901214329899e-17,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9804;42.350684326;17.910414217000003;9;2.9;[0,0,0,2.26,0,0,2.26,2.9297114519900003,0,1.87664522758,2.9297114519900003,0,1.87664522758,3.07971145199,0,0.545,3.08,0,0.545,2.93,0,0,2.93,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98328;37.495395777999995;23.745;9;2.9;[0,0,0,7.73,0,0,7.73,3.045,0,7.73,4.46500000001,0,2.774585783,4.46500000001,0,2.774585783,4.37500000001,0,1.174585783,4.37500000001,0,1.174585783,4.46500000001,0,0.19250159559100002,4.46500000001,0,0,4.46500000001,0,0,0,0]\");\n      polyLines.push(\"polyline;N301;42.248395777999995;39.258414216999995;9;2.9;[0,0,0,15.338016842,0,0,15.340481389799999,7.024,0,0,7.024,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807.5;63.724612225600005;15.100414216999999;9;2.9;[0,0,0,-0.4,-4.898587196589413e-17,0,-0.3999999999999999,-0.8822880571230001,0,1.082851562912149e-16,-0.884215402895,0,0,0,0]\");\n      polyLines.push(\"polyline;F327;87.6515169598;23.981314216999998;9;2.9;[0,0,0,3.2809,0,0,3.2809,1.03037881819,0,1.6809,1.03037881819,0,-0.000100000000035,1.03037881819,0,0,0,0]\");\n      polyLines.push(\"polyline;F336;86.1438957803;23.981314216999998;9;2.9;[0,0,0,-2.5453448134949217e-16,1.38562117952,0,-2.769455177775627e-16,1.5076211795399999,0,-0.00010000000003546622,2.53799999772,0,-0.00010000000003548864,2.6599999977000004,0,-0.00010000000003573387,3.9949999977000004,0,-0.00010000000003578017,4.2469999977,0,-0.00010000000003631712,7.17001123492,0,-0.6297387900630018,9.487999997700001,0,-0.6321000000000018,9.487999997700001,0,-0.6321000000000018,9.49669269293,0,-0.6321000000000048,26.0899999977,0,-2.668100000000005,26.0899999977,0,-2.668100000000005,26.2289999977,0,-7.906100000000005,26.2289999977,0,-7.9061,0.0014999999999885476,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807.3;69.9678957812;12.300138022499999;9;2.9;[0,0,0,0.000049120605147731313,-0.9741490728565684,0,1.3895457951091812,-0.9725000121360674,0,1.2697238031268516,-0.9725000121359964,0,1.2697238031341944,-2.1636067503577605e-15,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807.1;65.5780995265;12.299916674;9;2.9;[0,0,0,0.549502457,0,0,0.549502457,2.11729625148,0,-0.00010676131516300002,2.11729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807;55.5174033415;14.950414216999999;9;2.9;[0,0,0,2.5010048311405715,0.0001261092134960951,0,2.499999999995147,19.927992436479986,0,2.6499999998044577,19.927999999992764,0,2.650005042527693,19.8279924365199,0,4.7099999999964846,19.8279924365078,0,4.710000000004338,21.33242756532033,0,2.649999999995539,21.33242756537817,0,2.6500000000010506,21.157992436456414,0,2.5000000000003615,21.157992436443635,0,2.500000000000658,23.462992436473893,0,4.083322222014907e-15,23.46299243652758,0,-1.5290232188019948e-15,3.0929924364919996,0,-2.669999999996388,3.0929924364845354,0,-2.6700000000014796,0.45299243648740734,0,-2.630000000000629,0.45299243648714843,0,-2.629999999997851,0.30299243648745944,0,-3.4594797790123355,0.3029924364874035,0,-3.459479779016709,-0.8980075630573807,0,-1.76999999999894,-0.8980075630573923,0,-1.7700000000045666,0.3029924364873914,0,-1.8199999999981296,0.3029924364874654,0,-1.8200000000009084,0.4529924364871543,0,-1.7699999999973453,0.4529924364870808,0,-4.2268976947062997e-16,0.45299243648687143,0,6.393506329829129e-16,0.3029924364871823,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98311.3;85.97039577800001;11.278414217;9;2.9;[0,0,0,-1.022,-1.251589028728595e-16,0,-1.0219999999999998,-1.4746874940000003,0,1.8059713192697318e-16,-1.474687494,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807.2;68.84493154239999;11.3016004042;9;2.9;[0,0,0,-0.9984809348742253,-0.0011849354086852662,0,-0.9984305946129587,-0.9995357644316817,0,0.0011861872151532904,-0.9995357644314423,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9807.4;58.760395777999996;15.632414217;9;2.9;[0,0,0,0.532,0,0,0.532,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;3%C3%9805.1;43.210395778;15.500414217;9;2.9;[0,0,0,0.43,0,0,0.43,0.280329939948,0,0.55,0.280329939948,0,0.8,0.280329939948,0,0.8,2.07,0,-1.0302869668500012e-13,2.07,0,0,0,0]\");\n      polyLines.push(\"polyline;3V1;13.224612226;12.25;9;2.9;[0,0,0,2.421526954,0,0,2.421526954,2.517,0,0,2.517,0,0,0,0]\");\n      polyLines.push(\"polyline;V302;15.946612226;12.25;9;2.9;[0,0,0,2.626526954,0,0,2.626526954,-2.927,0,0,-2.927,0,0,-8.871612226,0,4,-8.871612226,0,4,12.728387774000002,0,0,12.728387774000002,0,0,0,0]\");\n      polyLines.push(\"polyline;V301;10.460905731999999;16.092964465999998;9;2.9;[0,0,0,1.425999999997148,-1.4259999999971478,0,3.36823953599826,-1.4260000000042186,0,3.3682395360477564,24.41048471100192,0,1.4260000000395738,24.41048471100192,0,-1.7763568394002505e-15,22.98422423700721,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9804;42.36;17.91;12;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9803;42.36;20.32;12;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9802;45.28;19.935;12;2.9;[0,0,0,1.33,0,0,1.4220454545499999,0.15,0,2.47795454545,0.15,0,2.57,0,0,3.9,0,0,3.9920454545500004,0.15,0,4.285,0.15,0,4.87,0.15,0,4.87,3.891,0,4.835,3.891,0,-0.175,3.891,0,-0.435,3.891,0,-0.435,1.72,0,-0.385,1.72,0,-0.385,0.15,0,-0.0660256410257,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9801;49.231;20.52;12;2.9;[0,0,0,-3.03,-3.71067980141648e-16,0,-3.029999999999999,-6.321,0,7.740992417410419e-16,-6.321,0,2.7321870088977447e-16,-2.231,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9805;42.35;14.92;12;2.9;[0,0,0,2.47,0,0,2.47,6.81,0,2.47,7.22,0,2.47,13.015,0,-0.030000000090800002,13.015,0,-0.03,6.821,0,-0.03,3.08,0,0.37,3.08,0,0.37,1.055,0,0,1.055,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9806;58.885;12.3;12;2.9;[0,0,0,1.66,0,0,1.66,3.51,0,0,3.51,0,0,2.8,0,-0.15,2.8,0,-0.15,0.05,0,0,0.05,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807;55.515;14.950000000100001;12;2.9;[0,0,0,2.50000000009,0,0,2.50000000009,3.42,0,2.50000000009,6.17,0,2.50000000009,18.4354567265,0,2.65000000009,18.4354567265,0,2.65000000009,18.37,0,4.31000000009,18.37,0,4.31000000009,21.88,0,2.65000000009,21.88,0,2.65000000009,21.16,0,2.50000000009,21.16,0,2.50000000009,25.98,0,2.50000000009,27.958,0,2.4951343616200004,30.455,0,9.300116232680009e-11,30.455,0,9.300116232680009e-11,28.155,0,9.300293868360009e-11,3.095,0,-0.149999999907,3.095,0,-1.88492698081,3.095,0,-1.1966331224,1.8033499828900001,0,-1.1966331224,0.455000000453,0,-6.670219931950006e-12,0.455000000453,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98401;49.16;5.89;12;2.9;[0,0,0,-6.41,-7.849985982534535e-16,0,-6.445,-7.892848620504692e-16,0,-6.444999999999999,-4.000000000000001,0,4.898587196589413e-16,-4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98402;56.445;5.89;12;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-1.5493238201200006,0,-6.41,-1.5575015309700009,0,-6.409999999999999,-4.4750000000000005,0,-4.599999999999999,-4.4750000000000005,0,-4.599999999999999,-6.875000000000001,0,8.419446744138053e-16,-6.875,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98403;56.595;10.49;12;2.9;[0,0,0,4.6,0,0,4.6,3.6,0,0,3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98404;63.945;5.89;12;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-3.6000000000000005,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98405;67.695;5.89;12;2.9;[0,0,0,-5.73999999528,-7.029472621325474e-16,0,-5.74062727713,-2.237296251480001,0,-6.41,-2.237296251480001,0,-6.41,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98406;71.44;5.89;12;2.9;[0,0,0,-5.0200000000040585,0.003915756630279532,0,-5.020000000002324,-2.4449999999991556,0,-5.0199999999969185,-2.5950000000027895,0,-5.02000000000086,-3.5949999999969853,0,7.59548673956445e-15,-3.5949999999959945,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98408;75.345;10.49;12;2.9;[0,0,0,4.6,0,0,4.6,3.6,0,0,3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98409;79.095;10.49;12;2.9;[0,0,0,4.6,0,0,4.6,6.875,0,0,6.875,0,0,5.325,0,-1.06,5.325,0,-1.81184503346,5.325,0,-1.81,4.37814614439,0,-1.74,4.3782143451,0,-1.74,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98411;80.11;20.11;12;2.9;[0,0,0,3.29,0,0,3.29,3.20969006432,0,0,3.2090972222199996,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98412;76.66;20.11;12;2.9;[0,0,0,3.29,0,0,3.29,3.3,0,0,3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98413;73.505;20.11;12;2.9;[0,0,0,5.01,0,0,5.01,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98414;71.21;20.11;12;2.9;[0,0,0,2.99,0,0,2.99,1.125,0,5.01,1.125,0,5.01,2.175,0,0,2.175,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98415;69.65;17;12;2.9;[0,0,0,1.7,0,0,1.7,0.3,0,1.9,0.3,0,1.9,2.565,0,0,2.565,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98417;71.09;17.44;12;2.9;[0,0,0,-2.67,-3.269806953723433e-16,0,-2.6699999999999995,-3.9350000000000005,0,0.3200000000000005,-3.935,0,0.32000000000000006,-0.49999999999999994,0,6.123233995736766e-17,-0.5,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98418;64.28;20.11;12;2.9;[0,0,0,5.01,0,0,5.01,2.755,0,0,2.755,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98419;61.155;20.11;12;2.9;[0,0,0,5.01,0,0,5.01,1.535,0,4.49,1.535,0,4.49,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98420;58.76;20.11;12;2.9;[0,0,0,4.36,0,0,4.36,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98421;56.21;20.11;12;2.9;[0,0,0,2.304,0,0,2.304,-0.239999999547,0,3.8483668775,-0.239999999547,0,3.8483668775,1.0796215706999999,0,3.14476423621,2.4,0,2.304,2.4,0,2.304,2.16,0,0,2.16,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98422;55.820000000499995;16.72;12;2.9;[0,0,0,-3.39,-4.1515526491095273e-16,0,-3.3899999999999997,-3.07900000045,0,3.7706874951257913e-16,-3.0790000004499998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98424;49.321;20.11;12;2.9;[0,0,0,3.39,0,0,3.39,3.27,0,0,3.27,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98410;42.33;12.335;12;2.9;[0,0,0,2.4017600479900003,0,0,2.4017600479900003,2.71,0,0,2.71,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98401.1;42.33;9.81323995201;12;2.9;[0,0,0,3.92323995201,0,0,3.92323995201,2.71,0,0,2.71,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98402.1;49.57;12;12;2.9;[0,0,0,1.36,0,0,1.36,2.25,0,-0.3,2.25,0,-0.3,0.15,0,0,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98402.2;56.445;10.64;12;2.9;[0,0,0,-1.66,-2.0329136865846063e-16,0,-1.6599999999999997,-1.4075000000000002,0,1.7145055188062944e-16,-1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98403.1;58.735;10.64;12;2.9;[0,0,0,-1.66,-2.0329136865846063e-16,0,-1.6599999999999997,-2.14,0,2.620744150175336e-16,-2.14,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98404.1;62.545;12.3;12;2.9;[0,0,0,1.66,0,0,1.66,1.4,0,0,1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807.1;67.695;11.75;12;2.9;[0,0,0,-0.55,-6.735557395310444e-17,0,-0.5499999999999998,-2.11729625148,0,-0.0005936368516847408,-2.11729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98425;69.9675;11.03;12;2.9;[0,0,0,-1.27,-1.5553014349171386e-16,0,-1.2699999999999998,-0.9725000000000001,0,1.1909690121708011e-16,-0.9725,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98407;75.195;5.89;12;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-3.60141181084,0,4.414851655045575e-16,-3.60499995437,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98407.1;73.735;10.64;12;2.9;[0,0,0,-1.66,-2.0329136865846063e-16,0,-1.6599999999999997,-2.13999995437,0,2.622329830394696e-16,-2.14129480616,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98408.1;78.945;10.64;12;2.9;[0,0,0,-1.66,-2.0329136865846063e-16,0,-1.6599999999999997,-1.4000000000000001,0,1.7145055188062944e-16,-1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98409;81.345;10.64;12;2.9;[0,0,0,-1.66,-2.0329136865846063e-16,0,-1.6599999999999997,-2.25,0,2.755455298081545e-16,-2.25,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98409.2;85.92;10.64;12;2.9;[0,0,0,-0.91,-1.1144285872240914e-16,0,-0.9099999999999998,-1.4050000000000002,0,1.7206287528020313e-16,-1.405,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9809;85.97;15.07;12;2.9;[0,0,0,-5.04,-6.17221986770266e-16,0,-5.04,-2.4000000000000004,0,-0.029999999999999704,-2.4,0,-0.029999999999999718,-2.3,0,2.816687638038912e-16,-2.3,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98411.2;81.93;16.67;12;2.9;[0,0,0,1.57,0,0,1.57,1.39,0,0,1.38971709359,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98411.1;80.11;16.67;12;2.9;[0,0,0,1.34,0,0,1.34,0.58,0,1.57,0.58,0,1.57,1.7,0,0,1.7,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98412.1;76.66;16.67;12;2.9;[0,0,0,1.34,0,0,1.34,0.58,0,1.57,0.58,0,1.57,1.7,0,0,1.7,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98412.2;78.48;16.67;12;2.9;[0,0,0,1.57,0,0,1.57,1.48,0,0,1.48,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98417.1;68.48;17;12;2.9;[0,0,0,1.42,0,0,1.42,-1.325,0,1.9,-1.325,0,1.9,1.05,0,0,1.05,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807.2;63.72;15.1;12;2.9;[0,0,0,-0.4,-4.898587196589413e-17,0,-0.3999999999999999,-0.91,0,1.1144285872240914e-16,-0.91,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98423.1;54.2906868955;16.57;12;2.9;[0,0,0,1.46999999992,0,0,1.46999999991,1.08031310454,0,0,1.079313105,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98424.2;52.591;15.100000000100001;12;2.9;[0,0,0,-1.46999999995,-1.8002307946853768e-16,0,-1.4699999999499997,-1.6500000000000001,0,2.4188853148821876e-11,-1.65,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9805.1;42.35;15.5;12;2.9;[0,0,0,0.43,0,0,0.43,0.71,0,0,0.71,0,0,0.01,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9801.1;42.79;22.57;12;2.9;[0,0,0,-0.98,-1.2001538631644062e-16,0,-1.1,-1.3471114790620887e-16,0,-1.1,-0.5800000000000001,0,7.102951435054648e-17,-0.58,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98409.3;84.57;12.3021373225;12;2.9;[0,0,0,0.6321373225129999,0,0,0.6321373225129999,1.4,0,-0.00272803118029,1.4,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807.3;68.845;11.3;12;2.9;[0,0,0,-1,-1.2246467991473532e-16,0,-0.9999999999999999,-1.0000000000000002,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807.4;58.76;15.6;12;2.9;[0,0,0,0.5,0,0,0.5,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9807.5;55.820000000499995;15.100000000100001;12;2.9;[0,0,0,-1.4699999999,-1.8002307946241444e-16,0,-1.4699999999,-0.32999997223200017,0,4.821072753006351e-12,-0.32899997268700004,0,0,0,0]\");\n      polyLines.push(\"polyline;4%C3%9805.2;43.21;15.5;12;2.9;[0,0,0,0.43,0,0,0.43,0.195,0,0.43,0.345,0,0.8,0.345,0,0.8,2.07,0,0,2.07,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98424.1;50.821;15.1;12;2.9;[0,0,0,-1.46999999998,-1.8002307947221163e-16,0,-1.4699999999799997,-1.5000000000000002,0,2.199148136881989e-11,-1.5,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98422.2;52.741;16.57;12;2.9;[0,0,0,1.46999999995,0,0,1.46999999993,1.42968689546,0,0,1.42968689546,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98406.1;70.0875;12.3;12;2.9;[0,0,0,1.27,0,0,1.27,1.35650936037,0,0,1.3575,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98417.2;67.155;17;12;2.9;[0,0,0,1.3,0,0,1.3,1.205,0,0,1.205,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.1;67.695;11.75;15;2.9;[0,0,0,-0.55,-6.735557395310444e-17,0,-0.5499999999999998,-2.11729625148,0,-0.0005936368516847408,-2.11729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807;55.968389916300005;14.950000000100001;15;2.9;[0,0,0,2.5000000001,0,0,2.5000000001,5.71661008366,0,2.5000000001,17.982066810200003,0,2.5000000001,22.976610083700002,0,2.5000000001,30.0016100837,0,9.964828961980009e-11,30.0016100837,0,9.964828961980009e-11,27.7016100837,0,9.965006597670008e-11,2.64161008366,0,-0.14999999990000001,2.64161008366,0,-2.7599999999000002,2.64161008366,0,-2.7599999999000002,0.0016100841097599998,0,0,0.0016100841097599998,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9804;42.36;17.91;15;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9803;42.36;20.32;15;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9802;45.28;19.935;15;2.9;[0,0,0,1.33,0,0,1.4220454545499999,0.15,0,2.47795454545,0.15,0,2.57,0,0,3.9,0,0,3.9920454545500004,0.15,0,4.285,0.15,0,4.87,0.15,0,4.87,3.891,0,4.835,3.891,0,-0.175,3.891,0,-0.435,3.891,0,-0.435,1.72,0,-0.385,1.72,0,-0.385,0.15,0,-0.0660256410257,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9801.1;42.79;22.57;15;2.9;[0,0,0,-0.98,-1.2001538631644062e-16,0,-1.1,-1.3471114790620887e-16,0,-1.1,-0.5800000000000001,0,7.102951435054648e-17,-0.58,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9801;49.231;20.52;15;2.9;[0,0,0,-3.03,-3.71067980141648e-16,0,-3.029999999999999,-6.321,0,7.740992417410419e-16,-6.321,0,2.7321870088977447e-16,-2.231,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9805;55.8183899163;12.45;15;2.9;[0,0,0,-2.5000000001,-3.061616997990848e-16,0,-2.499999999999999,-6.64738991634,0,-2.4999999999999987,-10.388389916300001,0,-2.2499999999999987,-10.388389916300001,0,-1.9499999999999986,-10.388389916300001,0,-1.9499999999999984,-12.488389916300001,0,-2.4699980478199985,-12.488389916300001,0,-2.4649982053199984,-13.468389916300001,0,1.6494020600665285e-15,-13.468389916300001,0,7.652070710870379e-16,-6.24838991634,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98501;49.16;5.89;15;2.9;[0,0,0,-6.41,-7.849985982534535e-16,0,-6.409999999999999,-6.830000000000001,0,8.364337638176422e-16,-6.83,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98502;56.445;5.89;15;2.9;[0,0,0,-6.41,-7.849985982534535e-16,0,-6.409999999999999,-6.7250000000000005,0,-6.109999999999999,-6.7250000000000005,0,-6.109999999999999,-6.875000000000001,0,8.419446744138053e-16,-6.875,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98503;60.195;5.89;15;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-2.2000000000000006,0,-6.41,-2.200000000000001,0,-6.41,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98504;63.945;5.89;15;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-2.2000000000000006,0,-6.41,-2.200000000000001,0,-6.41,-2.2600000000000007,0,-6.41,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98506;71.44;5.89;15;2.9;[0,0,0,-5.0200000000040585,0.003915756630279532,0,-5.019999999998495,-0.05499999999992366,0,-5.139999999995399,-0.054999999999952566,0,-5.139999999997142,0.0040093603744241705,0,-6.410000000002293,0.005000000000016034,0,-6.409999999995854,-1.3525000000043386,0,-5.140000000001117,-1.352499999998546,0,-5.140000000001054,-1.2850000000034125,0,-5.020000000004147,-1.2849999999990838,0,-5.0200000000042175,-1.352500000004217,0,-3.7700000000039653,-1.3524999999991494,0,-3.6700000000015427,-1.352499999995546,0,-3.669999999998193,-3.5949999999983144,0,7.59548673956445e-15,-3.5949999999959945,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98507;75.195;5.89;15;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-2.2000000000000006,0,-6.41,-2.200000000000001,0,-6.41,-3.5999999543700008,0,4.414851655045575e-16,-3.60499995437,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98508;78.945;5.89;15;2.9;[0,0,0,-4.6,-5.633375276077824e-16,0,-4.6,-2.2000000000000006,0,-6.41,-2.200000000000001,0,-6.41,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98509;85.97;5.89;15;2.9;[0,0,0,-5.09,-6.233452207660028e-16,0,-5.09,-2.6140000000000003,0,-6.36,-2.6140000000000008,0,-6.359999999999999,-4.4750000000000005,0,-3.7599999999999993,-4.4750000000000005,0,-3.7599999999999993,-4.575000000000001,0,-3.759999999999999,-6.875000000000001,0,8.419446744138053e-16,-6.875,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98511;83.31969006429999;16.82;15;2.9;[0,0,0,-3.289999999996361,-0.0005928420935813998,0,-3.2900000000015766,-3.2096900643137523,0,1.2187516620909555e-15,-3.209690064319795,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98513;73.505;20.11;15;2.9;[0,0,0,5.01,0,0,5.01,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98514;71.21;20.11;15;2.9;[0,0,0,2.99,0,0,2.99,1.125,0,5.01,1.125,0,5.01,2.175,0,0,2.175,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98517;71.09;17.12;15;2.9;[0,0,0,-2.99,-3.661693929450586e-16,0,-2.9899999999999998,-3.9350000000000005,0,4.818985154644835e-16,-3.935,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98520;58.76;20.11;15;2.9;[0,0,0,4.36,0,0,4.36,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98521;58.61;17.86;15;2.9;[0,0,0,-2.25,-2.755455298081545e-16,0,-2.2499999999999996,-2.6399999995500005,0,3.2330675491979214e-16,-2.63999999955,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98522;55.820000000499995;16.72;15;2.9;[0,0,0,-3.39,-4.1515526491095273e-16,0,-3.3899999999999997,-3.07900000045,0,3.7706874951257913e-16,-3.0790000004499998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98523;52.743;16.57;15;2.9;[0,0,0,1.46999999995,0,0,1.46999999991,2.628,0,0,2.6270000004600003,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98524;50.941;16.57;15;2.9;[0,0,0,1.4699999999700002,0,0,1.46999999995,1.682,0,0,1.682,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98525;52.591;16.72;15;2.9;[0,0,0,-3.39,-4.1515526491095273e-16,0,-3.3899999999999997,-3.2700000000000005,0,4.004595033211845e-16,-3.27,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98503.1;58.095;12.3;15;2.9;[0,0,0,1.71,0,0,1.71,2.1,0,0,2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98504.1;61.845;12.3;15;2.9;[0,0,0,1.71,0,0,1.71,2.1,0,0,2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98505.1;65.5577037485;11.6305992396;15;2.9;[0,0,0,1.71000560278,0,0,1.71000560278,2.13729625148,0,0.0005992443508840001,2.13729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98505;64.095;12.3;15;2.9;[0,0,0,6.41,0,0,6.41,3.6,0,2.47940636315,3.6,0,2.47940636315,1.36270374852,0,0.6693727228699999,1.36270374852,0,0,1.36270374852,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98506.1;67.845;10.91;15;2.9;[0,0,0,1.25,0,0,1.25,2.1425,0,0,2.1425,0,0,1.15,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98527;69.9675;11.03;15;2.9;[0,0,0,-1.27,-1.5553014349171386e-16,0,-1.2699999999999998,-0.9725000000000001,0,1.1909690121708011e-16,-0.9725,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98507.1;75.195;10.59;15;2.9;[0,0,0,-1.71,-2.094146026541974e-16,0,-1.7099999999999997,-1.2445432734600002,0,-1.7099999999999997,-2.1,0,2.571758278209442e-16,-2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98508.1;76.845;12.3;15;2.9;[0,0,0,1.71,0,0,1.71,2.1,0,0.05,2.1,0,0,2.1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98509.1;79.095;12.25;15;2.9;[0,0,0,2.5,0,0,2.5,2.3,0,0,2.3,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98512.1;76.66;16.67;15;2.9;[0,0,0,1.34,0,0,1.34,0.58,0,1.57,0.58,0,1.57,1.7,0,0,1.7,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98517.1;67.155;17;15;2.9;[0,0,0,1.3,0,0,1.3,1.205,0,0,1.205,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.2;63.72;15.1;15;2.9;[0,0,0,-0.4,-4.898587196589413e-17,0,-0.3999999999999999,-0.91,0,1.1144285872240914e-16,-0.91,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9805.1;42.35;15.5;15;2.9;[0,0,0,0.434999842505,0,0,0.431413402675,0.702964349297,0,0,0.70076332984,0,0,0.01,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.5;67.845;12.3;15;2.9;[0,0,0,1,0,0,1,1,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.6;83.476;12.25;15;2.9;[0,0,0,1.15,0,0,1.15,2.494,0,0,2.494,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.4;61.035;15.1;15;2.9;[0,0,0,-0.5,-6.123233995736766e-17,0,-0.4999999999999997,-2.275,0,2.7860714680602287e-16,-2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9807.3;55.490000028199994;16.57;15;2.9;[0,0,0,1.4699999999042948,0.0009999995445733685,0,1.4699999999027662,0.3299999722311587,0,-2.050226308170089e-15,0.329999972231971,0,0,0,0]\");\n      polyLines.push(\"polyline;5%C3%9805.2;45.28;14.7;15;2.9;[0,0,0,-0.8,-9.797174393178826e-17,0,-0.7999999999999998,-2.07923471798,0,-0.3693518693809997,-2.07703760285,0,-0.3699999999999998,-1.95,0,-0.3699999999999998,-1.8,0,0.15000000000000022,-1.8,0,0.15,1.8369701987210297e-17,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98511.1;80.11;16.67;15;2.9;[0,0,0,1.34,0,0,1.34,0.58,0,1.57,0.58,0,1.57,1.7,0,0,1.7,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98512;79.96;16.82;15;2.9;[0,0,0,-3.29,-4.0290879691947923e-16,0,-3.2899999999999996,-3.3000000000000003,0,4.0413344371862655e-16,-3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98515;69.65;17;15;2.9;[0,0,0,1.9,0,0,1.9,2.565,0,0,2.565,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98519;67.035;15.1;15;2.9;[0,0,0,-5.01,-6.135480463728239e-16,0,-5.009999999999999,-5.880000000000001,0,7.200923178986437e-16,-5.88,0,5.321090342295249e-16,-4.345,0,-0.5199999999999995,-4.345,0,-0.5199999999999997,-2.875,0,-0.5199999999999997,-2.755,0,3.373901931650958e-16,-2.755,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98510;83.57;20.11;15;2.9;[0,0,0,5.01,0,0,5.01,0.1,0,5.04,0.1,0,5.04,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9801.1;42.79;22.57;18;2.9;[0,0,0,-0.98,-1.2001538631644062e-16,0,-1.1,-1.3471114790620887e-16,0,-1.1,-0.5800000000000001,0,7.102951435054648e-17,-0.58,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807;55.515;14.950000000100001;18;2.9;[0,0,0,2.50000000009,0,0,2.50000000009,6.17,0,2.50000000009,18.4354567265,0,2.50000000009,23.58,0,3.28000000009,23.58,0,3.28000000009,26.08,0,2.7200000000899998,26.08,0,2.50000000009,26.08,0,2.50000000009,30.455,0,9.300116232680009e-11,30.455,0,9.300116232680009e-11,28.155,0,9.300293868360009e-11,3.095,0,-0.149999999907,3.095,0,-2.67999999991,3.095,0,-2.67999999991,0.455000000453,0,-6.670219931950006e-12,0.455000000453,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9804;42.36;17.91;18;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9803;42.36;20.32;18;2.9;[0,0,0,2.26,0,0,2.26,2.92,0,0,2.92,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9802;45.28;19.935;18;2.9;[0,0,0,1.33,0,0,1.41973214499,0.14623016219799997,0,2.47174462773,0.151,0,2.57,0,0,3.9,1.6342482922500018e-13,0,3.98973214499,0.146230162199,0,4.285,0.15,0,4.87,0.15,0,4.87,3.891,0,4.835,3.891,0,-0.175,3.891,0,-0.435,3.891,0,-0.435,1.72,0,-0.385,1.72,0,-0.385,0.15,0,-0.0729899913452,0.151,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9801;49.231;20.52;18;2.9;[0,0,0,-3.03,-3.71067980141648e-16,0,-3.029999999999999,-6.321,0,7.740992417410419e-16,-6.321,0,2.7321870088977447e-16,-2.231,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9805;55.365;12.45;18;2.9;[0,0,0,-2.50000000009,-3.0616169979786013e-16,0,-2.499999999999999,-6.194,0,-2.4999999999999987,-9.935,0,-2.2499999999999987,-9.935,0,-2.0999999999999988,-9.935,0,-1.6999999999999988,-9.935,0,-1.6999999999999984,-11.96,0,-2.469999999999999,-11.96,0,-2.469999999999999,-12.305,0,-2.4999999999999987,-12.305,0,-2.4999999999999982,-13.015,0,1.5938778090902803e-15,-13.015,0,7.096828201058912e-16,-5.795,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9809;83.57;20.11;18;2.9;[0,0,0,5.01,0,0,5.01,0.1,0,5.04,0.1,0,5.04,2.4,0,0,2.4,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98601;42.33;12.333;18;2.9;[0,0,0,6.443,0,0,6.443,4.04520444842,0,0,4.04520444842,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98602;49.57;12;18;2.9;[0,0,0,6.11,0,0,6.11,6.875,0,-0.3,6.875,0,-0.3,0.15,0,0,0.15,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98603;60.195;5.89;18;2.9;[0,0,0,-6.41,-7.849985982534535e-16,0,-6.41,-3.600000000000001,0,4.4087284769304716e-16,-3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98604;60.345;12.3;18;2.9;[0,0,0,6.41,0,0,6.41,3.6,0,0,3.6,0,0,1.34,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98605;64.095;12.3;18;2.9;[0,0,0,6.41,0,0,6.41,3.6,0,0.670000004717,3.6,0,0.6693727228699999,1.36270374852,0,0,1.36270374852,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98606;67.845;10.91;18;2.9;[0,0,0,5.02,0,0,5.02,7.35,0,1.30778110821,7.35,0,1.30778110821,4.73490761071,0,-1.39,4.73490761071,0,-1.39,2.2425,0,-0.12,2.2425,0,-0.12,2.31,0,0,2.31,0,0,1.15,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98607;75.345;12.3;18;2.9;[0,0,0,6.41,0,0,6.41,3.6,0,0,3.6,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98608;79.095;11.55;18;2.9;[0,0,0,5.66,0,0,5.66,6.875,0,0.77,6.875,0,0.77,4.261,0,0.45,4.261,0,-0.68,4.261,0,-0.68,2.62,0,0,2.62,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98611;80.11;20.11;18;2.9;[0,0,0,3.29,0,0,3.29,0.148,0,3.44,0.148,0,3.44,0,0,4.78,0,0,4.78,0.58,0,5.01,0.58,0,5.01,1.7,0,4.45,1.7,0,4.45,1.82,0,5.01,1.82,0,5.01,3.21,0,0,3.2090972222199996,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98612;76.66;20.11;18;2.9;[0,0,0,3.29,0,0,3.29,3.3,0,0,3.3,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98613;73.505;20.11;18;2.9;[0,0,0,2.99,0,0,2.99,1,0,2.99,1.12,0,5.01,1.12,0,5.01,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98614;71.21;20.11;18;2.9;[0,0,0,2.99,0,0,2.99,1.125,0,5.01,1.125,0,5.01,2.175,0,0,2.175,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98615;69.65;17;18;2.9;[0,0,0,1.9,0,0,1.9,2.565,0,0,2.565,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98616;73.505;17;18;2.9;[0,0,0,1.9,0,0,1.9,1,0,0,1,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98617;71.09;17.12;18;2.9;[0,0,0,-2.99,-3.661693929450586e-16,0,-2.9899999999999998,-3.9350000000000005,0,4.818985154644835e-16,-3.935,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98618;64.28;20.11;18;2.9;[0,0,0,4.49,0,0,5.01,0,0,5.01,2.755,0,0,2.755,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98619;61.155;20.11;18;2.9;[0,0,0,5.01,0,0,5.01,1.535,0,4.49,1.535,0,4.49,3.005,0,0,3.005,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98620;61.035;15.75;18;2.9;[0,0,0,-4.36,-5.33946004428246e-16,0,-4.36,-2.2750000000000004,0,2.7860714680602287e-16,-2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98621;55.970000000499994;20.11;18;2.9;[0,0,0,2.33,0,0,2.33,2.63999999955,0,0,2.63999999955,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98622;52.741;20.11;18;2.9;[0,0,0,3.39,0,0,3.39,3.0790000004499998,0,0,3.0790000004499998,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98624;52.591;16.72;18;2.9;[0,0,0,-3.39,-4.1515526491095273e-16,0,-3.3899999999999997,-3.2700000000000005,0,4.004595033211845e-16,-3.27,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98601.1;49.16;5.89;18;2.9;[0,0,0,-6.443,-7.890399326906396e-16,0,-6.443,-2.634795551580001,0,3.226693938650132e-16,-2.63479555158,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98625;69.9675;11.03;18;2.9;[0,0,0,-1.27,-1.5553014349171386e-16,0,-1.2699999999999998,-0.9725000000000001,0,1.1909690121708011e-16,-0.9725,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98608.1;72.7299076107;12.3;18;2.9;[0,0,0,2.54778110821,0,0,2.54778110821,2.46509238929,0,0,2.46509238929,0,0,1.22054911583,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98607.1;65.5777037485;12.3;18;2.9;[0,0,0,0.549406363148,0,0,0.55,2.11729625148,0,-1.6342482922500018e-13,2.11729625148,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98607.2;62.81;15.5;18;2.9;[0,0,0,0.4,0,0,0.4,0.91,0,0,0.91,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9805.1;42.35;15.5;18;2.9;[0,0,0,0.455,0,0,0.455,0.71,0,0,0.71,0,0,0.01,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98612.1;79.96;15.1;18;2.9;[0,0,0,-1.57,-1.9226954746613447e-16,0,-1.5699999999999998,-1.4800000000000002,0,1.8124772627380827e-16,-1.48,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98612.2;78.36;15.1;18;2.9;[0,0,0,-1.57,-1.9226954746613447e-16,0,-1.5699999999999998,-1.7000000000000002,0,-0.2299999999999998,-1.7,0,-0.22999999999999987,-1.12,0,1.3716044150450358e-16,-1.12,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98617.1;67.155;17;18;2.9;[0,0,0,1.3,0,0,1.3,1.205,0,0,1.205,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98617.2;68.48;17;18;2.9;[0,0,0,1.42,0,0,1.42,-1.325,0,1.9,-1.325,0,1.9,1.05,0,0,1.05,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98623;51.966;16.57;18;2.9;[0,0,0,1.46999999996,0,0,1.46999999993,1.705,0,0,1.705,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98623.1;50.941;16.57;18;2.9;[0,0,0,1.4699999999700002,0,0,1.46999999996,0.905,0,0,0.905,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98623.2;55.371;15.100000000100001;18;2.9;[0,0,0,-1.4699999999042948,-0.000999999544572243,0,-1.4699999999117896,-1.580000000001145,0,2.3164809263495623e-11,-1.5799999999979366,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98624.1;49.321;16.57;18;2.9;[0,0,0,1.47,0,0,1.46999999998,1.5,0,0,1.5,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807.7;85.97;10.9;18;2.9;[0,0,0,-1.33,-1.6287802428659799e-16,0,-1.3299999999999998,-2.494,0,-0.1999999999999997,-2.494,0,3.0542691170734993e-16,-2.494,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807.5;68.845;11.3;18;2.9;[0,0,0,-1,-1.2246467991473532e-16,0,-0.9999999999999999,-1.0000000000000002,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807.6;68.845;10.97;18;2.9;[0,0,0,-0.21,-2.5717582782094416e-17,0,-0.20999999999999988,-1,0,1.2246467991473532e-16,-1,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807.4;58.76;15.6;18;2.9;[0,0,0,0.5,0,0,0.5,2.275,0,0,2.275,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9807.3;55.820000000499995;15.100000000100001;18;2.9;[0,0,0,-1.4699999999,-1.8002307946241444e-16,0,-1.4699999999,-0.32999997223200017,0,4.821072753006351e-12,-0.32899997268700004,0,0,0,0]\");\n      polyLines.push(\"polyline;6%C3%9805.2;45.28;14.7;18;2.9;[0,0,0,-0.8,-9.797174393178826e-17,0,-0.7999999999999998,-2.07,0,-0.3699999999999997,-2.07,0,-0.3699999999999998,-1.875,0,-0.3699999999999998,-1.725,0,0.40000000000000024,-1.725,0,0.4,4.898587196589413e-17,0,0.15,1.8369701987210297e-17,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98701;48.39;18.72;21;2.9;[0,0,0,3.4,0,0,3.4,0.8,0,2.07,0.8,0,0,0.8,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98702;49.19;18.84;21;2.9;[0,0,0,-4.71,-5.768086423984033e-16,0,-4.709999999999999,-6.280000000000001,0,-1.6799999999999993,-6.28,0,-1.6799999999999997,-2.7,0,-1.4799999999999998,-2.7,0,3.5200000000000005,-2.6999999999999997,0,3.52,-0.9199999999999996,0,1.126675055215565e-16,-0.92,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98703;55.69;15.1;21;2.9;[0,0,0,-1.55,-1.8982025386783975e-16,0,-1.5499999999999994,-6.13,0,7.507084878773275e-16,-6.13,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98702.1;42.36;20.32;21;2.9;[0,0,0,4.67,0,0,4.67,3.07,0,5,3.07,0,5,4.01,0,0,4.01,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98707.1;55.81;16.65;21;2.9;[0,0,0,1.55,0,0,1.55,2.09,0,1.82,2.09,0,1.82,2.9,0,1.55,2.9,0,1.55,6.23,0,0,6.23,0,0,0,0]\");\n      polyLines.push(\"polyline;%C3%98704;43.16;14.95;21;2.9;[0,0,0,6.53786796564,0,0,8.25,1.71213203436,0,8.25,17.1878679656,0,6.53786796564,18.9,0,4.2,18.9,0,4.2,18.82,0,0.12,18.82,0,0.12,15.55,0,0.12,14.74,0,0.12,6.4,0,4.2,6.4,0,4.2,6.17,0,0,6.17,0,0,2.12,0,-0.55,2.12,0,-0.55,-0.95,0,-0.23,-0.95,0,-0.23,0.0740000000001,0,0,0.0740000000001,0,0,0,0]\");\n      */\n      \n      //bmu.createGrossAreaSpaces(polyLines, true);\n      //bmu.findSpaceIntersections(polyLines, true);\n     }, 4000);\n\n  },\n  beforeDestroy() {\n    this.removeEventListerners();\n  },\n  created() {\n    this.addEventListerners();\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ndiv.inputwrapper {\n  margin: 0px;\n  box-align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin-left: 0px;\n  margin-top: 20px;\n  margin-bottom: 5px;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: 10px;\n  margin-right: 20px;\n  color: #3577cb;\n  font-size: 16px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n  margin: 0 5px 5px;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\np {\n  background: rgba(255, 255, 255, 0.6);\n  padding: 8px;\n  backdrop-filter: blur(8px);\n  border-radius: 1rem;\n  pointer-events: all;\n}\n\n#leavefeedbackclass {\n  margin-top: 20px;\n}\n\n#text-container{\n  position: absolute;\n  margin-top: 3rem;\n  margin-left: 3rem;\n  display: flex;\n}\n\n#toolBar {\n  position: absolute;\n  display: flex;\n  bottom: 10px;\n  height: 42px;\n  z-index: 5;\n  left: 50%;\n  transform: translate(-50%);\n}\n\n#treeView {\n  position: absolute;\n  display: flex;\n  top: 110px;\n  z-index: 5;\n  left: 10px;\n}\n\n.viewport {\n  overflow: hidden;\n  margin: 0px 0 0;\n  border: 1px;\n  width: 100%;\n  border-color: #3577cb;\n  border-radius: 0px;\n}\n\n.menubutton {\n  position: relative;\n  background-color: #ffffff;\n  width: 34px;\n  height: 34px;\n  top: -5px;\n  border: 0;\n  margin: 5px;\n  padding: 0;\n  opacity: 1;\n  z-index: 9;\n}\n\n.menubutton:hover{\n  opacity: 0.6;\n}\n\n.submenubutton {\n  position: relative;\n  background-color: #ffffff;\n  width: 34px;\n  height: 34px;\n  top: -5px;\n  border: 0;\n  margin: 5px;\n  padding: 0;\n  opacity: 1;\n  z-index: 9;\n}\n\n.submenubutton:hover{\n  opacity: 0.6;\n}\n\n.submenu-camera {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -136px;\n  left: 222px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.submenu-redline {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -180px;\n  left: 133px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.submenu-click {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -180px;\n  left: 178px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.submenu-edgeface {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -224px;\n  left: 89px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.submenu-cuttingplane {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -180px;\n  left: 266px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.submenu-explode {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  border: 1px solid black;\n  top: -222px;\n  left: 266px;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n  opacity: 0.6;\n}\n\n.toolbar-tools {\n  background: rgba(255, 255, 255, 1);\n  border: 1px solid black;\n  overflow: hidden;\n  border-radius: 6px;\n  margin: 0;\n  padding: 0;\n  height: 42px;\n  opacity: 0.6;\n}\n\n.hoops-tool {\n  width: 34px;\n  height: 34px;\n  margin: 5px;\n  display: inline-block;\n  user-select: none;\n}\n\n.active-tool {\n  border-radius: 1px;\n  border-color: #888888;\n  border-style: solid;\n  border-width: 1px;\n  margin: 4px;\n  box-shadow: 0px 0px 6px #888888;\n}\n\n.tool-separator {\n  width: 1px;\n  height: 100%;\n  background-color: black;\n  user-select: none;\n  pointer-events: none;\n  position: relative;\n  top: 0px;\n  display: inline-block;\n}\n\n.toolbar-submenu {\n  background: rgba(255, 255, 255, 1);\n  position: absolute;\n  display: none;\n  border: 1px solid black;\n  border-radius: 3px;\n  z-index: 8;\n  user-select: none;\n}\n\n.toolbar-modal-overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  z-index: 4;\n  margin: 0;\n  padding: 0;\n  border: none;\n  top: 0;\n  left: 0;\n}\n\n.submenu-icon {\n  width: 32px;\n  height: 32px;\n}\n\n.slider-menu {\n  height: 125px;\n  width: 30px;\n}\n\n.toolbar-slider {\n  left: 8px;\n  top: 15px;\n}\n\n#large-slider >>> .v-slider {\n  height: 30px;\n}\n\n.toolbar-cp-plane {\n  margin-bottom: 4px;\n  background-color: white;\n}\n\n.toolbar-cp-plane.selected {\n  background-color: lightblue;\n}\n\n.toolbar-cp-plane.inverted {\n  background-color: blue;\n}\n\n#snapshot-dialog {\n  display: none;\n  position: absolute;\n}\n\n#snapshot-dialog-cancel-button {\n  font-size: 13px;\n}\n\n.submenus {\n  border: 1px solid #020203;\n}\n\n.submenu-icon.disabled {\n  opacity: 0.2;\n}\n\n@media screen and (max-width: 1000px) {\n \n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIMviewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIMviewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BIMviewer.vue?vue&type=template&id=22db587f&scoped=true&\"\nimport script from \"./BIMviewer.vue?vue&type=script&lang=js&\"\nexport * from \"./BIMviewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BIMviewer.vue?vue&type=style&index=0&id=22db587f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22db587f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VContainer,VDialog,VProgressCircular,VRow,VSelect,VSlider,VSpacer,VSwitch,VTextField})\n","module.exports = __webpack_public_path__ + \"img/paragraph3.c46aba7a.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityV.vue?vue&type=style&index=0&id=60483d9c&prod&scoped=true&lang=css&\"","import {\n  WebGLRenderer,\n  Scene,\n  Color,\n  AmbientLight,\n  DirectionalLight,\n  PerspectiveCamera,\n  MeshPhongMaterial,\n  Vector3,\n  Vector2,\n  Raycaster,\n  TOUCH,\n  Clock,\n  OrthographicCamera,\n  MOUSE,\n  Group,\n  SkeletonHelper,\n  AnimationMixer,\n  Spherical,\n  AxesHelper,\n  BoxGeometry,\n  MeshBasicMaterial,\n  Mesh,\n  SphereGeometry,\n  MeshNormalMaterial,\n  PCFSoftShadowMap\n } from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { CSS2DRenderer } from \"three/examples/jsm/renderers/CSS2DRenderer.js\";\nimport { Sky } from 'three/examples/jsm/objects/Sky.js';\nimport { Projector } from 'three/examples/jsm/renderers/Projector.js';\nimport { OpenStreetMapsProvider, OpenMapTilesProvider, MapBoxProvider, HereMapsProvider, BingMapsProvider, MapTilerProvider, HeightDebugProvider, DebugProvider, MapView, LODRaycast, LODFrustum, LODRadial, UnitsUtils, DoubleSided } from \"geo-three\";\nimport MapControls from \"three-map-controls\";\nimport CameraControls from 'camera-controls';\nimport { OrthographicTrackballControls } from 'three-map-controls/node_modules/three/examples/jsm/controls/OrthographicTrackballControls.js';\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls.js';\nimport * as TWEEN from '@tweenjs/tween.js';\nimport * as CANNON from 'cannon-es';\nimport CannonDebugger from 'cannon-es-debugger'\nvar utm = require(\"@jayarjo/utm\");\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n//import { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader.js';\n//import { factorialDependencies } from \"mathjs\";\n\n\nexport default {\n  namespaced: true,\n  state: {\n    bimViewerCanvas: undefined,\n    mapMode: false,\n    width: 0,\n    height: 0,\n    twodim: false,\n    thirdperson: false,\n    animationid: null,\n    camera: null,\n    twodimcamera: null,\n    thirdpersoncamera: null,\n    thirdPersonCameraOrigin: null,\n    xAxis: new Vector3(1, 0, 0),\n    tempCameraVector: new Vector3(),\n    tempModelVector: new Vector3(),\n    thirdpersonContainer: new Group(),\n    thirdpersonLoaded: false,\n    coords: null,\n    focuslat: null,\n    focuslong: null,\n    focusobject: null,\n    buildingboxPosition: null,\n    INTERSECTED: null,\n    intersectXY: {x: 0, y: 0},\n    selectedRoomURI: null,\n    selectedRoomIDs: [],\n    selectedRoomNames: [],\n    selectedRoomName: \"\",\n    lockSelection: false,\n    multiSelect: false,\n    raycaster: null,\n    projector: null,\n    mouseVector: null,\n    camerafocuswidth: 20,\n    controls3d: null,\n    controls2d: null,\n    params: null,\n    buildingbox: null,\n    map: null,\n    scene: null,\n    renderer: null,\n    labelrenderer: null,\n    needsrender: false,\n    axisLines: [],\n    boxes: [],\n    lights: [],\n    roomGeometry: [],\n    boundingBoxDrawed: [],\n    wayBetweenRooms: [],\n    keysPressed: {},\n    scaleFactor: 1,\n    characterControls: null,\n    GLTFloadingFlag: false,\n    GLTFloadingQueue: [],\n    IFCPropertyJson: null,\n    animate: true,\n    gltfGeoVisible: false,\n    spacesVisible: false,\n    gltfLoadedList: [],\n    TWEEN: TWEEN,\n    physicsWorld: undefined,\n    cannonDebugger: undefined,\n    personBody: undefined,\n    timestep: 1/60,\n    lastLabelCheck: new Date().getTime(),\n    sphereMesh: undefined,\n    sphereBody: undefined,\n    boxMesh: undefined,\n    boxBody: undefined,\n    bedModel: undefined,\n    bedBody: undefined,\n    allActions: undefined,\n    baseActions: undefined,\n    model: undefined,\n    skeleton: undefined, \n    mixer: undefined,\n    clock: undefined, \n    numAnimations: 0, \n    movingForward: false,\n    mousedown: false,\n    arrowModel: undefined,\n    arrowModelStart: false,\n    drawBuildingBoxFlag: false,\n    selectedStorey: {\"name\": \"HAV\", \"hag\": 3, \"uri\": \"\"},\n  },\n  getters: {\n  },\n  // Mutations are functions that affect the State\n  mutations: {\n    SET_VIEWPORT_SIZE(state, { width, height }) {\n      state.width = width;\n      state.height = height;\n    },\n    RESIZE(state, {width, height}) {\n      console.log(\"Resizing view: \"+width)\n      state.width = width;\n      state.height = height;\n      state.renderer.setSize(width, height);\n      if(state.twodim){\n        state.twodimcamera.aspect = width/height;\n        state.twodimcamera.updateProjectionMatrix();\n        state.labelrenderer.setSize(width, height);\n      } else {\n        if(state.thirdperson){\n          state.thirdpersoncamera.aspect = width/height;\n          state.thirdpersoncamera.updateProjectionMatrix()\n        } else {\n          state.camera.aspect = width/height;\n          state.camera.updateProjectionMatrix()\n          state.labelrenderer.setSize(width, height);\n        }\n      }\n      state.needsrender = true;\n    },\n    INITIALIZE_RENDERER(state, el) {\n      state.renderer = new WebGLRenderer({\n        antialias: true\n      });\n      state.renderer.shadowMap.enabled = true;\n      state.renderer.shadowMap.type = PCFSoftShadowMap;\n      const pixelRat = Math.min(window.devicePixelRatio, 2);\n      state.renderer.setPixelRatio(pixelRat);\n      state.renderer.setSize(state.width, state.height);\n      el.appendChild(state.renderer.domElement);\n    },\n    INITIALIZE_LABEL_RENDERER(state, el) {\n      state.labelrenderer = new CSS2DRenderer();\n      state.labelrenderer.setSize(state.width, state.height);\n      state.labelrenderer.domElement.style.position = 'absolute';\n      state.labelrenderer.domElement.style.pointerEvents = 'none';\n      state.labelrenderer.domElement.style.top = '0';\n      el.appendChild(state.labelrenderer.domElement);\n    },\n    INITIALIZE_CAMERA(state) {\n      //state.camera = new PerspectiveCamera(80, 1, 1e2, 1e12);\n      //state.camera.position.set(0, 1000, 0);\n      state.camera = new PerspectiveCamera(\n        // 1. Field of View (degrees)\n        75,\n        // 2. Aspect ratio\n        1,\n        // 3. Near clipping plane\n        0.2,\n        // 4. Far clipping plane\n        1e12\n      );\n\n      var near = 0.2, far = 500;\n      state.twodimcamera = new OrthographicCamera( state.width / - 2, state.width / 2, state.height / 2, state.height / - 2 , near, far);\n      //const aspect = state.width / state.height;\n      //state.twodimcamera = new PerspectiveCamera(45, aspect, 1, 1000);\n      state.twodimcamera.position.set(0, 300, 0);\n\n\n      // Third person camera\n      state.thirdpersoncamera = new PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.01, 1000 );\n      state.thirdpersoncamera.position.set( 0, 3.2, -1 );\n      state.thirdPersonCameraOrigin = new Vector3(0, 1.3, 0);\n      state.thirdpersoncamera.lookAt(state.thirdPersonCameraOrigin);\n      state.thirdpersonContainer.add(state.thirdpersoncamera);\n    },\n    INITIALIZE_CONTROLS(state, dispatch) {\n      state.controls3d = new OrbitControls(\n        state.camera,\n        state.renderer.domElement\n      );\n      state.coords = UnitsUtils.datumsToSpherical(state.focuslat, state.focuslong);\n      console.log(state.coords.x+\" \"+-state.coords.y);\n      state.controls3d.target.set(state.coords.x, -10, -state.coords.y);\n      state.controls3d.panSpeed = 2.0;\n      state.controls3d.noZoom = false;\n      state.controls3d.noPan = false;\n      state.controls3d.keys = {\n      \tLEFT: 'ArrowLeft', //left arrow\n      \tUP: 'ArrowUp', // up arrow\n      \tRIGHT: 'ArrowRight', // right arrow\n      \tBOTTOM: 'ArrowDown' // down arrow\n      };\n      state.controls3d.touches = {\n      \tONE: TOUCH.ROTATE,\n      \tTWO: TOUCH.DOLLY_PAN\n      };\n      state.controls3d.autoRotate = false;\n      state.controls3d.rotateSpeed = 0.5;\n      state.controls3d.autoRotateSpeed = 0.5;\n      state.controls3d.enableDamping = false;\n\n      //state.controls3d.staticMoving = true;\n      //state.controls3d.dynamicDampingFactor = 0.3;\n      state.controls3d.minDistance = 5;\n      state.controls3d.zoomSpeed = 1.5;\n\n      // Implement 2d controls\n      state.controls2d = new OrbitControls(state.twodimcamera, state.renderer.domElement);\n      state.controls2d.panSpeed = 2;\n      state.controls2d.zoomSpeed = 0.9;\n      //state.controls2d.enableZoom = true;\n      //state.controls2d.minZoom = 0.1;\n      //state.controls2d.maxZoom = 600.0;\n      state.controls2d.enableDamping = false;\n      state.controls2d.noZoom = false;\n      state.controls2d.noPan = false;\n      state.controls2d.minDistance = 5;\n      state.controls2d.enablePan = true;\n      state.controls2d.enableRotate = false;\n      state.controls2d.touches = {\n      \tONE: TOUCH.PAN,\n      \tTWO: TOUCH.DOLLY_PAN\n      };\n      /*state.controls2d.keys = {\n      \tLEFT: 'ArrowLeft', //left arrow\n      \tUP: 'ArrowUp', // up arrow\n      \tRIGHT: 'ArrowRight', // right arrow\n      \tBOTTOM: 'ArrowDown' // down arrow\n      };\n      state.controls2d.listenToKeyEvents(state.renderer.domElement);*/\n      state.controls2d.screenSpacePanning = false;\n      //state.controls2d.mouseButtons = { PAN: MOUSE.LEFT, ZOOM: MOUSE.MIDDLE, ORBIT: MOUSE.RIGHT }; // swapping left and right buttons Stops working when enable ESPEN\n      state.controls2d.target.set(0, 0, 0);\n    },\n    INITIALIZE_MAP(state){\n      var OPEN_MAP_TILES_SERVER_MAP = \"\";\n      var DEV_MAPBOX_API_KEY = \"pk.eyJ1IjoibWFydGhpbmkiLCJhIjoiY2w1ejBnYnpvMDlvYTNvcnlyN3B5YXNxeCJ9.FOG1KIIZzpyVWoNJkpcFkA\";\n      var DEV_MAPTILER_API_KEY = \"voHfgwdOKAzd1qOIaVJg\";\n      //var provider = new OpenStreetMapsProvider();\n      //var provider = new BingMapsProvider(); // Satelittbilder..\n      //var provider = new MapTilerProvider(DEV_MAPTILER_API_KEY, 'maps', 'basic', 'png');\n      //var provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/streets-v10\", MapBoxProvider.STYLE);\n      //var provider = new MapTilerProvider(DEV_MAPTILER_API_KEY, 'maps', 'bright', 'png');\n      //var provider = new MapTilerProvider(DEV_MAPTILER_API_KEY, 'tiles', 'hybrid', 'jpg');\n      //var providerTerrain = new MapTilerProvider(DEV_MAPTILER_API_KEY, 'tiles', 'terrain-rgb', 'png');\n      //var provider = new MapTilerProvider(); //HereMapsProvider, BingMapsProvider, MapTilerProvider\n      //state.map = new MapView(MapView.HEIGHT, provider, providerTerrain);\n\n\n      var provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/streets-v10\", MapBoxProvider.STYLE);\n      //var provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox.satellite\", MapBoxProvider.MAP_ID, \"jpg70\", false); // Virker med høydekurver\n      //var provider = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox/satellite-streets-v10\", MapBoxProvider.STYLE, \"jpg70\");\n      var providerTerrain = new MapBoxProvider(DEV_MAPBOX_API_KEY, \"mapbox.terrain-rgb\", MapBoxProvider.MAP_ID, \"pngraw\");\n\n      //state.map = new MapView(MapView.HEIGHT, provider, providerTerrain);\n      state.map = new MapView(MapView.PLANAR, provider);\n      //state.map = new MapView(MapView.SPHERICAL, provider, provider);\n      state.map.receiveShadow = true;\n      state.map.name = \"map\";\n      state.map.renderOrder = 2;\n\n           /* state.map.addLayer(\n              {\n              'id': 'add-3d-buildings',\n              'source': 'composite',\n              'source-layer': 'building',\n              'filter': ['==', 'extrude', 'true'],\n              'type': 'fill-extrusion',\n              'minzoom': 15,\n              'paint': {\n              'fill-extrusion-color': '#aaa',\n               \n              // Use an 'interpolate' expression to\n              // add a smooth transition effect to\n              // the buildings as the user zooms in.\n              'fill-extrusion-height': [\n              'interpolate',\n              ['linear'],\n              ['zoom'],\n              15,\n              0,\n              15.05,\n              ['get', 'height']\n              ],\n              'fill-extrusion-base': [\n              'interpolate',\n              ['linear'],\n              ['zoom'],\n              15,\n              0,\n              15.05,\n              ['get', 'min_height']\n              ],\n              'fill-extrusion-opacity': 0.6\n              }\n              },\n              34545\n              );*/\n\n      state.scene.add(state.map);\n      state.map.updateMatrixWorld(true);\n    },\n    INITIALIZE_SCENE(state) {\n      state.scene = new Scene();\n      state.scene.background = new Color(0xcccccc);\n      //state.scene.fog = new FogExp2(0xcccccc, 0.002);\n      var material = new MeshPhongMaterial({\n        color: 0x009900,\n        flatShading: true\n      });\n\n      // Sky\n      function createSky()\n      {\n        // Add Sky\n        var sky = new Sky();\n        sky.scale.setScalar(1e8);\n\n        // GUI\n        var effectController = {\n          turbidity: 5,\n          rayleigh: 2,\n          mieCoefficient: 0.005,\n          mieDirectionalG: 0.8,\n          inclination: 0.48,\n          azimuth: 0.25,\n          exposure: 0.5\n        };\n\n        const uniforms = sky.material.uniforms;\n        uniforms[\"turbidity\"].value = effectController.turbidity;\n        uniforms[\"rayleigh\"].value = effectController.rayleigh;\n        uniforms[\"mieCoefficient\"].value = effectController.mieCoefficient;\n        uniforms[\"mieDirectionalG\"].value = effectController.mieDirectionalG;\n\n        var theta = Math.PI * (effectController.inclination - 0.5);\n        var phi = 2 * Math.PI * (effectController.azimuth - 0.5);\n\n        var sun = new Vector3();\n        sun.x = Math.cos(phi);\n        sun.y = Math.sin(phi) * Math.sin(theta);\n        sun.z = Math.sin(phi) * Math.cos(theta);\n        uniforms[\"sunPosition\"].value.copy(sun);\n\n        return sky;\n      }\n      state.scene.add(createSky());\n    },\n    INITIALIZE_LIGHTS(state) {\n      let pos = UnitsUtils.datumsToSpherical(state.focuslat, state.focuslong);\n      // Lights\n      var lightA = new DirectionalLight( 0xffffff, 1 );\n      lightA.castShadow = true;\n      lightA.position.set( 3, 1, 3 );\n\n      //Set up shadow properties for the light\n      lightA.shadow.mapSize.width = 5; // default\n      lightA.shadow.mapSize.height = 5; // default\n      lightA.shadow.camera.near = 5; // default\n      lightA.shadow.camera.far = 50; // default\n      lightA.name = \"light\";\n\n      var lightC = new DirectionalLight( 0xffffff, 0.8 );\n      lightC.castShadow = true;\n      lightC.position.set( -3, 1, -3 );\n      lightC.name = \"light\";\n\n      //Set up shadow properties for the light\n      lightC.shadow.mapSize.width = 512; // default\n      lightC.shadow.mapSize.height = 512; // default\n      lightC.shadow.camera.near = 500; // default\n      lightC.shadow.camera.far = 50000; // default\n\n      let lightB = new AmbientLight(0xffffff, 0.4);\n      lightB.name = \"light\";\n      state.lights = [];\n      state.lights.push(lightA);\n      state.lights.push(lightB);\n      state.lights.push(lightC);\n      state.scene.add(...state.lights);\n    },\n    INITIALIZE_PLAYER_CONTROLS(state){\n      if(!state.thirdpersonLoaded){\n        // state.thirdpersonContainer for both camera and person\n        state.scene.add(state.thirdpersonContainer);\n\n        // Model and animation actions\n        //let model, skeleton, mixer, clock, numAnimations = 0, movingForward = false, mousedown = false;\n        state.clock = new Clock();\n        state.allActions = [];\n        state.baseActions = {\n          idle: { weight: 1 },\n          MacarenaDance: { weight: 0 },\n          SillyDancing: { weight: 0 },\n          run: { weight: 0 },\n          walk: { weight: 0 },\n          push: { weight: 0 },\n          jump: { weight: 0 }\n        };\n      }\n\n      function setWeight( action, weight ) {\n        action.enabled = true;\n        action.setEffectiveTimeScale( 1 );\n        action.setEffectiveWeight( weight );\n      }\n      function activateAction( action ) {\n        const clip = action.getClip();\n        const settings = state.baseActions[ clip.name ];\n        setWeight( action, settings.weight );\n        action.play();\n      }\n\n      function stopAction( action ) {\n        const clip = action.getClip();\n        action.reset();\n        action.stop();\n      }\n\n      const loader = new GLTFLoader();\n      if(!state.thirdpersonLoaded) loader.load( '../Doctor3.glb', function ( gltf ) {\n        state.model = gltf.scene;\n        state.model.name = \"Person\";\n        state.model.scale.set(0.01, 0.01, 0.01);\n        state.model.position.y = state.model.position.y+0.9; // Move the person within the bounding box\n        state.thirdpersonContainer.add(state.model);\n        state.thirdpersonContainer.position.y = state.thirdpersonContainer.position.y-2;\n        state.model.traverse( function ( object ) {\n          if ( object.isMesh ) {\n            object.castShadow = true;\n          }   \n        });\n        \n        state.skeleton = new SkeletonHelper( state.model );\n        state.skeleton.visible = false;\n        state.thirdpersonContainer.add( state.skeleton );\n        const animations = gltf.animations;\n        state.mixer = new AnimationMixer( state.model );\n\n        let a = animations.length;\n        for ( let i = 0; i < a; ++ i ) {\n          let clip = animations[ i ];\n          const name = clip.name;\n          if ( state.baseActions[ name ] ) {\n            const action = state.mixer.clipAction( clip );\n            activateAction( action );\n            state.baseActions[ name ].action = action;\n            state.allActions.push( action );\n            state.numAnimations += 1;\n          }\n        }\n\n        loader.load( '../hospitalbed.glb', function ( gltf ) {\n            state.bedModel = gltf.scene;\n            state.bedModel.scale.set(0.01, 0.01, 0.01);\n            state.scene.add( state.bedModel );\n          },\n          function ( progress ) {\n            let progressPercent = ( progress.loaded / progress.total * 100 );\n            console.log(progressPercent+'% loaded' );\n            if(progressPercent==100){ \n              console.log(\"GLTF loading finished!\");\n              setTimeout(function() { window.requestAnimationFrame(() => { state.needsrender = true; }); }, 300);\n              state.GLTFloadingFlag = false;\n            }\n          },\n          function ( error ) {\n            console.log( 'An error happened: '+error );\n          }\n        );\n\n        const geometry = new BoxGeometry( 5, 3, 5 );\n        const material = new MeshBasicMaterial( {color: 0x00ff00} );\n        state.boxMesh = new Mesh( geometry, material );\n        state.scene.add( state.boxMesh );\n\n        // Initialize physics\n        state.physicsWorld = new CANNON.World({\n          gravity: new CANNON.Vec3(0, -9.82, 0),\n        });\n\n        const groundBody = new CANNON.Body({\n          type: CANNON.Body.STATIC,\n          shape: new CANNON.Plane,\n        });\n        groundBody.quaternion.setFromEuler(-Math.PI / 2, 0, 0);\n        state.physicsWorld.addBody(groundBody);\n\n        const personContactMaterial = new CANNON.ContactMaterial(\"personContactMaterial\", {\n          friction: 1, // 0 is no friction\n          restitution: 0, // Sets the bounciness. 1 is very bouncy\n        });\n        state.physicsWorld.addContactMaterial(personContactMaterial);\n        state.personBody = new CANNON.Body({\n          shape: new CANNON.Box(new CANNON.Vec3(0.4, 0.9, 0.4)),\n          mass: 80,\n          material: personContactMaterial\n        });\n\n        const rampContactMaterial = new CANNON.ContactMaterial(personContactMaterial, {\n          friction: 1, // 0 is no friction\n          restitution: 0, // Sets the bounciness. 1 is very bouncy\n          contactEquationStiffness: 1e9,\n          contactEquationRelaxation: 1, // Relaxation time of contact equations. (Higher = more spongy)\n          frictionEquationStiffness: 1e5,\n          frictionEquationRelaxation: 3\n        });\n        state.physicsWorld.addContactMaterial(rampContactMaterial);\n        const rampBody = new CANNON.Body({\n          type: CANNON.Body.STATIC,\n          shape: new CANNON.Box(new CANNON.Vec3(3, 4, 0.1)),\n          material: rampContactMaterial\n        });\n        rampBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1, 0, 0), -Math.PI / 2.5); // Set ramp body rotation: rotate ramp on x axis by -30 degrees (-Math.PI/6)\n        //rampBody.quaternion.setFromEuler(-Math.PI / 3, 0, 0);\n        rampBody.position = new CANNON.Vec3(0, 1, -3);\n        state.physicsWorld.addBody(rampBody);\n\n        state.bedBody = new CANNON.Body({\n          mass: 10,\n          shape: new CANNON.Box(new CANNON.Vec3(2.0, 1.5, 1.0))\n        });\n        state.physicsWorld.addBody(state.bedBody);\n\n        state.boxBody = new CANNON.Body({\n          type: CANNON.Body.STATIC,\n          shape: new CANNON.Box(new CANNON.Vec3(800, 0.2, 800))\n        });\n        state.boxBody.position = new CANNON.Vec3(-400, state.selectedStorey.hag*state.scaleFactor, -400);\n        state.physicsWorld.addBody(state.boxBody);\n        /*\n        state.sphereBody = new CANNON.Body({\n          shape: new CANNON.Sphere(5),\n          mass: 10,\n        });\n        const sphereGeo = new SphereGeometry(5);\n        const material1 = new MeshBasicMaterial({color: 0x22aa22});\n        state.sphereMesh = new Mesh(sphereGeo, material1);\n        state.scene.add(state.sphereMesh);\n        state.sphereBody.position.set(13, 7, 5);\n        state.physicsWorld.addBody(sphereBody);*/\n\n        state.personBody.position.y = state.personBody.position.y+state.selectedStorey.hag*state.scaleFactor+0.8;\n        state.personBody.position.x = state.personBody.position.x+59*state.scaleFactor;\n        state.personBody.position.z = state.personBody.position.z-23*state.scaleFactor;\n        state.physicsWorld.addBody(state.personBody);\n        state.cannonDebugger = new CannonDebugger(state.scene, state.physicsWorld, {\n          // options...\n        });\n      });\n\n      if(!state.thirdpersonLoaded){\n        // Key and mouse events\n        window.addEventListener(\"keydown\", (e) => {\n          const { keyCode } = e;\n          if(keyCode === 87 || keyCode === 38) {\n            state.baseActions.SillyDancing.weight = 0;\n            state.baseActions.MacarenaDance.weight = 0;\n            state.baseActions.idle.weight = 0;\n            state.baseActions.run.weight = 5;   \n            activateAction(state.baseActions.run.action);\n            stopAction(state.baseActions.idle.action);\n            stopAction(state.baseActions.MacarenaDance.action);\n            stopAction(state.baseActions.SillyDancing.action);\n            state.movingForward = true;\n          }\n        });\n\n        window.addEventListener(\"keyup\", (e) => {\n          const { keyCode } = e;\n          if(keyCode === 87 || keyCode === 38) {\n            state.baseActions.idle.weight = 1;\n            state.baseActions.run.weight = 0;\n            state.baseActions.jump.weight = 0;\n            stopAction(state.baseActions.run.action);\n            activateAction(state.baseActions.idle.action);\n            stopAction(state.baseActions.jump.action);\n            state.movingForward = false;\n          }\n        });\n\n        window.addEventListener(\"keydown\", (e) => {\n          const { keyCode } = e;\n          if(keyCode === 68) { // When d is pressed\n            state.baseActions.MacarenaDance.weight = 5;\n            state.baseActions.SillyDancing.weight = 0;\n            state.baseActions.run.weight = 0;\n            state.baseActions.idle.weight = 0;\n            stopAction(state.baseActions.SillyDancing.action);\n            activateAction(state.baseActions.MacarenaDance.action);\n            stopAction(state.baseActions.run.action);\n            stopAction(state.baseActions.idle.action);\n            state.movingForward = false;\n          }\n        });\n\n        window.addEventListener(\"keydown\", (e) => {\n          const { keyCode } = e;\n          if(keyCode === 65) { // When a is pressed\n            state.baseActions.SillyDancing.weight = 5;\n            state.baseActions.MacarenaDance.weight = 0;\n            state.baseActions.run.weight = 0;\n            state.baseActions.idle.weight = 0;\n            activateAction(state.baseActions.SillyDancing.action);\n            stopAction(state.baseActions.MacarenaDance.action);\n            stopAction(state.baseActions.run.action);\n            stopAction(state.baseActions.idle.action);\n            state.movingForward = false;\n          }\n        });\n\n        window.addEventListener(\"keydown\", (e) => {\n          const { keyCode } = e;\n          if(keyCode === 69) { // When e is pressed\n            state.baseActions.jump.weight = 40;\n            activateAction(state.baseActions.jump.action);\n            setTimeout(function() { \n              state.baseActions.jump.weight = 0;\n              stopAction(state.baseActions.jump.action);\n             }, 800);\n          }\n        });\n\n        window.addEventListener(\"pointerdown\", (e) => {\n          state.mousedown = true;\n        });\n\n        window.addEventListener(\"pointerup\", (e) => {\n          state.mousedown = false;\n        });\n\n        window.addEventListener(\"pointermove\", (e) => {\n          if(state.thirdperson){\n            if(state.mousedown) {\n              const { movementX, movementY } = e;\n              const offset = new Spherical().setFromVector3(\n                state.thirdpersoncamera.position.clone().sub(state.thirdPersonCameraOrigin)\n              );\n              const phi = offset.phi - movementY * 0.02;\n              offset.theta -= movementX * 0.02;\n              offset.phi = Math.max(0.01, Math.min(0.60 * Math.PI, phi));\n              state.thirdpersoncamera.position.copy(\n                state.thirdPersonCameraOrigin.clone().add(new Vector3().setFromSpherical(offset))\n              );\n              state.thirdpersoncamera.lookAt(state.thirdpersonContainer.position.clone().add(state.thirdPersonCameraOrigin));\n            }\n          }\n        });\n\n        state.thirdpersonLoaded = true;\n      }\n    },\n  },\n\n  // Action are functions that call Mutations\n  actions: {\n    INIT({ state, commit, dispatch, rootState }, { width, height, el }) {\n      return new Promise(resolve => {\n        state.params = { time: 0 };\n        state.focuslat = 66.32624;\n        state.focuslong = 14.18643;\n        state.coords = UnitsUtils.datumsToSpherical(state.focuslat, state.focuslong);\n        state.clock = new Clock();\n        commit(\"SET_VIEWPORT_SIZE\", { width, height });\n        commit(\"INITIALIZE_RENDERER\", el);\n        commit(\"INITIALIZE_LABEL_RENDERER\", el);\n        commit(\"INITIALIZE_CAMERA\");\n        commit(\"INITIALIZE_CONTROLS\");\n        commit(\"INITIALIZE_SCENE\");\n        if(state.mapMode) commit(\"INITIALIZE_MAP\");\n        commit(\"INITIALIZE_LIGHTS\");\n        // Initial scene rendering\n        // Add an event listener that will re-render\n        // the scene when the controls are changed\n\n        function showHideBuildingLabels( distance ) {\n          state.scene.children.forEach(element => {\n            if(element.name.includes(\"buildinglabel\")){\n              if(distance>=2000){\n                element.visible = true;\n              } else {\n                if(element.visible==true){\n                  state.drawBuildingBoxFlag = true;\n                }\n                element.visible = false;\n              }\n            }\n          });\n        }\n\n\n        async function checkDistanceBetweenBuildingLabels( distance ) {\n          if(distance<=2000) return;\n          const labels = [];\n          const elementPositions = [];\n          state.scene.children.forEach(element => {\n            if(element.name.includes(\"buildinglabel\")){\n              let elementPos = undefined;\n              if(state.twodim){\n                elementPos = element.position.clone().project( state.twodimcamera );\n              } else {\n                elementPos = element.position.clone().project( state.camera );\n              }\n              labels.push(element);\n              elementPositions.push(elementPos);\n            }\n          });\n          if(elementPositions.length>=2){\n            // Do check on distances\n            const hiddenLabels = [];\n            const addedLabels = [];\n            for(let ep=0; ep<elementPositions.length; ep++){\n              for(let ep2=ep+1; ep2<elementPositions.length; ep2++){ // Starting on the next item in array to cover all\n                const distBetween = elementPositions[ep].distanceTo(elementPositions[ep2]);\n                if(distBetween<=0.1){\n                  // Make sure label1 has largest cluster count\n                  let epClusterSize = 0, ep2ClusterSize = 0;\n                  if(labels[ep].cluster) epClusterSize = labels[ep].cluster.length;\n                  if(labels[ep2].cluster) ep2ClusterSize = labels[ep2].cluster.length;\n                  if(epClusterSize < ep2ClusterSize){\n                    makeBuildingGroupLabel(labels[ep2], labels[ep]);\n                    labels[ep].visible = false;\n                    hiddenLabels.push(labels[ep].element.uri);\n                    addedLabels.push(labels[ep2].element.uri);\n                  } else {\n                    makeBuildingGroupLabel(labels[ep], labels[ep2]);\n                    labels[ep2].visible = false;\n                    hiddenLabels.push(labels[ep2].element.uri);\n                    addedLabels.push(labels[ep].element.uri);\n                  }\n                } else {\n                  let epClusterSize = 0, ep2ClusterSize = 0;\n                  if(labels[ep].cluster) epClusterSize = labels[ep].cluster.length;\n                  if(labels[ep2].cluster) ep2ClusterSize = labels[ep2].cluster.length;\n                  if(epClusterSize < ep2ClusterSize){\n                    if(!addedLabels.includes(labels[ep2].element.uri)) removeBuildingGroupLabel(labels[ep2], labels[ep]);\n                    if(!hiddenLabels.includes(labels[ep].element.uri)) labels[ep].visible = true;\n                  } else {\n                    if(!addedLabels.includes(labels[ep].element.uri)) removeBuildingGroupLabel(labels[ep], labels[ep2]);\n                    if(!hiddenLabels.includes(labels[ep2].element.uri)) labels[ep2].visible = true;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        function makeBuildingGroupLabel(label1, label2){\n          if(!label1.cluster) label1.cluster = [];\n          if(!label1.cluster.includes(label1.element.uri)) label1.cluster.push(label1.element.uri);\n          if(!label1.cluster.includes(label2.element.uri)) label1.cluster.push(label2.element.uri);\n          label1.element.classList.remove('building-base-label');\n          label1.element.classList.add('building-base-label');\n          label1.element.childNodes[1].classList.remove(\"hidden\");\n          label1.element.childNodes[1].innerText = (parseInt(label1.cluster.length))+'';\n          if(label1.element.onmouseenter) label1.element.mouseenter = label1.element.onmouseenter; // Storing function in temp name\n          if(label1.element.onmouseleave) label1.element.mouseleave = label1.element.onmouseleave; // Storing function in temp name\n          label1.element.onmouseenter = null;\n          label1.element.onmouseleave = null;\n        }\n\n        function removeBuildingGroupLabel(label1, label2){\n          if(!label1.cluster) label1.cluster = [];\n          if(!label2.cluster) label2.cluster = [];\n          if(!label1.cluster.includes(label1.element.uri)) label1.cluster.push(label1.element.uri);\n          if(label1.cluster.includes(label2.element.uri)) label1.cluster.splice(label1.cluster.indexOf(label2.element.uri), 1);\n          label1.element.classList.add('building-base-label');\n          label1.element.classList.remove('building-base-label');\n          label1.element.childNodes[1].classList.add(\"hidden\");\n          label1.element.childNodes[1].innerText = (parseInt(label1.cluster.length))+'';\n          label2.element.childNodes[1].innerText = (parseInt(label2.cluster.length))+'';\n          if(label1.element.mouseenter) label1.element.onmouseenter = label1.element.mouseenter;\n          if(label1.element.mouseleave) label1.element.onmouseleave = label1.element.mouseleave;\n        }\n\n        state.controls3d.addEventListener(\"change\", () => {\n            try{\n              if(!state.twodim){\n\n                const elapsed = new Date().getTime()-state.lastLabelCheck;\n                if(elapsed>=600){\n                  state.lastLabelCheck = new Date().getTime();\n                  const dist = state.controls3d.getDistance();\n                  showHideBuildingLabels(dist);\n                  checkDistanceBetweenBuildingLabels(dist);\n                }\n                dispatch(\"RENDER\");\n              }\n            } catch (error){\n              console.log(error);\n            }\n          });\n        state.controls2d.addEventListener(\"change\", () => {\n          try{\n            if(state.twodim){\n              //console.log(\"2d control change..\")\n              const elapsed = new Date().getTime()-state.lastLabelCheck;\n              if(elapsed>=200){\n                state.lastLabelCheck = new Date().getTime();\n                const dist = ((1-state.twodimcamera.zoom)*4000);\n                showHideBuildingLabels(dist);\n                checkDistanceBetweenBuildingLabels(dist);\n              }\n              dispatch(\"RENDER\");\n            }\n          } catch (error){\n            console.log(error);\n          }\n        });\n        /*state.animationid = state.renderer.setAnimationLoop( function () {\n          try{\n            dispatch(\"RENDER\");\n          } catch (error){\n            console.log(error);\n          }\n        } );*/\n        state.projector = new Projector();\n\n        state.mouseVector = new Vector2();\n        state.raycaster = new Raycaster();\n        state.raycaster.firstHitOnly = true;\n        resolve();\n      });\n    },\n    ANIMATE({ state, dispatch }) {\n      window.requestAnimationFrame(() => {\n        if(state.twodim){\n          state.controls2d.update();\n        } else {\n          state.controls3d.update();\n        }\n        state.params.time += 0.01;\n        if(state.animate){\n          //console.log(\"animates..\")\n          //state.twodimcamera.position.set(state.twodimcamera.position.x+1, 0, state.twodimcamera.position.z+1);\n          dispatch(\"RENDER\");\n          dispatch(\"ANIMATE\");\n        }\n      });\n      // Below is set to enable VR\n      /*state.renderer.setAnimationLoop( function () {\n        state.renderer.render( state.scene, state.camera );\n        state.controls3d.update();\n        state.params.time += 0.01;\n        dispatch(\"ANIMATE\");\n      } );*/\n    },\n    RENDER({ state, dispatch }) {\n      if (state.animationid !== null) cancelAnimationFrame(state.animationid); // Tries to remove previous scene render after page refresh\n      state.animationid = window.requestAnimationFrame(() => {\n        TWEEN.update();\n        if(state.twodim){\n          state.renderer.render(state.scene, state.twodimcamera);\n          state.labelrenderer.render(state.scene, state.twodimcamera);\n        } else {\n          if(state.thirdperson){\n            dispatch(\"THIRDPERSON_ANIMATE\");\n            //state.renderer.render(state.scene, state.thirdpersoncamera);\n          } else {\n            state.renderer.render(state.scene, state.camera);\n            state.labelrenderer.render(state.scene, state.camera);\n          }\n        }\n      });\n    },\n    CALL_RAYCAST({ state, dispatch }) {\n      if(state.twodim){\n        state.raycaster.setFromCamera( state.mouseVector, state.twodimcamera );\n      } else {\n        state.raycaster.setFromCamera( state.mouseVector, state.camera );\n      }\n      let intersects = state.raycaster.intersectObjects( state.scene.getObjectByName(\"buildingbox\").children , true );\n      //console.log(\"Intersects count: \"+intersects.length);\n      //if(intersects[0].object.parent.name.includes(\"FLOORPLAN\")) intersects = intersects.shift(); // Removing floorplan from raycast hits\n      /*\n      for (var i = intersects.length - 1; i >= 0; i--) {\n        if(intersects[i]){\n          if (intersects[i].object.parent.name.includes(\"mesh_\") || intersects[i].object.name.includes(\"mesh_\") || intersects[i].object.parent.name.includes(\"FLOORPLAN\") || intersects[i].object.visible==false) { \n            intersects.splice(i, 1);\n          }\n        }\n      }*/\n\n      let firstIntersection = intersects[0];\n      if(!firstIntersection){\n        intersects = state.raycaster.intersectObjects( state.scene.children , false );\n      }\n      intersects.forEach(intersect => {\n        if(intersect.object.visible){\n          firstIntersection = intersect;\n          return;\n        }\n      });\n      if(firstIntersection){\n        state.intersectXY.x = firstIntersection.point.x;\n        state.intersectXY.y = firstIntersection.point.z;\n      }\n\n      /*if(firstIntersection){\n        console.log(\"Intersects name:\"+firstIntersection.object.name);\n        if(!firstIntersection.object.name.includes(\"mesh_\")){ // Got hit from gltf, need to track down subpart\n          if ( state.INTERSECTED != firstIntersection.object ) {\n            if ( state.INTERSECTED && !state.multiSelect ) state.INTERSECTED.material.color.setHex( state.INTERSECTED.currentHex );\n            state.INTERSECTED = firstIntersection.object;\n            state.INTERSECTED.currentHex = state.INTERSECTED.material.color.getHex();\n            state.INTERSECTED.material.color.setHex( 0xff0000 );\n          } else {\n            if ( state.INTERSECTED ) state.INTERSECTED.material.color.setHex( state.INTERSECTED.currentHex );\n            state.INTERSECTED = null;\n            state.selectedRoomNames = [];\n          } \n        }\n      }*/\n      dispatch(\"RENDER\");\n      console.log(intersects[0]);\n      return intersects;\n    },\n    THIRDPERSON_ANIMATE({ state, dispatch }) {\n      for ( let i = 0; i < state.numAnimations; i++ ) {\n        const action = state.allActions[ i ];\n        const clip = action.getClip();\n        const settings = state.baseActions[clip.name];\n        // settings.weight = action.getEffectiveWeight();\n      }\n\n      if(state.mixer) {\n        const mixerUpdateDelta = state.clock.getDelta();\n        state.mixer.update( mixerUpdateDelta );\n      }\n      \n      if(state.movingForward) {\n        // Get the X-Z plane in which camera is looking to move the player\n        state.thirdpersoncamera.getWorldDirection(state.tempCameraVector);\n        const cameraDirection = state.tempCameraVector.setY(0).normalize();\n        \n        // Get the X-Z plane in which player is looking to compare with camera\n        state.model.getWorldDirection(state.tempModelVector);\n        const playerDirection = state.tempModelVector.setY(0).normalize();\n\n        // Get the angle to x-axis. z component is used to compare if the angle is clockwise or anticlockwise since angleTo returns a positive value\n        const cameraAngle = cameraDirection.angleTo(state.xAxis) * (cameraDirection.z > 0 ? 1 : -1);\n        const playerAngle = playerDirection.angleTo(state.xAxis) * (playerDirection.z > 0 ? 1 : -1);\n        \n        // Get the angle to rotate the player to face the camera. Clockwise positive\n        const angleToRotate = playerAngle - cameraAngle;\n        \n        // Get the shortest angle from clockwise angle to ensure the player always rotates the shortest angle\n        let sanitisedAngle = angleToRotate;\n        if(angleToRotate > Math.PI) {\n          sanitisedAngle = angleToRotate - 2 * Math.PI\n        }\n        if(angleToRotate < -Math.PI) {\n          sanitisedAngle = angleToRotate + 2 * Math.PI\n        }\n        \n        // Rotate the model by a tiny value towards the camera direction\n        state.model.rotateY(\n          Math.max(-0.10, Math.min(sanitisedAngle, 0.10))\n        );\n        state.thirdpersonContainer.position.add(cameraDirection.multiplyScalar(0.20));\n        //state.personBody.position.copy(state.thirdpersonContainer.position);\n        state.personBody.position.x = state.thirdpersonContainer.position.x;\n        state.personBody.position.z = state.thirdpersonContainer.position.z;\n        state.camera.lookAt(state.thirdpersonContainer.position.clone().add(state.thirdPersonCameraOrigin));\n        console.log(\"state.personBody\");\n        console.log(state.personBody);\n      }\n      if(state.physicsWorld) {\n        state.physicsWorld.step(state.timestep);\n        state.thirdpersonContainer.position.copy(state.personBody.position);\n        state.thirdpersonContainer.position.y = state.personBody.position.y-0.9; // Sets the person to the bottom of the bounding box instead of center.\n        state.personBody.quaternion.copy(state.thirdpersonContainer.quaternion);\n        //state.thirdpersonContainer.quaternion.copy(state.personBody.quaternion); // The character may rotate upside down\n        if(state.bedModel){\n          state.bedModel.position.copy(state.bedBody.position);\n          //state.bedModel.quaternion.copy(state.bedBody.quaternion);\n        }\n      }\n      //state.cannonDebugger.update()\n      state.renderer.render( state.scene, state.thirdpersoncamera );\n      window.requestAnimationFrame(() => {\n        dispatch(\"RENDER\");\n      });\n    },\n    CONVERT_TO_UTM({ commit, state }, { lat, long, zoneNum, zoneLetter }){\n      return new Promise((resolve, reject) => {\n          let u = utm.fromLatLon(lat, long, zoneNum, zoneLetter);\n          resolve(u);\n      });\n    },\n    CONVERT_FROM_UTM({ commit, state }, { easting, northing, zoneNum, zoneLetter }){\n      return new Promise((resolve, reject) => {\n        let l = utm.toLatLon(easting, northing, zoneNum, zoneLetter);\n        resolve(l);\n      });\n    },\n    CONVERT_TO_SPHERICAL({ commit, state }, { lat, long }){\n      return new Promise((resolve, reject) => {\n        let xy = UnitsUtils.datumsToSpherical(lat, long);\n        resolve(xy);\n      });\n    },\n    ADD_TO_SCENE({ commit, state }, { buildingbox }){\n        state.boxes = [];\n        state.boxes.push(buildingbox);\n        state.scene.add(...state.boxes);\n    },\n    INITIALIZE_PLAYER({commit, dispatch}){\n      commit(\"INITIALIZE_PLAYER_CONTROLS\");\n    }\n  }\n}\n","export default {\n  namespaced: true,\n  state: {\n    roomDetailURI: \"\",\n    buildingDetailURI: \"\",\n    buildingLocationList: [],\n  }\n} \n","const $rdf = require('rdflib')\n\nimport { Session, InMemoryStorage } from '@inrupt/solid-client-authn-browser'\nwindow.solid = {}\nwindow.solid.session = new Session();\nwindow.solidFetcher = window.solid.session.fetch;\nwindow.solid.storage = InMemoryStorage;\n\nconst hyperFetch = function (resource, init) {\n    if (!init) {\n        init = {};\n    }\n    if (!init.headers) {\n        init.headers = {}\n    }\n    init.headers.hypergraph = 'U2FsdGVkX1/S0rANmPZVe3xCIXvlGoGnGudwlp4wFSMFtte++kYYPt0l4B4407c+'\n    return window.solid.session.fetch(resource, init)\n}\n\nwindow.solid.hyperFetch = hyperFetch;\nwindow.solidFetcher = hyperFetch;\n\nconst rdfStore = $rdf.graph();\nconst rdfFetcher = new $rdf.Fetcher(rdfStore, {fetch: hyperFetch})\nconst tempRdfStore = $rdf.graph();\n//rdfUpdater = new $rdf.UpdateManager(rdfStore)\nconsole.log('Unique quadstore initialized:',rdfStore)\n\n\nexport default {\n  namespaced: true,\n  state: {\n    rdfStore,\n    tempRdfStore,\n    $rdf,\n    rdfFetcher,\n    geometryArray: [],\n    urisFetched: [],\n    systemURIs: [],\n    bIndex: [],\n    hyperFetch,\n  }\n} // rdfUpdater\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport BV from './modules/bimview'\nimport CP from './modules/capacity'\nimport RS from './modules/rdfStore'\nimport u from '../components/util'\n\nVue.use(Vuex)\nconst N3 = require('n3');\n\nVue.filter('kb', val => {\n  return Math.floor(val/1024);  \n});\n\n//const serverURL = 'trinpod.us';\n//const serverURL = 'trinpod.eu';\nconst serverURL = 'stage.graphmetrix.net';\n\nconst testNum = 4;\n\nconst store = new Vuex.Store({\n  state: {\n    sensors: [],\n    n3store: new N3.Store(),\n    devMode: false,\n    blankExisted: false,\n    customers: [],\n    blankNodeIndex: 1,\n    blankNodeString: \"\",\n    isLoggedIn: false,\n    webId: \"\",\n    loggedInName: \"\",\n    loggedInInitials: \"\",\n    loginExpire: \"\",\n    currentBuildingTag: \"\",\n    tasks: [],\n    bmurl: \"\",\n    ministryURI: \"https://helsenorge\"+testNum+'.'+serverURL,\n    server: \"https://\"+serverURL,\n    serverPath: serverURL,\n    testNum: testNum,\n    whatToDoVisible: false,\n    redirect: {path:\"/\", query:{\"location\": \"\"}},\n    location: \"\"\n  },\n\n\n  modules: {\n    bv: BV,\n    rs: RS,\n    cp: CP,\n  },\n\n  // Mutations are functions that affect the State\n  mutations: {\n    blankNodeIncrement(state, qty) {\n      if (!qty) {\n        qty = 1\n      }\n      var index = state.blankNodeIndex;\n      var idx = index + qty;\n      state.blankNodeIndex = idx;\n      state.blankNodeString = \"_:t\" + idx;\n      //console.log(\"blankNodeIncrement\", idx);\n    },\n  },\n  // Action are functions that call Mutations\n  actions: {\n    move({ state, commit, getters, dispatch }, obj) {\n\t    console.log(\"dispatch.move - node changed\", obj.node)\n\t    var uri = u.getURI(obj.location)\n\t    if (state.node !== uri) {\n        //await ur.aLoadNode(node);\n        //commit('location', uri)\n        dispatch('select', { node: uri, noPush: true })\n        /*var Types = $.map(ur.getTypes(uri), function (Type) {\n            return ur.getLabel(Type);\n        })*/\n\n        //var locations = state.locations\n        var eObj = Object.assign({}, obj.query)\n        //commit('Types', Types)\n        //commit('node', uri)\n        if (eObj.location !== uri) {\n            eObj.location = uri\n            eObj.select = uri\n            obj.router.push({\n          path: obj.path,\n          query: eObj //had u.getReload here\n            })\n        }\n        //window.localStorage.setItem('redirect_uri',encodeURIComponent(window.location.href))\n      }\n    },\n    select({ state, commit, getters, dispatch }, obj) {\n\t    //first change the highlight on the nodes - only applies to graph view\n\t    var node = obj.node\n\t    var push = obj.push\n\t    //var noPush = obj.noPush\n\t    //var trinity = obj.trinity\n\t    //var uri = u.getURI(node)\n      var uri = node;\n\t    if (uri !== obj.select) {\n        if (push) {\n          var eObj = u.getEObj()\n          if (eObj.select !== uri) {\n            eObj.select = uri\n            obj.router.push({\n                path: obj.path,\n                query: eObj\n            })\n          }\n        }\n      }\n      console.log(\"dispatch.select\", node)\n      //commit('selectURI', null)\n      //commit('selectACL', null)\n      /*if (uri) {\n        dispatch('loadDataSet', { uri: uri })\n        commit('selectURI', uri)\n        var pathname = window.location.pathname\n        var serverPaths = ['/registration','/gmxLogin','/pricing']\n        if (!serverPaths.includes(pathname)){\n            window.localStorage.setItem('redirect_uri',encodeURIComponent(window.location.href))\n        }\n      }*/\n    },\n  },\n  computed: {\n\n  },\n  methods: {\n\n  }\n\n});\n\nexport default store\n","module.exports = \"data:image/png;base64,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\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogin.vue?vue&type=style&index=0&id=273f54ad&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/building2.fe984c2d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFgElEQVRIicWXb4ycVRXGf+fO7La7lrpTJEBLpaA0Ta2NyEoaJtVJ5n132tQ1+GdYExODCSUkEIFoTNCA43dCNE38ExQxwQSzCIkLus68o5PdLcuXGkIRQVALUkAFujRl/83Offywd8bd2Znd+qknmZx773Oec573vnfuva9J4kKau6DVgTSAma0BCoXCtqWlpV3A/MGDB18slUr+/0lcKpXc9PT0bmBTo9E4lSTJe+0xkjBJqwTk8/m9zrn7JQ0BqSDwNHBvpVL5+XnUtjiOb5d0D7A98OuSnlhaWvpGrVZ7vauAoaGhrKRxSVvMbB54QVIGuCpwvpckSWm96lEUfR+4M3RPAe+Z2V5JPcC7QC5JkpNNAa01cPjw4a2SHg3Ff1mv1y+vVCrXJUlytXPua0AD+G4cx59bp/gIcKeZzUsqJklyVZIkn0ilUlcCTwHbgF/ncrnNTU5LQL1e/7qkK4Dj2Wz2q7VabaaJlcvlh4FvBdXHisVib3vxXC63BTgG4L2/o1qtPtbExsfH38xkMl8A/gJc09PTc8sqAaVSyZnZbQDOufs6LbhMJvMDM3sO+PDMzMwX2/F0On0rcAlwvFqt/qwdHx0dXXTOfSd0b1slYGJi4oCkHcA/yuXyH9rJIUHDe//DMAtfbsfNbCRg93fiAywuLo4BZyR97NChQ7taAlKp1A0hye+6kYM9GXyuWCymmoODg4M9wCeBxuzs7O+7kWu12pKZTQDU6/UDLQGS9oaYZ9erXq1WT7O8sreePXu2+c9gYGBgp6Q08Nr09PTcBg9xEsDM9rQEmFkm+Lc3IAOcDqIvbQ6kUqnewF/ciGxmb4XmxS0BkurBp89DwJbg318x9n7gb92I7L1XEKKWADP7T8C3b5TAzHYAOOf+1RxbWFho8redB/+y0HynJUDSS8EPrkeOouiDkj4EzI6Pj7/ZHK/VavPAGWBTFEUXb6BhEMB7/+eWAOfcRADzuVyu62twzu0MzVc7PFlTUNdZHB4e7pf0aTOTc+7ploByufws8ApweU9Pz1C3BN77K0Kx1zvAzVdyaQcMgLm5uc8DHwCeqVQqb7QEAEh6MPjbuyVYkfzf7YCkRQDn3Hp3jDuCb52qreBGo/EQsAAcKhQKO+lgzrnnQ7OQzWYvao5ns9mLzOw6AO/9qU7cfD5/PXAAePfcuXOPNMdb77tWq70dx/Fjkr7ivR/J5XIP9/b27vfe7wP2Afsl7TKzSUkH+/r6jgIPAPT19d0VFucUMBlF0d9Z3nBOSnrezJ4zs5Fw9P9i5Wa1arok/Tb4G9Lp9LT3/j5gt6QTwN3pdHq39/6BEH4TLB9k/O9wuQfY7Zz7pqQTZrbHzErAJPBxADP748qaq1a8c+5V7z3AJUmSXNNpKoeHh8tzc3MLwOCRI0cyk5OT+8xsO/BKkiRTIex4+LUsjuMXARqNxt9W1VzZ8d7/M6j8aHiyNTY2NjZrZieAVL1ev9bMrg1QrVN8EN0PfMTMlvr7+091FZAkyWtm9pKky6ampoa7JZT01+CvNrOBIPqtbvHz8/NR2Ob/NDY2NttVQLAfhYTfBtZel5dtUxBQl3QmtK/sEmuSmrepR9vBNQI2b978IPCGpOujKLqrHY+i6FNmdqOZycyeNrPx0C7GcXygPT6O43uBbDhpH+qkbs13QRRFnzWz34Tu48BTkszMPiNpJMzAT5MkORqK/ETSrcCimT0i6TiQNrMvSYpZvtDemCTJkyvrdPwuaNrQ0NDNko5J2tIGeTP78cDAwN2jo6OLAMVisXdmZuYYcFRSe7IzZnZLpVJ5vL3GugIA8vn8DjO7CdhvZua9f8E590SlUnm5U3yhUNjTaDSGgb0sf9Q8A/wqSZJ3OsW3BFxI+y/f+XErJHGL0wAAAABJRU5ErkJggg==\"","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsList.vue?vue&type=style&index=0&id=3799bb6e&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomDetails.vue?vue&type=style&index=0&id=b949ee44&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModule.vue?vue&type=style&index=0&id=3df10dd4&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatToDo.vue?vue&type=style&index=0&id=797cdef6&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporterV.vue?vue&type=style&index=0&id=94ab7896&prod&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/i4-logo-hvit.fbc57266.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('div',{staticClass:\"d-xl-flex align-center\"},[_c('v-img',{staticClass:\"logo\",attrs:{\"alt\":\"Sykehusbygg Logo\",\"contain\":\"\",\"src\":require(\"./components/img/i4-logo-hvit.png\"),\"transition\":\"scale-transition\"}})],1),(_vm.window.width>=1000&&_vm.devMode&&_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('ImportData')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_importdata\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-file-import\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-file-import\")])],1):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('PodSelect')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_podselect\")))]),(_vm.window.width>=1000)?_c('img',{attrs:{\"src\":require(\"./components/img/trinpod24.png\")}}):_c('img',{attrs:{\"src\":require(\"./components/img/trinpod40.png\")}})]):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('FilesLib')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_fileslib\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-file\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-file\")])],1):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Capacity')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_capacity\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-hospital-building\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-hospital-building\")])],1):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('WorkList')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_arbeidsliste\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-format-list-bulleted\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")])],1):_vm._e(),(_vm.devMode&&_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('IFCexporter')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_ifcexporter\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-format-list-bulleted\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")])],1):_vm._e(),(_vm.devMode&&_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('BMviewer')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Viewer\")]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-format-list-bulleted\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")])],1):_vm._e(),(_vm.devMode&&_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Assetslist')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Assets\")]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-format-list-bulleted\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")])],1):_vm._e(),(_vm.devMode&&_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Chat')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(\"Chat\")]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-format-list-bulleted\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-format-list-bulleted\")])],1):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"href\":\"\",\"target\":\"_blank\",\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Search')}}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.$t(\"button_search\")))]),(_vm.window.width>=1000)?_c('v-icon',[_vm._v(\"mdi-magnify\")]):_c('v-icon',{attrs:{\"x-large\":\"\"}},[_vm._v(\"mdi-magnify\")])],1):_vm._e(),_c('div',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"0\"}},[_vm._l((_vm.languages),function(entry){return _c('button',{key:entry.title,staticStyle:{\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.changeLocale(entry.language)}}},[_c('flag',{attrs:{\"iso\":entry.flag,\"squared\":false}}),_vm._v(\" \"+_vm._s(entry.title)+\" \")],1)}),(_vm.isLoggedIn)?_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-width\":200,\"offset-x\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-list-item-avatar',_vm._g(_vm._b({attrs:{\"color\":\"blue\",\"size\":\"48\"}},'v-list-item-avatar',attrs,false),on),[_c('span',{staticClass:\"white--text text-h5\"},[_vm._v(_vm._s(_vm.loggedInInitials))])])]}}],null,false,1218765226)},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('v-list-item-avatar',{attrs:{\"color\":\"blue\",\"size\":\"48\"}},[_c('span',{staticClass:\"white--text text-h5\"},[_vm._v(_vm._s(_vm.loggedInInitials))])]),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.loggedInName))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.webId))])],1)],1)],1),_c('v-divider'),_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.$t(\"session_expires\") + _vm.loginExpire))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"to\":{ name: 'Logout' },\"text\":\"\"}},[_c('span',{staticClass:\"mr-3\"},[_vm._v(_vm._s(_vm.$t(\"button_logout\")))]),_c('v-icon',[_vm._v(\"mdi-logout\")])],1)],1)],1)],1):_vm._e()],2)],1),_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport VueI18n from 'vue-i18n';\nimport FlagIcon from 'vue-flag-icon';\n\nVue.use(FlagIcon);\nVue.use(VueI18n);\n\nconst messages = {\n  'en': {\n      select_region: 'Select region',\n      select_unit: 'Select unit',\n      select_location: 'Select location',\n      select_building: 'Select building',\n      select_wings: 'Select wing',\n      select_floors: 'Select floor',\n      select_functions: 'Select functions',\n      select_bedtypes: 'Select bed types',\n      select_capacity: 'Select room capacity',\n      select_owner: 'Select owner',\n      select_rent_contract_user: 'Select contractor',\n      select_rent_type: 'Select rental contract type',\n      select_rent_status: 'Select rental contract status',\n      button_calculate: 'Calculate capacity',\n      button_exportxls: 'Export as Excel',\n      button_exportpdf: 'Export as PDF',\n      button_ifcexporter: 'IFC',\n      button_rentmodule: 'Rent',\n      text_result: 'Result',\n      text_report1: ' is total capacity in ',\n      text_report2: ' rooms.',\n      text_all: 'All',\n      button_importdata: 'Import',\n      button_editspec: 'Edit spec',\n      button_capacity: 'Capacity',\n      button_bimviewer: 'Bimviewer',\n      button_start_rotate: 'Start rotation',\n      button_stop_rotate: 'Stop rotation',\n      button_zoom_to_object: 'Zoom to object',\n      button_togglemap: 'Map',\n      wayfinding: 'Wayfinding',\n      button_togglecolor: 'Colors',\n      button_lockselection: 'Lock selection',\n      button_unlockselection: 'Unlock selection',\n      button_multi1: 'Multi',\n      button_multi2: 'Single',\n      select_roomfile: 'Select room file',\n      select_circulationfile: 'Select circulation file',\n      select_geometryfile: 'Select geometry file',\n      button_importifc: 'Import IFC',\n      button_back: 'Back',\n      button_logout: 'Log out',\n      button_fileslib: 'Files',\n      button_podselect: \"Pods\",\n      button_arbeidsliste: 'Work',\n      button_search: '',\n      text_search: 'Search',\n      text_clear: 'Clear',\n      text_ok: 'Ok',\n      text_dismiss: 'Dismiss',\n      session_expires: 'Session expires: ',\n      text_file_details: 'FILE DETAILS',\n      text_pod_details: 'POD DETAILS',\n      text_employees: 'Employees',\n      text_employee_new: 'Add employee',\n      text_last_changed: 'Last changed:',\n      text_download: 'Download:',\n      text_files: 'Files',\n      text_folders: 'Folders',\n      text_pods: 'PODs',\n      text_create_container: 'Create container in',\n      text_container_name: 'Issue title',\n      text_create_issue: 'New issue',\n      text_issue_tags: 'Tags',\n      text_issue_responsible: 'Responsible',\n      text_title: 'Title',\n      text_description: 'Description',\n      text_photo: 'Photo',\n      text_create: 'Create',\n      text_add: 'Add',\n      text_cancel: 'Cancel',\n      text_contracts: 'Tenants',\n      text_rent_contracts: 'Rental tenants',\n      text_owner: 'Owner',\n      text_contract_nr: 'Contract nr',\n      text_contract_type: 'Contract type',\n      text_contractor: 'Contractor',\n      text_from: 'From',\n      text_to: 'To',\n      text_rented_area: 'Rented area',\n      text_share: 'Share %',\n      text_color: 'Color',\n      text_room_details: 'Room details',\n      text_room_geometry: 'Room geometry',\n      text_building_details: 'Building details',\n      text_netarea: 'Net area',\n      text_netarea_calculated: 'Net area calculated',\n      text_grossarea: 'Gross area',\n      text_doors: 'Doors',\n      text_what_to_do: 'What do you want to do?',\n  },\n  'no': {\n      select_region: 'Velg region',\n      select_unit: 'Velg helseforetak',\n      select_location: 'Velg lokasjon',\n      select_building: 'Velg bygning',\n      select_wings: 'Velg fløy',\n      select_floors: 'Velg etasje',\n      select_functions: 'Velg funksjoner',\n      select_bedtypes: 'Velg sengeplass typer',\n      select_owner: 'Velg eier',\n      select_rent_contract_user: 'Velg leietager',\n      select_rent_type: 'Velg leieavtale type',\n      select_rent_status: 'Velg leieavtale status',\n      select_capacity: 'Velg romkapasitet',\n      button_calculate: 'Kalkuler kapasitet',\n      button_exportxls: 'Eksporter som Excel',\n      button_exportpdf: 'Eksporter som PDF',\n      button_ifcexporter: 'IFC',\n      button_rentmodule: 'Leie',\n      text_result: 'Resultat',\n      text_report1: ' er total kapasitet på ',\n      text_report2: ' rom.',\n      text_all: 'Alle',\n      button_importdata: 'Importer',\n      button_editspec: 'Spesifikasjon',\n      button_capacity: 'Kapasitet',\n      button_bimviewer: 'Bimviewer',\n      button_start_rotate: 'Start rotasjon',\n      button_stop_rotate: 'Stop rotasjon',\n      button_zoom_to_object: 'Zoom til objekt',\n      button_togglemap: 'Kart',\n      button_togglecolor: 'Farger',\n      button_lockselection: 'Lås seleksjon',\n      wayfinding: 'Veifinning',\n      button_unlockselection: 'Lås opp seleksjon',\n      button_multi1: 'Mange',\n      button_multi2: 'En',\n      select_roomfile: 'Velg rom fil',\n      select_circulationfile: 'Velg sirkulasjon fil',\n      select_geometryfile: 'Velg geometri fil',\n      button_importifc: 'Importer IFC',\n      button_back: 'Tilbake',\n      button_logout: 'Logg ut',\n      button_fileslib: 'Filer',\n      button_podselect: \"Pods\",\n      button_arbeidsliste: 'Work',\n      button_search: '',\n      text_search: 'Søk',\n      text_clear: 'Tøm',\n      session_expires: 'Sesjon utgår: ',\n      text_file_details: 'FIL DETALJER',\n      text_pod_details: 'POD DETALJER',\n      text_employees: 'Ansatte',\n      text_employee_new: 'Legg til ansatt',\n      text_last_changed: 'Sist endret:',\n      text_download: 'Last ned:',\n      text_files: 'Filer',\n      text_folders: 'Mapper',\n      text_pods: 'PODs',\n      text_create_container: 'Opprett mappe i',\n      text_container_name: 'Mappe navn',\n      text_create_issue: 'Nytt oppføring',\n      text_title: 'Tittel',\n      text_description: 'Beskrivelse',\n      text_photo: 'Bilde',\n      text_issue_tags: 'Tagger',\n      text_issue_responsible: 'Ansvarlig',\n      text_create: 'Opprett',\n      text_add: 'Legg til',\n      text_cancel: 'Avbryt',\n      text_ok: 'Ok',\n      text_dismiss: 'Lukk',\n      text_contracts: 'Kontrakter',\n      text_rent_contracts: 'Leieavtaler',\n      text_owner: 'Eier',\n      text_contract_nr: 'Leieavtale',\n      text_contract_type: 'Leieavtale type',\n      text_contractor: 'Leietaker',\n      text_from: 'Fra',\n      text_to: 'Til',\n      text_rented_area: 'Leid Areal',\n      text_share: 'Andel %',\n      text_color: 'Farge',\n      text_room_details: 'Romdetaljer',\n      text_room_geometry: 'Romgeometri',\n      text_building_details: 'Bygningsdetaljer',\n      text_netarea: 'Netto areal',\n      text_netarea_calculated: 'Kalkulert netto areal',\n      text_grossarea: 'Brutto areal',\n      text_doors: 'Dører',\n      text_what_to_do: 'Hva vil du gjøre?',\n  }\n};\n\nexport default new VueI18n({\n  locale: 'en', // set locale\n  fallbackLocale: 'no', // set fallback locale\n  messages, // set locale messages\n});\n","<template>\n  <v-app>\n    <v-app-bar app color=\"primary\" dark>\n      <div class=\"d-xl-flex align-center\">\n        <v-img\n          alt=\"Sykehusbygg Logo\"\n          class=\"logo\"\n          contain\n          src=\"./components/img/i4-logo-hvit.png\"\n          transition=\"scale-transition\"\n        />\n      </div>\n\n\n      <!---<v-btn href=\"\" target=\"_blank\" @click=\"followLink('BimViewer')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_bimviewer\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-earth</v-icon>\n        <v-icon x-large v-else>mdi-earth</v-icon>\n      </v-btn>-->\n      <v-btn  v-if=\"window.width>=1000&&devMode&&isLoggedIn\" href=\"\" target=\"_blank\" @click=\"followLink('ImportData')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_importdata\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-file-import</v-icon>\n        <v-icon x-large v-else>mdi-file-import</v-icon>\n      </v-btn>\n      <v-btn v-if=\"isLoggedIn\" href=\"\" target=\"_blank\" @click=\"followLink('PodSelect')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_podselect\") }}</span>\n        <img v-if=\"window.width>=1000\" src='./components/img/trinpod24.png'/>\n        <img v-else src='./components/img/trinpod40.png'/>\n      </v-btn>\n      <v-btn v-if=\"isLoggedIn\" href=\"\" target=\"_blank\" @click=\"followLink('FilesLib')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_fileslib\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-file</v-icon>\n        <v-icon x-large v-else>mdi-file</v-icon>\n      </v-btn>\n      <v-btn v-if=\"isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('Capacity')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_capacity\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-hospital-building</v-icon>\n        <v-icon x-large v-else>mdi-hospital-building</v-icon>\n      </v-btn>\n      <v-btn v-if=\"isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('WorkList')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_arbeidsliste\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-format-list-bulleted</v-icon>\n        <v-icon x-large v-else>mdi-format-list-bulleted</v-icon>\n      </v-btn>\n      <v-btn v-if=\"devMode&&isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('IFCexporter')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_ifcexporter\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-format-list-bulleted</v-icon>\n        <v-icon x-large v-else>mdi-format-list-bulleted</v-icon>\n      </v-btn>\n      <v-btn v-if=\"devMode&&isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('BMviewer')\" text>\n        <span class=\"mr-2\">Viewer</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-format-list-bulleted</v-icon>\n        <v-icon x-large v-else>mdi-format-list-bulleted</v-icon>\n      </v-btn>      \n      <v-btn v-if=\"devMode&&isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('Assetslist')\" text>\n        <span class=\"mr-2\">Assets</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-format-list-bulleted</v-icon>\n        <v-icon x-large v-else>mdi-format-list-bulleted</v-icon>\n      </v-btn>\n      <v-btn v-if=\"devMode&&isLoggedIn\" href=\"\" target=\"_blank\"  @click=\"followLink('Chat')\" text>\n        <span class=\"mr-2\">Chat</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-format-list-bulleted</v-icon>\n        <v-icon x-large v-else>mdi-format-list-bulleted</v-icon>\n      </v-btn>\n      <v-btn v-if=\"isLoggedIn\" href=\"\" target=\"_blank\" @click=\"followLink('Search')\" text>\n        <span class=\"mr-2\">{{ $t(\"button_search\") }}</span>\n        <v-icon v-if=\"window.width>=1000\">mdi-magnify</v-icon>\n        <v-icon x-large v-else>mdi-magnify</v-icon>\n      </v-btn>\n\n      <div style=\"margin-left: auto; margin-right: 0;\">\n        <button\n          v-for=\"entry in languages\"\n          :key=\"entry.title\"\n          @click=\"changeLocale(entry.language)\"\n          style=\"margin-left: 5px;\"\n        >\n          <flag :iso=\"entry.flag\" v-bind:squared=\"false\" /> {{ entry.title }}\n        </button>\n\n        <v-menu\n          v-if=\"isLoggedIn\"\n          :close-on-content-click=\"false\"\n          :nudge-width=\"200\"\n          offset-x\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-list-item-avatar color=\"blue\" size=\"48\" v-bind=\"attrs\" v-on=\"on\">\n              <span class=\"white--text text-h5\">{{ loggedInInitials }}</span>\n            </v-list-item-avatar>\n          </template>\n          <v-card>\n            <v-list>\n              <v-list-item>\n                <v-list-item-avatar color=\"blue\" size=\"48\">\n                  <span class=\"white--text text-h5\">{{ loggedInInitials }}</span>\n                </v-list-item-avatar>\n\n                <v-list-item-content>\n                  <v-list-item-title>{{ loggedInName }}</v-list-item-title>\n                  <v-list-item-subtitle>{{ webId }}</v-list-item-subtitle>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n            <v-divider></v-divider>\n            <v-list-item-content>\n              <v-list-item-subtitle>{{\n                $t(\"session_expires\") + loginExpire\n              }}</v-list-item-subtitle>\n            </v-list-item-content>\n            <v-divider></v-divider>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n\n              <v-btn :to=\"{ name: 'Logout' }\" text>\n                <span class=\"mr-3\">{{ $t(\"button_logout\") }}</span>\n                <v-icon>mdi-logout</v-icon>\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-menu>\n      </div>\n\n    </v-app-bar>\n\n    <v-main>\n      <router-view />\n    </v-main>\n  </v-app>\n</template>\n\n\n<script>\nimport i18n from './plugins/i18n.js'\nimport store from './store';\nimport ur from './components/util-rdf.js'\n\nexport default {\n  name: 'App',\n\n  data: () => ({\n      languages: [\n          { flag: 'us', language: 'en' },\n          { flag: 'no', language: 'no' }\n      ],\n      isLoggedIn: false,\n      webId: \"\",\n      loggedInName: \"\",\n      loggedInInitials: \"\",\n      loginExpire: \"\",\n      devMode: false,\n      window: {\n        width: 0,\n        height: 0\n      }\n  }),\n  created() {\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: {\n    changeLocale(locale) {\n      i18n.locale = locale;\n    },\n    followLink(linkName){\n      if(!this.$route.path.includes(linkName)){\n        this.$router.push({path: linkName, query: {location: this.$route.query.location, select: this.$route.query.select} });\n      }\n    },\n    handleResize() {\n      this.window.width = window.innerWidth;\n      this.window.height = window.innerHeight;\n    }\n  },\n  watch: {\n    \"$store.state.isLoggedIn\": function (val) {\n      this.isLoggedIn = store.state.isLoggedIn;\n    },\n    \"$store.state.webId\": function (val) {\n      this.webId = store.state.webId;\n    },\n    \"$store.state.loggedInName\": function (val) {\n      this.loggedInName = store.state.loggedInName;\n    },\n    \"$store.state.loggedInInitials\": function (val) {\n      this.loggedInInitials = store.state.loggedInInitials;\n    },\n    \"$store.state.loginExpire\": function (val) {\n      this.loginExpire = store.state.loginExpire;\n    },\n    \"$store.state.devMode\": function (val) {\n      this.devMode = store.state.devMode;\n    },\n    \"$store.state.redirect\": function (val) {\n      this.$router.push(val);\n    },\n    $route(to, from) {\n      console.log(\"to.mode\", to, \"from.mode\", from);\n      store.state.location = to.query.location;\n      return;\n      var routerPush\n      var redirectLogin\n      if (this.isLoggedIn) {\n        //var Node = this.$store.getters.getNode(to);\n        //var fNode = this.$store.getters.getNode(from);\n        var Node = to;\n        var fNode = from;\n        Node = decodeURIComponent(Node);\n        var qObj = to.query;\n        fNode = decodeURIComponent(fNode);\n        var fObj = from.query;\n        if (qObj.preview && qObj.location){\n            this.$store.commit(\"loading\", false)\n        } else {\n          if (!fObj.select || !fObj.location){ //make sure required query location/select are present\n            routerPush = true\n            if (fObj.preview){\n                fObj.select = fObj.preview\n                fObj.location = fObj.preview\n            } else if (fObj.location){\n                fObj.select = fObj.location\n            } else if (fObj.select){\n                fObj.location = fObj.select\n            } else if (this.$store.state.webId){\n                fObj.location = this.$store.state.webId\n                fObj.select = this.$store.state.webId\n            } else {\n                redirectLogin = true\n            }\n          }\n          if (redirectLogin){\n            this.$router.push({ path: \"/\"})\n          } else if (routerPush){\n            this.$router.push({ path: this.$router.currentRoute.path, query: fObj})\n          } else {\n            if (Node + JSON.stringify(qObj) !== fNode + JSON.stringify(fObj) || !fNode) {\n              console.log(\"action: URL changed\", Node, fNode, qObj, fObj);\n              if (qObj.location && fObj.location && qObj.location !== fObj.location) {\n                //new selection\n                this.$store.dispatch(\"move\", {location: qObj.location, select: this.$router.currentRoute.query.select, path: this.$router.currentRoute.path, router: this.$router});\n              } else if (qObj.select && fObj.select && qObj.select !== fObj.select) {\n                //new selection - check that select is in current pod\n                if (ur.getWebId(qObj.select) !== ur.getWebId(qObj.location)){\n                  this.$store.dispatch(\"move\", {node: qObj.select, select: this.$router.currentRoute.query.select, path: this.$router.currentRoute.path, router: this.$router})\n                } else { \n                  this.$store.dispatch(\"select\", {node: qObj.select, noPush: true, select: this.$router.currentRoute.query.select, path: this.$router.currentRoute.path, router: this.$router});\n                }\n              }\n              /* else if ((Node && !this.$store.state.node) || Node !== fNode) {\n                this.$store.dispatch(\"move\", Node);\n              }*/\n                \n            }\n          }\n        }\n\t    }\n    },\n  }\n};\n</script>\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 0px;\n}\nbutton {\n  margin-left: 8px;\n}\n.logo {\n  height: 40px;\n  width: 80px;\n  margin-right: 40px;\n}\n.v-icon {\n  color: white;\n  size: small;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  font-weight: bold;\n  margin: 5px 0 0;\n  color: #000000;\n  font-size: 19px;\n}\n.hidden {\n    visibility: hidden;\n    padding: 0px;\n    border-radius: 0;\n    margin-top: 0px;\n    margin-right: 0px;\n    margin-bottom: 0px;\n    height: 0px;\n    width: 0px;\n}\n\n.base-label {\n    background: rgba(255, 255, 255, 0.4);\n    border-radius: 1rem;\n    display: flex;\n    align-items: center;\n    pointer-events: all;\n}\n\n.building-base-label {\n    background: rgba(213, 233, 255, 0.0);\n    border-radius: 1rem;\n    display: flex;\n    align-items: center;\n    pointer-events: all;\n}\n\n.delete-button {\n    font-weight: bold;\n    padding: 0px;\n    border: none;\n}\n.details-button {\n    background-color: #3577cb;\n    font-family: Arial, Helvetica, sans-serif;\n    color: white;\n    padding: 6px;\n    margin-top: 5px;\n    margin-right: 5px;\n    border-radius: 3px;\n    border: none;\n    margin-left: 0px;\n    margin-bottom: 8px;\n}\n.number-button {\n    background-color: #3577cb;\n    font-family: Arial, Helvetica, sans-serif;\n    color: white;\n    padding: 1px;\n    padding-left: 8px;\n    padding-right: 8px;\n    border-radius: 15px;\n    border: none;\n    margin-top: 45px;\n    margin-left: -10px;\n    margin-bottom: 0px;\n    z-index: 2;\n}\n.delete-button:hover {\n    cursor: pointer;\n}\n\n.label {\n    background: rgba(255, 255, 255, 0.5);\n    padding: 6px;\n    max-width: 350px;\n    backdrop-filter: blur(8px);\n    border-radius: 1rem;\n    pointer-events: all;\n    text-align: left;\n}\n\n.building-label {\n    background: rgba(255, 255, 255, 0.5);\n    padding: 10px;\n    max-width: 350px;\n    backdrop-filter: blur(4px);\n    border-radius: 1rem;\n    pointer-events: all;\n    text-align: left;\n}\n.simple-building-label {\n    background: rgba(255, 255, 255, 0.5);\n    padding: 2px;\n    max-width: 350px;\n    backdrop-filter: blur(4px);\n    border-radius: 1rem;\n    pointer-events: all;\n    text-align: left;\n}\n.texttitle {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 9px;\n    padding: 0px;\n    margin-top: 5px;\n    margin-bottom: 0px;\n    text-align: bottom;\n    vertical-align: top;\n    text-align: center;\n}\n.texttop {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 14px;\n    padding: 0px;\n    margin-top: 0px;\n    margin-bottom: 0px;\n    text-align: top;\n    vertical-align: top;\n    text-align: center;\n}\n@media screen and (max-width: 1000px) {\n  /*.logo {\n    height: 30px;\n    width: 187px;\n  }*/\n  .mr-2 {\n    display: none;\n  }\n  .bm {\n    display: none;\n  }\n  .v-icon {\n    color: white;\n    class: x-large;\n  }\n  .logo {\n    height: 40px;\n    width: 60px;\n    margin-right: 20px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6e9f336a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=6e9f336a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VAppBar,VBtn,VCard,VCardActions,VDivider,VIcon,VImg,VList,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VMain,VMenu,VSpacer})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\nimport 'vuetify/dist/vuetify.min.css';\nimport '@mdi/font/css/materialdesignicons.css'\nimport VueMask from 'v-mask'\nimport WCharts from 'vue-wcharts'\n\nVue.use(Vuetify);\nVue.use(VueMask);\nVue.use(WCharts);\n\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi', // default - only for display purposes\n  },\n  /*theme: {\n    themes: {\n      light: {\n        primary: '#3f51b5',\n        secondary: '#b0bec5',\n        accent: '#8c9eff',\n        error: '#b71c1c',\n      },\n    },\n  },*/\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport ns from './components/ontologies.js'\nimport i18n from './plugins/i18n.js'\n//import DatGui from '@cyrilf/vue-dat-gui'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router: router,\n  store: store,\n  ns: ns,\n  vuetify,\n  i18n,\n  //DatGui,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogout.vue?vue&type=style&index=0&id=6eee5d4f&prod&scoped=true&lang=css&\"","const so = {};\n\n// Class for string functions\n\nso.getInitials = function (string) {\n    var names = string.split(' '),\n        initials = names[0].substring(0, 1).toUpperCase();\n\n    if (names.length > 1) {\n        initials += names[names.length - 1].substring(0, 1).toUpperCase();\n    }\n    return initials;\n};\n\nso.makeRandomColor = function(){\n    var c = '';\n    while (c.length < 6) {\n      c += (Math.random()).toString(16).substr(-6).substr(-1)\n    }\n    return '#' + c;\n};\n\nso.arraymove = function(arr, fromIndex, toIndex) {\n    var element = arr[fromIndex];\n    arr.splice(fromIndex, 1);\n    arr.splice(toIndex, 0, element);\n    return arr;\n}\n\nso.getCharactersAfter = function(str, char){\n    return str.split(char).pop();\n}\n\nso.getCharactersBefore = function(str, char){\n    return str.split(char)[0];\n}\n\nso.isLetter = function(str) {\n    let c = str.charAt(0)\n    return c.toLowerCase() != c.toUpperCase();\n}\n\nso.removeLastCharacter = function(str){\n    return str.substr(0, str.length - 1);\n}\n\nso.removeCharactersAfter =  function(str, char){\n    return str.substring(0, str.indexOf(char))\n}\n\nexport default so;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAKdAAACnQEbaSIpAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDEtMDlUMTA6MTQ6MTUrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTAxLTA5VDEwOjIzOjIxKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTAxLTA5VDEwOjIzOjIxKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkNWMyMzcyMy05NDI5LTQ5ZjYtYjQ2NS0xMGJkYjdjZmJlZjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZDVjMjM3MjMtOTQyOS00OWY2LWI0NjUtMTBiZGI3Y2ZiZWY2IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZDVjMjM3MjMtOTQyOS00OWY2LWI0NjUtMTBiZGI3Y2ZiZWY2Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpkNWMyMzcyMy05NDI5LTQ5ZjYtYjQ2NS0xMGJkYjdjZmJlZjYiIHN0RXZ0OndoZW49IjIwMjMtMDEtMDlUMTA6MTQ6MTUrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNC4xIChNYWNpbnRvc2gpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp8HvMsAAAJrSURBVEiJtZXda49hGMc/v5+xeZlmpslbbWVpix0tOVKIKCcKJ8oJJSSlFP4BlgOtGE4deCntSJETpJR3DlDYvBxoxrSZJNrHwXP/6t7tZiWuunvu57q+1/t1PU9J5X9S+Tf8DuAeMBzOCDAKGJ2RSP4YWJEzVMpkUAMMAZP+IuBG4P14GXQlxl8Ae4E2YCowBWgBtgP3E93uX6yp8Wl0LPWo5QSTnhOJTnMsT8GXIuCdcQzH52KkdzuWxT1YDlyLkmsFnoZ7O7AWaAZKwFvgKnAryGcAg5HuZuBCWqK+KIrXgTddfRB4H9UX6nN1IPD6opLcjfT70xJtSup4MvA/qL3q0kxZWtWbAV9Sdyc2dlUclKKIKrRV3Rfu49V/0KLRqxIb39TaMtAJNCTDVQ9sAQ5nxjil3cBKYGHCnwQcL6nfgapEeAyoC41uAL5QbPYRig0+ACwLzX0J9FIs2KHEzmhVxjjANOATMA+YE3iLKZZtAFgXYScADymWMKVyGTidEcwEqinGcCPFCA5RlKwzOPkM7AAuA/NDxin1oNaoI0mDBtUN4Vllsc21UWOr1cnh/lXdaTG+Kc2qKGzLCDvUs+qbyPAitT16v64+stiFlA6afCr6E0C3OjHcz0S4ieF5NMhmW8x8TEMmi4a6PhMF6v5wv6LOUxvU84F3KmCGEr1tOQeoNxLgscDvyjivZJVG/yS2mTpoyhhqC7L5Fs3co7YEXn0Gv+RPDlDPJQrD6poMrsOxH0jVqyku98usC0uW0jvgNcX/eC6wIINpAl6N4WQiQ12tPgvRD1t8uFL6EcmfqxtztnIZ/FP6CVRagcaX4hcqAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"img/rapport2.e52bf56c.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"61eb\";","module.exports = __webpack_public_path__ + \"img/face.ee7cced0.png\";","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <v-form\n      ref=\"form1\"\n      v-model=\"valid\"\n      lazy-validation\n    >\n\n    <v-expansion-panels>\n      <v-expansion-panel>\n        <v-expansion-panel-header>\n                {{ $t(\"select_region\")}}\n        </v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <h2>{{ $t('select_region') }}</h2>\n          <hr class=\"hr1\"/>\n          <v-row no-gutters>\n          <v-col>\n            <v-select\n              v-model=\"rhfselected\"\n              v-bind:items=\"rhf\"\n              :label=\"$t('text_all')\"\n              return-object\n              multiple\n              chips\n              solo\n              ></v-select>\n          </v-col>\n          <v-col>\n            <img\n              v-bind:src=\"'./img/' + hrimage\" width=\"300\"\n              />\n          </v-col>\n        </v-row>\n\n        <div v-if='rhfselected != \"\"'>\n          <h2>{{ $t('select_unit') }}</h2>\n          <hr class=\"hr1\"/>\n          <v-select\n                  v-model=\"hfselected\"\n                  :items=\"helseforetak\"\n                  :label=\"$t('text_all')\"\n                  return-object\n                  multiple\n                  chips\n                  solo\n                ></v-select>\n        </div>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</v-expansion-panels>\n<br>\n         \n\n    <div v-if='hfselected != \"\"'>\n      <h2>{{ $t('select_location') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"lokselected\"\n              :items=\"locationNames\"\n              :label=\"$t('text_all')\"\n              multiple\n              chips\n              solo\n            ></v-select>\n    </div>\n\n    <div v-if='lokselected != \"\"'>\n      <h2>{{ $t('select_building') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"buildingSelected\"\n              :items=\"buildingNames\"\n              :label=\"$t('text_all')\"\n              multiple\n              chips\n              solo\n            ></v-select>\n            <v-btn\n              color=\"primary\"\n              class=\"mr-4\"\n              @click=\"showBuildingDetails\"\n            >\n            {{ $t('text_building_details') }}\n            </v-btn>\n    </div>\n\n    <div v-if='buildingSelected != \"\"'>\n      <h2>{{ $t('select_wings') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"wingselected\"\n              :items=\"wings\"\n              :label=\"$t('text_all')\"\n              multiple\n              chips\n              solo\n            ></v-select>\n    </div>\n\n    <div v-if='wingselected != \"\"'>\n      <h2>{{ $t('select_floors') }}</h2>\n      <hr class=\"hr2\">\n      <v-select\n              v-model=\"floorselected\"\n              :items=\"floors\"\n              :label=\"$t('text_all')\"\n              :multiple=\"!twodim\"\n              chips\n              solo\n            ></v-select>\n    </div>\n\n    <div v-if='!loading'>\n        <h2>{{ $t('select_functions') }}</h2>\n        <hr class=\"hr1\"/>\n        <v-sheet class=\"pa-4 primary lighten-2\">\n          <v-text-field\n            v-model=\"csfsearch\"\n            label=\"Search\"\n            dark\n            flat\n            solo-inverted\n            hide-details\n            clearable\n            clear-icon=\"mdi-close-circle-outline\"\n          ></v-text-field>\n          <v-checkbox\n            v-model=\"caseSensitive\"\n            dark\n            hide-details\n            label=\"Case sensitive search\"\n          ></v-checkbox>\n        </v-sheet>\n        <v-treeview\n          v-model=\"csfselection\"\n          :items=\"csfitems\"\n          :search=\"csfsearch\"\n          :filter=\"filter\"\n          :transition=\"true\"\n          :open-on-click=\"true\"\n          :rounded=\"true\"\n          selectable\n          return-object\n          dense\n        >\n        <template v-slot:prepend=\"{ item, open }\">\n          <v-icon :color=\"item.color\"> {{ 'mdi-folder' }}</v-icon>\n        </template>\n        </v-treeview>\n      </div>\n\n\n      <v-btn\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"setAllFunctionsSelected()\"\n        >\n      Select all\n        </v-btn><br><br>\n\n        <div>\n          <h2>{{ $t('select_bedtypes') }}</h2>\n          <hr class=\"hr2\"/>\n          <v-select\n                  v-model=\"sengeplass\"\n                  :items=\"sengeplasstyper\"\n                  :label=\"$t('text_all')\"\n                  multiple\n                  chips\n                  solo\n                ></v-select>\n        </div>\n\n        <div>\n          <h2>{{ $t('select_capacity') }}</h2>\n          <hr class=\"hr2\"/>\n          <v-select\n                  v-model=\"kapasitet\"\n                  :items=\"romkapasitet\"\n                  :label=\"$t('text_all')\"\n                  multiple\n                  chips\n                  solo\n                ></v-select>\n        </div>\n\n        <v-expansion-panels>\n          <v-expansion-panel>\n            <v-expansion-panel-header>\n                    {{ $t(\"text_rent_contracts\")}}\n            </v-expansion-panel-header>\n            <v-expansion-panel-content>\n              <div>\n                <h2>{{ $t('select_owner') }}</h2>\n                <hr class=\"hr2\"/>\n                <v-select\n                        v-model=\"contractOwnerSelected\"\n                        :items=\"contractOwnerNames\"\n                        :label=\"$t('text_all')\"\n                        multiple\n                        chips\n                        solo\n                      ></v-select>\n              </div>\n              <div>\n                <h2>{{ $t('select_rent_contract_user') }}</h2>\n                <hr class=\"hr2\"/>\n                <v-select\n                        v-model=\"contractUserSelected\"\n                        :items=\"contractUserNames\"\n                        :label=\"$t('text_all')\"\n                        multiple\n                        chips\n                        solo\n                      ></v-select>\n              </div>\n              <div>\n                <h2>{{ $t('select_rent_type') }}</h2>\n                <hr class=\"hr2\"/>\n                <v-select\n                        v-model=\"contractTypeSelected\"\n                        :items=\"contractTypeNames\"\n                        :label=\"$t('text_all')\"\n                        multiple\n                        chips\n                        solo\n                      ></v-select>\n              </div>\n              <div>\n                <h2>{{ $t('select_rent_status') }}</h2>\n                <hr class=\"hr2\"/>\n                <v-select\n                        v-model=\"contractStatusSelected\"\n                        :items=\"contractStatusNames\"\n                        :label=\"$t('text_all')\"\n                        multiple\n                        chips\n                        solo\n                      ></v-select>\n              </div>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n\n        <br><br>\n        <div v-if='resultat == true'>\n        <h2>{{ $t('text_result') }}</h2>\n        <hr class=\"hr2\"/>\n\n        <h3>{{ this.lokselected[0] }}</h3>\n        <h4>{{ this.rhfselected[0] + \" - \" + this.hfselected[0] }}</h4><br>\n\n        <br>\n\n        <v-row margin-top=\"10\">\n        <v-col>\n            <WCartesian :dataset=\"values\"\n                        :height=\"200\"\n                        :bound=\"[0]\"\n                        :margin=\"0\">\n                <WBar datakey=\"one\" :width=\"45\" />\n                <WXAxis\n                    datakey=\"name\"\n                    :space=\"[0, 35, 35, 35]\"\n                />\n            </WCartesian>\n        </v-col>\n        <v-col>\n          <div style=\"width: 230px\">\n            <b>{{ this.totalCalculatedCapacity + $t('text_report1') + this.totalCalculatedRooms + $t('text_report2') }}</b><br>\n            <font color=\"#FF0000\"><b>2 area issues found</b></font>\n          </div>\n        </v-col>\n      </v-row>\n\n      <br><br>\n\n      <v-card>\n      <v-card-title>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n      <v-data-table\n        :headers=\"roomTableHeaders\"\n        :items=\"roomTableList\"\n        :search=\"search\"\n        flat\n        class=\"elevation-0\"\n        item-key=\"roomname\"\n        v-model=\"roomTableSelectedRow\"\n        show-select\n      ></v-data-table>\n      </v-card>\n\n      <br><br>\n\n      <v-btn\n        color=\"primary\"\n        class=\"mr-4\"\n        @click=\"calculate\"\n      >\n      {{ $t('button_exportxls') }}\n      </v-btn>\n\n      <v-btn\n        color=\"primary\"\n        class=\"mr-4\"\n        @click=\"loadHovedByggGeometry\"\n      >\n      {{ $t('button_exportpdf') }}\n      </v-btn>\n\n      <br><br><br>\n      <v-img\n        lazy-src=\"./img/rapport2.png\"\n        max-width=\"1000\"\n        max-height=\"350\"\n        src=\"./img/rapport2.png\"\n        ></v-img>\n\n      </div>\n\n\n\n    </v-form>\n\n    <v-row justify=\"center\">\n    <v-dialog\n      v-model=\"roomDetailsVisible\"\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n    <RoomDetails :dialog.sync=\"roomDetailsVisible\" />\n    </v-dialog>\n    <v-dialog\n      v-model=\"buildingDetailsVisible\"\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n    <BuildingDetails :dialog.sync=\"buildingDetailsVisible\" />\n    </v-dialog>\n    </v-row>\n  </div>\n\n\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\n//const Comunica = require('@comunica/actor-init-sparql-rdfjs');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport wf from './Wayfinder.js';\nimport wf2 from './Wayfinder2.js';\nimport ur from './util-rdf.js';\nimport bw from './BIMviewer.vue';\nimport bmu from './BIMviewer-utils.js';\nimport r from './util-r.js';\nimport u from './util.js';\nimport so from './util-s.js';\nimport RoomDetails from './RoomDetails.vue';\nimport BuildingDetails from './BuildingDetails.vue';\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\n//window.solidFetcher = window.solid.session.fetch;\n\nvar factory = new (require('rdf-data-factory').DataFactory)();\nvar RdfTerm = require('rdf-string');\nvar toRdfLiteral = require(\"rdf-literal\").toRdf;\nconst fs = require('fs');\n\nimport { v4 as uuidv4 } from 'uuid';\nimport { isUndefined } from 'util';\n\nconst cp = {}\n\nconst deleteURI = async function(deleteURI) {\n  try {\n    const res = await window.solid.session.fetch(\n      deleteURI, {\n        method: \"DELETE\",\n        credentials: \"include\",\n        headers: {\n        },\n    });\n    return res.text();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/*async function comunicaQuery(sparqlStr,rowFunction,quadStore,callback) {\n  var startTime = performance.now();\n  const myEngine = Comunica.newEngine();\n  const config = { sources: [quadStore] };\n  const result = await myEngine.query(sparqlStr, config);\n  result.bindingsStream.on('data',(binding)=> {\n    for(let field of binding._root.entries){\n      let newRow = [];\n      // comunica has [ key, value ], rdflib wants { key : vaue }\n      for(let field of binding._root.entries){\n        newRow[field[0]]=field[1];\n      }\n      rowFunction(newRow);\n    }\n  });\n  result.bindingsStream.on('end', () => {\n    var endTime = performance.now();\n    console.log(`Communicaquery used: ${endTime - startTime} milliseconds`);\n    callback();\n  });\n}*/\n\nasync function rdflibQuery(queryString){\n  return new Promise(async (resolve,reject)=>{\n    try {\n      let quadStore = new N3.Store();\n      store.state.rs.rdfStore.match(null, null, null).forEach(stm => {\n        quadStore.addQuad( stm.subject,stm.predicate,stm.object )\n      });\n      //let quadStore = store.state.rs.rdfStore;\n      let allResults = []\n      comunicaQuery(queryString, (results)=>{\n        allResults.push(results)\n      },quadStore,()=>{resolve(allResults)})\n    }\n    catch(e) { console.log(e); reject(e) }\n });\n}\n\nasync function test(queryString){\n  var startTime = performance.now();\n  const results = await rdflibQuery(queryString);\n  var endTime = performance.now();\n  console.log(`Whole process took: ${endTime - startTime} milliseconds`);\n  console.log(results);\n}\n\nconst customCompare = (a, b) => \n  /^\\d/.test(a.name) - /^\\d/.test(b.name) || \n  a.name.localeCompare(b.name, undefined, { numeric: true });\n\nfunction colorToSigned24Bit(s) {\n  return (parseInt(s.substr(1), 16) << 8) / 256;\n}\n\ncp.searchAndGetTriples = async function(searchWord){\n  let uri = store.state.webId.replace(\"/i\", \"/search/\")+encodeURIComponent(searchWord);\n  console.log(\"Trying to search..\")\n  console.log(uri);\n  try {\n    let res = await window.solid.session.fetch(\n      uri, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(res => res.text());\n    $rdf.parse(res, store.state.rs.rdfStore, uri, 'text/turtle');\n    return res;\n  } catch (error) {\n    console.log(\"Search failed\");\n    console.log(error);\n  }\n}\n\nfunction streamToString (stream) {\n  const chunks = [];\n  return new Promise((resolve, reject) => {\n    stream.on('data', (chunk) => chunks.push(Buffer.from(chunk)));\n    stream.on('error', (err) => reject(err));\n    stream.on('end', () => resolve(Buffer.concat(chunks).toString('utf8')));\n  })\n}\n\n\nexport default {\n  id: cp,\n  name: 'Capacity',\n  data() {\n    return {\n      valid: true,\n      totalCalculatedCapacity: 0,\n      totalCalculatedRooms: 0,\n      search: '',\n      roomTableHeaders: [\n          {\n            text: 'Rom navn',\n            align: 'start',\n            filterable: true,\n            value: 'roomname',\n          },\n          { text: 'Etasje', value: 'storey' },\n          { text: 'Funksjon', value: 'function' },\n          { text: 'Kapasitet', value: 'capacity' },\n          { text: 'RomID', value: 'roomid' }\n        ],\n      roomTableList: [],\n      roomTableSelectedRow: [],\n      roomDetailsVisible: false,\n      buildingDetailsVisible: false,\n      selectedrooms: [],\n      filteredrooms: [],\n      spectext: \"\",\n      twodim: false,\n      rhf: [],\n      rhfselected: [],\n      rhfselectedURIs: [],\n      helseforetak: [],\n      hfselected: [],\n      hfselectedURIs: [],\n      lokselected: [],\n      locationNames: [],\n      locationURIs: [],\n      buildingNames: [],\n      buildingURIs: [],\n      buildingSelected: [],\n      wings: [\"Testwing\"],\n      wingURIs: [],\n      wingselected: [\"Testwing\"],\n      floors: [],\n      floorURIs: [],\n      floorselected: [],\n      siteURIs: [],\n      siteNames: [],\n      siteSelected: [],\n\n      contractOwnerURIs: [],\n      contractOwnerNames: ['Helgelandsykehuset HF'],\n      contractOwnerSelected: [],\n      contractUserURIs: [],\n      contractUserNames: ['Bildediagnostikk', 'Medisinsk klinikk', 'ØNH-, kjeve og øyesykdommer', 'Nevroklinikken', 'Kliniske servicefunksjoner', 'Fysikalsk medisin og rehab.', 'Mat og Cafe', 'Klinikk for anestesi og intensivmedisin'],\n      contractUserSelected: [],\n      contractTypeURIs: [],\n      contractTypeNames: ['Standard', 'Andre'],\n      contractTypeSelected: [],\n      contractStatusURIs: [],\n      contractStatusNames: ['Aktiv', 'Inaktiv'],\n      contractStatusSelected: [],\n\n      roomURIsSelected: [],\n      selectedRoomURIs: [],\n      sengeplass: \"\",\n      kapasitet: \"\",\n      selectedfunction: \"\",\n      hrimage: \"hr1111.png\",\n      resultat: true,\n      sengeplasstyper: ['134 - Sengerom', '113 - Overvåkingsplass', '62 - Isolat', '84 - Kuvøserom'],\n      romkapasitet: ['1-sengs', '2-sengs', '3-sengs', '4-sengs'],\n      functions: ['1A.1 - Barnesengeområde', '1A.4 - Føde/barsel', '1A.6 - Intensiv', '1A.9 - Normalsengeområde', '1A.5 - Habilitering/Rehabilitering'],\n      values: [   { name: '134 - Sengerom', one: 0 },\n            { name: '113 - Overvåkingsplass', one: 0 },\n            { name: '62 - Isolat', one: 0 },\n            { name: '84 - Kuvøserom', one: 0 },\n          ],\n      valid: true,\n      loading: false,\n      csfselection: [],\n      csfsearch: null,\n      caseSensitive: false,\n      partfunctionsSelected: [],\n      colorlist: ['#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080'],\n      csfitems: [\n        {\n          id: 1,\n          name: 'Root',\n          color: '#FF0000',\n          children: [\n            { id: 2, name: 'Child #1', color: '#0000FF' },\n            { id: 3, name: 'Child #2', color: '#00FF00' },\n            { id: 4, name: 'Child #3', color: '#0000FF' },\n          ],\n        },\n      ],\n    }\n  },\n  components: {\n      RoomDetails,\n      BuildingDetails\n  },\n  methods: {\n      calculate () {\n        this.resultat = true\n      },\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      getAllBuildings(){\n        const buildingURIs = [];\n        store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Building\")).forEach(st => {\n          console.log(\"Found building URI: \"+st.subject.value)\n          buildingURIs.push(st.subject.value);\n        });\n        buildingURIs.forEach(bURI => {\n          store.state.rs.rdfStore.match($rdf.sym(bURI), ns.RDFS(\"label\"), null).forEach(st => {\n            console.log(\"Found building Name: \"+st.object.value)\n            if(!this.buildingURIs.includes(bURI)) this.buildingURIs.push(bURI);\n            if(!this.buildingURIs.includes(st.object.value)) this.buildingNames.push(st.object.value);\n          });\n        });\n        return buildingURIs;\n      },\n      createRoomList(){// : async() => {\n        this.roomTableList = [];\n        // Get Room ids\n        let bedRoomCount = 0;\n        let survailanceRoomCount = 0;\n        let isolateRoomCount = 0;\n        let cotRoomCount = 0;\n        this.selectedrooms.forEach((item, i) => {\n          let roomTAG = \"\";\n          store.state.rs.rdfStore.match($rdf.sym(item), ns.TAG(\"tag\"), null).forEach(st => {\n             roomTAG = st.object.value;\n          });\n          let storeyTAG = \"\";\n          storeyTAG = roomTAG.replace(\".\"+so.getCharactersAfter(roomTAG, \".\"), \"\"); // NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG.E01\n          let buildingTAG = storeyTAG.replace(\".\"+so.getCharactersAfter(storeyTAG, \".\"), \"\"); // NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\n          const storeyTAGPart = so.getCharactersAfter(storeyTAG, \".\"); // E01\n\n          const storeyTAGs = [];\n          storeyTAGs.push(buildingTAG+\".FLOY_S.\"+storeyTAGPart); // Make a loop for all wings\n          storeyTAGs.push(buildingTAG+\".FLOY_N.\"+storeyTAGPart);\n          storeyTAGs.push(buildingTAG+\".FLOY_O.\"+storeyTAGPart);\n          storeyTAGs.push(buildingTAG+\".FLOY_V.\"+storeyTAGPart);\n          \n          let storeyName = \"\";\n          storeyTAGs.forEach(storeyT => {\n            store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), $rdf.literal(storeyT, null, ns.XSD('string'))).forEach(st => {\n                store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDFS(\"label\"), null).forEach(label => {\n                  storeyName = label.object.value;\n                });\n            });\n          });\n\n          let floor = \"0\";\n          store.state.rs.rdfStore.match(null, ns.DUL(\"hasPart\"), $rdf.sym(item)).forEach(st => {\n              if(store.state.rs.rdfStore.match(st.subject, ns.RDF(\"type\"), ns.BOT(\"Storey\")).length >= 0){\n                store.state.rs.rdfStore.match(st.subject, ns.RDFS(\"label\"), null).forEach(st => {\n                  floor = st.object;\n                });\n              }\n            //floor = decodeURI(st.object);\n          });\n\n          // Count bed capacity\n          let roomBedCount = 0;\n          store.state.rs.rdfStore.match($rdf.sym(item), ns.NEO(\"m_port\"), null).forEach(st => {\n            store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.RDF(\"type\"), ns.NEO(\"y_port\")).forEach(st => {\n              //console.log(\"Bed URI \" + st.subject);\n              roomBedCount = roomBedCount+1;\n            });\n          });\n\n          // Get room name\n          let roomName = \"\";\n          store.state.rs.rdfStore.match($rdf.sym(item), ns.RDFS(\"label\"), null).forEach(st => {\n            roomName = st.object.value;\n          });\n\n          let partFunction = \"\";\n          // Get room function\n          store.state.rs.rdfStore.match($rdf.sym(item), ns.NEO(\"b_capable\"), null).forEach(st => {\n              store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.TAG(\"tag\"), null).forEach(st => {\n                  let tagString = \"\"+decodeURI(st.object);\n                  //console.log(tagString);\n                  if(tagString.includes(\"SENGEROM\")){\n                    bedRoomCount = bedRoomCount+1;\n                  }\n                  if(tagString.includes(\"OVERV\")){\n                    survailanceRoomCount = survailanceRoomCount+1;\n                  }\n                  if(tagString.includes(\"ISOLAT\")){\n                    isolateRoomCount = isolateRoomCount+1;\n                  }\n                  if(tagString.includes(\"BARSEL\")){\n                    cotRoomCount = cotRoomCount+1;\n                  }\n              });\n              store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.RDFS(\"label\"), null).forEach(st => {\n                partFunction = st.object.value.replace(\"Delfunksjon: \", \"\");\n              });\n          });\n          this.roomTableList.push(JSON.parse('{\"roomname\":\"'+roomName+'\",\"storey\":\"'+storeyName+'\",\"function\":\"'+partFunction+'\",\"capacity\":\"'+roomBedCount+'\",\"roomid\":\"'+item+'\"}'));\n        });\n        this.values = [   { name: '134 - Sengerom', one: bedRoomCount },\n                    { name: '113 - Overvåkingsplass', one: survailanceRoomCount },\n                    { name: '62 - Isolat', one: isolateRoomCount },\n                    { name: '84 - Kuvøserom', one: cotRoomCount },\n                ];\n      },\n      getRHFDataFromTrinity(){\n        const URIofInterest = store.state.ministryURI;\n        if(store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).length != 0){\n          console.log(\"RHF FOUND!, getting data from local storage.\");\n          store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).forEach(st => {\n             console.log(\"RHF URI\" + st.object);\n             this.rhfselectedURIs.push(st.object);\n          });\n          // Getting URI names\n          this.rhfselectedURIs.forEach((item, i) => {\n            const URITriple = $rdf.st(item, ns.FOAF(\"name\"), null);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURIObject(tripleArray, URITriple, '').then((rhfURIs) => {\n              rhfURIs.forEach((item, i) => {\n                if(!this.rhf.includes(''+item.object)){\n                  this.rhf.push(''+item.object);\n                  this.rhfselected.push(''+item.object);\n                }\n              });\n            });\n          });\n        } else {\n          console.log(\"RHF NOT FOUND!, getting data from TrinPod\");\n          ur.aLoadURI(URIofInterest+\"/i\", null, null).then((result) => {\n            if(result){\n              store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).forEach(st => {\n                   console.log(\"RHF URI\" + st.object);\n                   store.state.rs.rdfStore.add(st);\n                   this.rhfselectedURIs.push(st.object);\n              });\n              // Getting URI names\n              this.rhfselectedURIs.forEach((item, i) => {\n                const URITriple = $rdf.st(item, ns.FOAF(\"name\"), null);\n                let tripleArray = [];\n                tripleArray.push(URITriple);\n                this.getURIObject(tripleArray, URITriple, '').then((rhfURIs) => {\n                  rhfURIs.forEach((item, i) => {\n                    if(!this.rhf.includes(''+item.object)){\n                      this.rhf.push(''+item.object);\n                      this.rhfselected.push(''+item.object);\n                    }\n                  });\n                });\n              });\n            } else {\n              console.log(\"Ministry Of Health URI not found.\");\n            }\n          });\n        }\n      },\n      async getURIObject(tripleArray, URITriple, URIreqire){ // Must rebuild to handle both subject and predicate as null values\n        return new Promise(resolve => {\n          let foundURIs = [];\n          if(store.state.rs.rdfStore.match(URITriple.subject, URITriple.predicate, null).length != 0){ // This check must be fixed\n            console.log(\"Getting locally.\")\n            tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n            tripleArray.forEach(item => {\n              if(item.object.value.includes(URIreqire)){\n                console.log(\"Found URI\" + item);\n                foundURIs.push(item);\n              }\n            });\n            resolve(foundURIs);\n          } else {\n            console.log(\"Getting TrinPod.\")\n            ur.aLoadURI(URITriple.subject.value, null, null).then((result) => {\n              if(result){\n                console.log(result);\n                  tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n                  tripleArray.forEach(item => {\n                    if(item.object.value.includes(URIreqire)){\n                      //console.log(\"Found URI\" + item.object);\n                      store.state.rs.rdfStore.add(item);\n                      foundURIs.push(item);\n                    }\n                  });\n                  resolve(foundURIs);\n              }\n            });\n          }\n        });\n      },\n      async getURISubject(tripleArray, URITriple, URIreqire){ // Must rebuild to handle both subject and predicate as null values\n        return new Promise(resolve => {\n          let foundURIs = [];\n          if(store.state.rs.rdfStore.match(null, URITriple.predicate, URITriple.object).length != 0){ // This check must be fixed\n            console.log(\"Getting locally.\")\n            tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n            tripleArray.forEach(item => {\n              if(item.subject.value.includes(URIreqire)){\n                console.log(\"Found URI\" + item);\n                foundURIs.push(item);\n              }\n            });\n            resolve(foundURIs);\n          } else {\n            console.log(\"Getting TrinPod.\")\n            ur.aLoadURI(URITriple.object.value, null, null).then((result) => {\n              if(result){\n                console.log(result);\n                  console.log(tripleArray);\n                  tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n                  tripleArray.forEach(item => {\n                    if(item.subject.value.includes(URIreqire)){\n                      //console.log(\"Found URI\" + item.subject);\n                      store.state.rs.rdfStore.add(item);\n                      foundURIs.push(item);\n                    }\n                  });\n                  resolve(foundURIs);\n              }\n            });\n          }\n        });\n      },\n      getTripleMatches(tripleArray, tripleGraph){\n        let tripleResult = [];\n        tripleArray.forEach((item, i) => {\n          if(i==0){\n            //console.log(\"S: \"+tripleArray[i].subject+\" P: \"+tripleArray[i].predicate+\" O: \"+tripleArray[i].object);\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              tripleResult.push(st);\n            });\n          } else {\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              if(tripleResult.includes(st)){\n                tripleResult = this.arrayRemove(tripleResult, st);\n                tripleResult.push(st);\n              } else {\n                tripleResult.push(st);\n              }\n            });\n          }\n        });\n        return tripleResult;\n      },\n      arrayRemove(arr, value) {\n        return arr.filter(function(ele){\n            return ele != value;\n        });\n      },\n      async getRoomGeometry(roomURIs){\n        this.selectedrooms = roomURIs;\n        roomURIs.forEach((roomURIitem, i) => {\n          store.state.rs.rdfStore.match($rdf.sym(roomURIitem), ns.IFOUR(\"m_polyline\"), null).forEach((polyline, i) => {\n              //console.log(\"Found room Polyline:\"+polyline.object);\n              bmu.addRoomMatrix(polyline, 0x1B4F72, 0.9, roomURIitem);\n          });\n        });\n        this.createRoomList(); // Takes long time to run, should do async\n\n        // Get Room geometry\n        //store.state.bv.roomGeometry = [];\n        /*roomURIs.forEach((item, i) => {\n          let roomBedCount = 0;\n          store.state.rs.rdfStore.match(item, ns.SIO(\"SIO_000202\"), null).forEach(st => {\n            store.state.rs.rdfStore.match(st.object, ns.RDF(\"type\"), ns.NEO(\"y_bed\")).forEach(st => {\n              //console.log(\"Bed URI \" + st.subject);\n              roomBedCount = roomBedCount+1;\n            });\n          });*/\n          /*if(roomBedCount == 1){\n            bmu.addRoomMatrix(st.object, 0x1B4F72, 0.9, st.subject);\n          } else if (roomBedCount == 2) {\n            bmu.addRoomMatrix(st.object, 0x1E8449, 0.9, st.subject);\n          } else if (roomBedCount == 3) {\n            bmu.addRoomMatrix(st.object, 0x7D6608, 0.9, st.subject);\n          } else if (roomBedCount == 4) {\n            bmu.addRoomMatrix(st.object, 0x6E2C00, 0.9, st.subject);\n          } else {\n            bmu.addRoomMatrix(st.object, 0x1B2631, 0.9, st.subject);\n          }*/\n\n          //});\n        //});\n        // Get total Room beds\n        /*let bedCount = 0;\n        let roomCount = 0;\n        roomURIs.forEach((item, i) => {\n          store.state.rs.rdfStore.match(item, ns.SIO(\"SIO_000202\"), null).forEach(st => {\n            store.state.rs.rdfStore.match(st.object, ns.RDF(\"type\"), ns.NEO(\"y_bed\")).forEach(st => {\n              //console.log(\"Bed URI \" + st.subject);\n              bedCount = bedCount+1;\n            });\n          });\n          roomCount = roomCount+1;\n        });\n        console.log(\"Total number of beds: \" + bedCount);\n        this.totalCalculatedCapacity = bedCount;\n        this.totalCalculatedRooms = roomCount;*/\n      },\n      loadHovedByggGeometry(){\n\n        //bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"BUILDING\"]);\n        //bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"FLOW\"]);\n        //bmu.loadGeometryUsingTag(store.state.currentBuildingTag, this.$route.query.location, [\"DOOR\"]);\n      },\n      async getHospitalFunctions(){\n        let functionsData = await cp.searchAndGetTriples(\"#NMH.F.SYKEHUS.*\");\n        this.csfitems = [];\n        const mainfunctionTags = [];\n        const mainfunctionURIs = [];\n        const partfunctionTags = [];\n        const partfunctionURIs = [];\n        store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n          if(item.object.value.includes(\"NMH.F.SYKEHUS.\")){\n            // Check if main function\n            let foundMainfunction = false;\n            store.state.rs.rdfStore.match($rdf.sym(item.subject.value), ns.RDFS(\"label\"), null).forEach(subitem => {\n              if(subitem.object.value.includes(\"Hovedfunksjon\")) foundMainfunction = true;\n            });\n            if(foundMainfunction){\n              console.log(\"Found: \"+ item.object.value);\n              if(!mainfunctionURIs.includes(item.subject.value)){\n                mainfunctionTags.push(item.object.value);\n                mainfunctionURIs.push(item.subject.value);\n              }\n            } else {\n              if(!partfunctionURIs.includes(item.subject.value)){\n                partfunctionTags.push(item.object.value);\n                partfunctionURIs.push(item.subject.value);\n              }\n            }\n          }\n        });\n        let idCounter = 0;\n        mainfunctionTags.forEach((mainfunctionTag, i) => {\n          const partFunctions = [];\n          partfunctionTags.forEach((partfunctionTag, j) => {\n            if(partfunctionTag.includes(mainfunctionTag+\".\")){\n              let partFunctionName = store.state.rs.rdfStore.match($rdf.sym(partfunctionURIs[j]), ns.RDFS(\"label\"), null)[0].object.value.replace(\"Delfunksjon: \", \"\");\n              partFunctionName = u.decodeCharacters(partFunctionName);\n              partFunctions.push({id: idCounter, name: partFunctionName, color: this.colorlist[i], tag: partfunctionTag, uri: partfunctionURIs[j] })\n              idCounter++;\n            }\n          });\n          partFunctions.sort(customCompare);\n          let mainFunctionName = store.state.rs.rdfStore.match($rdf.sym(mainfunctionURIs[i]), ns.RDFS(\"label\"), null)[0].object.value.replace(\"Hovedfunksjon: \", \"\");\n          mainFunctionName = u.decodeCharacters(mainFunctionName);\n          this.csfitems.push({id: idCounter, name: mainFunctionName, color: this.colorlist[i], tag: mainfunctionTag, uri: mainfunctionURIs[i], children: partFunctions })\n          this.csfitems.sort(customCompare);\n          idCounter++;\n        });\n      },\n      setAllFunctionsSelected(){\n        if(this.csfselection.length>0){\n          this.csfselection = [];\n        } else {\n          this.csfitems.forEach(item => {\n            this.csfselection.push(item);\n          });\n        }\n      },\n      showBuildingDetails(){\n        store.state.cp.buildingDetailURI = this.buildingURIs[0];\n        console.log(\"Setting building uri: \"+this.buildingURIs[0])\n      },\n      async populateSpaces(){\n        let loaded = await r.populateStoreFromTurtle();\n        console.log(loaded);\n        store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(cont => {\n          console.log(\"Found room: \" + cont.subject.value);\n          this.selectedRoomURIs.push(cont.subject.value);\n        });\n        this.getRoomGeometry(this.selectedRoomURIs);\n      }\n  },\n  computed: {\n    sItem () {\n      return this.selectedItem // Updates the selectedItem\n    },\n    filter () {\n        return this.caseSensitive\n          ? (item, csfsearch, textKey) => item[textKey].indexOf(csfsearch) > -1\n          : undefined\n    },\n  },\n  watch: {\n    \"$store.state.bv.twodim\": function (val) {\n        // Disable multiselect on Floor\n      console.log(\"Value changed..\")\n      /*if(val) {\n        this.floorselected = [];\n        this.floorselected.push(this.floors[0]);\n      }*/\n      this.twodim = val;\n    },\n    rhfselected: function (val) {\n      console.log(\"rhf selected...\");\n      var A = 0;\n      var B = 0;\n      var C = 0;\n      var D = 0;\n      for(let i = 0; i < this.rhfselected.length; i++){\n        console.log(\"Selected RHF: \"+ this.rhfselected[i])\n        if(this.rhfselected[i] == \"Helse Nord RHF\"){ A = 1 }\n        if(this.rhfselected[i] == \"Helse Midt-Norge RHF\"){ B = 1 }\n        if(this.rhfselected[i] == \"Helse Vest RHF\"){ C = 1 }\n        if(this.rhfselected[i] == \"Helse Sør-Øst RHF\"){ D = 1 }\n      }\n\n      this.hrimage = \"hr\"+A+B+C+D+\".png\"\n\n      this.rhfselectedURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(item, ns.ORG(\"hasSubOrganization\"), null);\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURIObject(tripleArray, URITriple, '').then((hfURIs) => {\n          hfURIs.forEach((item, i) => {\n            console.log(\"Found HF URIs: \"+item.object.value);\n            this.hfselectedURIs.push(item.object);\n            const URITriple = $rdf.st(item.object, ns.FOAF(\"name\"), null);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURIObject(tripleArray, URITriple, '').then((hfNames) => {\n              hfNames.forEach((item, i) => {\n                if(!this.hfselected.includes(''+item.object.value)){\n                  this.helseforetak.push(item.object.value);\n                  this.hfselected.push(item.object.value);\n                }\n              });\n            });\n          });\n        });\n      });\n    },\n    hfselected: function (val) {\n      console.log(\"hf selected...\");\n      this.hfselectedURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(item, ns.ORG(\"hasSubOrganization\"), null);\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURIObject(tripleArray, URITriple, '').then((locURIs) => {\n          locURIs.forEach((item, i) => {\n            if(!this.locationURIs.includes(item.object) && item.object.value.includes(\"/i\")){\n              this.locationURIs.push(item.object);\n              const URITriple = $rdf.st(item.object, ns.FOAF(\"name\"), null);\n              let tripleArray = [];\n              tripleArray.push(URITriple);\n              this.getURIObject(tripleArray, URITriple, '').then((locNames) => {\n                locNames.forEach((item, i) => {\n                  if(!this.locationNames.includes(''+item.object.value)){\n                    this.locationNames.push(item.object.value);\n                    this.lokselected.push(item.object.value);               \n                  }\n                });\n              });\n            } \n          });\n        });\n      });\n    },\n    lokselected: function (val) {\n      console.log(\"location selected...\");\n      this.locationURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(null, ns.ACL(\"owner\"), $rdf.sym(item));\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURISubject(tripleArray, URITriple, '').then((locURIs) => {\n          locURIs.forEach((item, i) => {\n            if(!this.siteURIs.includes(item.subject.value)) {\n              console.log(\"Found Site URIs: \"+item.subject.value);\n              this.siteURIs.push(item.subject.value);\n            }\n          });\n          this.siteURIs.forEach((item, i) => {\n            store.state.rs.rdfStore.match(null, ns.ACL(\"owner\"), $rdf.sym(item)).forEach(item => {\n              console.log(\"Found Building URIs: \"+item.subject.value);\n              if(!this.buildingURIs.includes(item.subject.value)) this.buildingURIs.push(item.subject.value);\n              store.state.rs.rdfStore.match($rdf.sym(item.subject.value), ns.FOAF(\"name\"), null).forEach(item2 => {\n                if(!this.buildingNames.includes(''+item2.object.value)){\n                  this.buildingNames.push(''+item2.object.value);\n                }\n              });\n            });\n          });\n        });\n        this.getAllBuildings();\n        // Select the building according to selected POD\n        this.buildingURIs.forEach(bURI => {\n          if(bURI == this.$route.query.location+\"i\"){\n            store.state.rs.rdfStore.match($rdf.sym(bURI), ns.FOAF(\"name\"), null).forEach(item2 => {\n                if(this.buildingNames.includes(''+item2.object.value)){\n                  if(!this.buildingSelected.includes(''+item2.object.value)) this.buildingSelected.push(''+item2.object.value);\n                }\n            });\n          }\n        });\n        if(this.buildingSelected.length==0) this.buildingSelected.push(''+this.buildingNames[0]);\n        bmu.createBuildingLocationList(this.buildingURIs);\n      });\n    },\n    buildingSelected: async function (val) {\n      const buildingSelectedURIs = [];\n      this.buildingNames.forEach((item, i) => {\n        buildingSelectedURIs.push(this.buildingURIs[i]);\n      });\n\n      let storeyfetch = buildingSelectedURIs.forEach((item, i) => {\n        ur.fetchAndSaveTurtle(item, true).then((successBool) => {\n          return successBool;\n        });\n      });\n      if(storeyfetch){}\n\n      // Get all the storey URIs\n      /*let tripleArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\"));\n      tripleArray.forEach(item => {\n        //if(item.object.value.includes(\"Storey-\")){\n          console.log(\"Found storey URI: \"+item.subject.value);\n          this.floorURIs.push(item.subject.value);\n        //}\n      });*/\n\n      let wingSearch = await r.searchAndGetURIs(\"#\"+store.state.currentBuildingTag+\".FLOY*\");\n      if(wingSearch){}\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.NEO(\"s_instance\")).forEach(item => {\n        store.state.rs.rdfStore.match($rdf.sym(item.subject.value), ns.TAG(\"tag\"), null).forEach(tag => {\n          if(tag.object.value.includes(store.state.currentBuildingTag+\".FLOY\")){\n            console.log(\"Found wing: \" + tag.subject.value);\n            if(!this.wingURIs.includes(item.subject.value)) this.wingURIs.push(tag.subject.value);\n          }\n        });\n      });\n\n      // Get the wing names\n      this.wingURIs.forEach((item, i) => {\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(item), ns.RDFS(\"label\"), null);\n        tripleArray.forEach(item => {\n          console.log(\"Found wing name: \"+item.object.value);\n          const wingName = u.decodeCharacters(item.object.value);\n          if(!this.wings.includes(wingName)) this.wings.push(wingName);\n        });\n      });\n\n\n    },\n    wingselected: async function (val){\n      let storeySearch = await r.searchAndGetURIs(\"#\"+store.state.currentBuildingTag+\"*\");\n      if(storeySearch){}\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\")).forEach(item => {\n          console.log(\"Found storey: \" + item.subject.value);\n          if(!this.floorURIs.includes(item.subject.value)){\n             this.floorURIs.push(item.subject.value);\n          }\n      });\n\n      // Get the storey names\n      this.floorURIs.forEach((item, i) => {\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(item), ns.RDFS(\"label\"), null);\n        tripleArray.forEach(item => {\n          console.log(\"Found storey name: \"+item.object.value+\" URI: \"+item.subject.value);\n          if(!this.floors.includes(item.object.value)){\n             this.floors.push(item.object.value);\n          }\n        });\n      });\n\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(cont => {\n          if(!this.selectedRoomURIs.includes(cont.subject.value)){\n            console.log(\"Found room: \" + cont.subject.value);\n            this.selectedRoomURIs.push(cont.subject.value);\n          }\n      });\n      this.getRoomGeometry(this.selectedRoomURIs);\n    },\n    floorselected: async function(val) {\n      console.log(this.floorselected);\n      store.state.bv.GLTFloadingQueue = [];\n      //bmu.unloadGeometryUsingTag(store.state.currentBuildingTag, [\"BUILDING\"]);\n      bmu.unloadGeometryContainingString(\"FLOORPLAN\");\n\n      /*let TurtleURI = this.$route.query.location+\"home/ttl/rooms.txt\"\n      let res = await window.solid.session.fetch(TurtleURI, { method: \"GET\", credentials: \"include\" });\n      res.arrayBuffer().then((filedata) => {\n        let file = new Blob([filedata]);\n        const fr = new FileReader();\n        fr.onload = function() {\n            console.log(\"Turtle result:\");\n            //console.log(this.result);\n            $rdf.parse(this.result, store.state.rs.rdfStore, TurtleURI, 'text/turtle');\n        };\n        fr.readAsText(file);\n      });*/\n      \n      let selectedStoreyURIs = [];\n      let roomNames = [];\n\n      // Get the selected storey URIs\n      let storeyTAG = \"\";\n      this.floors.forEach((item, i) => {\n        if(this.floorselected.includes(item)){\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(item, 'en'));\n          tripleArray.forEach(item => {\n            if(!selectedStoreyURIs.includes(item.subject.value)){\n              console.log(\"Found selected Storey URI: \"+item.subject.value);\n              selectedStoreyURIs.push(item.subject.value);\n            }\n          });\n        } else {\n          // Remove geometry for storeys not selected\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(item, 'en'));\n          tripleArray.forEach(storeytriple => {\n            store.state.rs.rdfStore.match($rdf.sym(storeytriple.subject.value), ns.TAG(\"tag\"), null).forEach(tagitem => {\n              storeyTAG = tagitem.object.value;\n              storeyTAG = storeyTAG.replace(\".FLOY_O\", \"\");\n              bmu.unloadGeometryUsingTag(storeyTAG, [\"FLOORPLAN\"]);\n              bmu.unloadGeometryUsingTag(storeyTAG, [\"IFCWALL\"]);\n              bmu.unloadGeometryUsingTag(storeyTAG, [\"IFCSLAB\"]);\n            });\n         });\n        }\n      });\n\n      console.log(\"Selected storeys:\");\n      console.log(selectedStoreyURIs);\n      console.log(\"Before storey fetch\");\n      // Fetch data from storey URI\n      /*for(let st=0; st<selectedStoreyURIs.length; st++){\n        let storeyfetch = await ur.fetchAndSaveTurtle(selectedStoreyURIs[st], true).then((successBool) => {\n          return successBool;\n        });\n        if(storeyfetch){}\n      }\n      console.log(\"After storey fetch\")*/\n\n      // Get tags for selected storey URIs\n      selectedStoreyURIs.forEach(storeyitem => {\n        store.state.rs.rdfStore.match($rdf.sym(storeyitem), ns.TAG(\"tag\"), null).forEach(item => {\n          console.log(\"Storey tag: \"+item.object.value);\n          storeyTAG = item.object.value;\n          storeyTAG = storeyTAG.replace(\".FLOY_O\", \"\");\n          storeyTAG = storeyTAG.replace(\".FLOY_S\", \"\");\n          storeyTAG = storeyTAG.replace(\".FLOY_V\", \"\");\n          storeyTAG = storeyTAG.replace(\".FLOY_N\", \"\");\n          storeyTAG = storeyTAG.replace(\".FLOY_M\", \"\");\n          // Show geometry for the tag\n          if(store.state.bv.gltfGeoVisible){\n            if(store.state.bv.twodim){\n              bmu.loadGeometryUsingTag(storeyTAG, this.$route.query.location, [\"FLOORPLAN\"]);\n            } else {\n              bmu.loadGeometryUsingTag(storeyTAG, this.$route.query.location, [\"IFCWALL\", \"IFCSLAB\"]);\n            }\n          }\n        });\n      });\n\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n          buildingbox.remove(buildingbox.children[i]);\n      }\n      store.state.bv.roomGeometry = [];\n      this.selectedRoomURIs = [];\n      for(let st=0; st<selectedStoreyURIs.length; st++){\n        const storeyURI = selectedStoreyURIs[st];\n        store.state.rs.rdfStore.match($rdf.sym(storeyURI), ns.SIO(\"SIO_000202\"), null).forEach(cont => {\n          if(store.state.rs.rdfStore.match($rdf.sym(cont.object.value), ns.RDF(\"type\"), ns.BOT(\"Space\"))[0]){ // Check if it is a room\n            if(!this.selectedRoomURIs.includes(cont.object.value)){\n              console.log(\"Found room: \" + cont.object.value);\n              this.selectedRoomURIs.push(cont.object.value);\n            }\n          }\n        });\n      }\n      this.getRoomGeometry(this.selectedRoomURIs);\n\n        /*store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(space => { // Check if it is a room\n            if(!this.selectedRoomURIs.includes(space.subject.value)){\n              console.log(\"Found room: \" + space.subject.value);\n              this.selectedRoomURIs.push(space.subject.value);\n            }\n          \n        });*/\n      \n      /*for(let t=0; t<this.wingselected.length; t++){\n        let wingPrefix = this.wingselected[t].charAt(0);\n        console.log(\"Wing tag: #\"+storeyTAG+\".\"+wingPrefix+\"*\");\n        let roomSearch = await r.searchAndGetURIs(\"#\"+storeyTAG+\".\"+wingPrefix+\"*\"); \n        if(roomSearch){}\n      }*/\n\n      /*store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), null).forEach(item => {\n          if(item.object.value.includes(\"Room\")){\n            console.log(\"Found room: \" + item.object.value);\n            if(!this.selectedRoomURIs.includes(item.subject.value)){\n              this.selectedRoomURIs.push(item.subject.value);\n            }\n          }\n      });*/\n      \n      // Fetch data for rooms\n      console.log(\"Number of rooms found: \"+this.selectedRoomURIs.length);\n      /*for(let i=0; i<this.selectedRoomURIs.length; i++){\n        let fetchrooms = await ur.fetchAndSaveTurtle(this.selectedRoomURIs[i]).then((successBool) => {\n          return successBool;\n        });\n        if(fetchrooms){}\n      }*/\n      \n    },\n    contractUserSelected: async function(val) {\n        store.state.bv.scene.remove(store.state.bv.scene.getObjectByName(\"roomlabel\"));\n        store.state.bv.roomGeometry = [];\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n          if(!buildingbox.children[i].name.includes(\"FLOORPLAN\")) buildingbox.remove(buildingbox.children[i]);\n        }\n        this.filteredrooms = [];\n        this.selectedrooms = [];\n        this.filteredrooms.push({uri: 'https://hovedbygg111.trinpod.us/node/t_u6', color: \"#911eb4\"});\n        this.selectedrooms.push('https://hovedbygg111.trinpod.us/node/t_u6');\n        this.filteredrooms.push({uri: 'https://hovedbygg111.trinpod.us/node/t_uw', color: \"#911eb4\"});\n        this.selectedrooms.push('https://hovedbygg111.trinpod.us/node/t_uw');\n        this.filteredrooms.push({uri: 'https://hovedbygg111.trinpod.us/node/t_uk', color: \"#911eb4\"});\n        this.selectedrooms.push('https://hovedbygg111.trinpod.us/node/t_uk');\n    },\n    \"$store.state.bv.selectedRoomNames\": function (val) { // Functionality for calling wayfinding\n      if(store.state.bv.selectedRoomNames.length == 2){\n        console.log(\"Call wayfinding now.\");\n        const room1 = $rdf.literal(store.state.bv.selectedRoomNames[0], 'en');\n        const room2 = $rdf.literal(store.state.bv.selectedRoomNames[1], 'en');\n        console.log(\"Room1: \"+store.state.bv.selectedRoomNames[0]);\n        console.log(\"Room2: \"+store.state.bv.selectedRoomNames[1]);\n        let foundWay = wf2.methods.wayBetweenRooms(room1, room2, 1, \"\");\n        store.state.bv.wayBetweenRooms = foundWay;\n      }\n    },\n    \"$store.state.rs.urisFetched\": function (val) {\n        this.urisFetched = store.state.rs.urisFetched;\n    },\n    \"$store.state.cp.roomDetailURI\": function (val) {\n        if(val.length>=5){\n          this.roomDetailsVisible = true;\n        } else {\n          this.roomDetailsVisible = false;\n        }\n    },\n    \"$store.state.cp.buildingDetailURI\": function (val) {\n        if(val.length>=1){\n          this.buildingDetailsVisible = true;\n        } else {\n          this.buildingDetailsVisible = false;\n        }\n    },\n    roomTableSelectedRow: function (val) {\n      store.state.bv.selectedRoomIDs = [];\n      store.state.bv.selectedRoomNames = [];\n      val.forEach((roomObject, i) => {\n        //console.log(roomObject.roomid);\n        store.state.bv.selectedRoomIDs.push(roomObject.roomid);\n        const name = roomObject.roomname.replace(\"Room \", \"\").replace(\"Rom \", \"\");\n        store.state.bv.selectedRoomNames.push(name);\n      });\n    },\n    csfselection: function(val, oldVal){\n      this.partfunctionsSelected = [];\n      //console.log(val);\n      // Remove all previous rooms\n      store.state.bv.roomGeometry = [];\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n        if(!buildingbox.children[i].name.includes(\"FLOORPLAN\")) buildingbox.remove(buildingbox.children[i]);\n      }\n      // Add new rooms\n      val.forEach(roomvalue => {\n         this.partfunctionsSelected.push({uri: roomvalue.uri, color: roomvalue.color});\n      });\n    },\n    partfunctionsSelected: function(val, oldVal){\n      // Find rooms based on function\n      this.filteredrooms = [];\n      this.selectedrooms = [];\n      val.forEach(functionvalue => {\n        //store.state.rs.rdfStore.match(null, ns.NEO(\"b_capable\"), $rdf.sym(functionvalue.uri)).forEach(roomItem => { // Must be replaced back when database is not broken\n        this.selectedRoomURIs.forEach(roomURI => { // Sometimes makes issues with matching on next line\n          try{\n            store.state.rs.rdfStore.match($rdf.sym(roomURI), null, $rdf.sym(functionvalue.uri)).forEach(roomItem => {\n              if(!this.selectedrooms.includes(roomItem.subject.value)){ // Prevent duplicates in list\n                this.filteredrooms.push({uri: roomItem.subject.value, color: functionvalue.color});\n                this.selectedrooms.push(roomItem.subject.value);\n              }\n            });\n          } catch(error){}\n        });\n      });\n    },\n    filteredrooms: function(val, oldVal){\n      // Add newly selected rooms\n      //console.log(\"Found rooms\");\n      val.forEach(room => {\n        //console.log(\"RoomURI: \"+room.uri);\n        store.state.rs.rdfStore.match($rdf.sym(room.uri), ns.IFOUR(\"m_polyline\"), null).forEach((polyline, i) => {\n            bmu.addRoomMatrix(polyline, colorToSigned24Bit(room.color), 1, room.uri);\n          });\n      });\n      this.createRoomList();\n    },\n  },\n  mounted() {\n    //this.createInput();\n    this.hrimage = \"hr1111.png\";\n    this.checklogin();\n    store.state.bv.mapMode = true;\n    this.getHospitalFunctions();\n    this.getRHFDataFromTrinity();\n    store.state.bv.twodim = true;\n    this.twodim = true;\n    \n\n  /*  getRegions(\"shb\").then((result) => {\n      if(result){\n        console.log(result);\n        let lastItem = result ? result[result.length - 1]:console.log(\"No customers in list\");\n      } else {\n        console.log(\"No customers in list\");\n      }\n    });*/\n\n\n    setTimeout(() => {\n      store.state.rs.rdfStore.match(null, ns.GMXO(\"2\"), \"MinistryOfHealth\").forEach(st => {\n        console.log(\"Trying to set:\");\n         if(st.subject != null){\n           console.log(\"setting.....\");\n           this.rhfselected.push(\"Helse Nord RHF\");\n           this.hfselected.push(\"Helgelandssykehuset HF\");\n           this.lokselected.push(\"1 - Mo i Rana\");\n           this.buildingSelected.push(\"111 - Hovedbygg\");\n         }\n      });\n      //this.populateSpaces();\n    }, 2000);\n\n    /*\n    // Get  ministryUri\n    let ministryURI = \"\";\n    console.log(\"Finding MinistryURI ?\");\n    store.state.rs.rdfStore.match(null, ns.GMXO(\"2\"), \"MinistryOfHealth\").forEach(st => {\n       console.log(\"MinistryURI \" + st.subject);\n       ministryURI = st.subject;\n    });\n\n    // Get Region URIs\n    let regionURIs = [];\n    console.log(\"Finding RegionURI ?\");\n    store.state.rs.rdfStore.match(ministryURI, ns.DUL(\"hasPart\"), null).forEach(st => {\n       console.log(\"Region URI \" + st.object);\n       regionURIs.push(st.object);\n    });\n\n    // Get Region names\n    regionURIs.forEach((item, i) => {\n      store.state.rs.rdfStore.match(item, ns.RDFS(\"label\"), null).forEach(st => {\n         console.log(\"Region Name \" + st.object);\n         this.rhf.push(''+st.object);\n      });\n    });*/\n\n  },\n  created(){\n    \n  },\n  updated(){\n    console.log(\"View did update.\");\n    store.state.bv.animate = true;\n\n    setTimeout(() => {\n      store.state.bv.animate = false;\n    }, 1000);\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.expansion{\n  transform: scale(1.0, 1.0);\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  margin-bottom: 10px;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #3577cb;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\n/*button:hover {\n  transform: scale(1.2, 1.2);\n}*/\n</style>\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PodSelect.vue?vue&type=style&index=0&id=53bfdf54&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMDetails.vue?vue&type=style&index=0&id=7829fb3a&prod&scoped=true&lang=css&\"","const wf = {}\n\nimport { rdf } from '@inrupt/solid-client/dist/constants';\nimport { nullDependencies } from 'mathjs';\nimport { stringify } from 'uuid';\nimport store from '../store';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nconst $rdf = require('rdflib');\nlet wayRdfStore = $rdf.graph();\n\nexport default {\n  wf: wf,\n  name: 'Wayfinder',\n  data () {\n    return {\n\n    };\n  },\n  methods: {\n    populateWayRdfStore(){\n      // Only adding room that have more than 1 door or is a shared space.\n      console.log(\"Populating way RDF Store\")\n      wayRdfStore = $rdf.graph();\n      const uriArray = [];\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), null).forEach(st =>{\n        if(!uriArray.includes(st.subject.value)) uriArray.push(st.subject.value);\n        if(!uriArray.includes(st.object.value)) uriArray.push(st.object.value);\n      });\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), null).forEach(st =>{\n        if(!uriArray.includes(st.subject.value)) uriArray.push(st.subject.value);\n      });\n      store.state.rs.rdfStore.match(null, ns.IFOUR(\"islocked\"), null).forEach(st =>{\n        wayRdfStore.add(st.subject, st.predicate, st.object, $rdf.default);\n      });\n      uriArray.forEach(uriVal =>{\n        if(store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_port\"), null).length>1 || store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_join\"), null).length>0 || store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uriVal))>0){\n          // Room has several doors and should be added\n          store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_port\"), null).forEach(st =>{\n            wayRdfStore.add(st.subject, st.predicate, st.object, $rdf.default);\n          });\n          store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_join\"), null).forEach(st =>{\n            wayRdfStore.add(st.subject, st.predicate, st.object, $rdf.default);\n          });\n          store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uriVal)).forEach(st =>{\n            wayRdfStore.add(st.subject, st.predicate, st.object, $rdf.default);\n          });\n        }\n      });\n    },\n    wayBetweenRooms(room1, room2, numberOfWays, debug=false){\n      //console.log(\"Finding way: \"+room1+\" : \"+room2);\n      let exitFunction = false;\n      const startTime = performance.now();\n      let finalWays = [];\n      //let room1 = $rdf.literal(\"Rom Ø125\", 'no');\n      //let room2 = $rdf.literal(\"Rom F121\", 'no');\n      let roomID1 = \"\";\n      let roomID2 = \"\";\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room1, 'en')).forEach(st => {\n        roomID1 = st.subject.value;\n        if(debug) console.log(\"RoomID1:\", roomID1);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), room1).forEach(st => {\n        roomID1 = st.subject.value;\n        if(debug) console.log(\"RoomID1:\", roomID1);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room2, 'en')).forEach(st => {\n        roomID2 = st.subject.value;\n        if(debug) console.log(\"RoomID2:\", roomID2);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), room2).forEach(st => {\n        roomID2 = st.subject.value;\n        if(debug) console.log(\"RoomID2:\", roomID2);\n      });\n      // Get all doors into array\n      /*let doorArray = [];\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.NEO(\"x_door\")).forEach(st => {\n        doorArray.push(st.subject);\n      });*/\n\n      if(wayRdfStore.match(null, ns.NEO(\"m_port\"), null).length==0) this.populateWayRdfStore(); // Populate only if empty\n      let pathLeftArray = [];\n      let pathRightArray = [];\n      // Add the first rooms to the array\n      pathLeftArray.push([roomID1]);\n      pathRightArray.push([roomID2]);\n      // Add the first doors to the array\n      store.state.rs.rdfStore.match($rdf.sym(roomID1), ns.NEO(\"m_port\"), null).forEach(st => {\n        pathLeftArray.push([roomID1, st.object.value]);\n      });\n      store.state.rs.rdfStore.match($rdf.sym(roomID2), ns.NEO(\"m_port\"), null).forEach(st => {\n        pathRightArray.push([roomID2, st.object.value]);\n      });\n      // Add the second rooms then doors to the array - loop\n\n      let foundLink = 0;\n      var wl = 2; // Starts after first room and door\n      do {\n        //Finding rooms and doors from left\n        let somethingAdded = false;\n        let alreadyExist = false;\n        pathLeftArray.forEach((item, i) => {\n          let last = item.length-1;\n          let currentNode = item[last];\n          if(currentNode){ // Check if defined\n            // Check type of node - Door or Room\n            let isDoor = false;\n            store.state.rs.rdfStore.match($rdf.sym(currentNode), ns.RDF(\"type\"), null).forEach(st => {\n              if(st.object.value.includes(\"x_door\")){\n                //console.log(\"Confirm door\");\n                isDoor = true;\n              }\n            });\n            if(isDoor){\n              this.getRelatedDoors(currentNode).forEach(nURI => {\n                let doorLabel = store.state.rs.rdfStore.match($rdf.sym(nURI), ns.RDFS(\"label\"), null)[0].object.value;\n                if(!doorLabel.includes(\"undefined\") && !doorLabel.includes(\"Outdoor\")){\n                  //console.log(\"Found door\");\n                  let tempArray = [];\n                  alreadyExist = false;\n                  item.forEach((itemPart, j) => {\n                    tempArray.push(itemPart);\n                    if(itemPart==nURI) alreadyExist = true; // Prevent loops back to previous room\n                  });\n                  if(alreadyExist) return; // Break out of forEach loop\n                  const checkArray = pathLeftArray;//.slice(-100); // Set limit to check the last 100 added items, will be a limit of hall with 100 rooms\n                  checkArray.forEach(iexist => {\n                    if(iexist.toString()===tempArray.toString()){\n                      alreadyExist = true;\n                      return;\n                    }\n                  });\n                  if(!alreadyExist){\n                    pathLeftArray.push(tempArray); // Må splitte ut item til å bli liste over named nodes\n                    somethingAdded = true;\n                  }\n                }\n              });\n            } else {\n              this.getRelatedSpaces(currentNode).forEach(nURI => {\n                // Found a room, should do some checks.\n                //console.log(\"Found room\");\n                let tempArray = [];\n                alreadyExist = false;\n                item.forEach((itemPart, j) => {\n                  tempArray.push(itemPart);\n                  if(itemPart==nURI) alreadyExist = true; // Prevent loops back to previous room\n                });\n                if(alreadyExist) return; // Break out of forEach loop\n                tempArray.push(nURI);\n                const checkArray = pathLeftArray;//.slice(-100); // Set limit to check the last 100 added items, will be a limit of hall with 100 rooms\n                checkArray.forEach(iexist => {\n                  if(iexist.toString()===tempArray.toString()){\n                    alreadyExist = true;\n                    return;\n                  }\n                });\n                if(!alreadyExist){\n                  pathLeftArray.push(tempArray); // Må splitte ut item til å bli liste over named nodes\n                  somethingAdded = true;\n                }\n                pathRightArray.forEach((item2, i) => {\n                  //if(item2[last-1]) if(item2[last-1] == st.object.value) console.log(\"Found some other relation!!\");\n                  if(item2[item2.length-1] == nURI){\n                    const foundWay = tempArray.concat(item2.reverse()); // Combining the way list from both sides\n                    if(foundWay.length<7) exitFunction = true; // Prevents from searching for alternative ways when the way is short\n                    //console.log(tempArray);\n                    let wayAlreadyExist = false;\n                    finalWays.forEach(way => {\n                      if(way.way.toString()===foundWay.toString()) wayAlreadyExist = true;\n                    });\n                    if(!wayAlreadyExist){\n                      console.log(\"WOW, found the way from left!!!\");\n                      finalWays.push({\"way\": foundWay, \"priority\": 0 });\n                      foundLink++;\n                      wl = 37;\n                    } \n                  }\n                });\n              });\n            }\n          }\n        });\n\n        //Finding rooms and doors from right\n        pathRightArray.forEach((item, i) => {\n          let last = item.length-1;\n          let currentNode = item[last];\n          if(currentNode){ // Check if defined\n            // Check type of node - Door or Room\n            let isDoor = false;\n            store.state.rs.rdfStore.match($rdf.sym(currentNode), ns.RDF(\"type\"), null).forEach(st => {\n              //console.log(\"Compare:\"+st.object+\":\"+ns.NEO(\"x_door\"));\n              if(st.object.value.includes(\"x_door\")){\n                //console.log(\"Confirm door\");\n                isDoor = true;\n              }\n            });\n            alreadyExist = false;\n            if(isDoor){\n              this.getRelatedDoors(currentNode).forEach(nURI => {\n                let doorLabel = store.state.rs.rdfStore.match($rdf.sym(nURI), ns.RDFS(\"label\"), null)[0].object.value;\n                if(!doorLabel.includes(\"undefined\") && !doorLabel.includes(\"Outdoor\")){\n                  //console.log(\"Found door\");\n                  let tempArray = [];\n                  alreadyExist = false;\n                  item.forEach((itemPart, j) => {\n                    tempArray.push(itemPart);\n                    if(itemPart==nURI) alreadyExist = true; // Prevent loops back to previous room\n                  });\n                  if(alreadyExist) return; // Break out of forEach loop\n                  tempArray.push(nURI);\n                  const checkArray = pathRightArray;//.slice(-100); // Set limit to check the last 100 added items, will be a limit of hall with 100 rooms\n                  checkArray.forEach(iexist => {\n                    if(iexist.toString()===tempArray.toString()){\n                      alreadyExist = true;\n                      return;\n                    }\n                  });\n                  if(!alreadyExist){\n                    pathRightArray.push(tempArray); // Må splitte ut item til å bli liste over named nodes\n                    somethingAdded = true;\n                  }\n                }\n              });\n            } else {\n              this.getRelatedSpaces(currentNode).forEach(nURI => {\n                //console.log(\"Found room\");\n                let tempArray = [];\n                alreadyExist = false;\n                item.forEach((itemPart, j) => {\n                  tempArray.push(itemPart);\n                  if(itemPart==nURI) alreadyExist = true; // Prevent loops back to previous room\n                });\n                if(alreadyExist) return; // Break out of forEach loop\n                tempArray.push(nURI);\n                const checkArray = pathRightArray;//.slice(-100); // Set limit to check the last 100 added items, will be a limit of hall with 100 rooms\n                checkArray.forEach(iexist => {\n                  if(iexist.toString()===tempArray.toString()){\n                    alreadyExist = true;\n                    return;\n                  }\n                });\n                if(!alreadyExist){\n                  pathRightArray.push(tempArray); // Må splitte ut item til å bli liste over named nodes\n                  somethingAdded = true;\n                }\n                pathLeftArray.forEach((item3, i) => {\n                  //if(item3[last-1]) if(item3[last-1] == st.object) console.log(\"Found some other relation!!\");\n                  if(item3[item3.length-1] == nURI){\n                    //tempArray.push(st.object); // Should not be included, creates duplicates\n                    //tempArray.splice(-1); // Remove last element\n                    tempArray = tempArray.concat(item3.reverse()); // Combining the way list from both sides\n                    const foundWay = tempArray.reverse();\n                    //console.log(tempArray);\n                    // Add to button list\n                    //store.state.bv.selectedRoomIDs = [];\n                    //store.state.bv.selectedRoomNames = [];\n                    /*tempArray.forEach((wayPart, j) => {\n                      store.state.bv.selectedRoomNames.push(wayPart);\n                    });*/\n                    if(foundWay.length<7) exitFunction = true; // Prevents from searching for alternative ways when the way is short\n                    let wayAlreadyExist = false;\n                    finalWays.forEach(way => {\n                      if(way.way.toString()===foundWay.toString()) wayAlreadyExist = true;\n                    });\n                    if(!wayAlreadyExist){\n                      console.log(\"WOW, found the way from right!!!\");\n                      finalWays.push({\"way\": foundWay, \"priority\": 0 });\n                      foundLink++;\n                      wl = 47;\n                    } \n                  }\n                });\n              });\n            }\n          }\n        });\n        //console.log(\"Round \"+wl+\" Completed...\");\n        if((performance.now()-startTime)>=15000) foundLink++;\n        if((performance.now()-startTime)>=20000) exitFunction = true;\n        wl++;\n        if(wl==50||exitFunction){ // Set max number to prevent infinit loop\n          foundLink = numberOfWays;\n        }\n        //if(!somethingAdded) return;\n      }\n      while (foundLink<numberOfWays);\n\n      // Select the way based on parameters\n      finalWays.forEach(way => {\n        way.priority = way.way.length*-15; // Må ha denne over dobbelt så høy som fratrekk for interface point for ikke å ta omveier pga mange dører.\n      });\n      finalWays.forEach(way => {\n        way.way.forEach(waySpace => {\n          //if(store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.RDF(\"type\"), ns.NEO(\"m_interface-point\")).length != 0) way.priority = way.priority+5; // Do not count when part of same space without door\n          store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.NEO(\"m_port\"), null).forEach(port => {\n            way.priority = way.priority+(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), ns.NEO(\"x_door\")).length*1);\n            //way.priority = way.priority+(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), ns.NEO(\"m_interface-point\")).length*3);\n          });\n        });\n      });\n      finalWays.sort((a, b) => a.priority - b.priority);\n      const finalWaysSorted = finalWays.reverse();\n      if(debug) console.log(finalWaysSorted);\n\n      // Create function to display way names instead of URIs ( Just for testing )\n      if(debug){\n        const finalNames = [];\n        finalWaysSorted.forEach(way => {\n          const nameArray = [];\n          way.way.forEach(waySpace => {\n            nameArray.push(store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.RDFS(\"label\"), null)[0].object.value);\n          });\n          finalNames.push(nameArray);\n        });\n        if(debug) console.log(finalNames);\n      }\n\n      const finalWaysUniqueSorted = [];\n      // Remove duplicates in wayfinding\n      finalWaysSorted.forEach((element) => {\n        if (!finalWaysUniqueSorted.includes(element)) {\n          finalWaysUniqueSorted.push(element);\n        }\n      });\n\n      if(debug) console.log(\"Number of loops in wayfinding: \"+wl);\n      const endTime = performance.now();\n      if(debug) console.log(`Wayfinding used: ${endTime - startTime} milliseconds`);\n      if(finalWaysUniqueSorted[0]){\n        return finalWaysUniqueSorted[0].way;\n      } else {\n        console.log(\"Warning: Did not find any Way..\");\n        return [];\n      }\n    },\n    getRelatedSpaces(uri){\n      const relatedURIs = [];\n      wayRdfStore.match($rdf.sym(uri), ns.NEO(\"m_port\"), null).forEach(triple =>{\n        if(!this.checkIfDoorIsLocked(triple.object.value)) relatedURIs.push(triple.object.value);\n      });\n      wayRdfStore.match($rdf.sym(uri), ns.NEO(\"m_join\"), null).forEach(triple =>{\n        if(!this.checkIfDoorIsLocked(triple.object.value)) relatedURIs.push(triple.object.value);\n      });\n      wayRdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uri)).forEach(triple =>{\n        if(!this.checkIfDoorIsLocked(triple.subject.value)) relatedURIs.push(triple.subject.value);\n      });\n      return relatedURIs;\n    },\n    getRelatedDoors(uri){\n      const relatedURIs = [];\n      wayRdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(uri)).forEach(triple =>{\n        // Kan la være å returnere dører til spaces med kun en dør\n        let shouldReturn = true;\n        wayRdfStore.match($rdf.sym(triple.subject.value), ns.NEO(\"m_port\"), null).forEach(triple =>{\n          if(triple.object.value!=uri){\n            if(wayRdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(triple.object.value)).length<2&&!wayRdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(triple.object.value))[0]){\n              shouldReturn = false;\n            }\n          }\n        });\n        if(shouldReturn&&!this.checkIfDoorIsLocked(triple.subject.value)) relatedURIs.push(triple.subject.value);\n      });\n      wayRdfStore.match($rdf.sym(uri), ns.NEO(\"m_join\"), null).forEach(triple =>{\n        if(!this.checkIfDoorIsLocked(triple.object.value)) relatedURIs.push(triple.object.value);\n      });\n      wayRdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uri)).forEach(triple =>{\n        if(!this.checkIfDoorIsLocked(triple.subject.value)) relatedURIs.push(triple.subject.value);\n      });\n      return relatedURIs;\n    },\n    checkIfDoorIsLocked(uri){\n      let islocked = false;\n      if(wayRdfStore.match($rdf.sym(uri), ns.IFOUR(\"islocked\"), null)[0]) islocked = true;\n      return islocked;\n    },\n    getWayPointsFromURIs(wayURIs){\n      // Get all the xyz points where to go for finding the way to target\n    },\n  },\n  watch: {\n\n  },\n};\n","module.exports = __webpack_public_path__ + \"img/room.22ff57df.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAKdAAACnQEbaSIpAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjMtMDEtMDlUMTA6MTQ6MTUrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIzLTAxLTA5VDEwOjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIzLTAxLTA5VDEwOjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NzZjODVhYy1lMWE5LTQwMDgtOGY2Ny04NjNhNjQ4YTJlNDkiIHhtcE1NOkRvY3VtZW50SUQ9ImFk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\"","import a from './util-a.js';\nimport store from '../store';\n\nconst $rdf = require('rdflib');\nconst rdfStore = store.state.rs.rdfStore;\nconst rdfFetcher = new $rdf.Fetcher(rdfStore, {fetch: store.state.rs.hyperFetch});\n\nconst $ = require('jquery')\n\nimport * as URI from \"uri-js\";\n\n//import config from './config'\n//import { graph } from '@/graph.js';\n\nimport { ns, nu, nl, neo, trinity, trinapp } from './ontologies.js'\n\nimport u from './util.js';\n//import ua from './util-acl.js'\nimport q from './util-q.js'\nimport c from './util-c.js'\n\nimport Vue from 'vue'\n\nconst ur = {};\n\nimport * as log from 'loglevel'\n\nur.error = function (err) {\n\tlog.error(\"***ERROR***\", err);\n}\n\nur.login = async function () {\n    //const session =\n    await window.solid.session\n    log.debug(\"login\", store.state.webId);\n    if (store.state.webId) {\n\tvar URIp = URI.parse(store.state.webId)\n\tvar port = URIp.port;\n\tif (!port) {\n\t    port = \"\"\n\t} else {\n\t    port = \":\" + port;\n\t}\n\tstore.state.podNs = URIp.scheme + \"://\" + URIp.host + port + \"/node/\" // + \"/\";\n\tstore.state.pod = URIp.host + port;\n\tns.U1 = $rdf.Namespace(store.state.podNs)\n\tnu.U1 = store.state.podNs\n\tconst cardData = await store.dispatch('loadDataSet', { uri: store.state.webId, sentFrom: \"util-rdf.login\" })\n\tif (cardData) {\n\t    var me = $rdf.sym(store.state.webId) //client.getThing(cardData,store.state.webId)\n\n\n\t    store.state.userName = ur.getLabel(me);\n\n\t    var storage = rdfStore.anyStatementMatching(me, ns.SPACE('storage'))\n\t    if (storage) {\n\t\tstorage = storage.object\n\t    }\n\t    var profile = rdfStore.anyStatementMatching(me, ns.FOAF('PersonalProfileDocument'))\n\t    if (profile) {\n\t\tprofile = profile.object\n\t    }\n\t    log.debug(\"session\", window.solid.session, storage, profile);\n\t    if (storage) {\n\t\tstore.state.storage = storage.value\n\t    }\n\n\t    if (profile) {\n\t\tstore.state.profile = profile.value\n\t    } else {\n\t\tstore.state.profile = store.state.webId;\n\t    }\n\t    var cRoute = Vue.router.currentRoute\n\t    var hash = cRoute.hash\n\t    var path = cRoute.path\n\t    var qObj = cRoute.query\n\t    var node = decodeURIComponent(path) //(hash.substr(1));\n\t    //set default view if none set\n\t    log.debug(\"route\", cRoute, hash, path, qObj, node)\n\n\t    //await store.dispatch('loadDataSet',{ uri: store.state.storage}) //, forceHead: true})   \n\n\t    var eObj = u.deleteKeys(qObj, [\"code\", \"state\"])\n\n\t    //if (!eObj.select) {\n\t    //eObj.select = store.state.webId //store.state.storage\n\t    //}\n\t    //check for redirect\n\t    var lastVisited = window.localStorage.getItem('redirect_uri')\n\t    if (lastVisited){\n\t\tlastVisited = URI.parse(decodeURIComponent(lastVisited))\n\t\tvar lastQuery = u.deparam(lastVisited.query)\n\t\tif ($.type(lastQuery) === 'object' && lastQuery.location){\n\t\t    eObj = lastQuery\n\t\t}\n\t    }\n\n\t    \n\t    store.commit('loggedIn', true)\n\t    if (!eObj.location) {\n\t\teObj.location = store.state.webId //store.state.storage\n\t    }\n\t    log.debug(\"state.storage\", store.state.storage, eObj)\n\t    store.state.node = store.state.webId\n\t    store.commit('location', store.state.webId)\n\t    store.commit(\"loading\", false)\n\t    Vue.router.push({ path: path, query: eObj }); //u.getReload(\n\t}\n    }\n}\n\n//EVENTS\n\nur.getIssuer = function (uri) {\n    //log.debug(\"getIssuer\",uri)\n    var uri = u.getURI(uri)\n    if (uri){\n\tvar webId = ur.getWebId(uri);\n\tif (webId){\n\t    var st = rdfStore.anyStatementMatching($rdf.sym(webId), ns.SOLID('oidcIssuer'))\n\t    if ($.type(st) === 'object' && st.object){\n\t\treturn st.object.value;\n\t    }\n\t} else {\n\t    return u.getBaseURI(uri)\n\t}\n    }\n}\n\nur.getInbox = function (uri) {\n    var uri = u.getURI(uri)\n    if (uri){\n\tvar webId = ur.getWebId(uri);\n\tif (webId){\n\t    var st = rdfStore.anyStatementMatching($rdf.sym(webId), ns.LDP('inbox'))\n\t    if ($.type(st) === 'object' && st.object){\n\t\treturn st.object.value;\n\t    }\n\t}\n    }\n}\n\nur.isNeo = function (item) {\n\tvar ns = ur.getNamespace(item)\n\treturn ns === 'NEO'\n}\n\nur.isConstructionPod = function(item){\n    var base = u.getURI(item)\n    if (base){\n\tvar types = ur.getTypes(base)\n\tif (Array.isArray(types) && types.includes(ns.NEO('a_pod-construction').value)){\n\t    return true\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}\n\nur.isChildPod = function (item){\n    var webid = ur.getWebId(item)\n    if (webid){\n\tvar match = u.unique(rdfStore.match($rdf.sym(webid), $rdf.sym(ns.ACL('owner'))))\n\tif (Array.isArray(match) && match.length > 0){\n\t    return true\n\t} else {\n\t    return false\n\t}\n    }\n}\n\nur.isParentPod = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar webid = ur.getWebId(uri)\n\tif (webid){\n\t    var match = u.unique(rdfStore.match(null, $rdf.sym(ns.ACL('owner')),$rdf.sym(webid)))\n\t    if (Array.isArray(match) && match.length > 0){\n\t\treturn true\n\t    } else {\n\t\treturn false\n\t    }\n\t}\n    }\n}\n\nur.isParentPodCapable = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tif (uri === ur.getWebId(uri) && (ur.isParentPod(uri) || !ur.isChildPod(uri))){\n\t    return true\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}\n\nur.isPodProject = function (item){\n    return ur.isPodType(item,ns.DOAP('Project'))\n}\n\nur.isPodBusiness = function (item){\n    return ur.isPodType(item,ns.GR('BusinessEntity'))\n}\n\nur.isPodOrganization = function (item){\n    return ur.isPodType(item,ns.ORG('Organization'))\n}\n\nur.isPodGroup = function (item){\n    return ur.isPodType(item,ns.VCARD('Group'))\n}\n\nur.isPodBuilding = function (item){\n    return ur.isPodType(item,ns.BOT('Building'))\n}\n\nur.isPodSite = function (item){\n    return ur.isPodType(item,ns.BOT('Site'))\n}\n\nur.isPodPersonal = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar webid = ur.getWebId(uri)\n\tif (uri === webid){\n\t    var types = u.getURIs(ur.getTypes(uri))\n\t    if (Array.isArray(types) && types.includes(ns.FOAF('Person').value)){\n\t\treturn true\n\t    } else {\n\t\treturn false\n\t    }\n\t} else {\n\t    return false\n\t}\n    }\n}\n\n\nur.isPodType = function(item,type){\n    var uri = ur.getWebId(item)\n    if (uri){\n\treturn ur.isType(uri,type)\n    } else {\n\treturn false\n    }\n}\n\n/*\n    var uri = u.getURI(item)\n    if (uri){\n\tvar types = ur.getTypes(uri)\n\tif (Array.isArray(types)){\n\t    if (types.includes(ns.DOAP('Project').value)){\n\t\treturn true\n\t    } else {\n\t\treturn false\n\t    }\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}*/\n\nur.isType = function (item,type){\n    var type = u.getURI(type)\n    var uri = u.getURI(item)\n    if (uri && type){\n\tvar types = ur.getTypes(uri)\n\tif (Array.isArray(types)){\n\t    if (types.includes(type)){\n\t\treturn true\n\t    } else {\n\t\treturn false\n\t    }\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}\n\nur.isProcess = function (item) {\n    return ur.isType(item,ns.OPMV('Process'))\n}\n\nur.isAccount = function (item) {\n    var uri = u.getURI(item)\n    if (ur.isType(uri,ns.SOLID('Account')) ||\n\turi === store.state.storage){\n\treturn true\n    } else {\n\treturn false\n    }\n}\n\nur.isContainer = function (item) {\n\treturn ur.containerP(item)\n}\n\nur.containerP = function (item) {\n    return (ur.isType(item,ns.LDP('Container')) ||\n\t    ur.isType(item,ns.LDP('BasicContainer')) ||\n\t    ur.isType(item,ns.LDP('IndirectContainer')) ||\n\t    ur.isType(item,ns.LDP('DirectContainer')))\n}\n\nur.isPort = function (item){\n    return (ur.isType(item,ns.NEO('x_port')) ||\n\t    ur.isObjectPort(item))\n}\n\nur.isControlledProject = function (item){\n    if (ur.isPodProject(item) && ua.userCanControl(item)){\n\treturn true\n    } else {\n\treturn false\n    }\n}\n\n\n\n\n    \n\nur.isConcept = function (item) {\n    var uri = u.getURI(item)\n    if (uri) {\n\tif (rdfStore.anyStatementMatching($rdf.sym(uri), neo.m_cid) ||\n\t    uri.includes(\"http://www.w3.org/ns/iana/media-types/\") ||\n\t    uri.includes(\"https://w3id.org/idsa/core/\")) {\n\t    return true\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}\n\nur.isQuad = function (quad) {\n\tif ($.type(quad) === \"object\" && quad.subject) {\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.isEvent = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tvar node = $rdf.sym(uri)\n\t\tif (rdfStore.anyStatementMatching(null, neo.i_input, node) ||\n\t\t\trdfStore.anyStatementMatching(node, neo.o_output) ||\n\t\t\trdfStore.anyStatementMatching(node, neo.t_execute)) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.isAttribute = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tvar types = ur.getTypes(uri)\n\t\tif (types) {\n\t\t\ttypes = u.getURIs(types)\n\t\t\tif (types.includes(ns.SIO(\"SIO_000614\").value)) {\n\t\t\t\treturn true\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.isState = function (item) {\n    if (!u.isBlankNode(item)){\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    var types = ur.getTypes(uri)\n\t    if (types) {\n\t\ttypes = u.getURIs(types)\n\t\tif (types.includes(ns.NEO('s_state').value)) {\n\t\t    return true\n\t\t} else {\n\t\t    return false\n\t\t}\n\t    } else {\n\t\treturn false\n\t    }\n\t} else {\n\t    return false\n\t}\n    }\n}\n\nur.isEntity = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    var quads = u.unique(rdfStore.match($rdf.sym(uri), neo.i_entity))\n\t\tif ($.type(quads) === \"array\" && quads.length > 0) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n}\n\n\nur.isObjectContains = function (item) {\n\tvar uri = u.getURI(item)\n    if (uri) {\n\t\tif (rdfStore.anyStatementMatching(null,neo.m_contains,$rdf.sym(uri))) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\n\nur.isObjectJoin = function (item) {\n\tvar uri = u.getURI(item)\n    if (uri) {\n\t\tif (rdfStore.anyStatementMatching(null,neo.m_join,$rdf.sym(uri))) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\n\nur.isObjectPort = function (item) {\n\tvar uri = u.getURI(item)\n    if (uri) {\n\t\tif (rdfStore.anyStatementMatching(null,neo.m_port,$rdf.sym(uri))) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.isObjectRelation = function(item, funcNode){\n    var check = false\n    var uri = u.getURI(item)\n    if (uri && u.isRdfNode(funcNode)) {\n\tif (rdfStore.anyStatementMatching($rdf.sym(uri),funcNode)) {\n\t    check = true\n\t}\n    }\n    return check\n}\n\nur.isRelation = function(item, funcNode){\n    var check = false\n    var uri = u.getURI(item)\n    if (uri && u.isRdfNode(funcNode)) {\n\tif (rdfStore.anyStatementMatching(null,funcNode,$rdf.sym(uri)) ||\n\t    rdfStore.anyStatementMatching($rdf.sym(uri),funcNode)) {\n\t    check = true\n\t}\n    }\n    return check\n}\n\nur.isRelationPort = function (item){\n    return ur.isRelation(item, neo.m_port)\n}\n\nur.isRelationJoin = function (item){\n    return ur.isRelation(item, neo.m_join)\n}\n\nur.isRelationContains = function (item){\n    return ur.isRelation(item, neo.m_contains)\n}\n\nur.isObjectDo = function (item) {\n\tvar uri = u.getURI(item)\n    if (uri) {\n\t\tif (rdfStore.anyStatementMatching(null,neo.j_do,$rdf.sym(uri))) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.getSubject = function(item, funcNode){\n    var uri = u.getURI(item)\n    if (uri && u.isRdfNode(funcNode)) {\n\tvar st = rdfStore.anyStatementMatching(null,funcNode,$rdf.sym(uri))\n\tif (st){\n\t    return st.subject.value\n\t}\n    }\n}\n\nur.getObject = function(item, funcNode){\n    var uri = u.getURI(item)\n    var down = []\n    if (uri && u.isRdfNode(funcNode)) {\n\tvar sts = rdfStore.match($rdf.sym(uri),funcNode)\n\t//log.debug(\"ur.getObject\",sts)\n\tif (Array.isArray(sts) && sts.length > 0){\n\t    sts.forEach(st => {\n\t\tdown.push(st.object.value)\n\t    })\n\t}\n    }\n    if (down.length > 0){\n\treturn down\n    }\n}\n\nur.getSystemUp = function(item){\n    var up = (ur.getSubject(item, neo.m_contains) || ur.getSubject(item, neo.m_port) || ur.getSubject(item, neo.m_join)// || ur.getSubject(item, neo.j_do)\n\t     )\n    return up\n}\n\nur.getSystemDown = function(item){\n    var down = (ur.getObject(item, neo.m_contains) || ur.getObject(item, neo.m_port) || ur.getObject(item, neo.m_join)// || ur.getObject(item, neo.j_do)\n\t       )\n    return down\n}\n\nur.isSystemObj = function(item){\n    if (ur.getSystemUp(item) || ur.getSystemDown(item)){\n\t//(ur.vectorUpSystem(item,true) || ur.isWebId(item)){\n\treturn true\n    } else {\n\treturn false\n    }\n}\n\nur.getPortTo = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar ports = ur.getInherit(uri, ns.NEO('m_port'))\n\tif (ports){\n\t    return u.getURIs(ports)\n\t}\n    }\n}\n\nur.getPortFrom = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar ports = ur.getInherit(uri, ns.NEO('m_port'),true)\n\tif (ports){\n\t    return u.getURIs(ports)\n\t}\n    }\n}\n\nur.stateToElems = function (state) {\n\tif (ur.isState(state)) {\n\t\tvar uri = u.getURI(state)\n\t\tvar elems = {}\n\t\tvar e_entity\n\t\tvar a_attribute\n\t\tif (uri) {\n\t\t    var eQuads = u.unique(rdfStore.match(null, neo.i_entity, $rdf.sym(uri)))\n\t\t\tif ($.type(eQuads) === \"array\") {\n\t\t\t\tvar eQuad = eQuads[0]\n\t\t\t\tif ($.type(eQuad) === \"object\") {\n\t\t\t\t\te_entity = eQuad.subject.value\n\t\t\t\t}\n\t\t\t}\n\t\t    var aQuads = u.unique(rdfStore.match(null, neo.i_attribute, $rdf.sym(uri)))\n\t\t\tif ($.type(aQuads) === \"array\") {\n\t\t\t\tvar aQuad = aQuads[0]\n\t\t\t\tif ($.type(aQuad) === \"object\") {\n\t\t\t\t\ta_attribute = aQuad.subject.value\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (e_entity) {\n\t\t\t\telems.e_entity = e_entity\n\t\t\t}\n\t\t\tif (a_attribute) {\n\t\t\t\telems.a_attribute = a_attribute\n\t\t\t}\n\t\t}\n\t\t//log.debug(\"stateToElems\",elems)\n\t\treturn elems\n\t}\n}\n\nur.attributeToElems = function (attribute) {\n\tif (ur.isAttribute(attribute)) {\n\t\tvar uri = u.getURI(attribute)\n\t\tvar elems = {}\n\t\tvar f_function\n\t\tvar a_result\n\t\tif (uri) {\n\t\t    var fQuads = u.unique(rdfStore.match($rdf.sym(uri), neo.i_function))\n\t\t\tif ($.type(fQuads) === \"array\") {\n\t\t\t\tvar fQuad = fQuads[0]\n\t\t\t\tif ($.type(fQuad) === \"object\" && $.type(fQuad.object) === \"object\") {\n\t\t\t\t\tf_function = fQuad.object.value\n\t\t\t\t}\n\t\t\t}\n\t\t    var rQuads = u.unique(rdfStore.match($rdf.sym(uri), neo.o_result))\n\t\t\tif ($.type(rQuads) === \"array\") {\n\t\t\t\tvar rQuad = rQuads[0]\n\t\t\t\tif ($.type(rQuad) === \"object\") {\n\t\t\t\t\tvar obj = rQuad.object\n\t\t\t\t\tif (obj.termType === \"NamedNode\") {\n\t\t\t\t\t\ta_result = rQuad.object.value\n\t\t\t\t\t} else {\n\t\t\t\t\t\ta_result = rQuad.object\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($.type(f_function) === \"string\") {\n\t\t\t\telems.f_function = f_function\n\t\t\t}\n\t\t\telems.a_result = a_result\n\t\t}\n\t\treturn elems\n\t}\n}\n\nur.f_function = function (item, recurse) {\n\tif (ur.isState(item) && !recurse) {\n\t\tvar sElems = ur.stateToElems(item)\n\t\tif ($.type(sElems) === \"object\") {\n\t\t\treturn ur.f_function(sElems.a_attribute, true)\n\t\t}\n\t} else {\n\t\tvar elems = ur.attributeToElems(item)\n\t\tif ($.type(elems) === \"object\") {\n\t\t\treturn elems.f_function\n\t\t}\n\t}\n}\n\n\nur.a_result = function (item, recurse) {\n\tif (ur.isState(item) && !recurse) {\n\t\tvar sElems = ur.stateToElems(item)\n\t\tif (sElems) {\n\t\t\treturn ur.a_result(sElems.a_attribute, true)\n\t\t}\n\t} else if (ur.isAttribute(item)) {\n\t\tvar elems = ur.attributeToElems(item)\n\t\tif ($.type(elems) === \"object\") {\n\t\t\treturn elems.a_result\n\t\t}\n\t} else if (ur.isEntity(item)) {\n\t    var quads = u.unique(rdfStore.match(null, ns.NEO('o_result'), $rdf.sym(u.getURI(item))))\n\t\tvar result = []\n\t\tquads.forEach(q => result.push(q.subject.value))\n\t\treturn result\n\t}\n}\n\nur.literalEqual = function (lit1, lit2) {\n\tif (lit1.value === lit2.value &&\n\t\tlit1.language === lit2.language) {\n\t\tif (lit1.datatype && lit2.datatype) {\n\t\t\treturn lit1.datatype.value === lit2.datatype.value\n\t\t} else if (!lit1.datatype && !lit2.datatype) {\n\t\t\treturn true\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.stateToQuad = function (state) {\n\tvar uri = u.getURI(state)\n\tif (uri) {\n\t\tif (ur.isState(uri)) {\n\t\t\tvar entity = q.entity(uri)[0]\n\t\t\tvar func = q._function(uri)[0]\n\t\t\tvar result = q.result(uri)\n\t\t\tvar s\n\t\t\tvar p\n\t\t\tvar o\n\t\t\tif (entity) {\n\t\t\t\ts = $rdf.sym(entity)\n\t\t\t}\n\t\t\tif (func) {\n\t\t\t\tp = $rdf.sym(func)\n\t\t\t}\n\t\t\tif ($.type(result) === \"object\") {\n\t\t\t\tif (result.termType === \"Literal\") {\n\t\t\t\t\to = result\n\t\t\t\t\t//o = new $rdf.Literal(result.value,result.language,result.datatypeString)\n\t\t\t\t} else if (result.termType === \"NamedNode\") {\n\t\t\t\t\to = $rdf.sym(result.value)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\to = $rdf.sym(result)\n\t\t\t}\n\t\t\t//log.debug(\"stateToQuad\",state,uri,entity,func,result,s,p,o)\n\t\t    return u.unique(rdfStore.match(s, p, o))\n\t\t} else if (ur.isEntity(state)) {\n\t\t\treturn ur.stateToQuad(q.state(uri))\n\t\t} else if ($.type(state) === \"array\") {\n\t\t\treturn $.map(state, function (item) {\n\t\t\t\treturn ur.stateToQuad(item)\n\t\t\t})\n\t\t}\n\t}\n}\n\nur.quadToState = function (quad) {\n\tvar result\n\tif (ur.isQuad(quad)) {\n\t\tvar s = quad.subject\n\t\tvar p = quad.predicate.value\n\t\tvar o = quad.object\n\t\tvar isLiteral = o.termType === \"Literal\"\n\t\tvar oc\n\t\tif (isLiteral) {\n\t\t\toc = o\n\t\t} else {\n\t\t\toc = o.value\n\t\t}\n\t\tvar states = q.state(s.value)\n\t\tif (states && Array.isArray(states)) {\n\t\t\tstates.forEach(function (state) {\n\t\t\t\tvar func = q._function(state)\n\t\t\t\tif (func && Array.isArray(func)) {\n\t\t\t\t\tfunc = func[0]\n\t\t\t\t} else {\n\t\t\t\t\tfunc = null\n\t\t\t\t}\n\t\t\t\tvar res = q.result(state)\n\t\t\t\t//log.debug(\"quadToState\",state,s,p,oc,func,res)\n\t\t\t\tif (func === p && res === oc) {\n\t\t\t\t\tresult = state\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\treturn result\n}\n\nur.tripleToState = function (s, p, o){\n    s = u.getURI(s)\n    p = u.getURI(p)\n    var oObj = $.type(o) === 'object'\n    var isLiteral = (oObj && o.termType === \"Literal\")\n    var oc\n    if (isLiteral) {\n\toc = o\n    } else if (oObj){\n\toc = o\n    } else {\n\toc = $rdf.sym(u.getURI(o))\n    }\n    return ur.quadToState($rdf.st($rdf.sym(s),\n\t\t\t\t  $rdf.sym(p),\n\t\t\t\t  oc)\n\t\t\t )\n}\n\n\nur.sourceQuads = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    return u.unique(rdfStore.match($rdf.sym(uri)))\n\t}\n}\n\nur.targetQuads = async function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    return u.unique(rdfStore.match(null, null, $rdf.sym(uri)))\n\t}\n}\n\nur.location = function (uri, app) {\n\t//log.debug(\"ur.location\",uri,app)\n\tvar node\n\tif (app === \"Files\") {\n\t\tnode = u.getURI(uri)\n\t\tif (!ur.containerP(node)) {\n\t\t\tnode = ur.getContainer(node)\n\t\t}\n\t}\n\tif (!node) {\n\t\tnode = uri\n\t}\n\treturn u.getURI(node)\n}\n\n//need to load acl information\n\nur.aLoadURI = async function (uri, doc, options) {\n    log.debug(\"aLoadURI\", uri, doc);\n    if (!options) {\n\toptions = {}\n    }\n    //options.fetch = store.state.session.fetch\n    //options.credentials = 'include'\n    //options.withCredentials = true\n    options.fetch = window.solid.hyperFetch\n    uri = ur.getGmxLoad(uri, options)\n    options.headers = {hypergraph: 'U2FsdGVkX1/S0rANmPZVe3xCIXvlGoGnGudwlp4wFSMFtte++kYYPt0l4B4407c+'}\n    if (uri) {\n\t//first check to make sure user has read rights\n\t//if (await ua.userCanRead(URI)){\n\ttry {\n\n\t    var resp = await rdfFetcher.load(uri, options);\n\t    log.debug(\"ur.aLoadURI response\",resp)\n\t    var statements = u.unique(rdfStore.match(null, null, null, $rdf.sym(uri)));\n\t    /*\n\t      if (statements) {\n\t      for (let i = 0; i < statements.length; i++) {\n\t      var st = statements[i];\n\t      rdfStore.add(st.subject, st.predicate, st.object, \"statements\");\n\t      if (doc) {\n\t      rdfStore.add(st.subject, st.predicate, st.object, doc);\n\t      }\n\t      //store.commit('addStatement',st)\n\t      }\n\t      } */\n\t    log.debug(\"URI loaded\", uri, statements.length);\n\t    return [statements,resp];\n\t} catch (err) {\n\t    log.debug(\"Cant load URI\", uri, err)\n\t    c.createAlert(\"Error:\",\n\t\t\t  err,\n\t\t\t  \"\",\n\t\t\t  \"danger\",\n\t\t\t  true,\n\t\t\t  true,\n\t\t\t  \"pageMessages\"\n\t\t\t )\n\t    store.commit('dequeueDataSet', uri)\n\t    return err\n\t}\n\t/*\t} else {\n\t//nothing happens if user does not have permission - put that here\n\tconsole.log(\"Read Not Permitted\",URI)\n\t} */\n    } else {\n\tlog.error(\"ERROR: bad URI to loadURIa\");\n\treturn \"ERROR: bad URI to loadURIa\"\n    }\n}\n\nur.loadPropertiesNode = async function (node) {\n\t////MOVED TO STORE DISPATCH select\n\tlog.debug(\"ur.loadPropertiesNode\", node)\n\tvar IRI = u.getIRI(node);\n\tnode = $rdf.sym(IRI)\n\tif (IRI) {\n\t\t/*\n\t\t  var route = Vue.router.currentRoute;\n\t\t  try {\n\t\t  var nProps = await ur.loadSelect(node);\n\t\t  } catch (err) {\n\t\t  log.debug(\"ur.loadPropertiesNode - couldn't fetch\", err, node)\n\t\t  } */\n\t\t//now assoc loaded props with node\n\n\t\t//var nProps = rdfStore.match(null,ns.RDFS('domain'),$rdf.sym(u.getURI(node)),\"ontology\")\n\t\tvar types = ur.getTypes(IRI, true); //can only use properties set with state\n\t\tif (types) {\n\t\t\tlog.debug(\"***TYPES\", types);\n\n\t\t\tvar domainNode = u.uriToNamedNode(ns.RDFS('domain').value)\n\n\t\t\tvar nProps = []\n\t\t\tvar dTypes = []\n\t\t    var ds = await store.dispatch('loadDataSet', { uri: IRI, sentFrom: \"util-rdf.loadPropertiesNode\" })\n\t\t\tlog.debug(\"property ds\", ds)\n\t\t\tif (ds) {\n\t\t\t\tvar nPs = ds.match(null, domainNode)\n\n\t\t\t\t//rdfStore.match(null, ns.RDFS('domain'), $rdf.sym(Type)) //, \"ontology\");\n\t\t\t\tlog.debug(\"properties - nPs\", ds, nPs)\n\t\t\t\tlog.debug(\"WOW\")\n\n\n\t\t\t\tif (nPs) {\n\t\t\t\t\tnPs.quads.forEach(nP => dTypes.push($rdf.sym(nP.object.value)))\n\t\t\t\t\tnPs.quads.forEach(nP => nProps.push($rdf.sym(nP.subject.value)))\n\t\t\t\t}\n\t\t\t\tlog.debug(\"nProps\", node, nProps, dTypes)\n\t\t\t}\n\t\t\tif (nProps) {\n\t\t\t\tnProps = u.unique(nProps)\n\t\t\t\tvar prop\n\t\t\t\tfor (prop of nProps) {\n\t\t\t\t\tstore.commit('selectProperties', false)\n\t\t\t\t    var pds = await store.dispatch('loadDataSet', { uri: prop.value, sentFrom: \"util-rdf.loadPropertiesNode2\" })\n\t\t\t\t\tvar ptypes = ur.getTypes(prop)\n\t\t\t\t\tprop.label = ur.getLabel(prop);\n\t\t\t\t\tvar attrib\n\t\t\t\t\tlog.debug(\"prop\", ptypes, prop)\n\t\t\t\t\t//if (ptypes) {\n\t\t\t\t\tvar match = ds.match(u.uriToNamedNode(IRI), u.uriToNamedNode(prop))\n\t\t\t\t\tvar values = []\n\t\t\t\t\tmatch.quads.forEach(q => values.push(q))\n\t\t\t\t\tif (!values) {\n\t\t\t\t\t\tvalues = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tprop.values = values;\n\t\t\t\t\tattrib = ur.getPropCategory(prop)\n\t\t\t\t\tprop.category = attrib[0]\n\t\t\t\t\tvar props = store.getters.Properties(node)\n\t\t\t\t\tif (!props[attrib[0]]) {\n\t\t\t\t\t\tprops[attrib[0]] = {}\n\t\t\t\t\t}\n\t\t\t\t\tprops[attrib[0]][prop.value] = prop\n\t\t\t\t\tlog.debug(\"props\", prop, attrib, prop.uri, values)\n\n\n\t\t\t\t\tstore.commit('properties',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnode: u.getURI(node),\n\t\t\t\t\t\t\tcat: attrib[0],\n\t\t\t\t\t\t\tprop: prop.value,\n\t\t\t\t\t\t\tvalue: prop\n\t\t\t\t\t\t})\n\t\t\t\t\tstore.commit('selectProperties', true)\n\n\t\t\t\t\t// }\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//store.commit('loading', false)\n\n\n\t\t}\n\t}\n}\n\nur.aLoadNode = async function (node, forceLoad) {\n\tvar URI = ur.getGmxLoad(node);\n\tvar pod = store.state.pod\n\tvar options = {}\n\tif (forceLoad) {\n\t\toptions.force = true\n\t}\n\tif (URI) {\n\t\tif (config.logServerAndBrain) log.debug(\"config.brain:\" + store.state.brain);\n\t\tif (!URI.match(store.state.brain)) {\n\t\t\t//options.withCredentials = false;\n\t\t}\n\t\tlog.debug(\"aLoadNode\", URI, options);\n\t\tawait ur.aLoadURI(URI, null, options);\n\t\tua.getAvailableModes(node)\n\t\t//lobe.store.commit('loaded',node);\n\t} else if (ur.getNamespace(node) !== \"U1\") {\n\t\tif (!URI.match(pod)) {\n\t\t\tlog.error(\"ERROR - missing NS\", node);\n\t\t}\n\t}\n}\n\nur.loadOntology = async function (Props, properties, index) {\n\t//console.log(\"loadOntology\",Props);\n\tif (Props || index) {\n\t\tif ($.type(Props) !== \"array\") {\n\t\t\tProps = [Props];\n\t\t}\n\t\tvar pURIs = $.map(Props, function (prop) {\n\t\t\tvar pURI;\n\t\t\tif (properties) {\n\t\t\t\tpURI = ur.getGmxLoad(prop);\n\t\t\t\t//pURI = ur.getGmxProperty(prop); \n\t\t\t} else {\n\t\t\t\tpURI = ur.getGmxLoad(prop);\n\t\t\t}\n\t\t\tif (pURI && !pURI.match(\"ERROR\")) {\n\t\t\t\treturn pURI;\n\t\t\t}\n\t\t});\n\t\tif (index) {\n\t\t\tif (config.logServerAndBrain) log.debug(\"config.brain:\" + store.state.brain);\n\t\t\tpURIs = [store.state.brain + \"/ns/GMX\"]\n\t\t}\n\t\tif (pURIs) {\n\t\t\tawait rdfStore.fetcher.load(pURIs); //.catch(ur.error);\n\t\t\t//console.log(\"Ontology fetched\",pURIs);\n\t\t\t//add loaded props to ontology\n\t\t\t$.map(pURIs, function (prop) {\n\t\t\t    var statements = u.unique(rdfStore.match(null, null, null, $rdf.sym(prop)))\n\t\t\t\tif (statements) {\n\t\t\t\t\tfor (let i = 0; i < statements.length; i++) {\n\t\t\t\t\t\tvar st = statements[i];\n\t\t\t\t\t\t//rdfStore.add(st.subject,st.predicate,st.object,\"statements\");\n\t\t\t\t\t\trdfStore.add(st.subject, st.predicate, st.object); //, \"ontology\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tlog.error(\"ERROR: no valid Nodes to load\");\n\t}\n}\n\nur.loadType = async function (Typ, node) {\n\tvar URI;\n\tvar NS = ur.getNamespace(Typ);\n\tif (NS) {\n\t\tvar Term = ur.getNsTerm(Typ, NS);\n\t\tif (Term) {\n\t\t\tURI = ur.getGmxLoad(Typ)\n\t\t\t//config.brain + \"/props/\" + NS + \"/\" + Term;\n\t\t}\n\t} else {\n\t\tlog.error(\"ERROR NS not present\", Typ);\n\t}\n\tif (URI) {\n\t\t//await ur.aLoadNode(Typ)\n\t\tawait ur.aLoadURI(URI, \"ontology\")\n\t    var Props = u.unique(rdfStore.match(null, ns.RDFS('domain'), $rdf.sym(Typ))) //, \"ontology\");\n\t\tif (Props) {\n\t\t\tvar sProps = [];\n\t\t\t$.map(Props, function (nprop) {\n\t\t\t\t//rdfStore.add(nprop.subject,nprop.predicate,$rdf.sym(node),\"ontology\");\n\t\t\t\tsProps.push(nprop.subject);\n\t\t\t});\n\t\t\tawait ur.loadOntology(sProps, true);\n\t\t\tlog.debug(\"Type loaded\", Typ, node, Props);\n\t\t\treturn Props;\n\t\t} else {\n\t\t\tlog.debug(\"Type loaded - no Props\", Typ, node);\n\t\t}\n\t}\n}\n\nur.loadSelect = async function (node, recurse) {\n\tlog.debug(\"ur.loadSelect\", node)\n\tawait ur.aLoadNode(node);\n\t//move loadProps to here....https://davidwalsh.name/combining-js-arrays\n\tvar IRI = u.getIRI(node);\n\tif (IRI) {\n\t\tvar types = ur.getTypes(IRI);\n\t\tif (!types) {\n\t\t\ttypes = [];\n\t\t}\n\t\t//types.push(node);\n\t\tif (types) {\n\t\t\tlog.debug(\"***TYPES\", types);\n\t\t\tif ($.inArray(ns.SIO('SIO_000135').uri, types) > -1) {\n\t\t\t\tawait ur.loadType(node)\n\t\t\t}\n\t\t\tconst results = types.map(async (Typ) => { return ur.loadType(Typ, node); });\n\n\t\t\tvar props = await Promise.all(results).then(function (tProps) {\n\t\t\t\tlog.debug(\"Types Loaded\", types, tProps);\n\t\t\t\treturn tProps;\n\t\t\t});\n\t\t\tprops = $.map(props, function (prop) {\n\t\t\t\treturn prop\n\t\t\t})\n\t\t\tvar fProps = $.map(props, function (prop) {\n\t\t\t\treturn prop.subject\n\t\t\t})\n\t\t\tif (fProps) {\n\t\t\t\treturn u.unique(fProps)\n\t\t\t}\n\t\t}\n\t}\n}\n\nur.getContainer = function (item) {\n    //return container term of item if exists\n    //need to recursively find top level m_contains before ldp-contains check\n    var uri = u.getURI(item)\n    if (uri) {\n\tvar ject\n\tif (u.isBlankNode(uri)){\n\t    ject = uri\n\t} else {\n\t    ject = $rdf.sym(uri)\n\t}\n\tvar nested = rdfStore.any(null, $rdf.sym(ns.SIO('SIO_000202').value), ject)\n\t//TODO added recursive nested support\n\tif (nested) {\n\t    uri = nested.value\n\t    log.debug(\"nested\", uri)\n\t}\n\tif (uri) {\n\t    var cont = rdfStore.any(null, $rdf.sym(ns.LDP('contains').value), ject)\n\t    if (cont) {\n\t\tif (u.isBlankNode(cont)){\n\t\t    return cont\n\t\t} else {\n\t\t    return cont.value\n\t\t}\n\t    }\n\t}\n    }\n}\n\nur.getInherit = function (uri, predicate, inverse) {\n    //log.debug(\"getInherit\",uri,predicate,inverse)\n    var uri = u.getURI(uri)\n    var contents = []\n    if (uri && $.type(predicate) === 'object' && predicate.termType === 'NamedNode') {\n\tif (ur.isState(uri) && !inverse) {\n\t    var elems = ur.stateToElems(uri)\n\t    if (elems && elems.e_entity && elems.e_entity != uri) {\n\t\t//log.debug(elems)\n\t\treturn ur.getInherit(elems.e_entity,predicate,inverse)\n\t\t//\treturn ur.getContents(elems.e_entity)\n\t    }\n\t} else {\n\t    var subject\n\t    if (u.isBlankNode(uri)){\n\t\tsubject = uri\n\t    } else {\n\t\tsubject = $rdf.sym(uri)\n\t    }\n\t    var object\n\t    if (inverse){\n\t\tobject = subject\n\t\tsubject = null\n\t    }\n\t    var items = u.unique(rdfStore.match(subject, predicate, object))\n\t    if (items && items.length > 0) {\n\t\titems.forEach(function (i){\n\t\t    if (inverse){\n\t\t\tcontents.push(i.subject)\n\t\t    } else {\n\t\t\tcontents.push(i.object)\n\t\t    }\n\t\t})\n\t\t//log.debug(\"ur.getInherit result\",contents)\n\t\treturn contents\n\t    }\n\t}\n    }\n}\n\nur.getParentPod = function (uri){\n    return ur.getInherit(uri, ns.ACL('owner'))\n}\n\nur.getParentPodLoad = async function (uri){\n    if (u.checkURL(uri)){\n\tawait store.dispatch(\"loadDataSet\",{uri: uri, sentFrom: \"util-rdf.getParentPodLoad\"})\n\treturn ur.getInherit(uri, ns.ACL('owner'))\n    }\n}\n\nur.getChildPod = function (uri){\n    var uri = u.getURI(uri)\n    if (uri){\n\tvar children = ur.getInherit(uri,ns.ACL('owner'),true)\n\t/*var collab = ur.getCollaborators(uri)\n\tif (collab && Array.isArray(children)){\n\t    children = children.concat(collab)\n\t} else if (collab){\n\t    children = collab\n\t}*/\n\treturn children\n    }\n}\n\nur.getContents = function (uri) {\n    var uri = u.getURI(uri)\n    if (uri){\n\treturn ur.getInherit(uri, ns.LDP('contains'))\n    }\n}\n\nur.getContains = function (uri) {\n    var uri = u.getURI(uri)\n    if (uri){\n\treturn ur.getInherit(uri, ns.SIO('SIO_000202'))\n    }\n}\n\nur.getContainees = function (uri){\n    var uri = u.getURI(uri)\n    if (uri){\n\treturn ur.getInherit(uri, ns.SIO('SIO_000202'), true)\n    }\n}\n\nur.getLdpContainees = function (uri){\n    return ur.getInherit(uri, ns.LDP('contains'), true)\n}\n\nur.getAclOwner = function (uri){\n    return ur.getInherit(uri, ns.ACL('owner'))\n}\n\nur.getAclOwnee = function (uri){\n    return ur.getInherit(uri, ns.ACL('owner'), true)\n}\n\nur.getMember = function (uri){\n    return ur.getInherit(uri, ns.VCARD('hasMember'))\n}\n\nur.getMembee = function (uri){\n    return ur.getInherit(uri, ns.VCARD('hasMember'), true)\n}\n\n/*\nur.getContents = function (uri) {\n\tvar uri = u.getURI(uri)\n\tvar contents = []\n\tif (uri) {\n\t\tif (ur.isState(uri)) {\n\t\t\tvar elems = ur.stateToElems(uri)\n\t\t\tif (elems) {\n\t\t\t\treturn ur.getContents(elems.e_entity)\n\t\t\t}\n\t\t} else {\n\t\t\tvar items = rdfStore.match($rdf.sym(uri), $rdf.sym(ns.LDP('contains').value))\n\t\t\tif (items && items.length > 0) {\n\t\t\t\titems.forEach(i => contents.push(i.object.value))\n\t\t\t\treturn contents\n\t\t\t}\n\t\t}\n\t}\n}*/\n\n/*\nur.getContentsNested = function (uri, recurse, Final) {\n\tvar result = ur.getContents(uri)\n\tif (Final) {\n\t\tFinal.push(uri)\n\t} else {\n\t\tFinal = [uri]\n\t}\n\tif (!result || result.length === 0) {\n\t\tif (recurse && recurse.length > 0) {\n\t\t\treturn ur.getContentsNested(recurse.pop(), recurse, Final)\n\t\t} else {\n\t\t\treturn Final\n\t\t}\n\t} else {\n\t\tif (recurse) {\n\t\t\trecurse = recurse.concat(result)\n\t\t} else {\n\t\t\trecurse = result\n\t\t}\n\t\treturn ur.getContentsNested(recurse.pop(), recurse, Final)\n\t}\n\t}*/\n\nur.getParentPodNested = function (uri){\n    return ur.getInheritNested(uri,ur.getParentPod).reverse()\n}\n\nur.getParentPodNestedLoad = async function (uri, load){\n    if (u.checkURL(uri)){\n\tvar pods = await ur.getInheritNestedLoad(uri,ur.getParentPod)\n\tif (Array.isArray(pods)){\n\t    return pods.reverse()\n\t}\n    }\n}\n\nur.getChildPodNested = function (uri){\n    return ur.getInheritNested(uri,ur.getChildPod)\n}\n\nur.getContentsNested = function (uri) {\n\treturn ur.getInheritNested(uri, ur.getContents)\n}\n\nur.getContainsNested = function (uri) {\n\treturn ur.getInheritNested(uri, ur.getContains)\n}\n\nur.getContaineesNested = function (uri) {\n    var containees = ur.getInheritNested(uri, ur.getContainees)\n    if (Array.isArray(containees) && containees.length > 0){\n\treturn containees.reverse()\n    } else {\n\treturn []\n    }\n}\n\nur.getLdpContaineesNested = function (uri){\n    var containees = ur.getInheritNested(uri, ur.getLdpContainees)\n    if (containees){\n\treturn containees.reverse()\n    }\n}\n\nur.getResourceUpHierarchy = function(item){\n    var uri = u.getURI(item)\n    if (uri){\n\t//log.debug(\"resourceUpHierarchy\",uri)\n\tvar podEntity\n\tif (u.isBlankNode(uri)){\n\t    podEntity = uri.pod\n\t} else {\n\t    ur.getWebId(uri)\n\t}\n\tvar containees = ur.getContaineesNested(uri)\n\t//log.debug(\"containees\",containees)\n\tvar ldpees = []\n\tvar subject\n\tif (u.isBlankNode(uri)){\n\t    subject = uri\n\t} else {\n\t    subject = $rdf.sym(uri)\n\t}\n\tvar owners = rdfStore.match(subject,ns.ACL('owner'))\n\tif (Array.isArray(owners) && owners.length > 0){\n\t    owners.forEach((st) => {\n\t\tldpees.push(st.object.value)\n\t    })\n\t}\n\tldpees.push(podEntity)\n\t//log.debug(\"resources\",containees,ldpees)\n\tif (Array.isArray(containees)){\n\t    containees.forEach((con) => {\n\t\tldpees = ldpees.concat(ur.getLdpContaineesNested(con))\n\t    })\n\t}\n\treturn u.unique(ldpees)\n    }\n}\n\nur.getEntityDownHierarchy = function(item){\n    var uri = u.getURI(item)\n    if (uri){\n\t//first check ldp hierarchy\n\tvar ldps = ur.getContentsNested(uri)\n\tvar last\n\tif (ldps){\n\t    //TODO!!!!\n\t}\n    }\n}\n\n/*\nur.getTopPod = function(item){\n    var uri = u.getURI(item)\n    if (uri){\n\t*/\n\t\t\t      \n\nur.getInheritNested = function (uri, func, recurse, Final) {\n    \n    //log.debug('ur.getInheritNested',{uri: uri, func: func, recurse: recurse, Final: Final})\n    if (Array.isArray(Final) && Final.includes(uri)){\n\t//log.debug(\"ur.getInheritNested result\",Final)\n\treturn Final\n    } else if (Array.isArray(recurse) && recurse.includes(uri)){\n\t//log.debug(\"ur.getInheritNested result\",Final)\n\treturn Final\n    } else {\n\tvar result = func(uri) //ur.getContents(uri)\n\t\n\t//var uriExists = rdfStore.objectIndex[\"<\" + uri + \">\"]\n\tif (Final){ // && uriExists) {\n\t    Final.push(uri)\n\t} else { //if (uriExists){\n\t    Final = [uri]\n\t}\n\tif (!result || result.length === 0) {\n\t    if (Array.isArray(recurse) && recurse.length > 0) {\n\t\treturn ur.getInheritNested(recurse.pop(), func, recurse, Final)\n\t    } else {\n\t\t//log.debug(\"ur.getInheritNested result\",Final)\n\t\treturn Final\n\t    }\n\t} else {\n\t    if (Array.isArray(recurse) && recurse.length > 0) {\n\t\trecurse = recurse.concat(result)\n\t    } else {\n\t\trecurse = result\n\t    }\n\t    return ur.getInheritNested(recurse.pop(), func, recurse, Final)\n\t}\n    }\n}\n\nur.getInheritNestedLoad = async function (uri, func, recurse, Final) {\n    log.debug(\"inheritLoad\",uri)\n    if (!store.state.dataLoad.includes(uri)){\n\tawait store.dispatch(\"loadDataSet\",{uri: uri, sentFrom: \"util-rdf.getInheritNestedLoad\"})\n    }\n    var result = func(uri) //ur.getContents(uri)\n    if (Final) {\n\tFinal.push(uri)\n    } else {\n\tFinal = [uri]\n    }\n    if (!result || result.length === 0) {\n\tif (Array.isArray(recurse) && recurse.length > 0) {\n\t    var result2 = ur.getInheritNestedLoad(recurse.pop(), func, recurse, Final)\n\t    return result2\n\t} else {\n\t    return Final\n\t}\n    } else {\n\tif (Array.isArray(recurse)) {\n\t    recurse = recurse.concat(result)\n\t} else {\n\t    recurse = result\n\t}\n\tvar result3 = ur.getInheritNestedLoad(recurse.pop(), func, recurse, Final)\n\treturn result3\n    }\n}\n\nur.getCollabObjects = function(uri, inverse){\n    var uri = u.getURI(uri)//assume uri webid\n    if (uri){\n\tvar webid = ur.getWebId(uri)\n\tvar trips\n\tvar collabs = []\n\tif (webid){\n\t    if (inverse){\n\t\ttrips = rdfStore.match(null,ns.NEO('m_collaborate-on'),$rdf.sym(uri))\n\t    } else {\n\t\ttrips = rdfStore.match($rdf.sym(webid),ns.NEO('m_collaborate-on'))\n\t    }\n\t    //log.debug('getCollabs trips',trips,sentFrom)\n\t    if (Array.isArray(trips) && trips.length > 0){\n\t\ttrips.forEach(trip => {\n\t\t    if ($.type(trip) === 'object'){\n\t\t\tvar collab = trip.object\n\t\t\tif (collab){\n\t\t\t    collab = u.getURI(collab)\n\t\t\t    if (collab){\n\t\t\t\tcollabs.push(collab)\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t})\n\t    }\n\t}\n\treturn collabs\n    }\n}\n\nur.getCollaborators = function(uri, sentFrom, inverse){\n    var uri = u.getURI(uri)//assume uri webid\n    if (uri){\n\tvar collabs = ur.getCollabObjects(uri, inverse)\n\tvar webids = []\n\tvar trips\t    \n\tif (collabs.length > 0){\n\t    collabs.forEach(collab => {\n\t\tvar cWebid = ur.getWebId(collab)\n\t\t//log.debug(\"collab cWebid\",collab,cWebid)\n\t\tif (cWebid){\n\t\t    webids.push(cWebid)\n\t\t}\n\t    })\n\t}\n\twebids = u.unique(webids)\n\t//log.debug('collabs',collabs,webids,sentFrom)\n\treturn webids\n    }\n}\n\nur.getCollaboratorsLoad = async function(uri){\n    var uri = u.getURI(uri)//assume uri webid\n    if (uri){\n\tvar webid = await ur.loadWebId(uri)\n\tvar collabs = []\n\tvar webids = []\n\tif (webid){\t\n\t    var trips = rdfStore.match($rdf.sym(webid),ns.NEO('m_collaborate-on'))\n\t    log.debug('getCollabsLoad trips',trips)\n\t    if (Array.isArray(trips) && trips.length > 0){\n\t\ttrips.forEach(trip => {\n\t\t    if ($.type(trip) === 'object'){\n\t\t\tvar collab = trip.object\n\t\t\tif (collab){\n\t\t\t    collab = u.getURI(collab)\n\t\t\t    if (collab){\n\t\t\t\tcollabs.push(collab)\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t})\n\t    }\t    \n\t    log.debug('collabsLoad',collabs)\n\t    if (collabs.length > 0){\n\t\tvar toLoad = []\n\t\tcollabs.forEach(co => {\n\t\t    co = u.getURI(co)\n\t\t    if (co && !store.state.dataLoad.includes(co)){\n\t\t\ttoLoad.push(co)\n\t\t    } else if (co){\n\t\t\twebids.push(co)\n\t\t    }\n\t\t})\n\t\tif (toLoad.length > 0){\n\t\t    await Promise.all(toLoad.map(async (collab) => {\n\t\t\tconst cWebid = await ur.loadWebId(collab)\n\t\t\tif (cWebid){\n\t\t\t    webids.push(cWebid)\n\t\t\t}               \n\t\t    }))\n\t\t}\n\t\treturn webids\n\t    }\n\t}\n    }\n}\n\nur.getAllPodServers = function(uri){\n    if (!uri){\n\turi = store.state.webId\n    }\n    var uri = u.getURI(uri)\n    var allPods = ur.getAllPods(uri)\n    var obj = {}\n    if (Array.isArray(allPods) && allPods.length > 0){\n\tallPods.forEach(pod => {\n\t    var serv = u.getPodServer(pod)\n\t    if (!obj[serv]){\n\t\tobj[serv] = []\n\t    }\n\t    obj[serv].push(pod)\n\t})\n\treturn obj\n    }\n}\n\t\t\t\n\nur.getAllPods = function(uri){\n    if (!uri){\n\turi = store.state.webId\n    }\n    var uri = u.getURI(uri)\n    var children = []\n    var collabs = []\n    if (uri){\n\tvar parents = ur.getJustTopParents(uri)\n\tif (Array.isArray(parents) && parents.length > 0){\n\t    parents.forEach(parent => {\n\t\tvar c = ur.getChildPodNested(parent)\n\t\tif (c){\n\t\t    children = children.concat(c)\n\t\t}\n\t    })\n\t    if (children.length > 0){\n\t\tchildren.forEach(child => {\n\t\t    var c = ur.getCollaborators(child)\n\t\t    if (c){\n\t\t\tcollabs = collabs.concat(c)\n\t\t    }\n\t\t})\n\t    }\n\t    var all = u.unique(u.getURIs(children.concat(collabs)))\n\t    return all\n\t}\n    }\n}\n\nur.getJustTopParents = function(uri){\n    var uri = u.getURI(uri)\n    var parents\n    if (uri){\n\tvar topParents = ur.getTopParents(uri)\n\tparents = []\n\tif (Array.isArray(topParents) && topParents.length > 0){\n\t    topParents.forEach(top => {\n\t\tparents.push(top[0])\n\t\t})\n\t    }\n\tparents = u.unique(parents)\n    }\n    if (Array.isArray(parents) && parents.length > 0){\n\treturn parents\n    }\n}\n\t\n\nur.getTopParents = function (uri){\n    var membees = ur.getMembeeNested(uri)\n    var collabs = ur.getCollaborators(uri)\n    var pods = []\n    var leafs = []\n    var result = []\n    if (collabs){\n\tif (Array.isArray(membees)){\n\t    membees = u.unique(membees.concat(collabs))\n\t} else {\n\t    membees = collabs\n\t}\n    }\n    if (Array.isArray(membees)){\n\tvar up\n\tvar down\n\tmembees = u.getURIs(membees)\n\tmembees.forEach((m) => {\n\t    up = u.getURIs(ur.getParentPodNested(m))\n\t    down = u.getURIs(ur.getChildPodNested(m))\n\t    //get all the pods, then determine the leafs, then vector up from each leaf\n\t    pods = pods.concat(up)\n\t    pods = pods.concat(down)\n\t    pods = pods.concat(membees)\n\t})\n\tpods = u.unique(u.getURIs(pods))\n\tlog.debug({uri: uri, membees: membees, collabs: collabs, up: up, down: down, pods: pods})\n\t\n\tif (Array.isArray(pods)){\n\t    pods.forEach((p) => {\n\t\tif (ur.getChildPod(p)){\n\t\t    //ignore\n\t\t} else {\n\t\t    leafs.push(p)\n\t\t}\n\t    })\n\t    //log.debug(\"leafs\", leafs)\n\t    if (Array.isArray(leafs)){\n\t\tleafs.forEach((l) => {\n\t\t    result.push(u.getURIs(ur.getParentPodNested(l)))\n\t\t})\n\t    }\n\t    //log.debug(\"result\",result)\n\t    return result\n\t}\n    }\n}\n\n/*\n\t    log.debug({m: m, up: up, down: down})\n\t    if (up[0] === down[0] && up.length !== 1){\n\t\t//ignore this one\n\t    } else {\n\t\tif (up.length > down.length){\n\t\t    result.push(up)\n\t\t} else {\n\t\t    result.push(down)\n\t\t}\n\t    }\n\t})\n\treturn u.unique(result)\n    }\n}*/\n\nur.getTopParentsLoad = async function (uri){\n    var membees = ur.getMembeeNested(uri)\n    var result = []\n    if (Array.isArray(membees)){\n\tmembees.forEach(async function(m){\n\t    var parents = await ur.getParentPodNestedLoad(m)\n\t    result.push(parents)\n\t})\n\treturn result\n    }\n}\n\n\nur.getMembeeNested = function (uri, load){\n    return ur.getInheritNested(uri, ur.getMembee, load)\n}\n\nur.getMemberNested = function (uri){\n    return ur.getInheritNested(uri, ur.getMember)\n}\n\nur.hasContainedItems = function (uri) {\n\tvar uri = u.getURI(uri)\n\tif (uri) {\n\t    const items = u.unique(rdfStore.match($rdf.sym(uri), $rdf.sym(ns.LDP('contains').value)))\n\t\treturn (items && items.length > 0)\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.hasContainItems = function (uri) {\n\tvar uri = u.getURI(uri)\n\tif (uri) {\n\t    const items = u.unique(rdfStore.match($rdf.sym(uri), $rdf.sym(ns.NEO('m_contains').value)))\n\t\treturn (items && items.length > 0)\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.getAllContainers = function (item, results) {\n\t//log.debug(\"getAllContainers\",item,results)\n\tif (!results) {\n\t\tresults = []\n\t}\n\titem = u.getURI(item)\n\tif (item) {\n\t\t//await ur.aLoadNode(item)\n\t\tif (ur.containerP(item) && $.inArray(item, results) === -1) {\n\t\t\tresults = results.concat(item)\n\t\t}\n\t\tvar cont = ur.getContainer(item)\n\t\tif (cont) {\n\t\t\tresults = results.concat(cont.uri)\n\t\t\treturn ur.getAllContainers(cont, results)\n\t\t} else {\n\t\t\treturn $.grep(results, function (r) { return r !== undefined }).reverse()\n\t\t}\n\t} else {\n\t\treturn $.grep(results, function (r) { return r !== undefined }).reverse()\n\t}\n}\n\nur.getContentsCached = function (item) {\n\tvar URI = u.getURI(item)\n\tvar stuff = rdfStore.each($rdf.sym(URI), ns.LDP('contains'))\n\tif (stuff) {\n\t\treturn u.unique(stuff);\n\t}\n}\n\n\nur.isContains = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tif (ur.getContains(uri)){\n\t    return true\n\t} else {\n\t    return false\n\t}\n    }\n}\n\nur.qLastModifier = function (item) {\n\treturn store.state.webId;\n}\n\nur.qModifiedTime = function (item) {\n\tvar uri = u.getURI(item)\n\t//log.debug(\"cid\",uri,cid)\n\tif (uri) {\n\t    var modifiedTime = u.unique(rdfStore.match($rdf.sym(uri), ns.POSIX(\"ctime\")))\n\t\tif (modifiedTime && modifiedTime.length > 0) {\n\t\t\tif (modifiedTime[0].object) {\n\t\t\t\treturn new Date(modifiedTime[0].object.value).toLocaleString();\n\t\t\t}\n\t\t}\n\t}\n}\n\nur.qCollaborators = function (item) {\n\tvar num = Math.floor(Math.random() * Math.floor(5));\n\tvar collaborators = new Array();\n\tfor (let i = 0; i < num; i++) {\n\t\tcollaborators.push(store.state.webId);\n\t}\n\treturn collaborators;\n}\n\nur.getTag = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    var tag = u.unique(rdfStore.match($rdf.sym(uri), ns.NEO('m_tag')))\n\t\tif (tag.length > 0) {\n\t\t\treturn tag[0].object.value\n\t\t}\n\t}\n}\n\nur.getFTag = function (item) {\n    var uri = u.getURI(item)\n    if (uri) {\n\tvar tag = rdfStore.anyStatementMatching($rdf.sym(uri), neo.f_tag)\n\tif (tag) {\n\t    return tag.object.value\n\t}\n    }\n}\n\n\nur.rankConcepts = function (items) {\n\t//filter out concepts that don't have properties\n\tvar concepts = []\n\tif ($.type(items) === \"array\") {\n\t\titems.forEach(function (i) {\n\t\t\tif (ur.isConcept(i)) {\n\t\t\t\tif (q.rank(i)) {\n\t\t\t\t\tconcepts.push(i)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\tvar rankIt = function (a, b) {\n\t\t\tvar rankA = q.rank(a)\n\t\t\tvar rankB = q.rank(b)\n\t\t\tif (rankA === 100) {\n\t\t\t\t//log.debug(\"no ranking\",a)\n\t\t\t}\n\t\t\tif (rankB === 100) {\n\t\t\t\t//log.debug(\"no ranking\",b)\n\t\t\t}\n\t\t\treturn rankA - rankB\n\t\t}\n\t\tvar sorted = concepts.sort(rankIt)\n\t\treturn sorted\n\t}\n}\n\nur.getCID = function (item) {\n\t//if item is not a concept, return cid of type for the item\n\t//for now, highest ranked type wins\n\t//log.debug(\"CID 1\",item)\n\tvar uri = u.getURI(item)\n\tif (ur.isConcept(uri)) {\n\t\t//log.debug(\"CID\",uri)\n\t    var cid = u.unique(rdfStore.match($rdf.sym(uri), $rdf.sym(ns.NEO('m_cid').value)))\n\t\t//log.debug(\"cid\",uri,cid)\n\t\tif (cid && cid.length > 0) {\n\t\t\tif (cid[0].object) {\n\t\t\t\treturn cid[0].object.value\n\t\t\t}\n\t\t}\n\t} else {\n\t\tvar Type = ur.getType(uri)\n\t\tif (Type) {\n\t\t\treturn ur.getCID(Type)\n\t\t}\n\t}\n}\n\nur.getType = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tvar types = ur.getTypes(uri)\n\t    if (Array.isArray(types)) {\n\t\tif (types.includes(ns.EVENT('Event').value)){\n\t\t    return ns.EVENT('Event').value\n\t\t} else {\n\t\t    var ranked = ur.rankConcepts(types)\n\t\t    if ($.type(ranked) === \"array\") {\n\t\t\tif (ranked && ranked.length > 0) {\n\t\t\t    return ranked.reverse()[0]\n\t\t\t}\n\t\t    }\n\t\t}\n\t    }\n\t}\n}\n\nur.getText = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar text = rdfStore.match($rdf.sym(uri),ns.SCHEMA('text'))\n\tif (Array.isArray(text)){\n\t    text = u.unique(text)\n\t}\n\t//grab just first one for now\n\tif (Array.isArray(text) && text.length > 0){\n\t    var literal = text[0].object\n\t    if ($.type(literal) === 'object'){\n\t\treturn literal.value\n\t    }\n\t}\n    }\n}\n\nur.getLabel = function (item, noLabel) {\n    //right now only takes URL string - TODO all things - add names\n    var label\n    var uri = u.getURI(item)\n    if ($.type(item) === \"object\" && !u.isBlankNode(item)){ // && !client.isThing(item)) { //for $rdf nodes\n\t/*if (u.isDataset(item)) {//new solid-client\n\t    label = ur.getLabel(u.getURI(item))\n\t    } else */\n\tif (item.termType === \"BlankNode\"){\n\t    label = item.value;\n\t} else if (item.termType === \"NamedNode\") {\n\t    label = ur.getLabel(item.value);\n\t} else if (item.termType === \"Literal\") {\n\t    var val = decodeURIComponent(item.value);\n\t    if (val.substr(0, 1) === '\"' && val.substr(val.length - 1, 1) === '\"') {\n\t\tlabel = val.substr(1, val.length - 2);\n\t    } else {\n\t\tlabel = val;\n\t    }\n\t} else if (item.title) {\n\t    label = item.title\n\t} else {\n\t    label = item.value;\n\t}\n    } else if ($.type(item) === \"array\") {\n\treturn $.map(item, function (it) {\n\t    label = ur.getLabel(it)\n\t})\n    } else {\n\tvar orig = item\n\titem = u.getURI(uri);\n\tif (item) {\n\t    var thing\n\t    if (u.isBlankNode(item)){\n\t\tthing = item\n\t    } else {\n\t\tthing = $rdf.sym(item)\n\t    }\n\t    //log.debug(\"getLabel\",item,thing,orig)\n\n\t    var title = u.unique(rdfStore.match(thing, ns.DCTERMS('title')))\n\t    var labels = u.unique(rdfStore.match(thing, ns.RDFS('label')))\n\t    //rdfStore.match($rdf.sym(item), ns.RDFS('label'))\n\t    var fn = u.unique(rdfStore.match(thing, ns.VCARD('fn')))\n\t    var name = u.unique(rdfStore.match(thing, ns.FOAF('name')))\n\t    var tag = u.unique(rdfStore.match(thing, ns.NEO('m_tag')))\n\t    var ftag = u.unique(rdfStore.match(thing, ns.TAG('tag')))\n\t    var cid = u.unique(rdfStore.match(thing, ns.NEO('m_cid')))\n\t    //log.debug(\"getLabel\",labels,fn,name\n\t    if (title.length > 0) {\n\t\tlabel = ur.getLabel(title[0].object)\n\t    } else if (labels.length > 0) {\n\t\t//TODO search for default language - use en now\n\t\tvar result = []\n\t\t$.map(labels, function (label) {\n\t\t    if (label.object.language === \"en\" || label.object.language === \"\") {\n\t\t\tresult.push(label.object)\n\t\t    }\n\t\t})\n\t\tif (result.length > 0) {\n\t\t    label = ur.getLabel(result[0])\n\t\t} else {\n\t\t    label = ur.getLabel(labels[0].object);\n\t\t}\n\t    } else if (fn.length > 0) {\n\t\tlabel = ur.getLabel(fn[0].object);\n\t    } else if (name.length > 0) {\n\t\tlabel = ur.getLabel(name[0].object);\n\t    } else if (ftag.length > 0){\n\t\tlabel = ur.getLabel(ftag[0].object)\n\t    } else if (tag.length > 0) {\n\t\t//urldecode for file/containers\n\t\t//return decodeURIComponent(ur.getLabel(tag[0].object))\n\t\tlabel = ur.getLabel(tag[0].object)\n\t    } else if (cid.length > 0) {\n\t\tlabel = ur.getLabel(cid[0].object)\n\t    } else {\n\t\tvar types = ur.getTypes(item)\n\t\tif (Array.isArray(types)){\n\t\t    if (types.includes(ns.SIO('SIO_000114').value)){\n\t\t\t//label = \"Word: \"\n\t\t\tvar text = ur.getText(item)\n\t\t\tif (text){\n\t\t\t    label = text\n\t\t\t}\n\t\t    } else if (types.includes(ns.SIO('SIO_000110').value)){\n\t\t\t//label = \"UoT: \"\n\t\t\tvar text = ur.getText(item)\n\t\t\tif (text){\n\t\t\t    label = text\n\t\t\t}\n\t\t    } else if (types.includes(ns.EVENT('Event').value)){\n\t\t\tlabel = \"Event: \" + u.getId(item)\t\t\t\n\t\t    } else if (types.includes(ns.FABIO('Page').value)){\n\t\t\tlabel = \"Page: \" + u.getId(item)\n\t\t    } else if (types.includes(ns.SIO('SIO_000112').value)){\n\t\t\tlabel = \"Capability: \" + u.getId(item)\n\t\t    } else if (item.search(\"/i$\")){\n\t\t\treturn item\n\t\t    } else if (!noLabel){\n\t\t\treturn u.getId(item)\n\t\t    }\n\t\t} else if (item.search(\"/i$\")){\n\t\t    return item\n\t\t} else if (!noLabel){\n\t\t    return u.getId(item)\n\t\t}\n\t    }\n\t}\n    }\n   /* if (ur.isContainer(item)){\n\tvar Final = ur.getTag(ur.getWebId(item)) + \": \" + label\n\treturn Final\n    } else {*/\n\treturn label\n   // }\n}\n\n\nur.getTypes = function (item, stateOnly) {\n    //Type inheritance:  Only direct types recognized and then predication inherited through the entire hierarchy of classes/predications linked to via type\n    //If item does not have a direct type, use subproperty or subclass hierarhcy recursively to find direct type - recursive type search better handled on server.\n    var URI;\n    var result = []\n    var types = []\n    var isBlank = u.isBlankNode(item)\n    if ($.type(item) === \"array\") {\n\treturn item.forEach(thing => {\n\t    return ur.getTypes(thing)\n\t})\n    } else {\n\tURI = u.getURI(item);\n\tif (typeof(URI) === 'string' || isBlank) {\n\t    var subject\n\t    if (isBlank){\n\t\tsubject = URI\n\t    } else {\n\t\tsubject = $rdf.sym(URI)\n\t    }\n\t    var hTypes = ur.parseLinkHeader(URI).type\n\t    var webid = ur.getWebId(URI)\n\t    if (hTypes && webid !== URI){\n\t\treturn hTypes\n\t    } else {\n\t\tvar rTypes = u.unique(rdfStore.match(subject,$rdf.sym(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\")))\n\t\tif (rTypes && rTypes.length > 0) {\n\t\t    /*if (thing) {\n\t\t      var tTypes = client.getTermAll(thing, u.uriToNamedNode(ns.RDF('type').value))\n\t\t      if (tTypes.length > 0) {\n\t\t      result = $.map(tTypes, function (tType) {\n\t\t      return tType.value;\n\t\t      })\n\t\t      }\n\t\t      }*/\n\t\t    //if (rTypes.length > 0) {\n\t\t    var rResult = $.map(rTypes, function (q) {\n\t\t\tvar g = q.graph\n\t\t\tif (g && !u.isBlankNode(g)){\n\t\t\t    return q.object.value\n\t\t\t}\n\t\t    })\n\t\t    if (rResult) {\n\t\t\tresult = result.concat(rResult)\n\t\t    }\n\t\t    //\t}\n\t\t    /*if (!stateOnly || !isBlank) {\n\t\t\tvar types = ur.parseLinkHeader(URI).type\n\t\t\t//ds.internal_resourceInfo.linkedResources.type\n\t\t    }*/\n\t\t    //result = result.concat(types)\n\t\t    //log.debug(\"ur.getTypes\",URI,result)\n\t\t    return u.unique(result.filter(Boolean));\n\t\t}\n\t    }\n\t}\n    }\n}\n\n/*\nur.what = function (predicate, item) {\n\tif ($.type(item) === \"object\") {\n\t\tif (client.isThing(item)) { //client thing\n\t\t\treturn client.getTermAll(item, predicate)\n\t\t} else if (u.isDataset(item)) { //dataset\n\t\t\treturn $.unique(\n\t\t\t\t$.map(client.getThingAll(item), function (thing) {\n\t\t\t\t\treturn ur.what(predicate, thing)\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n}*/\n\nur.getEntities = function (items, eType) {\n\tif (Array.isArray(items)) {\n\t\treturn items.forEach(function (i) {\n\t\t\treturn ur.getEntity(i, eType)\n\t\t})\n\t}\n}\n\nur.getEntity = function (item, eType) {\n\t//eType as string\n\tvar result\n\tvar noType\n\tvar uri = u.getURI(item)\n\tvar eTypeUri = u.getURI(eType)\n\tvar finished = []\n\tif (ur.isState(item)) {\n\t\tresult = [ur.stateToElems(item).e_entity]\n\t} else if (ur.isAttribute(item)) {\n\t\tvar a_result = ur.attributeToElems(item).a_result\n\t\tif (a_result && a_result.termType === \"NamedNode\") {\n\t\t\tresult = [a_result]\n\t\t} else {\n\t\t    var ents = u.unique(rdfStore.match($rdf.sym(uri), ns.NEO(\"i_attribute\")))\n\t\t\tif (ents) {\n\t\t\t\tvar objs = ents.forEach(function (e) {\n\t\t\t\t\treturn e.object\n\t\t\t\t})//returns states\n\t\t\t\tif (objs) {\n\t\t\t\t\tresult = ur.getEntities(u.unique(objs))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ($.type(item) === \"object\") {\n\t\t\tif (!eType) {\n\t\t\t\tresult = [item]\n\t\t\t}/* else if (u.isDataset(item)) { //dataset\n\t\t\t\tresult = client.getThingAll(item)\n\t\t\t}*/ else {\n\t\t\t\tresult = [item]\n\t\t\t}\n\t\t} else {\n\t\t\tresult = [item]\n\t\t}\n\t}\n\tif (eType && result) {\n\t\t$.map(result, function (thing) {\n\t\t\tif ($.inArray(eTypeUri, u.getURIs(ur.getTypes(thing))) > -1) {\n\t\t\t\tfinished.push(thing)\n\t\t\t}\n\t\t})\n\t\treturn finished\n\t} else {\n\t\treturn result\n\t}\n}\n\nur.getRange = function (item) {\n\tvar URI;\n\tif ($.type(item) === \"object\") { //for $rdf nodes\n\t\tif (item.termType === \"NamedNode\") {\n\t\t\tURI = item.uri;\n\t\t}\n\t} else {\n\t\tURI = u.getURI(item);\n\t}\n\tif (URI) {\n\t\tvar range = rdfStore.each($rdf.sym(URI), ns.RDFS('range')) //, null, \"ontology\");\n\t\tif (range.length > 0) {\n\t\t\tvar result = $.map(range, function (Type) {\n\t\t\t\treturn Type.value;\n\t\t\t});\n\t\t\tif (result) {\n\t\t\t\treturn u.unique(result);\n\t\t\t}\n\t\t}\n\t}\n}\n\nur.getInverse = function (property) {\n\t//assumes property already loaded\n\tif ($.type(property) === \"object\" && property.termType === \"NamedNode\") {\n\t\tprop = property;\n\t} else {\n\t\tvar prop = $rdf.sym(u.getURI(property));\n\t}\n\tif (prop) {\n\t\tvar result;\n\t\t$.map([rdfStore.any(null, ns.OWL('inverseOf'), prop), //, \"ontology\"),\n\t\trdfStore.any(prop, ns.OWL('inverseOf'), null), //, \"ontology\"),\n\t\trdfStore.any(null, ns.OWL('inverse'), prop), //, \"ontology\"),\n\t\trdfStore.any(prop, ns.OWL('inverse'), null)], //, \"ontology\")],\n\t\t\tfunction (term) {\n\t\t\t\tif (term) {\n\t\t\t\t\tresult = term;\n\t\t\t\t}\n\t\t\t});\n\t\treturn result;\n\t}\n}\n\n\nur.getNsTerm = function (item, NS) {\n\t//supports both https and http ontologies\n\tvar uri = u.getURI(item);\n\tif (!NS) {\n\t\tNS = ur.getNamespace(uri);\n\t}\n\tif (NS) {\n\t\tvar puri = URI.parse(uri);\n\t\tvar pNS = URI.parse(ns[NS]().uri);\n\t\tpuri.scheme = \"http\"\n\t\turi = URI.serialize(puri)\n\t\tpNS.scheme = \"http\"\n\t\treturn uri.replace(URI.serialize(pNS), \"\");\n\t}\n}\n\nur.getGmxLoad = function (item) {\n\tvar uri = u.getURI(item)\n\tvar podRoot = store.state.storage\n\tif (podRoot) {\n\t\tvar parse = URI.parse(podRoot)\n\t\tpodRoot = parse.scheme + \"://\" + parse.host\n\t\tvar ports = [80, 443, undefined]\n\t\tif (!ports.includes(parse.port)) {\n\t\t\tpodRoot = podRoot + \":\" + parse.port\n\t\t}\n\n\t} else {\n\t\tpodRoot = store.state.brain\n\t}\n\tif (uri) {\n\t\tvar redirect = store.state.dataRedirect[uri]\n\t\tif (redirect) {\n\t\t\turi = redirect\n\t\t}\n\n\t\t/*if (ur.isConcept(uri) || uri.search(\"https://trinity.graphmetrix.net\") > -1) { //digital twin for now\n\t\t\treturn podRoot + \"/ns/\" + encodeURIComponent(uri)\n\t\t} else {*/\n\t\t\treturn uri\n\t\t//}\n\t}\n}\n\n/*\nur.getGmxSolid = function (item, api) {\n  if (item && api) {\n  var uri = u.getURI(item);\t\n  if (uri) {\n\t  if (ur.isConcept(uri)){\n\t  return store.state.brain + api + encodeURIComponent(uri)\n\t  } else {\n\t  return uri\n\t  }\n  }\n  }\n}\n\n\n\t  // && URI.match(\"http:\") - need to accept https ontologies as well\n\t  var NS = ur.getNamespace(uri);\n\t  //log.debug(\"getGmxSolid NS\",NS)\n\t  if (NS && NS !== \"U1\") {\n\t  var Term = ur.getNsTerm(uri, NS);\n\t  //log.debug(\"getGmxSolid Term\",Term)\n\t  if (Term) {\n\t\t  // if (config.logServerAndBrain) log.debug(\"config.brain:\" + store.state.brain);\n\t\t  return store.state.brain + api + NS + \"/\" + Term;\n\t\t  //}\n\t  } else {\n\t\t  return u.removeURIfragment(uri);\n\t  }\n\t  } else {\n\t  return u.removeURIfragment(uri);\n\t  }\n  }\n  }\n}*/\n\nur.getNamespace = function (item) {\n\t//allows matching of either https or http for an ontology\n\tvar uri = u.getURI(item);\n    var pod = store.state.pod\n    //log.debug(\"ur.getNamespace\",item)\n    if (u.checkURL(uri)) {\n\t\tvar URIp = URI.parse(uri);\n\t\tvar NS;\n\t\tif (URIp) {\n\t\t\tvar uriPort = URIp.port;\n\t\t\tif (!uriPort) {\n\t\t\t\turiPort = \"\";\n\t\t\t} else {\n\t\t\t\turiPort = \":\" + uriPort;\n\t\t\t}\n\t\t\tvar uri2 = URIp.host + uriPort + URIp.path;\n\t\t\t//log.debug(\"ur.getNamespace\",uri2)\n\t\t\t$.map(Object.keys(nu), function (key) {\n\t\t\t\tvar ontURI = u.getURI(ns[key]());\n\t\t\t\tif (ontURI) {\n\t\t\t\t\tvar OntP = URI.parse(ontURI)\n\t\t\t\t\tif (OntP) {\n\t\t\t\t\t\tvar ontPort = OntP.port;\n\t\t\t\t\t\tvar ontFrag = OntP.fragment;\n\t\t\t\t\t\tif (!ontPort) {\n\t\t\t\t\t\t\tontPort = \"\"\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tontPort = \":\" + ontPort;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!ontFrag) {\n\t\t\t\t\t\t\tontFrag = \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar ontology = OntP.host + ontPort + OntP.path + ontFrag;\n\t\t\t\t\t\t//log.debug(\"ur.getNamespace\",ontology,uri2)\n\t\t\t\t\t\tif (uri.match(ontology)) {\n\n\t\t\t\t\t\t\tNS = key;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tif (NS && NS !== \"U1\") {\n\t\t\t\treturn NS;\n\t\t\t} else if (!uri.match(pod)) {\n\t\t\t\t//log.info(\"*** MISSING Namespace\", uri);\n\t\t\t}\n\t\t}\n\t}\n}\n\nur.dataP = function (item) {\n\t//returns true if item is part of user's pod data\n\tvar uri = u.getURI(item)\n\tvar NS = ur.getNamespace(uri)\n\tif (!NS || NS === \"U1\") {\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.propertyP = async function (prop) {\n\tprop = u.getURI(prop)\n\tif (prop) {\n\t\tawait ur.aLoadNode(prop)\n\t\tvar types = ur.getTypes(prop)\n\t\tif ($.inArray(ns.OWL('DatatypeProperty').uri, types) > -1) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n}\n\nur.getDataProperties = async function (item) {\n\t//given a class or property, return all data properties\n\titem = u.getURI(item)\n\tif (item) {\n\t\tawait ur.aLoadNode(item)\n\t\tvar props = rdfStore.each(null, ns.RDFS('domain'), $rdf.sym(item))\n\t\tif (props) {\n\t\t\treturn $.map(u.unique(props), function (prop) {\n\t\t\t\tif (ur.dataPropertyP(prop)) {\n\t\t\t\t\treturn prop\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n\nur.getPropCategory = function (item) {\n\tvar URI = u.getURI(item)\n\tif (URI) {\n\t\tvar categories = [[\"annotations\", ns.OWL('AnnotationProperty')],\n\t\t[\"properties\", ns.OWL('DatatypeProperty')],\n\t\t[\"relationships\", ns.OWL('ObjectProperty')],\n\t\t[\"unknown\", ns.RDF(\"Property\")]]\n\t\tvar types = ur.getTypes(URI)\n\t\tvar Category\n\t\t$.map(categories, function (category) {\n\t\t\t$.map(types, function (type) {\n\t\t\t\tif (!Category && category[1].value === type) {\n\t\t\t\t\tCategory = category\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\tif (Category) {\n\t\t\treturn Category\n\t\t} else {\n\t\t\treturn [\"unknown\", ns.RDF(\"Property\")]\n\t\t}\n\t}\n}\n\nur.cleanURI = function (item) {\n\t//primarily to remove double // in container names for solid\n\titem = u.getURI(item)\n\tif (item) {\n\t\tif (item.substr(item.length - 1) === \"/\") {\n\t\t\titem = item.substr(0, item.length - 1)\n\t\t}\n\t\tvar rx = /[^:]\\/{2}/g\n\t\treturn item.replace(rx, item.substr(item.search(rx), 1) + \"/\")\n\t}\n}\n\nur.superCleanURI = function (item) {\n\tvar clean = ur.cleanURI(item)\n\tif (clean) {\n\t\treturn clean.replace(/[^\\w\\s]/gi, '')\n\t}\n}\n\nur.triplesToTable = function (triples) {\n\tif (triples) {\n\t\tvar objects = {}\n\t\tvar columns = {}\n\t\t$.map(triples, function (triple) {\n\t\t\tvar subject = triple.subject\n\t\t\tvar eVal = objects[subject.value]\n\t\t\tif (eVal) {\n\t\t\t\tobjects[subject.value] = eVal.concat([triple])\n\t\t\t} else {\n\t\t\t\tobjects[subject.value] = [triple]\n\t\t\t}\n\t\t\tvar predicate = triple.predicate\n\t\t\tif (!columns[predicate.value]) {\n\t\t\t\tcolumns[predicate.value] = predicate\n\t\t\t}\n\t\t})\n\t\tvar fields = []\n\t\tvar items = []\n\t\t$.each(objects, function (obj, props) {\n\t\t\tvar row = {}\n\t\t\t$.map(props, function (prop) {\n\t\t\t\tvar key = prop.predicate.value\n\t\t\t\trow[key] = ur.renderObj(prop)\n\t\t\t\tif (key === ns.RDF('type').uri) {\n\t\t\t\t\trow.type = prop.object.value;\n\t\t\t\t}\n\t\t\t})\n\t\t\titems.push(row)\n\t\t})\n\t\t$.each(columns, function (pred, obj) {\n\t\t\tvar col = {}\n\t\t\tcol.key = pred\n\t\t\tcol.label = ur.getLabel(pred)\n\t\t\tcol.sortable = true\n\t\t\tif (pred === ns.RDF('type').uri) {\n\t\t\t\tcol.class = 'typeClass';\n\t\t\t}\n\t\t\tif (pred === ns.FOAF('name').uri) {\n\t\t\t\tcol.class = 'nameClass';\n\t\t\t}\n\t\t\tfields.push(col)\n\t\t})\n\n\n\t\treturn { fields: fields, items: items }\n\t}\n}\n\nur.renderObj = function (statement) {\n\tif (statement && $.type(statement) === \"object\") {\n\t\tvar prop = statement.predicate\n\t\tvar object = statement.object\n\t\t//log.debug(\"renderObj\",statement,prop,object)\n\t\tif (statement.inverse) {\n\t\t\tobject = statement.subject\n\t\t}\n\t\tif (object && $.type(object) === \"object\") {\n\t\t\tif (object.termType === \"NamedNode\") {\n\t\t\t\treturn ur.getLabel(object.value)\n\t\t\t} else {\n\t\t\t\tif (ur.htmlP(prop)) {\n\n\t\t\t\t\tvar val = object.value.replace(/<(?:.|\\n)*?>/gm, '');\n\t\t\t\t\tif (val.length > 65) {\n\t\t\t\t\t\tval = val.substr(0, 40) + \"...\"\n\t\t\t\t\t}\n\t\t\t\t\treturn val\n\t\t\t\t} else {\n\t\t\t\t\t/*if (u.getURI(statement.predicate) === ns.NEO('m_tag').value) {\n\t\t\t\t\t\treturn decodeURIComponent(object.value)\n\t\t\t\t\t} else {*/\n\t\t\t\t\treturn object.value;\n\t\t\t\t\t//\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nur.htmlP = function (prop) {\n\tif ($.type(prop) === \"string\") {\n\t\tprop = u.getURI(prop)\n\t\tif (prop) {\n\t\t\tprop = $rdf.sym(prop)\n\t\t}\n\t}\n\tif ($.type(prop) === \"object\") {\n\t\tif ($.inArray(ns.RDF('HTML').value, ur.getRange(prop)) > -1) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nur.getStatements = function (item, NS, term) {\n\tvar uri = u.getURI(item)\n    return u.unique(rdfStore.match($rdf.sym(uri), ns[NS](term), null, 'statements'))\n}\n\nur.dataHeadCheck = async function (uri, origUri, ds, forceHead) {\n    if (($.inArray(uri, store.state.headLoad) === -1 ||\n\t $.inArray(origUri, store.state.headLoad) === -1) ||\n\tforceHead\n\t//&& !ur.isConcept(origUri)\n       ) {\n\tstore.commit(\"queueHead\", uri)\n\t//log.debug(\"ur.dataHeadCheck\",uri,origUri,ds,forceHead)\n\tvar redirectUri\n\tvar redirectDs\n\tvar redirectEtag\n\tvar appAuthReq\n\tvar current\n\tvar eTag\n\tvar status\n\tvar notFound\n\tvar expired\n\tvar xPoweredBy\n\tvar dsUri\n\tvar dsEtag\n\t//check that ds is up to date - first make sure its been more than 5 secs since last check\n\tvar lastHead = store.state.lastHead[uri]\n\tif (lastHead) {\n\t    expired = (Date.now() - lastHead) > 7000\n\t}\n\t//log.debug(\"lastHead\", uri,Date.now(),lastHead,expired)\n\tif (!lastHead || expired === true || forceHead) { // || $.inArray(origUri,store.state.dataLoad) === -1){\n\t    try {\n\t\tstore.commit('queueDataSet', origUri)\n\t\tstore.commit('lastHead', uri)\n\t\tvar dsHead = await window.solid.session.fetch(uri, { credentials: 'include', method: 'HEAD' })\n\t\tif (dsHead) {\n\t\t    \n\t\t    eTag = dsHead.headers.get('eTag')\n\t\t    xPoweredBy = dsHead.headers.get('x-powered-by')\n\t\t    status = dsHead.status\n\t\t    log.debug(\"dsHead\", dsHead, eTag)\n\t\t    appAuthReq = dsHead.headers.get('App-Authorization-Required')\n\t\t    \n\t\t    if (xPoweredBy) {\n\t\t\tstore.commit('xPoweredBy', xPoweredBy)\n\t\t    }\n\t\t    if (dsHead.redirected) {\n\t\t\tredirectUri = dsHead.url\n\t\t\tredirectDs = store.state.dataSets[redirectUri] //rdfStore.whyIndex[$rdf.sym(redirectUri)]\n\t\t\t//redirectEtag = store.state.eTags[ur.getSourceUrl(redirectDs)]\n\t\t\tstore.commit('dataRedirect', { from: origUri, to: redirectUri })\n\t\t\tstore.commit('heads', {eTag: eTag, uri: redirectUri})\n\t\t    } else {\n\t\t\tstore.commit('heads', {eTag: eTag, uri: uri})\n\t\t    }\n\t\t    if (status === 401 && appAuthReq) {\n\t\t\twindow.location.href = appAuthReq + '&redirect_uri=' + window.location.href\n\t\t    } else if (status !== 401) {\n\t\t\t/*if (ds){ //ds = last eTag for that request\n\t\t\t  dsUri = store.state.heads[ds] //ur.getSourceUrl(ds)\n\t\t\t  dsEtag = ds //store.state.eTags[dsUri]\n\t\t\t  }*/\n\t\t\tcurrent = (ds && eTag === ds ||\n\t\t\t\t   redirectDs === eTag )\n\t\t\tif (!current) {\n\t\t\t    log.debug(\"Updating out of sync ds\", eTag)\n\t\t\t} else {\n\t\t\t    store.commit('dequeueDataSet', origUri)\n\t\t\t}\n\t\t    }\n\t\t} else {\n\t\t    notFound = true\n\t\t    store.commit('dataNotFound', origUri)\n\t\t}\n\t\tvar result = {\n\t\t    current: current, redirectUri: redirectUri,\n\t\t    redirectDs: redirectDs, dsHead: dsHead,\n\t\t    eTag: eTag, notFound: notFound, xPoweredBy: xPoweredBy,\n\t\t    status: status, appAuthReq: appAuthReq\n\n\t\t}\n\t\t//log.debug(\"dataHeadCheck\",result)\n\t\treturn result\n\t    } catch (e) {\n\t\tlog.error(e)\n\t\tlog.debug(\"Head not found - dequeueing\")\n\t\tstore.commit('dataNotFound', origUri)\n\t\tstore.commit('dequeueDataSet', origUri)\n\t\tstore.commit('dequeueHead', uri)\n\t\tvar result = {\n\t\t    current: current, redirectUri: redirectUri,\n\t\t    redirectDs: redirectDs, dsHead: dsHead,\n\t\t    eTag: eTag, notFound: true, xPoweredBy: xPoweredBy\n\t\t}\n\t\treturn result\n\t    }\n\t} else {\n\t    store.commit('dequeueHead', uri)\n\t    var result = {\n\t\tcurrent: true, redirectUri: redirectUri,\n\t\tredirectDs: redirectDs, dsHead: dsHead,\n\t\teTag: eTag, notFound: notFound, xPoweredBy: xPoweredBy\n\t    }\n\t    return result\n\t}\n    } else {\n\treturn {}\n    }\n}\n\nur.getNodeColor = function (node) {\n    var nodeColor = \"#6c757d\"\n\tvar cid = ur.getCID(node)\n    if (cid) {\n\t\n\tvar firstLetter = cid.charAt(0);\n\tif (cid === 'p_process'){\n\t    firstLetter = 'e'\n\t}\n\tvar cidColor = store.state.nodeColors[firstLetter]\n\tif (cidColor) {\n\t    nodeColor = cidColor\n\t} else {\n\t    nodeColor = \"#003b00\"\n\t}\n    }\n    return nodeColor\n}\n\nur.getWebId = function (uri) {\n    var uri = u.getURI(uri)\n    if (uri){\n\tvar cardUri = u.getCard(uri);\n\tif (cardUri){\n\t    var statements = rdfStore.match($rdf.sym(cardUri), ns.FOAF('primaryTopic'))\n\t    if (Array.isArray(statements) && statements.length > 0){\n\t\tvar state = statements[0]\n\t\tif ($.type(state) === 'object' && state.object){\n\t\t    return state.object.value;\n\t\t}\n\t    }\n\t}\n    } \n}\n\nur.isWebId = function (uri){\n    var webid = ur.getWebId(uri)\n    if (webid && webid === uri){\n\treturn true\n    } else {\n\treturn false\n    }\n}\n\nur.maybeWebId = function (uri){\n    var uri = u.getURI(uri)\n    var check = false\n    if (uri){\n\tif (ur.isWebId(uri)){\n\t    check = true\n\t} else if (uri.search(\"/i$|/profile/card#.*\") > 0){\n\t    check = true\n\t}\n    }\n    return check\n}\n\nur.guessWebId = function (uri){\n    var webid = ur.getWebId(uri)\n    if (webid){\n\treturn webid\n    } else {\n\tvar base = u.getBaseURI(uri)\n\tif (base){\n\t    return base + \"/i\"\n\t}\n    }\n}\n\nur.maybeWebIdSysRelation = function(uri){\n    //where uri and sys related uri are both webids in both directions\n    var uri = u.getURI(uri)\n    var check = false\n    if (uri){\n\tif (ur.maybeWebId(uri)){\n\t    return true\n\t}\n    }\n}\n/*\n\t    var up = ur.getSystemUp(uri)\n\t    var down = ur.getSystemDown(uri)\n\t    \n\t    \n\t    (ur.isObjectRelation(uri,neo.m_contains) ||\n\t     ur.isObjectRelation(uri,neo.m_port) ||\n\t     ur.isObjectRelation(uri,neo.m_join) ||\n\t     ur.isObjectRelation(uri,neo.j_do)))\n\t    check = true\n    }\n    return check\n}*/\nur.loadWebId = async function (uri){\n    return ur.fetchWebId(uri)\n}\n\nur.validateWebId = async function (item) {\n    var uri = u.getURI(item)\n    var valid = false\n    if (uri){\n\tvar card = u.getCard(uri)\n\tvar webid = ur.getWebId(card)\n\t\n\tif (webid){\n\t    webid = $rdf.sym(uri)\n\t    if (rdfStore.anyStatementMatching(webid, ns.LDP(\"inbox\"))\n\t\t&&\n\t\trdfStore.anyStatementMatching(webid, ns.SOLID(\"oidcIssuer\"))\n\t\t&&\n\t\trdfStore.anyStatementMatching(webid, ns.SPACE(\"storage\"))\n\t       ){\n\t\tvalid = true\n\t    }\n\t}\n\tif (!valid){\n\t    try {\t    \n\t\tvar dsStore = new $rdf.graph()\n\t\tvar resp = await fetch(card,{headers: {accept: \"text/turtle\"}})\n\t\tvar text = await resp.text()\n\t\tif (typeof(text) === 'string'){\n\t\t    await $rdf.parse(text,dsStore,card)\n\t\t    if (!webid){\n\t\t\tvar st = dsStore.anyStatementMatching($rdf.sym(card), ns.FOAF('primaryTopic'))\n\t\t\tif (st){\n\t\t\t    webid = st.object\n\t\t\t}\n\t\t    }\n\t\t    if (webid &&\n\t\t\tdsStore.anyStatementMatching(webid, ns.LDP(\"inbox\"))\n\t\t\t&&\n\t\t\tdsStore.anyStatementMatching(webid, ns.SOLID(\"oidcIssuer\"))\n\t\t\t&&\n\t\t\tdsStore.anyStatementMatching(webid, ns.SPACE(\"storage\"))\n\t\t       ){\n\t\t\tdsStore.removeMatches()\n\t\t\tvalid = true;\n\t\t    } else {\n\t\t\tdsStore.removeMatches()\n\t\t    }\n\t\t} else {\n\t\t    dsStore.removeMatches()\n\t\t}\n\t    } catch (err) {\n\t\tlog.debug(err);\n\t\treturn false;\n\t    }\t\t\n\t} \t\n    } \n    return valid\n}\n\nur.getParentWebId = function (uri){\n    var uri = u.getURI(uri) //to convert node (or anything convertible) to uri\n    if (uri){\n\tvar webid = ur.getWebId(uri)\n\t//check if a parent\n\tif (ur.isParentPod(uri) || !ur.isChildPod(uri)){\n\t    return ur.getWebId(uri)\n\t} else {\n\t    if (u.checkURL(webid)){\n\t\t//use the query to determine if that webid has a parent\n\t\t//the parents of a project are found with:\n\t\tconst parent = u.unique(rdfStore.match(\n\t\t    $rdf.sym(webid),//child\n\t\t    ns.ACL('owner'),//predicate - determines the parent/child relation\n\t\t    null));//parent\n\n\t\t//log.debug(\"parent\",parent);\n\t\tif ( Array.isArray(parent) && parent.length >= 1) {\n\t\t    return parent[0].object.value//take the first one and the .object value to get the parent\n\t\t} /*else {\n\t\t    return undefined\n\t\t    }*/\n\t    }\n\t}\n    }\n}\n\nur.getChildWebId = function (uri){\n    var uri = u.getURI(uri) //to convert node (or anything convertible) to uri\n    if (uri){\n\tvar webid = ur.getWebId(uri)\n\t//check if a child\n\tif (ur.isChildPod(webid)){\n\t    return webid\n\t} else {\n\t    return null\n\t}\n    }\n}\n\nur.getPodChildren = function (item){\n    var children = []\n    var podOwners = ur.getPodOwners(item)\n    if (podOwners && Array.isArray(podOwners)){\n\tpodOwners.forEach((pod) => {\n\t    if ($.type(pod) === 'object' && $.type(pod.subject) === 'object'){\n\t\tchildren.push(pod.subject.value)\n\t    }\n\t})\n    }\n    var podMembers = ur.getPodMembers(item)\n    if (podMembers && Array.isArray(podMembers)){\n\tpodMembers.forEach((pod) => {\n\t    if ($.type(pod) === 'object' && $.type(pod.object) === 'object'){\n\t\tvar child = pod.object.value\n\t\tif (ur.isChildPod(child)){\n\t\t    children.push(child)\n\t\t}\n\t    }\n\t})\n    }\n    //log.debug(\"getPodChildren\",children)\n    return u.unique(children)\n}\n\nur.getPodParents = function (item){\n    var parents = []\n    var webid = ur.getWebId(item)\n    if (webid && ur.isParentPodCapable(webid)){\n\tparents.push(webid)\n    }\n    var podOwners = ur.getPodOwners(item)\n    if (podOwners && Array.isArray(podOwners)){\n\tpodOwners.forEach((pod) => {\n\t    if ($.type(pod) === 'object' && $.type(pod.object) === 'object'){\n\t\tparents.push(pod.object.value)\n\t    }\n\t})\n    }\n    var podMembers = ur.getPodMembers(item)\n    if (podMembers && Array.isArray(podMembers)){\n\tpodMembers.forEach((pod) => {\n\t    if ($.type(pod) === 'object' && $.type(pod.subject) === 'object'){\n\t\tvar parent = pod.subject.value\n\t\t//if (ur.isParentPod(parent)){\n\t\t    parents.push(parent)\n\t\t//}\n\t    }\n\t})\n    }\n    //log.debug(\"getPodParents\",parents)\n    return u.unique(parents)\n}\n\nur.getPodOwners = function (item){\n    var uri = u.getURI(item)\n    var owners = []\n    var own\n    if (uri){\n\town = $rdf.sym(uri)\n    }\n    var podA = u.unique(rdfStore.match(\n\town,\n\tns.ACL(\"owner\")\t    \n    ))\n    var podB = u.unique(rdfStore.match(\n\tnull,\n\tns.ACL(\"owner\"),\n\town\n    ))\n    var pods = u.unique(podA.concat(podB))\n    if (pods && Array.isArray(pods)){\n\tpods.forEach((pod) => {\n\t    owners.push(pod)\n\t})\n    }\n    return u.unique(owners)\n}\n\nur.getPodMembers = function (item){\n    var uri = u.getURI(item)\n    var members = []\n    var mem\n    if (uri){\n\tmem = $rdf.sym(uri)\n    }\n    var podA = u.unique(rdfStore.match(\n\tmem,\n\tns.VCARD(\"hasMember\")\t    \n    ))\n    var podB = u.unique(rdfStore.match(\n\tnull,\n\tns.VCARD(\"hasMember\"),\n\tmem\n    ))\n    var pods = u.unique(podA.concat(podB))\n    if (pods && Array.isArray(pods)){\n\tpods.forEach((pod) => {\n\t    members.push(pod)\n\t})\n    }\n    return u.unique(members)\n}\n\nur.getSourceUrl = function(ds){\n    //where ds is the list of quads from the rdfStore.whyIndex\n    if (Array.isArray(ds)){\n\tvar st = ds[0]\n\tif (st && $.type(st) === 'object'){\n\t    var why = st.why\n\t    if (why && $.type(why) === 'object'){\n\t\treturn why.value\n\t    }\n\t}\n    }\n}\n\nur.parseLinkHeader = function(item){\n    var result = {}\n    var uri = u.getURI(item)\n    if (uri){\n\tvar link = ur.getLinkHeader(uri)\n\tif (typeof(link) === 'string'){\n\t    var links = link.split(\",\")\n\t    if (Array.isArray(links)){\n\t\tlinks.forEach(function (lk){\n\t\t    var row = lk.split(\";\")\n\t\t    if (Array.isArray(row)){\n\t\t\tvar iri = row[0].trim()\n\t\t\tvar URI = u.getURI(iri)\n\t\t\tif (URI){\n\t\t\t    var Type = row[1]\n\t\t\t    if (typeof(Type) === 'string'){\n\t\t\t\tType = Type.split(\"=\")\n\t\t\t\tif (Array.isArray(Type)){\n\t\t\t\t    Type = Type[1]\n\t\t\t\t    if (typeof(Type) === 'string'){\n\t\t\t\t\tType = Type.replaceAll('\"',\"\")\n\t\t\t\t\tif (result[Type]){\n\t\t\t\t\t    result[Type].push(URI)\n\t\t\t\t\t} else {\n\t\t\t\t\t    result[Type] = [URI]\n\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t})\n\t    }\n\t}\n    }\n    return result\n}\n\nur.getPropValues = function(item,property){\n    var propUri = u.getURI(property)\n    var uri = u.getURI(item)\n    var values = []\n    var isTrinpod = u.isTrinPod()\n    var isType =  propUri === ns.RDF('type').value\n    var isRedirect = store.state.dataRedirect[uri]\n    var quads = u.unique(rdfStore.match($rdf.sym(uri)))\n    if (!quads){\n\tquads = []\n    }\n    if (isType && !isRedirect){\n\tvar types = ur.parseLinkHeader(uri)\n\tif (types){\n\t    types = types.type\n\t}\n\tif (Array.isArray(types)){\n\t    types.forEach((typ) => {\n\t\tvalues.push($rdf.st($rdf.sym(uri),ns.RDF('type'),$rdf.sym(typ)))\n\t    })\n\t}\t      \n    }\n    //log.debug(\"ur.getPropValues values\",isTrinpod,isType,quads,this.select)\n    if (Array.isArray(quads)){\n\tquads.forEach(q=> {\n\t    if (u.getURI(q.graph.value)){\n\t\tif (q.predicate.value === propUri){\n\t\t    //log.debug(\"props2 pred match\",q)\n\t\t    if (isType && isTrinpod && ur.quadToState(q) && !isRedirect){\n\t\t\tvalues.push(q)\n\t\t    } else if (isType && isTrinpod && !isRedirect){\n\t\t\t//nope\n\t\t    } else {\n\t\t\tvalues.push(q)\n\t\t    }\n\t\t}\n\t    }\n\t})\n    }\n    if (isType){\n\tlog.debug(\"ur.getPropValues\",propUri,uri,values)\n    }\n    return  u.unique(values)\n}\n\n\nur.findPdfContainee = function (item) {\n    var uri = u.getURI(item)\n    var pdf\n    if (uri){\n\tif (ur.isPdf(uri)){\n\t    pdf = uri\n\t} else {\n\t    var containees = ur.getContaineesNested(uri)\n\t    if (Array.isArray(containees)){\n\t\tcontainees = containees.reverse()\n\t\tcontainees.some(c => {\n\t\t    var isPdf = ur.isPdf(c)\n\t\t    //log.debug('isPdf',isPdf,c)\n\t\t    if (isPdf){\n\t\t\tpdf = c\n\t\t\treturn pdf\n\t\t    }\n\t\t})\n\t    }\n\t    //log.debug('findPdfContainee', pdf,uri,containees)\n\t}\n    }\n    return pdf\n}\n\nur.isFile = function (item){\n    var uri = u.getURI(item)\n    var isFile = false\n    if (uri){\n\tvar types = ur.getTypes(uri)\n\tif (types && Array.isArray(types)){\n\t    types.forEach(typ => {\n\t\tif (typ.includes(\"www.w3.org/ns/iana/media-types/\")){\n\t\t    isFile = true\n\t\t}\n\t    })\n\t}\n    }\n    return isFile\n}\n\nur.isPdf = function (item) {\n    var uri = u.getURI(item)\n    if (uri){\n\tvar types = ur.getTypes(uri)\n\tif (types && Array.isArray(types) && types.includes('http://www.w3.org/ns/iana/media-types/application/pdf#Resource')){\n\t    return true\n\t} else {\n\t    var tag = ur.getTag(uri) || uri\n\t    if (uri.match(new RegExp(\"^.+\\\\.pdf\", \"i\"))) {\n\t\treturn true;\n\t    } else {\n\t\treturn false;\n\t    }\n\t}\n    } else {\n\treturn false;\n    }\n}\n\nur.isIntelligentPdf = function (item){\n    var uri = u.getURI(item)\n    var extL;\n    var hasTag = (ur.getTag(node) || (uri && uri.split(\"/\").reverse()[0]))\n    if (typeof(hasTag) === 'string'){\n\tvar extL = hasTag.toLowerCase()\n    }\n    var types = ur.getTypes(uri)\n    var node = $rdf.sym(uri)\n    var child = rdfStore.anyStatementMatching(node,ns.SIO('SIO_000202'),null)\n    if (child && $.type(child) === 'object'){\n\tchild = child.object\n    } else {\n\tchild = null\n    }\n    var isChildPdf = ur.isPdf(child)\n    if (isChildPdf || extL.substr(hasTag.length - 4) === '.pdf' || ur.isPdf(uri)) {\n\tif (rdfStore.anyStatementMatching(null,ns.SIO('SIO_000202'),node) || (types && types.includes(ns.NEO('s_pdf-intelligent').value)) || \n\t    rdfStore.anyStatementMatching(node,ns.NEO('c_crosslink')) ||\n\t    rdfStore.anyStatementMatching(node,ns.NEO('c_trinpod-read'))\n\t   ){\n\t    return true\n\t} else {\n\t    return false\n\t}\n    } else {\n\treturn false\n    }\n}\n\nur.vectorUpContainers = function(item,app){\n    var uri = u.getURI(item)\n    var vector\n    var containeesUp\n    if (app === 'Documents'){\n\tcontaineesUp = ur.getContaineesNested(uri)\n    }\n    var isContainees = Array.isArray(containeesUp)\n    var ldpStart\n    if (isContainees){\n\tldpStart = containeesUp[0]\n    } else {\n\tldpStart = uri\n    }\n    var ldpContaineesUp = ur.getLdpContaineesNested(ldpStart)\n    //log.debug(\"vectorUp\",containeesUp,ldpContaineesUp)\n    if (isContainees){\n\tldpContaineesUp.pop()\n\tvector = ldpContaineesUp.concat(containeesUp)\n    } else {\n\tvector = ldpContaineesUp\n    }\n    //log.debug(\"vector\",vector)\n    if (Array.isArray(vector)){\n\tvector = u.getURIs(vector)\n    }\n    return vector\n}\n\nur.vectorUpSystem = function(item,returnItem){\n    //does not return anything if root is not a webid\n    var ups = []\n    if (returnItem){\n\tups.push(item)\n    }\n    var up = ur.getSystemUp(item)\n    while (up){\n\tif (!ups.includes(up)){\n\t    ups.push(up)\n\t    up = ur.getSystemUp(up)\n\t} else {\n\t    up = null\n\t}\n    }\n    log.debug(\"ups\",ups)\n    if (ur.isSystemObj(ups[ups.length - 1])){\n\treturn ups\n    } else {\n\treturn null\n    }\n}\n\nur.vectorUpTree = function(node, tree){\n    if ($.type(node) === 'object' && $.type(tree) === 'object' && node.path){\n\tvar path = node.path\n\tvar nodes = []\n\tif (Array.isArray(path) && path.length > 0){\n\t    path = path.slice()\n\t    path.pop()\n\t    while (path.length >0){\n\t\tvar node = tree.getNode(path)\n\t\tif ($.type(node) === 'object' && node.data && node.data.uri){\n\t\t    nodes.push(node.data.uri)\n\t\t}\n\t\tpath.pop()\n\t\t}\n\t    return nodes\n\t}\n    }\n}\n\nur.getAllTreeURIs = function(tree){\n    var uris = []\n    if (u.isTree(tree)){\t\n\ttree.traverse(it => {\n\t    uris.push(it.data.uri)\n\t})\n    }\n    return uris\n}\n\nur.getTreeNodeParent = function(uri,tree,app){\n    var uri = u.getURI(uri)\n    var isTree = u.isTree(tree)\n    var Final\n    if (uri && isTree){\n\tvar node = u.findTreeNode(uri,tree)\n\tlog.debug(\"node\",node,uri)\n\tif (u.isTreeNode(node) && node.path.length > 1){\n\t    var Path = node.path.slice()\n\t    Path.pop()\n\t    Final = tree.getNode(Path)\n\t} else {\n\t    var parents = []\n\t    var allURIs = ur.getAllTreeURIs(tree)\n\t    if (!allURIs.includes(uri)){\n\t\tallURIs.push(uri)\n\t    }\n\t    if (!Array.isArray(allURIs)){\n\t\tallURIs = []\n\t    }\n\t    if (ur.isObjectPort(uri)){\n\t\tvar portsTo = ur.getPortTo(uri)\n\t\tif (portsTo){\n\t\t    portsTo.forEach(port => {\n\t\t\tif (!allURIs.includes(port) && !parents.includes(port)){\n\t\t\t    parents.push(port)\n\t\t\t    allURIs.push(port)\n\t\t\t}\n\t\t    })\n\t\t}\n\t    }\n\t    var portsFrom = ur.getPortFrom(uri)\n\t    if (portsFrom){\n\t\tportsFrom.forEach(port => {\n\t\t    if (!allURIs.includes(port) && !parents.includes(port)){\n\t\t\tparents.push(port)\n\t\t    }\n\t\t})\n\t    }\n\t    if (app === \"Documents\" || app === \"Files\") {\n\t\tvar parent = u.getURIs(ur.getInherit(uri, ns.LDP('contains'), true))\n\t\tif (Array.isArray(parent) && parent.length > 0){\n\t\t    parents = u.unique(parents.concat(parent))\n\t\t}\n\t\t//log.debug({content: content, contents: contents})\n\t\tvar parent2 = ur.getInherit(uri, ns.SIO('SIO_000202'), true)\n\t\tif (parent2) {\n\t\t    if (Array.isArray(parents)) {\n\t\t\tparents = parents.concat(parent2);\n\t\t    } else {\n\t\t\tparents = parent2;\n\t\t    }\n\t\t}\n\t    } else if (app === \"Projects\"){\t    \n\t\tvar raw = u.getURI(ur.getParentPod(uri))\n\t\tif (raw){\n\t\t    if (raw !== uri && !allURIs.includes(raw)){\n\t\t\tlog.debug(\"wow1\",raw)\n\t\t\tFinal = u.findTreeNode(raw,tree)\n\t\t    }\n\t\t}\n\t\tif (!Final){\n\t\t    var cCollab = ur.getCollaborators(uri,\"appContents\")\n\t\t    if (cCollab){\n\t\t\tcCollab.forEach(col => {\n\t\t\t    var nested = ur.getParentPodNested(col)\n\t\t\t    if (Array.isArray(nested) && nested.length > 0){\n\t\t\t\tvar puri = u.getURI(nested[0])\n\t\t\t\tif (!allURIs.includes(puri)){\n\t\t\t\t    parents.push(puri)\n\t\t\t\t    allURIs.push(puri)\n\t\t\t\t}\n\t\t\t    } else {\n\t\t\t\tif (!allURIs.includes(col)){\n\t\t\t\t    parents.push(col)\n\t\t\t\t    allURIs.push(col)\n\t\t\t\t}\n\t\t\t    }\n\t\t\t})\t\t\n\t\t    }\n\t\t}\n\t    }\n\t    //log.debug(\"ur.getTreeNodeParent\",{\n\t    if (!Final && Array.isArray(parents) && parents.length > 0){\n\t\tlog.debug(\"wow2\",parents)\n\t\tFinal = u.findTreeNode(parents[0],tree)\n\t    }\n\t}\n\tlog.debug(\"getTreeNodeParent\",uri,Final,tree)\n\treturn Final\n    }\n}\n\n\t\nur.getTreeContents = function(uri,tree,app,parent){\n    //log.debug(\"getTreeContents\",uri,tree,app)\n    var uri = u.getURI(uri)\n    if (uri && u.isTree(tree)){\n\tvar contents = []\n\tvar down = ur.getSystemDown(uri)\n\tif (down){\n\t    contents = down\n\t}\n\t/*\n\tvar allURIs = ur.getAllTreeURIs(tree)\n\tif (!allURIs.includes(uri)){\n\t    allURIs.push(uri)\n\t}\n\tvar portsTo = ur.getPortTo(uri)\n\tif (portsTo){\n\t    portsTo.forEach(port => {\n\t\tif (!allURIs.includes(port) && !contents.includes(port) && port !== parent){\n\t\t    contents.push(port)\n\t\t    allURIs.push(port)\n\t\t}\n\t    })\n\t}\n\tvar portsFrom = ur.getPortFrom(uri)\n\tif (portsFrom){\n\t    portsFrom.forEach(port => {\n\t\tif (!allURIs.includes(port) && !contents.includes(port) && port !== parent){\n\t\t    contents.push(port)\n\t\t}\n\t    })\n\t}*/\n\tif (!ur.isSystemObj(uri) && (app === \"Documents\" || app === \"Files\")) {\n\t    var content = ur.getContents(uri);\n\t    if (Array.isArray(content) && content.length > 0){\n\t\tcontents = contents.concat(content)\n\t    } \n\t    //log.debug({content: content, contents: contents})\n\t} else if (app === \"Projects\"){\n\t    \n\t    var raw = u.getURIs(ur.getChildPod(uri))\n\t    if (Array.isArray(raw) && raw.length > 0){\n\t\traw.forEach(child => {\n\t\t    if (child !== uri){\n\t\t\tcontents.push(child)\n\t\t    }\n\t\t})\n\t    }\n\t    \n\t    var cCollab = ur.getCollaborators(uri,\"appContents\")\n\t    if (cCollab){\n\t\tcCollab.forEach(col => {\n\t\t    var nested = ur.getParentPodNested(col)\n\t\t    if (Array.isArray(nested) && nested.length > 0){\n\t\t\tvar puri = u.getURI(nested[0])\n\t\t\tcontents.push(puri)\n\t\t    } else {\n\t\t\tcontents.push(col)\n\t\t    }\n\t\t})\t\t\n\t    }\n\t    var Final = []\n\t    if (contents.length > 0){\n\t\tcontents.forEach(it => {\n\t\t    if (ur.maybeWebIdSysRelation(it)){\n\t\t\tFinal.push(it)\n\t\t    }\n\t\t})\n\t    }\n\t    contents = Final\n\t\t\t\t \n\t}\n\tvar Final = u.unique(u.deNullify(u.getURIs(contents)))\n\t//log.debug(\"Ports\",{contents: contents, Final: Final, app: app, uri: uri})\n\tif (Array.isArray(Final)){\n\t    return Final\n\t} else {\n\t    return []\n\t}\n    }\n}\n\nur.updateTree = function(uri,tree,app){\n    log.debug(\"ur.updateTree\",uri,tree,app)\n    if (u.isTree(tree)){\n\tif (app === \"Projects\"){\n\t    var all = ur.getAllTreeURIs(tree)\n\t    var root = tree.getNode([0])\n\t    var roots = ur.getJustTopParents(uri)\n\t    var eRoots = u.getURIs(tree.nodes)\n\t    log.debug(\"roots\",roots)\n\t    if (Array.isArray(roots)){\n\t\troots.forEach((oroot,idx) => {\n\t\t    if (!eRoots.includes(oroot)){\n\t\t\tvar loc = idx - 1\n\t\t\tur.insertNode(oroot,tree,tree.getNode([loc]),app,\"after\",{treeUris: all})\n\t\t    }\n\t\t})\n\t\tvar paths = []\n\t\ttree.nodes.forEach(node => {\n\t\t    if (!roots.includes(node.data.uri)){\n\t\t\tpaths.push(node.path)\n\t\t    } else {\n\t\t\tif (node.children.length > 0 && node.isLeaf){\n\t\t\t    tree.updateNode(node.path,{isLeaf: false, isExpanded: true})\n\t\t\t} else if (node.children.length === 0){\n\t\t\t    tree.updateNode(node.path,{isLeaf: true, isExpanded: false})\n\t\t\t}\n\t\t\t    \n\t\t\tif (!ur.getRequestNodes(node.data.uri)){\n\t\t\t    store.dispatch(\"loadDataSet\",{uri: node.data.uri, sentFrom: \"ur.updateTree\", force: true})\n\t\t\t}\n\t\t    }\n\t\t})\n\t\tif (paths.length > 0){\n\t\t    tree.remove(paths)\n\t\t}\n\t    }\n\t    \n\t    if (Array.isArray(all) && all.length >0){\n\t\tall.forEach(turi => {\n\t\t    //log.debug(\"tree uri\",turi)\n\t\t    if (!ur.getRequestNodes(turi)){\n\t\t\tstore.dispatch(\"loadDataSet\",{uri: turi, sentFrom: \"ur.initializeTree\"})\n\t\t    }\n\t\t    //check for collaborators\n\t\t    var collabs = ur.getCollabObjects(turi)\n\t\t    if (Array.isArray(collabs) && collabs.length > 0){\n\t\t\tcollabs.forEach(async function(collab){\n\t\t\t    log.debug(\"collab\",collab)\n\t\t\t    const webid = await ur.fetchWebId(collab)\n\t\t\t    if (webid && !ur.getRequestNodes(webid)){\n\t\t\t\tstore.dispatch(\"loadDataSet\",{uri: webid, sentFrom: \"ur.initializeTree.collab\", force: true})\n\t\t\t    }\n\t\t\t})\n\t\t    }\t\t\t\n\t\t})\n\t    }\n\t    //store.commit(\"projTreeNodes\",tree.nodes.slice())\n\t}\n    }\n}\n\nur.initializeTree = function(uri,tree,app,options){\n    if (u.isTree(tree)){\n\t//var children = ur.getTreeContents(uri,tree,app)\n\tif (tree.nodes && tree.nodes.length > 0){\n\t    var root = tree.getNode([0])\n\t    var paths = []\n\t    tree.nodes.forEach(node => {\n\t\tif (node.data.uri !== root.data.uri){\n\t\t    paths.push(node.path)\n\t\t}\n\t    })\n\t    tree.remove(paths)\n\t    var eNodes\n\t    if (app === \"Projects\"){\n\t\turi = store.state.webId\n\t\t//eNodes = store.state.projTreeNodes\n\t    }\n\t    /*\n\t    if (Array.isArray(eNodes) && eNodes.length > 0){\n\t\t\n\t\teNodes.forEach((node, idx) => {\n\t\t    log.debug(\"eNode\",node)\n\t\t    tree.insert({node: tree.getNode([idx]), placement: \"after\"}, node)\n\t\t})\n\t\ttree.remove([[0]])\n\t    \n\t    } else {*/\n\t\tif (!options){\n\t\t    options = {}\n\t\t}\n\t\toptions.sentFrom = \"ur.initializeTree\" + \" \" + options.sentFrom\n\t\tvar update = ur.makeTreeNode(uri,tree,app,options)\n\t\t\n\t\tif (u.isTreeNode(root) && u.isTreeNode(update)){\n\t\t    //log.debug(\"root\",root,update)\n\t\t    //tree.nodes.push(update)\n\t\t    //tree.$forceUpdate()\n\t\t    if (!update.children || update.children.length === 0){\n\t\t\tupdate.isExpanded = false\n\t\t\tupdate.isLeaf = true\n\t\t    } else {\n\t\t\tupdate.isExpanded = true\n\t\t\tupdate.isLeaf = false\n\t\t    }\n\t\t    log.debug(\"root\",root,\"update\",update)\n\t\t    tree.insert({node: root, placement: \"after\"},update)\n\t\t    tree.remove([[0]])\n\t\t/*} else {\n\t\t    tree.nodes.push(update)\n\t\t    tree.$forceUpdate()\n\t\t    }*/\n\t\tif (app === \"Documents\"){\n\t\t    tree.traverse(it => {\n\t\t\ttree.updateNode(it.path,{isExpanded: false, isSelected: false})\n\t\t    })\n\t\t    tree.updateNode([0],{isExpanded: true, isSelected: true})\n\t\t    if (!ur.getRequestNodes(uri)){\n\t\t\tstore.dispatch(\"loadDataSet\",{uri: uri, sentFrom: \"ur.initializeTree\", force: true})\n\t\t    }\n\t\t}\n\t\tif (app === \"Projects\"){\n\t\t    var roots = ur.getJustTopParents(uri)\n\t\t    log.debug(\"roots\",roots)\n\t\t    if (Array.isArray(roots)){\n\t\t\toptions.treeUris = [uri]\n\t\t\troots.forEach((oroot,idx) => {\n\t\t\t    if (oroot !== uri){\n\t\t\t\tvar loc = idx - 1\n\t\t\t\tur.insertNode(oroot,tree,tree.getNode([loc]),app,\"after\",options)\n\t\t\t    }\n\t\t\t})\n\t\t    }\n\t\t    ur.updateTree(uri,tree,app)\n\t\t    tree.traverse(it => {\n\t\t\tif (it.children.length > 0){\n\t\t\t    tree.updateNode(it.path,{isExpanded: true})\n\t\t\t}\n\t\t    })\n\t\t}   \t\n\t\t    log.debug(\"initializeTree\", uri,tree,app,options)\n\t\t\n\t\treturn tree.nodes\n\t    }\n\t}\n    }\n}\n\nur.getTreeNodeChildren = function(uri,tree,app,options,parent){\n    //log.debug(\"ur.getTreeNodeChildren\",uri,tree,app,options)\n    if ($.type(options) !== 'object'){\n\toptions = {}\n    }\n    options.sentFrom = options.sentFrom + \" ur.getTreeNodeChildren\"\n    var treeUris = options.treeUris\n    if (!Array.isArray(treeUris)){\n\ttreeUris = []\n    }\n    var uri = u.getURI(uri)\n    var children\n    if (uri){\n\tchildren =  ur.getTreeContents(uri,tree,app,parent)\n\tif (children){\n\t    children = ur.makeTreeNode(children,tree,app,options,uri)\n\t    if (Array.isArray(children) && children.length > 1){\n\t\tchildren = children.sort(function (a, b){\n\t\t    var aL = ur.getFTag(a) || ur.getLabel(a)\n\t\t    var bL = ur.getFTag(b) || ur.getLabel(b)\n\t\t    if (aL && bL && !treeUris.includes(a) && !treeUris.includes(b)){\n\t\t\treturn aL.toLowerCase().localeCompare(bL.toLowerCase())\n\t\t    }\n\t\t})\n\t    }\n\t}\n    }\n    var finals = []\n    if (Array.isArray(children)){\n\tchildren.forEach(child => {\n\t    if (u.isTreeNode(child)){\n\t\tfinals.push(child)\n\t    }\n\t})\n    }\n    return finals\n}\n\nur.makeTreeNode = function(uri,tree,app,options,parent){\n    log.debug(\"ur.makeTreeNode\",uri,tree,app,options)\n    if (!options){\n\toptions = {}\n    }\n    options.sentFrom = options.sentFrom + \" ur.makeTreeNode\"\n    var treeUris = options.treeUris\n    /*if (!Array.isArray(treeUris) && app === \"Projects\"){\n\ttreeUris = ur.getAllTreeURIs(tree)\n    }*/\n    if (Array.isArray(uri) && uri.length > 0){\n\tvar nodes = []\n\turi.forEach(ui => {\n\t    var uuri = u.getURI(ui)\n\t    \n\t    if (uuri){ // && (app !== \"Projects\" || (app === \"Projects\" && !treeUris.includes(ui)))){\n\t\toptions.treeUris = treeUris\t\t\n\t\tvar node = u.findTreeNode(uuri,tree)\n\t\tif (!node){\n\t\t    node = ur.makeTreeNode(uuri,tree,app,options,parent)\n\t\t}\n\t\tif (u.isTreeNode(node)){\n\t\t    if (app === \"Projects\" && !ur.getRequestNodes(uuri)){\n\t\t\tstore.dispatch(\"loadDataSet\",{uri: uuri, sentFrom: \"ur.makeTreeNode.child\"})\n\t\t    }\n\t\t    nodes.push(node)\n\t\t}\n\t    }\n\t})\n\treturn nodes\n    } else {\n\tvar uri = u.getURI(uri)\t\n\tif (uri){ // && (app !== \"Projects\" || (app === \"Projects\" && !treeUris.includes(uri)))){\n\t    if (app === \"Projects\"){\n\t\t//treeUris.push(uri)\n\t\tif (!ur.getRequestNodes(uri)){\n\t\t    store.dispatch(\"loadDataSet\",{uri: uri, sentFrom: \"ur.makeTreeNode\"})\n\t\t}\n\t    }\n\t    var children = ur.getTreeNodeChildren(uri,tree,app,options,parent)\n\t    if (!Array.isArray(children)){\n\t\tchildren = []\n\t    }\n\t    var node = u.findTreeNode(uri,tree)\n\t    var ePath\n\t    var isNode = u.isTreeNode(node)\n\t    var isExpanded = options.isExpanded\n\t    if (typeof(isExpanded) !== \"boolean\" && !isNode){\n\t\tisExpanded = false\n\t    } else if (isNode){\n\t\tisExpanded = node.isExpanded\n\t    }\n\t    if (isNode){\n\t\tePath = node.path\n\t    }\n\t    var isContainer = ur.isContainer(uri) || ur.isIntelligentPdf(uri) || children.length > 0 || ur.isSystemObj(uri)\n \n\t    node = {\n\t\ttitle: ur.getLabel(uri),\n\t\tchildren: children,\n\t\tisLeaf: !isContainer,\n\t\tisExpanded: isExpanded,\n\t\tdata: {\n\t\t    uri: uri\n\t\t}\n\t    }\n\t    if (u.isTreeNode(node)){\n\t\tif (ePath){\n\t\t    log.debug(\"update\",node)\n\t\t    //update only allows one level of children at a time, so clear out childrens children\n\t\t    \n\t\t    if (children.length > 0){\n\t\t\tchildren.forEach(child => {\n\t\t\t    //send child to make node to restore children down hierarchy\n\t\t\t    if (app !== \"Projects\"){\n\t\t\t\tur.makeTreeNode(child.data.uri,tree,app,options,node)\n\t\t\t    }\n\t\t\t    child.children = []\t\t\t    \n\t\t\t})\n\t\t    }\n\t\t    tree.updateNode(ePath,node)\n\t\t}\n\t\t//log.debug(\"final node\",node)\n\t\treturn node\n\t    }\n\t}\n    }\n}\n\nur.sortTreeContents = function(contents,app){\n    if (Array.isArray(contents) && contents.length > 0){\n\tcontents = u.getURIs(contents)\n\treturn contents.sort(function (a, b) {\n\t    var aL = ur.getLabel(a)\n\t    var bL = ur.getLabel(b)\n\t    if (aL && bL){\n\t\treturn bL.toLowerCase().localeCompare(aL.toLowerCase())\n\t    }\n\t})\n    } else {\n\treturn contents\n    }\n}\n    \n\n\nur.insertNode = function(uri,tree,parent,app,placement,options){\n    //log.debug('ur.insertNode',uri,tree,parent,app,placement,options)\n    if (!options){\n\toptions = {}\n    }\n    options.sentFrom = options.sentFrom + \" ur.insertNode\"\n    var treeUris = options.treeUris\n    if (!Array.isArray(treeUris)){\n\ttreeUris = []\n    }\n    var uri = u.getURI(uri)\n    var isContainer = ur.isContainer(uri) || ur.isIntelligentPdf(uri) || ur.isPort(uri)\n    if (app === \"Projects\" && !ur.getRequestNodes(uri)){\n\tstore.dispatch(\"loadDataSet\",{uri: uri, sentFrom: \"ur.insertNode\"})\n    }\n    if (!placement){\n\tplacement = \"inside\"\n    }\n    if (uri){\n\tif (u.isTree(tree) && u.isTreeNode(parent) && !treeUris.includes(uri)){\n\t    options.treeUris = treeUris\n\t    var node = ur.makeTreeNode(uri,tree,app,options,u.getURI(parent))\n\t    if (u.isTreeNode(node)){\n\t\tlog.debug(\"insertNode node\",node,parent)\n\t\tif (parent && !u.getURIs(parent.children).includes(uri)){\n\t\t    try {\n\t\t\ttree.insert({node: parent, placement: placement},node)\n\t\t    } catch(error) {\n\t\t\tlog.debug(error)\n\t\t    }\n\t\t    if (parent.isLeaf && placement === 'inside'){\n\t\t\ttree.updateNode(parent.path,{isLeaf: false})\n\t\t    }\n\t\t    \n\t\t    return u.findTreeNode(uri,tree)\n\t\t}\n\t    }\n\t}\n    }\n}\t\n\nur.getLinkHeader = function (uri){\n    var responses = ur.getResponseNodes(uri)\n    if (Array.isArray(responses) && responses.length > 0){\n\tvar st = rdfStore.anyStatementMatching(responses[0],$rdf.sym(\"http://www.w3.org/2007/ont/httph#link\"))\n\tif (st){\n\t    return st.object.value\n\t}\n    }\n}\n\nur.getWacAllow = function (uri){\n    var allow = []\n    var responses = ur.getResponseNodes(uri)\n    if (responses){\n\tresponses.forEach(resp => {\n\t    var st = rdfStore.anyStatementMatching(resp,$rdf.sym(\"http://www.w3.org/2007/ont/httph#wac-allow\"))\n\t    if (st){\n\t\tallow.push(st.object.value)\n\t    }\n\t})\n    }\n    if (allow.length === 1){\n\treturn allow[0]\n    }\n}\n\nur.getEtag = function (uri){\n    var uri = u.getURI(uri)\n    var eTags = []\n    if (uri){\n\tvar responses = ur.getResponseNodes(uri)\n\tif (responses){\n\t    responses.forEach(resp => {\n\t\tvar st = rdfStore.anyStatementMatching(resp,$rdf.sym(\"http://www.w3.org/2007/ont/httph#etag\"))\n\t\tif (st){\n\t\t    eTags.push(st.object.value)\n\t\t}\n\t    })\n\t}\n    }\n    if (eTags.length === 1){\n\treturn eTags[0]\n    }\n}\n\nur.getFileVersion = function (uri){\n    var uri = u.getURI(uri)\n    if (ur.isFile(uri)){\n\tvar st = rdfStore.anyStatementMatching($rdf.sym(uri),ns.DCTERMS(\"hasVersion\"))\n\tif (st)\n\t    return st.object.value\n    }\n}\n    \nur.eTagToResponseNodes = function (eTag){\n    if (typeof(eTag) === 'string'){\n\tvar responses = []\n\tvar sts = rdfStore.match(null,$rdf.sym(\"http://www.w3.org/2007/ont/httph#etag\"),$rdf.lit(eTag))\n\tif (Array.isArray(sts) && sts.length > 0){\n\t    sts.forEach(st => {\n\t\tresponses.push(st.subject)\n\t    })\n\t    return responses\n\t}\n    }\n}\nur.getRequestNodes = function (uri){\n    var uri = u.getURI(uri)\n    var requests = []\n    if (uri){\n\t//first check etags\n\tvar eTag = store.state.eTags[uri]\n\tif (eTag){\n\t    var responses = ur.eTagToResponseNodes(eTag)\n\t    if (Array.isArray(responses) && responses.length > 0){\n\t\tresponses.forEach(response => {\n\t\t    var st = rdfStore.anyStatementMatching(null,$rdf.sym('http://www.w3.org/2007/ont/link#response'),response)\n\t\t    if (st){\n\t\t\trequests.push(st.subject)\n\t\t    }\n\t\t})\n\t    }\n\t    return requests\n\t} else {\n\t    /*var webid = ur.getWebId(uri)\n\t    if (webid === uri){\n\t\turi = u.getCard(uri)\n\t    }*/\n\t    var sts = rdfStore.match(null,$rdf.sym(\"http://www.w3.org/2007/ont/link#requestedURI\"),$rdf.literal(uri))\n\t    if (Array.isArray(sts) && sts.length > 0){\n\t\tsts.forEach(st => {\n\t\t    requests.push(st.subject)\n\t\t})\n\t    }\n\t    if (requests.length > 0){\n\t\treturn requests\n\t    } /*else {\n\t\t//work up hierarchy\n\t\tvar ups = ur.vectorUpContainers(uri)\n\t\tif (Array.isArray(ups) && ups.length > 0){\n\t\t    ups = ups.reverse()\n\t\t    ups.forEach(up => {\n\t\t\tvar reqs = []\n\t\t\tvar sts = rdfStore.match(null,$rdf.sym(\"http://www.w3.org/2007/ont/link#requestedURI\"),$rdf.literal(up))\n\t\t\tif (Array.isArray(sts) && sts.length > 0){\n\t\t\t    sts.forEach(st => {\n\t\t\t\treqs.push(st.subject)\n\t\t\t    })\n\t\t\t}\n\t\t\tif (reqs.length > 0){\n\t\t\t    return reqs\n\t\t\t}\n\t\t    })\n\t\t}\n\t    }*/\n\t}\t\t   \n    }\n}\n\t    \nur.getResponseNodes = function (uri){\n    var responses = []\n    var uri = u.getURI(uri)\n    if (uri){\n\tvar requests = ur.getRequestNodes(uri) \n\tif (Array.isArray(requests) && requests.length > 0){\n\t    requests.forEach(req => {\n\t\tvar response = rdfStore.anyStatementMatching(req,$rdf.sym('http://www.w3.org/2007/ont/link#response'))\n\t\tif (response){\n\t\t    responses.push(response.object)\n\t\t    }\n\t    })\n\t    if (responses.length > 0){\n\t\treturn responses\n\t    }\n\t}\n    }\n}\n\nur.getAuthRedirect = function (uri){\n    var responses = ur.getResponseNodes(uri)\n    if (responses){\n\tvar st = rdfStore.anyStatementMatching(responses[0],$rdf.sym('http://www.w3.org/2007/ont/httph#app-authorization-required'))\n\tif (st){\n\t    return st.object.value\n\t}\n    }\n}\n\t\t\nur.isTrinPod = function (uri){\n    var uri = u.getURI(uri)\n    var yes = false\n    if (uri){\n\tvar responses = ur.getResponseNodes(uri)\n\tif (responses){\n\t    responses.forEach(response => {\n\t\tvar trin = rdfStore.anyStatementMatching(response,$rdf.sym('http://www.w3.org/2007/ont/httph#x-powered-by'))\n\t\tif (trin){\n\t\t    var text = trin.object.value\n\t\t    if (typeof(text) === 'string'){\n\t\t\tif (text.match('TrinPod')){\n\t\t\t    yes = true\n\t\t\t}\n\t\t    }\n\t\t}\n\t    })\t    \n\t}\n    }\n    return yes\n}\n\nur.fetchWebId = async function (uri){\n    var card = u.getCard(uri)\n    var webid = ur.getWebId(card)\n    if (webid){\n\treturn webid\n    } else {\n\tvar dsStore = new $rdf.graph()\n\ttry {\n\t    var resp = await fetch(card,{headers: {accept: \"text/turtle\"}})\n\t    var text = await resp.text()\n\t    if (typeof(text) === 'string'){\n\t\tawait $rdf.parse(text,dsStore,card)\n\t\tvar st = dsStore.anyStatementMatching($rdf.sym(card), ns.FOAF('primaryTopic'))\n\t\tdsStore.removeMatches()\n\t\tif (st){\n\t\t    return st.object.value\n\t\t}\n\t    }\n\t} catch (e) {\n\t    log.error(e)\n\t}\n    }\n}\n\nur.fetchAndSaveTurtle = async function(fetchURI, force){\n  return new Promise(resolve => {\n    if(!store.state.rs.urisFetched.includes(fetchURI) || force){\n      ur.aLoadURI(fetchURI, null, { force: force }).then((result) => { // Can force to get the data remotely\n        if(result){\n          result.forEach(statem => {\n            store.state.rs.rdfStore.add(statem);\n          });\n          store.state.rs.urisFetched.push(fetchURI);\n          resolve(true);\n        } else {\n          console.log(\"Error: Problems with fetching URI!!!\");\n          resolve(false);\n        }\n      });\n    } else { resolve(true); }\n  });\n}\n\nur.aLoadURI = async function (uri, doc, options) {\n    console.log(\"aLoadURI\", uri, doc);\n    if (!options) {\n      options = {}\n    }\n    options.fetch = window.solid.hyperFetch;\n    options.headers = {hypergraph: 'U2FsdGVkX1/S0rANmPZVe3xCIXvlGoGnGudwlp4wFSMFtte++kYYPt0l4B4407c+'} // Should be set in rdfstore.js - do not work in rdfstore.js\n    options.timeout = 25000;\n    if (uri) {\n      try {\n          const response = await rdfFetcher.load(uri, options);\n          var statements = u.unique(rdfStore.match(null, null, null, $rdf.sym(uri)));\n          return statements;\n      } catch (err) {\n          console.log(\"Cant load URI: \", uri, err);\n          ur.checkIfAppAuthorizationRequired(uri);\n      }\n    } else {\n      console.log(\"ERROR: bad URI to loadURIa\");\n    }\n}\n\nur.checkIfAppAuthorizationRequired = async function(webId) {\n  let dsHead = [];\n  try {\n    dsHead = await window.solid.session.fetch(\n      webId, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(dsHead);\n      console.log(\"Response headers:\")\n      let appAuthReq = dsHead.headers.get('App-Authorization-Required')\n      if(appAuthReq){\n        console.log(\"App Authorization required\")\n        console.log(\"URI: \"+appAuthReq);\n        window.location.href = appAuthReq + '&redirect_uri=' + window.location.href;\n      }\n      return dsHead;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nur.uploadTurtle = async function(uri, turtlebody, tst) {\n  let successfulFetch = false;\n  if(!tst){\n    try {\n      await window.solid.session.fetch(\n        uri.replace(\"/i\", \"/node/Substance\"), {\n          method: \"PATCH\", // Remember to use patch when writing to /node/Substance\n          credentials: \"include\",\n          body: turtlebody,\n          headers: {\n            \"Content-Type\": \"text/turtle\",\n          },\n      }).then((res) => {\n        if (res.status === 200){\n          console.log(\"Successful fetch, got response 200\");\n          successfulFetch = true;\n        } else if (res.status === 201){\n          console.log(\"Created successfully, response 201\");\n          successfulFetch = true;\n        } else if (res.status === 401){\n          console.log(\"Error 401: The app is not authorized by this Trinpod, rederecting..\");\n          let authCheck = id.checkIfAppAuthenticated(containerName);\n          successfulFetch = false;\n        } else {\n          console.log(\"Error running fetch, got response \", res.status);\n          successfulFetch = false;\n        }\n      });\n    } catch (error) {\n      console.log(\"-- Error message below --\");\n      console.log(error);\n      successfulFetch = false;\n    }\n  }\n  return successfulFetch;\n}\n\nur.runSparqlQuery = function(queryString = 'SELECT ?s ?p ?o WHERE { ?s ?p ?o } .'){\n  const query = $rdf.SPARQLToQuery(queryString, false, store.state.rs.rdfStore);\n  store.state.rs.rdfStore.query(query, function(result) {\n      console.log('Query ran');\n      console.log(result);\n      return result;\n  });\n}\n\nur.getInheritNested = function(uri, func, recurse, Final) {\n    //console.log('ur.getInheritNested',{uri: uri, func: func, recurse: recurse, Final: Final})\n    if (Array.isArray(Final) && Final.includes(uri)) {\n      return Final;\n    } else {\n      var result = func(uri); //ur.getContents(uri)\n  \n      //var uriExists = rdfStore.objectIndex[\"<\" + uri + \">\"]\n      if (Final) {\n        // && uriExists) {\n        Final.push(uri);\n      } else {\n        //if (uriExists){\n        Final = [uri];\n      }\n      if (!result || result.length === 0) {\n        if (Array.isArray(recurse) && recurse.length > 0) {\n          return ur.getInheritNested(recurse.pop(), func, recurse, Final);\n        } else {\n          return Final;\n        }\n      } else {\n        if (Array.isArray(recurse) && recurse.length > 0) {\n          recurse = recurse.concat(result);\n        } else {\n          recurse = result;\n        }\n        return ur.getInheritNested(recurse.pop(), func, recurse, Final);\n      }\n    }\n  };\n\n  ur.addToStores =  function(subject, predicate, object, rdfdefault){\n    store.state.rs.tempRdfStore.add(subject, predicate, object, $rdf.default);\n    store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n  }\n  \n  ur.getInherit = function(uri, predicate, inverse) {\n    //console.log(\"getInerit\", predicate)\n   // var uri = u.getURI(uri);  // Should be fixed and enabled -- Espen\n    var contents = [];\n    if (\n      uri && (typeof predicate === \"object\") &&\n      predicate.termType === \"NamedNode\"\n    ) {\n      //var subject = $rdf.sym(uri); // Do a check if correctly defined before activating this. - Espen\n      var items = [];\n      if (inverse) {\n        items = rdfStore.match(null, predicate, $rdf.sym(uri));\n      } else {\n        items = rdfStore.match($rdf.sym(uri), predicate, null);\n      }\n      if (items && items.length > 0) {\n        items.forEach(function(i) {\n          if (inverse) {\n            contents.push(i.subject.value);\n          } else {\n            contents.push(i.object.value);\n          }\n        });\n        return contents;\n      } else {\n        return [];\n      }\n    }\n  };\n  \n  ur.getContainees = function(uri) {\n    //var uri = u.getURI(uri); // Should be fixed and enabled -- Espen\n    if (uri) {\n      return ur.getInherit(uri, ns.SIO(\"SIO_000202\"), true);\n    }\n  };\n\n  ur.getParts = function(uri) {\n    //var uri = u.getURI(uri); // Should be fixed and enabled -- Espen\n    if (uri) {\n      return ur.getInherit(uri, ns.DUL(\"hasPart\"), true);\n    }\n  };\n  \n  ur.getContaineesNested = function(uri) {\n    var containees = ur.getInheritNested(uri, ur.getContainees);\n    if (Array.isArray(containees) && containees.length > 0) {\n      return containees.reverse();\n    } else {\n      return [];\n    }\n  };\n\n  ur.getPartsNested = function(uri) {\n    var containees = ur.getInheritNested(uri, ur.getParts);\n    if (Array.isArray(containees) && containees.length > 0) {\n      return containees.reverse();\n    } else {\n      return [];\n    }\n  };\n\n  ur.getWholesNested = function(uri) {\n    var uriThree = ur.getContaineesNested(uri);\n    var parts = ur.getPartsNested(uri);\n    var issueFound = false;\n    const toFindDuplicates = uriThree => uriThree.filter((item, index) => uriThree.indexOf(item) !== index)\n    const duplicateElementa = toFindDuplicates(uriThree);\n    if(duplicateElementa.length > 0){\n      console.log(\"WARNING, duplicates in contain found!!!\");\n      issueFound = true;\n    }\n    const tofindDuplicates2 = parts => parts.filter((item, index) => parts.indexOf(item) !== index)\n    const duplicateElementb = tofindDuplicates2(parts);\n    if(duplicateElementb.length > 0){\n      console.log(\"WARNING, duplicates in part found!!!\");\n      issueFound = true;\n    }\n    uriThree.push(\"hasPart:\");\n    for (var i=0; i<parts.length; i++) {\n      uriThree.push(parts[i]);\n    }\n    console.log(uriThree);\n    if(ur.getDuplicatePartChild(uri)){ issueFound = true; }\n    return issueFound;\n  };\n\n  ur.getDuplicatePartChild = function(uri){\n    var items = [];\n    items = rdfStore.match(null, ns.DUL(\"hasPart\"), $rdf.sym(uri));\n    if(items.length >= 2){\n      console.log(\"WARNING, duplicates part child found!!!\");\n      for (var i=0; i<items.length; i++) {\n        console.log(items[i].subject.value+\" hasPart \"+items[i].object.value);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  ur.getTypes = function (item, stateOnly) {\n    //Type inheritance:  Only direct types recognized and then predication inherited through the entire hierarchy of classes/predications linked to via type\n    //If item does not have a direct type, use subproperty or subclass hierarhcy recursively to find direct type - recursive type search better handled on server.\n    var URI;\n    var result = []\n    var types = []\n    var isBlank = u.isBlankNode(item)\n    if ($.type(item) === \"array\") {\n      return item.forEach(thing => {\n          return ur.getTypes(thing)\n      })\n    } else {\n      URI = u.getURI(item);\n      if (typeof(URI) === 'string' || isBlank) {\n          var subject\n          if (isBlank){\n            subject = URI\n              } else {\n            subject = $rdf.sym(URI)\n              }\n              var rTypes = u.unique(rdfStore.match(subject, ns.RDF('type')))\n              if (rTypes && rTypes.length > 0) {\n            /*if (thing) {\n              var tTypes = client.getTermAll(thing, u.uriToNamedNode(ns.RDF('type').value))\n              if (tTypes.length > 0) {\n              result = $.map(tTypes, function (tType) {\n              return tType.value;\n              })\n              }\n              }*/\n            //if (rTypes.length > 0) {\n            var rResult = $.map(rTypes, function (q) {\n                if (u.getURI(q.graph)){\n              return q.object.value\n                }\n            })\n            if (rResult) {\n                result = result.concat(rResult)\n            }\n            //\t}\n            if (!stateOnly && !isBlank) {\n                var types = ur.parseLinkHeader(URI).type\n                //ds.internal_resourceInfo.linkedResources.type\n            }\n            result = result.concat(types)\n            //log.debug(\"ur.getTypes\",URI,result)\n            return u.unique(result);\n          }\n      }\n    }\n}\n\nur.parseLinkHeader = function(item){\n  var result = {}\n  var uri = u.getURI(item)\n  if (uri){\n    var link = rdfFetcher.getHeader($rdf.sym(uri),\"Link\")\n    if (Array.isArray(link)){\n        link = link[0]\n        if (typeof(link) === 'string'){\n          var links = link.split(\",\")\n          if (Array.isArray(links)){\n              links.forEach(function (lk){\n                var row = lk.split(\";\")\n                if (Array.isArray(row)){\n                  var iri = row[0].trim()\n                  var URI = u.getURI(iri)\n                  if (URI){\n                    var Type = row[1]\n                      if (typeof(Type) === 'string'){\n                          Type = Type.split(\"=\")\n                          if (Array.isArray(Type)){\n                        Type = Type[1]\n                        if (typeof(Type) === 'string'){\n                            Type = Type.replaceAll('\"',\"\")\n                            if (result[Type]){\n                              result[Type].push(URI)\n                            } else {\n                              result[Type] = [URI]\n                            }\n                        }\n                      }\n                    }\n                  }\n                }\n              })\n          }\n        }\n    }\n  }\n  return result\n}\n\nur.checkIfContainLoopInStore = function(pstore, compare){\n  const URIlist = [];\n  const foundIssues = [];\n  let arr1 = pstore.match(null, ns.SIO(\"SIO_000202\"), null);\n  let arr2 = pstore.match(null, ns.DUL(\"hasPart\"), null);\n  let arr3 = pstore.match(null, ns.LDP(\"contains\"), null);\n  let arr4 = pstore.match(null, ns.NEO(\"t_1pr4n\"), null);\n  for (var k=0; k<20; k++) { // Goes down 20 levels of inheritance\n    let foundNewContains = false;\n    arr1.concat(arr2).concat(arr3).concat(arr4).forEach(quad => {\n      const foundSubject = quad.subject.value;\n      const foundObject = quad.object.value;\n      let foundPredicate = \"sio:SIO_000202\";\n      if(quad.predicate.value == ns.DUL(\"hasPart\").value) foundPredicate = \"dul:hasPart\";\n      if(quad.predicate.value == ns.LDP(\"contains\").value) foundPredicate = \"ldp:contains\";\n      if(quad.predicate.value == ns.NEO(\"t_1pr4n\").value) foundPredicate = \"neo:t_1pr4n\";\n      let subobjset = foundSubject+\" \"+foundPredicate+\" \"+foundObject+\"##\"; // The ## marks the end of the hierarchy to know what is the previous URI looked at.\n      let found = false;\n      let addString = \" \"+foundPredicate+\" \"+foundObject+\"##\";\n      if(URIlist){\n        for (var j = 0; j < URIlist.length; j++) {\n          if(URIlist[j].includes(foundSubject+\"##\") && !URIlist.includes(URIlist[j].replace(\"##\", addString))){\n            found = true;\n            foundNewContains = true\n            if(URIlist[j] == foundObject){\n              console.log(\"Error. Loop found!!!!!\");\n              foundIssues.push(URIlist[j].replace(\"##\", addString));\n              console.log(foundIssues);\n              j = URIlist.length+1; // Break out of inheritance loop\n              k=20; // Break out of URIlist loop\n              return true;\n            }\n            URIlist[j] = URIlist[j].replace(\"##\", addString);\n            URIlist.push(URIlist[j]); // Create duplicate of hierarchy if several children\n          }\n        }\n      }\n      if(!found) {\n        URIlist.push(subobjset);\n      }\n    });\n    if(!foundNewContains) return;\n  }\n  // Compare hierarhies together\n  if(compare){\n    for (var ul = 0; ul < URIlist.length; ul++) {\n      // Get first and last URI\n      let firstURI = URIlist[ul].split(' ')[0];\n      let lastURI = URIlist[ul].split(' ').pop().replace(\"##\", \"\");\n      //console.log(\"FirstURI: \"+firstURI+\" LastURI: \"+lastURI);\n      for (var uls = 0; uls < URIlist.length; uls++) {\n        if(URIlist[uls]!=URIlist[ul]){\n          let firstURIc = URIlist[uls].split(' ')[0];\n          let lastURIc = URIlist[uls].split(' ').pop().replace(\"##\", \"\");\n          if(firstURI==firstURIc&&lastURI==lastURIc){\n            console.log(\"Error. Loop found in paralell hierarchy!!!!!\");\n            foundIssues.push(URIlist[uls]);\n            foundIssues.push(URIlist[ul]);\n            console.log(foundIssues);\n            uls = URIlist.length+1; // Break out of URIlist outer loop\n            ul = URIlist.length+1; // Break out of URIlist loop\n            return true;\n          }\n        }\n      }\n    }\n  }\n  //console.log(URIlist);\n  if(foundIssues.length>0){\n    return true;\n  } else {\n    return false;\n  }\n}\n\nur.checkIfmPortLoopInStore = function(pstore){\n  const URIlist = [];\n  const foundIssues = [];\n  let arr1 = pstore.match(null, ns.NEO(\"m_port\"), null);\n  for (var k=0; k<20; k++) { // Goes down 20 levels of inheritance\n    let foundNewContains = false;\n    arr1.forEach(quad => {\n      const foundSubject = quad.subject.value;\n      const foundObject = quad.object.value;\n      let foundPredicate = \"neo:m_port\";\n      let subobjset = foundSubject+\" \"+foundPredicate+\" \"+foundObject+\"##\"; // The ## marks the end of the hierarchy to know what is the previous URI looked at.\n      let found = false;\n      let addString = \" \"+foundPredicate+\" \"+foundObject+\"##\";\n      if(URIlist){\n        for (var j = 0; j < URIlist.length; j++) {\n          if(URIlist[j].includes(foundSubject+\"##\") && !URIlist.includes(URIlist[j].replace(\"##\", addString))){\n            found = true;\n            foundNewContains = true\n            if(URIlist[j] == foundObject){\n              console.log(\"Error. Loop found!!!!!\");\n              foundIssues.push(URIlist[j].replace(\"##\", addString));\n              console.log(foundIssues);\n              j = URIlist.length+1; // Break out of inheritance loop\n              k=20; // Break out of URIlist loop\n              return true;\n            }\n            URIlist[j] = URIlist[j].replace(\"##\", addString);\n            URIlist.push(URIlist[j]); // Create duplicate of hierarchy if several children\n          }\n        }\n      }\n      if(!found) {\n        URIlist.push(subobjset);\n      }\n    });\n    if(!foundNewContains) return;\n  }\n  // Compare hierarhies together\n  for (var ul = 0; ul < URIlist.length; ul++) {\n    // Get first and last URI\n    let firstURI = URIlist[ul].split(' ')[0];\n    let lastURI = URIlist[ul].split(' ').pop().replace(\"##\", \"\");\n    //console.log(\"FirstURI: \"+firstURI+\" LastURI: \"+lastURI);\n    for (var uls = 0; uls < URIlist.length; uls++) {\n      if(URIlist[uls]!=URIlist[ul]){\n        let firstURIc = URIlist[uls].split(' ')[0];\n        let lastURIc = URIlist[uls].split(' ').pop().replace(\"##\", \"\");\n        if(firstURI==firstURIc&&lastURI==lastURIc){\n          console.log(\"Error. Loop found in paralell hierarchy!!!!!\");\n          foundIssues.push(URIlist[uls]);\n          foundIssues.push(URIlist[ul]);\n          console.log(foundIssues);\n          uls = URIlist.length+1; // Break out of URIlist outer loop\n          ul = URIlist.length+1; // Break out of URIlist loop\n          return true;\n        }\n      }\n    }\n  }\n  //console.log(URIlist);\n  if(foundIssues.length>0){\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// Tail recursive nesting of hierarchies\nur.getParentsNested = function(uri, predicateTypes){\n  let hierarchiesList = [[uri]];\n  let parentsfound = false;\n  let currentURIs = [uri];\n  let parentURIs = [];\n  for(var lvl =0 ; lvl < 50; lvl++) { // Set limit of hierarchy size to a number to prevent infinite loop\n    parentsfound = false;\n    currentURIs.forEach(currentURI => {\n      let duplicateAdded = 1;\n      predicateTypes.forEach(predicate => { // Loop through all predicate parents\n        rdfStore.match(null, predicate, $rdf.sym(currentURI)).forEach((triple, index) => { // Find the parents of current URI\n          for (var hli = 0; hli < hierarchiesList.length; hli++) { // Loop through the hierachies made\n            if(index >= 1){ // Check if this is second parent, and hierarchy needs to be duplicated\n              if(a.getSecondLastElement(hierarchiesList[hli]) == currentURI && duplicateAdded == index) { // Compare second last element\n                hierarchiesList.push(a.removeLastElement(hierarchiesList[hli])); // Create duplicate of hierarchy without last element of previous hierarchy\n                duplicateAdded = index+1; // Will make sure duplicates are added only once for each duplicate parent\n              }\n            }\n            if(a.getLastElement(hierarchiesList[hli]) == currentURI) { // Check if last item in array is current URI focus\n              if(hierarchiesList[hli].includes(triple.subject.value)){\n                console.log(\"Loop found!!\");\n                hierarchiesList[hli].push(triple.subject.value);\n                return a.reverseSubArrays(hierarchiesList); // Break out of function if loop is found\n              }\n              hierarchiesList[hli].push(triple.subject.value);\n            }\n          }\n          parentURIs.push(triple.subject.value);\n          parentsfound = true;\n        });\n      });\n    });\n    currentURIs = parentURIs;\n    parentURIs = [];\n    if(!parentsfound){\n      return a.reverseSubArrays(hierarchiesList);\n    }\n  }\n  return a.reverseSubArrays(hierarchiesList);\n}\n\n// Tail recursive nesting of hierarchies\nur.getChildrenNested = function(hlist, predicateTypes){\n  let hierarchiesList = hlist;\n  let childrenfound = false;\n  let currentURIs = [];\n  hlist.forEach(subArray => {\n    let newCurrentURI = subArray[subArray.length - 1];\n    if(!currentURIs.includes(newCurrentURI)) currentURIs.push(newCurrentURI); // Add current tail level of URIs from input array\n  });\n  let childrenURIs = [];\n  for(var lvl =0 ; lvl < 50; lvl++) { // Set limit of hierarchy size to a number to prevent infinite loop\n    childrenfound = false;\n    currentURIs.forEach(currentURI => {\n      let duplicateAdded = 1;\n      predicateTypes.forEach(predicate => { // Loop through all predicate children\n        rdfStore.match($rdf.sym(currentURI), predicate, null).forEach((triple, index) => { // Find the children of current URI\n          for (var hli = 0; hli < hierarchiesList.length; hli++) { // Loop through the hierachies made\n            if(index >= 1){ // Check if this is second parent, and hierarchy needs to be duplicated\n              if(a.getSecondLastElement(hierarchiesList[hli]) == currentURI && duplicateAdded == index) { // Compare second last element\n                hierarchiesList.push(a.removeLastElement(hierarchiesList[hli])); // Create duplicate of hierarchy without last element of previous hierarchy\n                duplicateAdded = index+1;  // Will make sure duplicates are added only once for each duplicate parent\n              }\n            }\n            if(a.getLastElement(hierarchiesList[hli]) == currentURI) { // Check if last item in array is current URI focus\n              if(hierarchiesList[hli].includes(triple.object.value)){\n                console.log(\"Loop found!!\");\n                hierarchiesList[hli].push(triple.object.value);\n                return hierarchiesList; // Break out of function if loop is found\n              }\n              hierarchiesList[hli].push(triple.object.value);\n            }\n          }\n          childrenURIs.push(triple.object.value);\n          childrenfound = true;\n        });\n      });\n    });\n    currentURIs = childrenURIs;\n    childrenURIs = [];\n    if(!childrenfound){\n      return hierarchiesList;\n    }\n  }\n  return hierarchiesList;\n}\n\nur.checkIfContainLoop = function(uri, predicateTypes){\n  let issueFound = false;\n  let parentArray = ur.getParentsNested(uri, predicateTypes);\n  parentArray = a.removeDuplicates(parentArray);\n  console.log(\"Parent Array below:\");\n  console.log(parentArray);\n  parentArray.forEach(hierachy => {\n    if(a.checkIfDuplicateExists(hierachy)){\n      console.log(\"Found loop!!!!!\");\n      console.log(hierachy);\n      issueFound = true;\n      throw console.error(\"Found loop!!!.\")\n    }\n  });\n  let fullArray = ur.getChildrenNested(parentArray, predicateTypes);\n  fullArray = a.removeDuplicates(fullArray);\n  console.log(\"Full Array below:\");\n  console.log(fullArray);\n  fullArray.forEach(hierachy => {\n    if(a.checkIfDuplicateExists(hierachy)){\n      console.log(\"Found loop!!!!!\");\n      console.log(hierachy);\n      issueFound = true;\n      throw console.error(\"Found loop!!!.\")\n    }\n  });\n  return issueFound;\n};\n\nur.modifyTurtle = function(turt){\n  turt = ur.checkPrefixes(turt);\n  turt = turt.replaceAll('@prefix : <#>.\\n', '');\n  turt = turt.replace(/(>)\\n/g, '$1 '); // Replaces blank node <> characters.\n  turt = turt.replace(/(>\\s)\\s+/g, '$1'); // Replace blank spaces after > character\n  turt = turt.replace(/([^\\s])([;.])\\n/g, '$1 $2\\n'); // Add blank spaces before split\n  turt = turt.replace(/<(_:\\w+)>/g, '$1'); // Replaces blank node <> characters.\n  //turt = turt.replaceAll(\"^^<neo:a_matrix-3m>\", \"\");\n  turt = turt.replaceAll('^^neo:a_matrix-3m\"', '\"^^neo:a_matrix-3m');\n  turt = turt.replace(/(\\n)\\n/g, '$1'); //Removes double line breaks.\n  return turt;\n}\n\nur.checkPrefixes = function (turt){\n  try{\n    let prefixarray = turt.split(/\\r\\n|\\n/);\n    for (var i=1; i<prefixarray.length; i++) {\n      if (prefixarray[i].includes(\"@prefix\")) {\n        let prefix = prefixarray[i].replace('@prefix ', '');\n        prefix = prefix.substring(0, prefix.indexOf(\":\")+1);\n        let prefixuri = prefixarray[i].substring(prefixarray[i].indexOf(\"<\")+1, prefixarray[i].indexOf(\">\"));\n        prefixarray[i] = { prefix:prefix , uri:prefixuri };\n        //console.log(prefixarray[i].prefix);\n        // Replace all prefixes that is using the i with whole URI\n        turt = turt.replaceAll(prefixarray[i].prefix+'i', '<'+prefixarray[i].uri+'i>');\n        turt = turt.replaceAll(prefixarray[i].prefix+'y_system', '<'+prefixarray[i].uri+'y_system>');\n        turt = turt.replaceAll(prefixarray[i].prefix+'tag', '<'+prefixarray[i].uri+'tag>');\n      }\n    }\n    return turt;\n  } catch (error){\n    console.log(error)\n  }\n}\n\n/*ur.checkIfContainLoop = function(turtle){\n  const parser = new N3.Parser();\n  const URIlist = [];\n  const foundIssues = [];\n    parser.parse(\n      turtle,\n      (error, quad, prefixes) => {\n        if (quad){\n          if(quad.predicate.value == ns.DUL(\"hasPart\").value || quad.predicate.value == ns.SIO(\"SIO_000202\").value){\n            let blankList = quad.object.value.split('_:');\n            for (var i = 0; i < blankList.length; i++) {\n              const foundSubject = quad.subject.value.replace(/(\\w+_)(\\w+)/g, '$2')\n              const foundObject = blankList[i].replace(/(\\w+_)(\\w+)/g, '$2');\n              let subobjset = foundSubject+\",\"+foundObject+\"##\";\n              const found = false;\n              const foundnum = 0;\n              if(URIlist){\n                for (var j = 0; j < URIlist.length; j++) {\n                  if(URIlist[j].includes(foundSubject+\"##\")){\n                    found = true;\n                    foundnum = j;\n                  }\n                }\n              }\n              if(found){\n                //console.log(URIlist[foundnum]+\":\"+foundObject);\n                if(URIlist[foundnum].includes(foundObject)){\n                  console.log(\"Warning. Duplicate found!!!!!\");\n                  foundIssues.push(URIlist[foundnum]+\":\"+foundObject);\n                }\n                let addString = \",\"+foundObject+\"##\";\n                URIlist[foundnum] = URIlist[foundnum].replace(\"##\", addString);\n              } else {\n                URIlist.push(subobjset);\n              }\n            }\n          }\n        } else {\n          //console.log(URIlist);\n          console.log(\"Found issues:\");\n          //console.log(foundIssues);\n          return foundIssues;\n        }\n      });\n}*/\n\nexport default ur;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIMviewer.vue?vue&type=style&index=0&id=22db587f&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/document.11e15e4d.png\";","module.exports = __webpack_public_path__ + \"img/person2.dd98b742.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEHklEQVRIia1XXWgcVRT+vruzaboLsguCSEEsFavVBIRYiIm67uxOSRGLD4u+9EFKpdZWRaqVFiHSVgk+WEVE+xOKoFD8e8jDmtkZtbRL1bxoHwJVi+1Dkaq4aZMm1t3czwd3yzSmSSbN93TnzDnn+zhzz71nKAkksYRgoVDYDGBjIpHYNjw8/OP1HCXBWUpmz/NWWmsPAnABYHp6+g4A1xUAAGaJuOl53rOSTjXJfyf5RBAEn80XeMMVyOfzq4wxh621DwMAyaOO42wvl8t/LCR+0QL6+/tNtVrdLul1ACmSF0g+4/v+F3HycDGbsFAo3AlgEEAPAJD8yBjz3PDw8F9x8sTehKVSKTE2NvYCgD2SlgO4AmCwUqlsjZMnigVXYN26dXdZawcldTdN/5BMSrIAckEQnIhLLml+AblczkkkEi8aY16T1E7yvCRDcltTzA6SZ9rb2zuHhoYm4wqYsw3z+fw9yWSySnIAwDIAhyQdBnCiUql8ns1md5M8JWnV1NTU83HIW5i1ArlczkkmkzslvQpgGclzJJ8eHx8/nk6nz5LsrVQqPwOA67qPkPyK5J8TExO3nTx5cmqh5LNWwHXdzmQy+Z2kvSTbALw/OTnZ4fu+n06nHwcw0iIHgDAMvwHwm6Sbm+9j4WoXdHV1JbPZ7C5JuyS1AfjVWrspDMOvWz4k11trr+lzz/Metdbe2noP4OM4AgwA5PP51ZlMZkRSP8kkgHeNMR1R8ibuJ3k8arDWbmytJT0QhxxoVsAY8wmADpJnAGwKguDYbM6SVmSz2bMzzL2R9YpFCSC5UhIkHWk0GtWYOW6JrOsAUCgUBABBEHCuZwB0AEDSAIA9APY4jrPB87zNvu//MJOJ5PlarXY7gJ8i5gsAWnvgfJSohbmeTdOwV9J6kucAdEkaKRaLA93d3ctnaBiR9OAMUdGKjcwUPR+utmEYhuV6vX4vgLclGUkvp9PpU57n5Vs+ksokr2k1kh9G1l/GFTDrQeS67lpjzEFJnSQl6Ugikdhx6dKlqZkHked5eWttuGQHEQCEYfh9rVbrIrkbwN8AnrLWjqZSqQ0A9kvaBwClUqlN0lvNsP1xyOesQBTNu/8AgNbEUwaw2lq70xizVtJLAH65fPlyZ1wBC7oNW0KLxeImAG9KygCYBCCSKQANST1BEMTegPPehlHfSqVyqF6v303yUwApAGkAFyW9sxjyFhY1khWLxccAvCdpBf4bTAYcx9lXLpevxMkT5xP8D319fTc1Go03JG0BYEiettZuDsPw+LzBSyGgBc/zeiQdkLSm2bIfAHglCIKLCxFwwz8mvu9XM5nMfST7JdUBbAEw6nnegmaDG65AFK7rriF5AM1xHcCTQRAcvZ7/klQgijAMR3t7ex8CsBXAt8aY0/PF/AtSQxAe5cGxZwAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeview}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"text_building_details\")))]),_c('v-spacer'),_c('v-toolbar-items',[(_vm.loading)?_c('v-progress-circular',{key:_vm.loading,staticStyle:{\"width\":\"25px\",\"height\":\"25px\",\"margin-right\":\"15px\",\"margin-top\":\"20px\"},attrs:{\"indeterminate\":\"\",\"color\":\"white\"}}):_vm._e(),_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.reloadview}},[_vm._v(\" Reload \")])],1)],1),_c('v-container',{staticStyle:{\"align-items\":\"left\",\"background-color\":\"white\",\"border\":\"0px\",\"margin\":\"0px\"},attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-card',{staticClass:\"pa-2\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"10px\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',{staticStyle:{\"max-width\":\"350px\"}},[_c('v-list-item-title',{staticClass:\"title\",domProps:{\"textContent\":_vm._s(_vm.buildingName)}}),_c('v-list-item-subtitle',{staticClass:\"uri\",domProps:{\"textContent\":_vm._s(_vm.buildingURI)}}),_c('v-simple-table',{staticClass:\"simpletable\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',[_c('b',[_vm._v(\"Matrikkelnr:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingNum))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Byggeår:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingYear))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Bygningstype:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingType))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Vernestatus:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingProtectionStatus))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Adresse:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingAddress))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Nettoareal:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingNetArea))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Bruttoareal:\")])]),_c('td',[_vm._v(_vm._s(_vm.buildingGrossArea))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Antall etasjer:\")])]),_c('td',[_vm._v(_vm._s(_vm.numberofstoreys))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Antall rom:\")])]),_c('td',[_vm._v(_vm._s(_vm.numberOfRooms))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Driftsansvarlig:\")])]),_c('td',[_vm._v(_vm._s(_vm.operationsManager))])])])]},proxy:true}])})],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"100\"}},[_c('img',{attrs:{\"src\":require(\"../assets/building2.png\")}})])],1)],1),_c('v-card',{staticClass:\"pa-2\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"0px\"}},[_c('v-img',{attrs:{\"src\":_vm.buildingImage,\"height\":\"250\",\"max-width\":\"495px\"}}),_c('div',{staticClass:\"mapouter\"},[_c('div',{staticClass:\"gmap_canvas\"},[_c('iframe',{attrs:{\"width\":\"495\",\"height\":\"250\",\"id\":\"gmap_canvas\",\"src\":\"https://maps.google.com/maps?q=Helgelandsykehuset%20mo&t=&z=15&ie=UTF8&iwloc=&output=embed\",\"frameborder\":\"0\",\"scrolling\":\"no\",\"marginheight\":\"0\",\"marginwidth\":\"0\"}})])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar\n      dark\n      color=\"primary\"\n    >\n      <v-btn\n        icon\n        dark\n        @click=\"closeview\"\n      >\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n      <v-toolbar-title>{{ $t(\"text_building_details\")}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n        <v-progress-circular v-if=\"loading\" :key=\"loading\" style=\"width: 25px; height: 25px; margin-right: 15px; margin-top: 20px;\" indeterminate color=\"white\"></v-progress-circular>\n        <v-btn\n          dark\n          text\n          @click=\"reloadview\"\n        >\n          Reload\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n\n    <v-container style=\"align-items: left; background-color: white; border: 0px; margin: 0px;\" fluid>\n      <v-row no-gutters>\n      <v-card class=\"pa-2\" style=\"margin-bottom: 10px; margin-right: 10px;\">\n          <v-list-item three-line>\n            <v-list-item-content style=\"max-width: 350px;\">\n              <v-list-item-title class=\"title\" v-text=\"buildingName\"></v-list-item-title>\n              <v-list-item-subtitle class=\"uri\" v-text=\"buildingURI\"></v-list-item-subtitle>\n              <v-simple-table dense class=\"simpletable\">\n                <template v-slot:default>\n                  <tbody>\n                    <tr>\n                      <td><b>Matrikkelnr:</b></td>\n                      <td>{{ buildingNum }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Byggeår:</b></td>\n                      <td>{{ buildingYear }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Bygningstype:</b></td>\n                      <td>{{ buildingType }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Vernestatus:</b></td>\n                      <td>{{ buildingProtectionStatus }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Adresse:</b></td>\n                      <td>{{ buildingAddress }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Nettoareal:</b></td>\n                      <td>{{ buildingNetArea }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Bruttoareal:</b></td>\n                      <td>{{ buildingGrossArea }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Antall etasjer:</b></td>\n                      <td>{{ numberofstoreys }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Antall rom:</b></td>\n                      <td>{{ numberOfRooms }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Driftsansvarlig:</b></td>\n                      <td>{{ operationsManager }}</td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </v-list-item-content>\n\n            <v-list-item-avatar\n              tile\n              size=\"100\"\n            ><img src='../assets/building2.png'>\n            </v-list-item-avatar>\n          </v-list-item>\n        </v-card>\n        <v-card class=\"pa-2\" style=\"margin-bottom: 10px; margin-right: 0px\">\n          <v-img\n            :src=\"buildingImage\"\n            height=\"250\"\n            max-width=\"495px\"\n          ></v-img>\n          <div class=\"mapouter\"><div class=\"gmap_canvas\"><iframe width=\"495\" height=\"250\" id=\"gmap_canvas\" src=\"https://maps.google.com/maps?q=Helgelandsykehuset%20mo&t=&z=15&ie=UTF8&iwloc=&output=embed\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\"></iframe></div></div>\n        </v-card>\n        </v-row>\n    </v-container>\n      \n   </v-card>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\n//const Comunica = require('@comunica/actor-init-sparql-rdfjs');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport bmu from './BIMviewer-utils.js';\nimport so from './util-s.js';\nimport ur from './util-rdf.js';\nrequire('./tailwind.min.css');\n\nconst bd = {}\n\nexport default {\n  id: bd,\n  name: 'BuildingDetails',\n  data() {\n    return {\n      documenturl: '',\n      buildingURI: \"\",\n      buildingName: \"\",\n      buildingNum: \"\",\n      buildingYear: \"\",\n      buildingType: \"\",\n      buildingImage: \"\",\n      buildingProtectionStatus: \"\",\n      buildingAddress: \"\",\n      buildingNetArea: \"\",\n      buildingGrossArea: \"\",\n      numberofstoreys: \"\",\n      numberOfRooms: \"\",\n      operationsManager: \"\",\n      loading:false,\n    }\n  },\n  methods: {\n    closeview(){\n      console.log(\"Close view\");\n      store.state.cp.buildingDetailURI = \"\";\n      this.buildingURI = \"\";\n      this.buildingName = \"\";\n      this.buildingNum = \"\";\n      this.buildingYear = \"\";\n      this.buildingType = \"\";\n      this.buildingProtectionStatus = \"\";\n      this.buildingAddress = \"\";\n      this.buildingNetArea = \"\";\n      this.buildingGrossArea = \"\";\n      this.numberofstoreys = \"\";\n      this.numberOfRooms = \"\";\n      this.operationsManager = \"\";\n    },\n    async getBuildingDetails(){\n      this.loading = true;\n      this.buildingImage = await bmu.downloadImagefromTrinpod(store.state.cp.buildingDetailURI.replace('/i', '/home/IFC/building.jpg'));\n      const jsonURI = store.state.cp.buildingDetailURI.replace(\"/i\", \"/home/IFC/building.json\")\n      const IFCmetadata = await ifcu.getIFCmetaDataFromJson(jsonURI); // Create function for storing in local storage\n      this.buildingURI = store.state.cp.buildingDetailURI;\n      store.state.rs.rdfStore.match($rdf.sym(this.buildingURI), ns.RDFS(\"label\"), null).forEach(st => {\n        if(!st.object==\"\") this.buildingName = st.object;\n      });\n      this.buildingNum = IFCmetadata.matrikkelnr;\n      this.buildingYear = IFCmetadata.buildingYear;\n      this.buildingType = IFCmetadata.buildingType;\n      this.buildingProtectionStatus = IFCmetadata.buildingProtectionStatus;\n      this.buildingAddress = IFCmetadata.buildingAddress;\n      this.buildingNetArea = IFCmetadata.buildingNetArea;\n      this.buildingGrossArea = IFCmetadata.buildingGrossArea;\n      this.numberofstoreys = IFCmetadata.numberofstoreys;\n      this.numberOfRooms = IFCmetadata.numberOfRooms;\n      this.operationsManager = IFCmetadata.operationsManager;\n      this.loading = false;\n    },\n    reloadview(){\n      this.getBuildingDetails();\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n    \"$store.state.cp.buildingDetailURI\": function (val) {\n        this.reloadview();\n    },\n  },\n  mounted(){\n      this.documenturl = this.$route.query.select;\n      if(!this.$route.query.location){\n        this.$router.push({path: this.$route.path, query: {select: this.documenturl} });\n      }\n      this.getBuildingDetails();\n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.title{\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0 0 0;\n  color: #3577cb;\n  font-size: 26px;\n  text-align: left;\n}\n.uri{\n  font-family: Arial, Helvetica, sans-serif;\n  color: #000000;\n  font-size: 12px;\n  text-align: left;\n}\n\n.text{\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: 10px;\n  color: #000000;\n  font-size: 16px;\n  text-align: left;\n}\n.simpletable{\n  max-width: 300px;\n  margin-top: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n  text-align: left;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #000000;\n  font-size: 16px;\n  text-align: left;\n}\n#wrapper {\n  width: 100%;\n  height: 100%;\n}\n#frame {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n  text-align: left;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildingDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildingDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuildingDetails.vue?vue&type=template&id=08fd40eb&scoped=true&\"\nimport script from \"./BuildingDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./BuildingDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuildingDetails.vue?vue&type=style&index=0&id=08fd40eb&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08fd40eb\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VContainer,VIcon,VImg,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VProgressCircular,VRow,VSimpleTable,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","const ifcu = {};\n\nconst $rdf = require('rdflib');\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { GLTFExporter } from \"three/examples/jsm/exporters/GLTFExporter.js\";\nimport store from '../store';\nimport ur from './util-rdf.js';\nimport so from './util-s.js';\nimport a from './util-a.js';\nimport bmu from './BIMviewer-utils.js';\nimport Drawing from 'balazs-dxf-writer';\nimport { \n  BufferAttribute, \n  BufferGeometry, \n  Mesh, \n  Color, \n  Vector3, \n  LineBasicMaterial,\n  MeshBasicMaterial,\n  Line,\n  LineSegments,\n  Shape,\n  ShapeGeometry,\n  LineCurve3\n} from \"three\";\nimport { IfcViewerAPI } from 'web-ifc-viewer';\nlet properties;\n\nifcu.getIFCpropertiesJson = async function(currentURL) {\n  // Getting IFC properties\n  const propurl = currentURL+\"home/IFC/ifc.json\";\n  try {\n    window.solid.session.fetch(propurl, { method: \"GET\", credentials: \"include\" }).then((res) => {\n      res.arrayBuffer().then((filedata) => {\n        let file = new Blob([filedata]);\n        const fr = new FileReader();\n        fr.onload = function() {\n            let jsonResult = JSON.parse(this.result);\n            properties = jsonResult;\n            console.log(\"IFC json result:\");\n            console.log(this.result);\n            return ifcu.constructSpatialTree();\n        };\n        fr.readAsText(file);\n      });\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nifcu.getCirculationCSV = async function(currentURL) {\n  let promise = new Promise((resolve, reject) => {\n    const propurl = currentURL+\"home/IFC/circulation.csv\";\n    try {\n      window.solid.session.fetch(propurl, { method: \"GET\", credentials: \"include\" }).then((res) => {\n        res.arrayBuffer().then((filedata) => {\n          let file = new Blob([filedata]);\n          const fr = new FileReader();\n          fr.onload = function() {\n            resolve(this.result); \n          };\n          fr.readAsText(file);\n        });\n      });\n    } catch (error) {\n      console.log(error);\n      resolve(\"\");\n    }  \n  });\n  return promise;\n}\n\nlet foundObjects = [];\nifcu.clearContainValues = function() { foundObjects = []; }\nifcu.ContainsKeyValue = function( obj, key, value ){\n  //if(obj[key] == value) foundObjects.push(obj);\n  for( let all in obj )\n  {\n      if( obj[all] != null && obj[all][key] == value ){\n          if(obj[all][key] == value) foundObjects.push(obj[all]);\n      }\n      if( typeof obj[all] == \"object\" && obj[all]!= null ){\n          var found = ifcu.checkNestedValues( obj[all], key, value );\n          //if(obj[all][key] == value) foundObjects.push(obj[all]);\n      }\n  }\n  return foundObjects;\n}\n\nifcu.checkNestedValues = function( obj, key, value ){\n  //if(obj[key] === value) foundObjects.push(obj);\n  for( let all in obj )\n  {\n      if( obj[all] != null && obj[all][key] === value ){\n          //if(obj[all][key] === value) foundObjects.push(obj[all]);\n      }\n      if( typeof obj[all] == \"object\" && obj[all]!= null ){\n          var found = ifcu.ContainsKeyValue( obj[all], key, value );\n          if(obj[all][key] === value) foundObjects.push(obj[all]);\n      }\n  }\n  return foundObjects;\n}\n\nvar searchObject = function (object, matchCallback, currentPath, result, searched) {\n  currentPath = currentPath || '';\n  result = result || [];\n  searched = searched || [];\n  if (searched.indexOf(object) !== -1 && object === Object(object)) {\n      return;\n  }\n  searched.push(object);\n  if (matchCallback(object)) {\n      result.push({path: currentPath, value: object});\n  }\n  try {\n      if (object === Object(object)) {\n          for (var property in object) {\n              if (property.indexOf(\"$\") !== 0) {\n                  //if (Object.prototype.hasOwnProperty.call(object, property)) {\n                      searchObject(object[property], matchCallback, currentPath + \".\" + property, result, searched);\n                  //}\n              }\n          }\n      }\n  }\n  catch (e) {\n      console.log(object);\n      throw e;\n  }\n  return result;\n}\n\nifcu.getIFCmetaDataFromJson = async function(JSONuri){\n  let promise = new Promise((resolve, reject) => {\n    if (window.solid.session.info.isLoggedIn){\n      try {\n        window.solid.session.fetch(JSONuri, { method: \"GET\", credentials: \"include\" }).then((res) => {\n          res.arrayBuffer().then((filedata) => {\n            let file = new Blob([filedata]);\n            const fr = new FileReader();\n            fr.onload = function() {\n              try{\n                let jsonResult = JSON.parse(this.result);\n                console.log(jsonResult);\n                resolve(jsonResult);\n              } catch(error) {\n                console.log(error);\n                resolve(\"\");\n              }\n            };\n            fr.readAsText(file);\n          });\n        });\n      } catch (error) {\n        console.log(error);\n        resolve(\"\");\n      }\n    } else {\n      // Get local file\n      const jsonFile = require('../assets/building.json');\n      resolve(jsonFile);\n    }\n  });\n  return promise;\n}\n\nifcu.getPropertySets = function(expressID) {\n  let propItem = searchObject(store.state.bv.IFCPropertyJson, function (value) { return value != null && value != undefined && value.expressID == expressID; })\n  propItem = propItem[0].value;\n  console.log(\"Name: \"+propItem.Name);\n  console.log(\"Type: \"+propItem.type);\n  console.log(\"Tag: \"+propItem.Tag);\n  console.log(\"GlobalId: \"+propItem.GlobalId);\n  console.log(\"OverallHeight: \"+propItem.OverallHeight);\n  console.log(\"OverallWidth: \"+propItem.OverallWidth);\n}\n\n\n\nifcu.constructSpatialTree = async function(){\n  const ifcProject = getFirstItemOfType('IFCPROJECT');\n\n  // Creating Project Node\n  const ifcProjectNode = {\n      expressID: ifcProject.expressID,\n      type: 'IFCPROJECT',\n      children: [],\n  };\n\n  const relContained = getAllItemsOfType('IFCRELAGGREGATES');\n  const relSpatial = getAllItemsOfType('IFCRELCONTAINEDINSPATIALSTRUCTURE');\n\n  await constructSpatialTreeNode(\n      ifcProjectNode,\n      relContained,\n      relSpatial,\n  );\n  store.state.bv.IFCPropertyJson = ifcProjectNode;\n  return ifcProjectNode;\n}\n\n// Utils functions\nfunction getFirstItemOfType(type) {\n  return Object.values(properties).find(item => item.type === type);\n}\n\nfunction getAllItemsOfType(type) {\n  return Object.values(properties).filter(item => item.type === type);\n}\n\n// Recursively constructs the spatial tree\nasync function constructSpatialTreeNode(\n  item,\n  contains,\n  spatials,\n) {\n  const spatialRels = spatials.filter(\n      rel => rel.RelatingStructure === item.expressID,\n  );\n  const containsRels = contains.filter(\n      rel => rel.RelatingObject === item.expressID,\n  );\n\n  const spatialRelsIDs = [];\n  spatialRels.forEach(rel => spatialRelsIDs.push(...rel.RelatedElements));\n\n  const containsRelsIDs = [];\n  containsRels.forEach(rel => containsRelsIDs.push(...rel.RelatedObjects));\n\n  const childrenIDs = [...spatialRelsIDs, ...containsRelsIDs];\n\n  const children = [];\n  // Looping through the child elements and creating populating values for it\n  for (let i = 0; i < childrenIDs.length; i++) {\n      const childID = childrenIDs[i];\n      const props = properties[childID];\n      let child = {};\n      const childkeys = Object.keys(props);\n      const childvalues = Object.values(props);\n      for (var x = 0; x < childkeys.length; x++) {\n        child[childkeys[x]] = childvalues[x];\n      }\n      /*const child = {\n          expressID: props.expressID,\n          type: props.type,\n          Name: props.Name,\n          Tag: props.Tag,\n          GlobalId: props.GlobalId,\n          OverallHeight: props.OverallHeight,\n          OverallWidth: props.OverallWidth,\n          children: [],\n      };*/\n\n      // For Every child element repeating the step and pushing it to children array\n      await constructSpatialTreeNode(child, contains, spatials);\n      children.push(child);\n  }\n\n  item.children = children;\n}\n\n\nifcu.getAllSubsetMeshes = function(elementIDs, modelID, ifcLoader) {\n  const meshes = [];\n  const customID = 'temp-gltf-subset';\n\n  for(const elementID of elementIDs) {\n    const coordinates = [];\n    const expressIDs = [];\n    const newIndices = [];\n\n    const alreadySaved = new Map();\n\n    // Get the subset for the wall\n\n    const subset = ifcLoader.ifcManager.createSubset({\n        ids: [elementID],\n        modelID,\n        removePrevious: true,\n        customID\n    });\n\n    // Subsets have their own index, but share the BufferAttributes \n    // with the original geometry, so we need to rebuild a new \n    // geometry with this index\n\n    if (!subset.geometry.index) throw new Error('Geometry must be indexed!');\n\n    const positionAttr = subset.geometry.attributes.position;\n    const expressIDAttr = subset.geometry.attributes.expressID;\n\n    const newGroups = subset.geometry.groups.filter((group) => group.count !== 0);\n    const newMaterials = [];\n    const prevMaterials = subset.material;\n    let newMaterialIndex = 0;\n    newGroups.forEach((group) => {\n      newMaterials.push(prevMaterials[group.materialIndex]);\n      group.materialIndex = newMaterialIndex++;\n    });\n\n    let newIndex = 0;\n    for (let i = 0; i < subset.geometry.index.count; i++) {\n      const index = subset.geometry.index.array[i];\n\n      if (!alreadySaved.has(index)) {\n        coordinates.push(positionAttr.array[3 * index]);\n        coordinates.push(positionAttr.array[3 * index + 1]);\n        coordinates.push(positionAttr.array[3 * index + 2]);\n\n        expressIDs.push(expressIDAttr.getX(index));\n        alreadySaved.set(index, newIndex++);\n      }\n\n      const saved = alreadySaved.get(index);\n      newIndices.push(saved);\n    }\n\n    const geometryToExport = new BufferGeometry();\n    const newVerticesAttr = new BufferAttribute(Float32Array.from(coordinates), 3);\n    const newExpressIDAttr = new BufferAttribute(Uint32Array.from(expressIDs), 1);\n\n    geometryToExport.setAttribute('position', newVerticesAttr);\n    geometryToExport.setAttribute('expressID', newExpressIDAttr);\n    geometryToExport.setIndex(newIndices);\n    geometryToExport.groups = newGroups;\n    geometryToExport.computeVertexNormals();\n\n    const mesh = new Mesh(geometryToExport, newMaterials);\n    \n    meshes.push(mesh);\n  }\n\n  ifcLoader.ifcManager.removeSubset(modelID, undefined, customID);\n  return meshes;\n}\n\nifcu.createFloorplan = async function(storeynumber = 1, IFCuri, buildingTag){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  const container = document.createElement('div');\n  let viewer = new IfcViewerAPI({ container, backgroundColor: new Color(0xffffff) });\n  await viewer.IFC.loader.ifcManager.useWebWorkers(true, '../IFCWorker.js');\n  await viewer.IFC.setWasmPath('../');\n  this.ifcloading = true;\n  try {\n    const res = await window.solid.session.fetch(IFCuri, { method: \"GET\", credentials: \"include\" });\n    console.log(res);\n    let filedata = await res.arrayBuffer();\n    let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n    const ifcModel = await viewer.IFC.loadIfcUrl(fileurl);\n    console.log(\"Model is loaded..\");\n    // Setup camera controls\n    const controls = viewer.context.ifcCamera.cameraControls;\n    controls.setPosition(7.6, 4.3, 24.8, false);\n    controls.setTarget(-7.1, -0.3, 2.5, false);\n\n    // Generate all plans\n    console.log(\"Starting to generate all plans..\")\n    await viewer.plans.computeAllPlanViews(ifcModel.modelID);\n\n    const lineMaterial = new LineBasicMaterial({ color: 0x000000 });\n    const baseMaterial = new MeshBasicMaterial({\n      polygonOffset: true,\n      polygonOffsetFactor: 1, // positive value pushes polygon further away\n    });\n    console.log(\"Creating edges\");\n    await viewer.edges.create('example', ifcModel.modelID, lineMaterial, baseMaterial);\n\n    const allPlans = viewer.plans.getAll(ifcModel.modelID);\n    console.log(\"Printing the plan:\");\n\n    viewer.dxf.initializeJSDXF(Drawing);\n    const ifcProject = await viewer.IFC.getSpatialStructure(ifcModel.modelID);\n    const storeys = ifcProject.children[0].children[0].children;\n    for (let storey of storeys) {\n      for (let child of storey.children) {\n        if (child.children.length) {\n          storey.children.push(...child.children);\n        }\n      }\n    }\n    let plan = allPlans[storeynumber];\n    const currentPlan = viewer.plans.planLists[ifcModel.modelID][plan];\n\n    let floorTag = buildingTag;\n    const IFCmetadata = await ifcu.getIFCmetaDataFromJson(IFCuri.replace(\".ifc\", \".json\"));\n    for(const [key, value] of Object.entries(IFCmetadata.storeys)) {\n      if(value==currentPlan.name) floorTag = buildingTag+key;\n    }\n    console.log(floorTag);\n\n    const storey = storeys.find(storey => storey.expressID === currentPlan.expressID);\n    await ifcu.drawProjectedFloorplanItems(storey, currentPlan, ifcModel.modelID, viewer, 0, floorTag);\n    viewer.dispose();\n    viewer = null;\n    this.ifcloading = false;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\nifcu.createPolygon = function( polyArray ) {\n  const polyShape = new Shape();\n  var i = 0;\n  while (polyArray.length > 1) {\n    const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n    const x = (polyXYZ[0]);\n    const y = (polyXYZ[2]);\n    if(i == 0){\n      polyShape.moveTo( x, y, 1 );\n      i = i+1;\n    } else {\n      polyShape.lineTo( x, y, 1 );\n    }\n  }\n  polyShape.autoClose = true;\n  var geometry = new ShapeGeometry( polyShape );\n  var material = new MeshBasicMaterial( {\n      color: 0xCCCCCC\n  } );\n  const mesh = new Mesh(geometry, material);\n  return mesh;\n}\n\nifcu.drawProjectedFloorplanItems = async function(storey, plan, modelID, viewer, planheight = 0, floorTag) {\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  const dummySubsetMat = new MeshBasicMaterial({visible: false});\n  // Create a new drawing (if it doesn't exist)\n  if (!viewer.dxf.drawings[plan.name]) viewer.dxf.newDrawing(plan.name);\n\n  // Get the IDs of all the items to draw\n  const ids = storey.children.map(item => item.expressID);\n\n  // If no items to draw in this layer in this floor plan, let's continue\n  if (!ids.length) return;\n\n  // If there are items, extract its geometry\n  const subset = viewer.IFC.loader.ifcManager.createSubset({\n    modelID,\n    ids,\n    removePrevious: true,\n    customID: 'floor_plan_generation',\n    material: dummySubsetMat,\n  });\n\n  // Get the projection of the items in this floor plan\n  const filteredPoints = [];\n  const edges = await viewer.edgesProjector.projectEdges(subset);\n  const positions = edges.geometry.attributes.position.array;\n\n  // Lines shorter than this won't be rendered\n  const tolerance = 0.01;\n  for (let i = 0; i < positions.length - 5; i += 6) {\n\n    const a = positions[i] - positions[i + 3];\n    // Z coords are multiplied by -1 to match DXF Y coordinate\n    const b = -positions[i + 2] + positions[i + 5];\n\n    const distance = Math.sqrt(a * a + b * b);\n\n    if (distance > tolerance) {\n      filteredPoints.push([positions[i], -positions[i + 2], positions[i + 3], -positions[i + 5]]);\n    }\n\n  }\n  const floorplanMeshArray = [];\n\n  //const pointsArray = [];\n  const materialBlack = new LineBasicMaterial({ color: 0x000000, linewidth: 3 });\n  for (let i = 0; i < filteredPoints.length; i++) {\n    const polygon = filteredPoints[i];\n    const points = [];\n    for (let j = 0; j < polygon.length - 3; j += 2) {\n        points.push( new Vector3( polygon[j], planheight+10, -polygon[j + 1] ) );\n        points.push( new Vector3( polygon[j + 2], planheight+10, -polygon[j + 3] ) );\n    }\n    /*points.forEach(point => {\n      pointsArray.push(point.x);\n      pointsArray.push(point.y);\n      pointsArray.push(point.z);\n    });*/\n    const geometry = new BufferGeometry().setFromPoints( points );\n    const line = new Line( geometry, materialBlack );\n    floorplanMeshArray.push(line);\n  }\n\n  // Create background object\n  /*console.log(\"Pointarray\")\n  console.log(pointsArray);\n  const backgroundMesh = ifcu.createPolygon(pointsArray);\n  console.log(backgroundMesh);\n  floorplanMeshArray.push(backgroundMesh);\n  buildingbox.add(backgroundMesh);*/\n\n  // Draw the projection of the items\n  viewer.dxf.drawEdges(plan.name, filteredPoints, 'Projection', Drawing.ACI.BLUE, 'CONTINUOUS');\n  //console.log(\"Edges:\")\n  //edges.geometry = edges.geometry.translate(0, planheight+10, 0);\n  //floorplanMeshArray.push(edges);\n\n  // Clean up\n  edges.geometry.dispose();\n\n  // Draw all sectioned items. thick and thin are the default layers created by IFC.js\n  viewer.dxf.drawNamedLayer(plan.name, plan, 'thick', 'Section', Drawing.ACI.RED, 'CONTINUOUS');\n  viewer.dxf.drawNamedLayer(plan.name, plan, 'thin', 'Section_Secondary', Drawing.ACI.CYAN, 'CONTINUOUS');\n\n  const materialBlue = new LineBasicMaterial({ color: 0x4444ff, linewidth: 3 });\n  const materialRed = new LineBasicMaterial({ color: 0xFF5555, linewidth: 3 });\n  console.log(\"Creating first Sections..\");\n  const points = [];\n  viewer.dxf.drawings[plan.name].layers['Section'].shapes.forEach(shape => { // Shape is only line points. Not of type line Espen.\n    points.push( new Vector3( shape.x1, planheight+10, -shape.y1 ) );\n    points.push( new Vector3( shape.x2, planheight+10, -shape.y2 ) );\n  });\n  const geometry = new BufferGeometry().setFromPoints( points );\n  const line = new LineSegments( geometry, materialBlue );\n  floorplanMeshArray.push(line);\n  console.log(\"Creating secondary Sections..\");\n  const points2 = [];\n  viewer.dxf.drawings[plan.name].layers['Section_Secondary'].shapes.forEach(shape => { // Shape is only line points. Not of type line Espen.\n    points2.push( new Vector3( shape.x1, planheight+10, -shape.y1 ) );\n    points2.push( new Vector3( shape.x2, planheight+10, -shape.y2 ) );\n  });\n  const geometry2 = new BufferGeometry().setFromPoints( points2 );\n  const line2 = new LineSegments( geometry2, materialRed );\n  floorplanMeshArray.push(line2);\n  console.log(\"Adding to buildingbox..\");\n  //floorplanMesh.scale.set(store.state.bv.scaleFactor, store.state.bv.scaleFactor, store.state.bv.scaleFactor);\n  //buildingbox.add(floorplanMesh);\n\n  // Download the generated floorplan in GLTF format\n  const filename = floorTag+\".FLOORPLAN.gltf\";\n  const exporter = new GLTFExporter();\n  const options = {\n    trs: false,\n    onlyVisible: true,\n    truncateDrawRange: true,\n    binary: true,\n    maxTextureSize: 0,\n    forceIndices: false,\n  };\n  exporter.parse( floorplanMeshArray , function ( gltf ) {\n    console.log( gltf );\n    const file = new File([new Blob([gltf])], filename);\n    const link = document.createElement('a'); \n    document.body.appendChild(link);\n    link.href = URL.createObjectURL(file);\n    link.download = filename;\n    link.click();\n  }, options );\n\n  // Download the generated floorplan in DXF format\n  const result = viewer.dxf.exportDXF(plan.name);\n  const link = document.createElement('a');\n  link.download = floorTag+\".FLOORPLAN.dxf\";\n  link.href = URL.createObjectURL(result);\n  document.body.appendChild(link);\n  link.click();\n  link.remove();\n}\n\nifcu.rotateRadians = function(cx, cy, x, y, radians) {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n  const nx = (cos * (x - cx)) + (sin * (y - cy)) + cx;\n  const ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n  return [nx, ny];\n}\n\nifcu.getAngleRadians = function(fromX,fromY,toX,toY) {\n  let deltaX = fromX - toX;\n  let deltaY = fromY - toY;\n  let radians = Math.atan2(deltaY, deltaX)\n  return radians;\n}\n\nifcu.v3cross = function(v1, v2){\n  let v3 = {x:0,y:0,z:0};\n  v3.x = (v1.y*v2.z)-(v1.z*v2.y);\n  v3.y = (v1.z*v2.x)-(v1.x*v2.z);\n  v3.z = (v1.x*v2.y)-(v1.y*v2.x);\n  return v3;\n}\n\nexport default ifcu;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVRIie2WQQ7AIAgEoenTeLZ/s3e7CFotTQpHA+64CpFrrRQZR6h6AiRAAnwB4ESLzExERCJym1KlFG7XUJ5W0w4+1QFtU0tstAYCWCIrIVxvANlu5XuvCr6BUcEeiOVWeBe4ANpTrHLIBbBT3ATYLd4FWCHuaVfYBU+BNGFUMzWIZkIDfqUNe25x/ooTIAF+D3ABTaRKnPCMoYYAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"img/osv-logo.13d5ae64.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=efa949b2&prod&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACI0lEQVRIie2Wv2sUQRzF3xt2uxBiI/5A0MI6zdmkOrJzgeMKGys9FIzgiY2VjT+K+KOwEguVQFJIcpWNIITszZ3XmMb8BTYKGnOVhGB1t+yzSSDZrJvbSw6be+XszHuPL58ZlhhQ1tqbJOckEcAj59ziID7Me6BSqZzodrvzkq7sMyLfG2Nur66u/h5aAWttEcA7AOcAbBtj7sZxLACvAYwD+AHgunOufawFCoWCPzExMQfgPgBDco1kNQzDbwAwMzNzQdKSpCkAMYAXW1tbj9fX13tHLlAqlS4CWJZ0iWQk6XkURU/a7Xa0d1+xWPQ8z3tI8oEkj+QXSVXn3NeBCwRBMGuMeSlpDMB3Y0w1DMPPWWemp6enjDHLAM6T/BPH8b1ms7mQq0AKaHXf9++srKxsZ4Xvqlwuj/d6vTcArgLZgB4okAZaGIZL/QSneF3DHkAl3Wg2m59SCxwG2qA6DFACqaA9i6LoaRK0QZUFKK21l0ku5QFtUCUBlVQ1AF7thNd9358cVjgAtFqtNd/3JwHUJY2RfMtSqfRT0tnkZudc7mc6S9ZaJddIbhhJNQCbxxnWpzYl1Tzn3EcAZ3ZX05oep5KTNcMM60dens1BEJRJLgA4nfadZEdSzTn3oV/PXBPICgcASacAzOfxzDWB3fB/3ZAdfk7mMfzvDIwKjAqMCowKpP2U/kLGc3ukMLLTaDT2eR+YAMlbJDtDCN8AMJtc/wu6SQrbwpZPHAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAADdElEQVRIie2XTWhcVRSAv/NynQSVJm1ApOqmUVeJyU4pilPefRmhULH4gz+1pS3FTRe6koIQEAouFEEXCqJSCagj+BND48x9wywSoRYhM6Yb0UIXIi3FppRJnMzMOy56R0MZZqbT1LjwbM7lnPPO+bjncO99oqpspgSbWv2/AGDaOa21u4IgOKGqfcDrzrn3gJ571qrd0m4GoigqA2PrTHGSJIcKhcK5jQJo2wIR2er1yyJyHgiDIChba48A0gvEdQGoatkvz9ZqtVHgc2AL8L61di6TydxzUwFEpORBHigWixedc8+IyNPABWCy0WgshWF46KYBqGrJg4w3bfl8PhsEwZiIfAFsEZEPoig6GYbhXRsOkCTJogeZWG/P5XIX8vn8U6r6rIhcVNXHROTM5OTkgQ0FGB4e/gVYAXak0+nbr/XHcfxpkiSjwJfAYJIkH1lrv42iaPuGAGSz2YaILAGBMWasVUwcx+edc3uBF4A/gN2quhRF0b4bBvCy6PVEuyDn3LQxZhT4BtiqqiestV+n0+k7bwhARMpej3eKnZub+90597iIvAhcAvYYY85Ya5/rGQC/A6raEaAp+Xz+E1UdA2aBbcC0tfaVngAqlUpZRBQYm5qa6vryiuP4t3q9foCrhxdAy5loexkBLCwsXImi6CwwMj8/fy/wc6u4dDptUqnUaJIkO4GHRORBVb2/6ReRUz0BwN8H0oifg5YAxph3kiR5ad03ABUROQ3ka7XaWz0DiEhJVff6Ocg27ZlMZlsqlfpzZmZmpb+//1i1Wt0DbAe+C4Lg1bW1taVisVhvl7urnrY6kgEajcabq6urxwFmZ2cvqeph73q4Xq9f6VS8awBjTMkvJ5q2MAx3ich+4GgYho8AxHF8EvgYuC0Igg+7Gdq2DxKRf658a+0yMNjX1zdcrVZXjDFl4D4f96uIjOdyuYq1dlBEllT1blV9Io7jr5o5rvtBco0s+iQTxpjXfPES8KOqjqjqcR+3g6v3ByJyR6ekXQ2hT1ZS1UdV9XkR2aeqDVU9IiKrwGngqLX2VhHZr6q3eODPOuXtegdU9ZTXB32Bd+M4/sE59xMwpaoCHPYP2LcrlcpO59zlTnm73oHl5eXs0NDQbuBJEckNDAwca/qcc29Yay+LyGij0ZguFArfd5u37RD+G7LpPyb/A/wF6++ANCz/dI4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFiElEQVRIieWXbUxTVxjH/+f2ZRQVpQRSJCECkolxGjZgmGIQdm4LncSkCQsDRRb9ypaYkPmypFfjJ0MWEpqZLPMDjsUPxMVsw5K2YGNtNnkxyAgqZBJxgBRSaBDK6OU++6CwCQwsZvPDnuR+uOee8z+/nOec/3kuIyK8yRDe6OwA1ADAGIt4oCiKFgAfAOgGkAnA7XK5bkSiQUTPATYSRPSNIAjpTqdzxmQyfa8oygCA7ZHqvE4KEonow9LSUi0RWQAkbkSEEVFEKSgpKYkOhUIGAL8t/ybLss7j8cy9qhYRrQ0gSZLg9XqNjLF8ALkAMrVa7fbY2FhlbGxsxepptVplfn5+CMBDAHcEQWjdunWrr6mpaSEiAM55MoBqxtjHaWlpSdnZ2di9ezdSU1ORkJAAABBFcYWgy+WC3+/Ho0eP0NfXh66uLurv7x8F8C0R1be2tg6vCZCVlaXZtm2bTafT1RQVFWkOHTqE5OTkJbpwOIzR0VE8ffqUzp49u2LZLl++jMTERGg0mqW2x48f48aNG4rD4fgjFAp9KcvyhcU0vQRgMpkSFEX5IS8v7/3q6mro9XoQEXp7e+H1eqmnpweDg4NzRDRIRE8AmJcDMMb6AKSlpKS8tW/fPhw4cAB79uwBYwyBQAB2ux1er7dLEASL0+n0LwEUFBREaTQaX0VFxbvHjh0DEaGtrQ1XrlxZGB0dvUdETYIguAKBQE9nZ2f4RZpWWKjb7WalpaWqqampTEVRChljHxkMhsyqqiqhsLAQjDE0NDRQY2PjPVmW99+8eXMORATO+SlJkhQiolAoRKdPnybO+S8mk8m42uZZBFj+rNbPZDIZOec/nzlzZiEUChERkSRJCuf8FBE99wHG2Cfl5eUMAOx2Ozo7OxtkWc5zOp2+fwJ41XA6nb7Y2Ni8jo6ORrvdrgBAeXk5Y4xVAX8ZUWpKSgoAwOfzQa1Wf+rxeOTXnXwxmpqaFsLh8Gcej4cAYMeOHQCQugRAROMTExMAgLS0NITD4aq1BIuLi2MihdBqtRXp6ekqABgfHweAsSUAANebm5sBACdPnkR8fHwd57zWaDRuWU1MluVrBQUF4JyvO7HRaNwiiuLF+Pj4+pqaGgCAw+EAEf0I4PlZLCoqSjSbzf6Ojg4iIpqcnKTa2loSRTHAOa8VRTFLkqQl5xNFcTYYDBIRkdvtJovFsmITiqKYwTn/ymw2T9XV1dH09DQREd29e5csFotfFMXtL/kA53y/RqP56cSJE/rDhw9DpVJhZGQELpcLt2/fxtDQUJCI2omoH4AlIyMjxWazIS4uDgMDA7DZbJiYmLhgNBptPp8vR6fT3bJarRqz2QyDwQAiQnNzMy5dujQpy3Kx0+m8s8IJX1jwdzt37sw7cuQIcnNzoVKpAADBYBADAwMYGRnB2NgYZmZmoNPpUFlZCZ1Oh2AwiHPnzqG3t/drIgocPXr0VGVlJYgI7e3taGxsxIMHD3yKohxva2t7uLj6q90FTBTFEgBf6PX67Pz8fGRmZmLv3r2Ijo5eM9/Pnj2D1WqdY4yZY2JiWnNyctTd3d3w+/2djLGLRqPxmiRJymL/dW/DwsLCt1UqVRkRiYIgvGcwGKKSkpKg1+sRFRWFmJgYWK1WbN68GbIso76+Hg6Ho8XlchVzzt8hohzGWLvb7f51Nf11Af4eBw8eVKvV6lQAyYyxz+Pi4rjNZsOuXbsQCARw/vx59PX1XZ+dna30+XzT6wq+AMBGqmLOeWB4eJiIiO7fv09lZWWLpyCi4vJ1asKHLS0tuZs2bUJDQwPC4fCSZqRCGwKQZbn06tWrTzYydnlsqCj1eDy/A5hf1rxq2fWvAAAAY+zWsnfvfwpARMcZY24AM4wx98LCQtVGdNj//t/wTw8Dv17hrYAZAAAAAElFTkSuQmCC\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('TrinityLogin',{attrs:{\"msg\":\"Page with login button\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginwrapper\"},[_c('div',{staticClass:\"loginview\"},[_c('ul',[_c('v-container',{attrs:{\"center\":\"\"}},[_c('br'),_c('v-img',{attrs:{\"contain\":\"\",\"lazy-src\":require(\"./img/osv-logo.png\"),\"max-height\":\"80\",\"src\":require(\"./img/logo.svg\")}}),_c('br')],1),(_vm.progressvisible)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e(),_c('div',[(!_vm.progressvisible)?_c('v-btn',{attrs:{\"color\":\"primary\",\"levation\":\"2\",\"large\":\"\",\"name\":\" btnLogin\"},on:{\"click\":_vm.triggerlogin}},[_vm._v(_vm._s(_vm.loginButtonText))]):_vm._e()],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"loginwrapper\">\n    <div class=\"loginview\">\n          <ul>\n            <v-container center>\n          <br><v-img contain lazy-src=\"./img/osv-logo.png\" max-height=\"80\" src=\"./img/logo.svg\"/><br>\n        </v-container>\n        <v-progress-circular v-if=\"progressvisible\" indeterminate color=\"primary\"></v-progress-circular>\n          <div>\n            <v-btn v-if=\"!progressvisible\" color=\"primary\" levation=\"2\" large name=\" btnLogin\" @click=\"triggerlogin\">{{ loginButtonText }}</v-btn>\n          </div>\n          <!--<router-link to=\"/feedback\">Feedback</router-link>-->\n          </ul>\n    </div>\n  </div>\n</template>\n\n<script>\n\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport moment from 'moment';\nimport so from './util-s.js';\n\nlet NOT_ENTERED_WEBID = \"...not logged in yet - but enter any WebID to read from its profile...\";\n\nimport { Session } from '@inrupt/solid-client-authn-browser';\nwindow.solid = {};\nwindow.solid.session = new Session();\nwindow.solidFetcher = window.solid.session.fetch;\n\nvar loginButtonTextString = 'Login';\nvar userTextString = '';\n\nconst l = {}\n\nasync function login() {\n  if (\n    !window.solid.session.info.isLoggedIn &&\n    !new URL(window.location.href).searchParams.get(\"code\")\n  ) {\n    await window.solid.session.login({\n      oidcIssuer: store.state.server,\n      //oidcIssuer: \"https://inrupt.net\",\n      clientName: \"sykehusbygg-new\",\n      redirectUrl: window.location.href\n    }).then((res) => {\n      console.log(\"Logged in..\");\n      store.state.isLoggedIn = true;\n      handleRedirectAfterLogin();\n    });\n  }\n}\n\nasync function handleRedirectAfterLogin() {\n  console.log(\"Handle redirect..\");\n  await window.solid.session.handleIncomingRedirect({\n      url: window.location.href,\n      restorePreviousSession: true\n    })\n      .then(sessionInfo => {\n        l.checkIfLoggedIn(sessionInfo);\n      }).finally(() => {\n        console.log(\"Redirect finished do request here..\");\n      });\n}\n\n// 2. Create the Reading List\nasync function fetchGETURL(webId) {\n  let res = [];\n  try {\n    res = await window.solid.session.fetch(\n      webId, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(res => res.text());\n    return res;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nl.checkIfLoggedIn = async function (sessionInfo){\n  console.log(sessionInfo);\n  if (sessionInfo){\n    if (sessionInfo.isLoggedIn){\n      console.log(\"Is logged in\");\n      loginButtonTextString = 'Log out';\n        store.state.isLoggedIn = true;\n        store.state.webId = sessionInfo.webId;\n        if(store.state.webId.includes(\"https://espen\")) store.state.devMode = true;\n        store.state.loginExpire = moment(sessionInfo.expirationDate).format('MMMM Do YYYY, HH:mm:ss');\n        fetchGETURL(sessionInfo.webId).then((userData) => {\n          var graph = new $rdf.IndexedFormula();\n          $rdf.parse(userData, graph, sessionInfo.webId, 'text/turtle', (err, graph) => {\n            graph.match($rdf.sym(sessionInfo.webId), ns.FOAF(\"name\"), null).forEach(st => {\n              console.log(\"Username: \"+st.object.value);\n              store.state.loggedInName = st.object.value;\n              store.state.loggedInInitials = so.getInitials(st.object.value);\n            });\n          });\n        });\n    } else {\n      console.log(\"Is logged out\");\n      loginButtonTextString = 'Login';\n      store.state.isLoggedIn = false;\n    }\n  } else {\n    loginButtonTextString = 'Login';\n    store.state.isLoggedIn = false;\n    throw console.error(\"Session object is not found!\");\n  }\n}\n\nexport default {\n  l: l,\n  name: 'TrinityLogin',\n  data() {\n    return {\n      progressvisible: true,\n      loggedin: false,\n      loginButtonText: loginButtonTextString,\n      userText: userTextString\n      }\n  },\n  watch: {\n    // watching top-level property\n    loginButtonText(val, oldVal) {\n      console.log(`new: ${val}, old: ${oldVal}`)\n    }\n  },\n  methods: {\n    doRoute(){\n      this.$router.push({ path: '/podselect' })\n      //this.$router.push({ path: '/addcustomer' })\n    },\n    triggerlogin(){\n      this.loginButtonText = 'Logging in, please wait..'; // Does not work\n      login();\n    },\n    checklogin(){\n      console.log(\"SessionInfo:\");\n      console.log(window.solid.session.info);\n      if (window.solid.session.info.isLoggedIn){\n        console.log(\"Test logged in\");\n        this.loginButtonText = \"Log out\";\n        this.doRoute();\n      } else {\n        console.log(\"Test logged out\");\n        this.progressvisible = false;\n        this.loginButtonText = \"Login\";\n      }\n    }\n  },\n  created(){\n      //this.interval = setInterval(() => this.checklogin(), 10000);\n\n      //setTimeout(this.checklogin(), 5000);\n      /*if (window.sessionStorage.getItem(\"trinityToken\")){\n        window.solid.session = JSON.parse(window.sessionStorage.getItem(\"trinityToken\"));\n      }*/\n      //setTimeout(this.doRoute(), 15000);\n  },\n  mounted() {\n    handleRedirectAfterLogin();\n    setTimeout(() => this.checklogin(), 5000);\n  }\n};\n\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 0px 0 0;\n}\nul {\n  float: center;\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrinityLogin.vue?vue&type=template&id=273f54ad&scoped=true&\"\nimport script from \"./TrinityLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./TrinityLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrinityLogin.vue?vue&type=style&index=0&id=273f54ad&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"273f54ad\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VContainer,VImg,VProgressCircular})\n","<template>\n  <div class=\"login\">\n    <TrinityLogin msg=\"Page with login button\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport TrinityLogin from '../components/TrinityLogin.vue'\n\nexport default {\n  name: 'TrinityLog',\n  components: {\n    TrinityLogin\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7b50c09a&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logout\"},[_c('TrinityLogout',{attrs:{\"msg\":\"Page for logging out\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginwrapper\"},[_c('div',{staticClass:\"loginview\"},[_c('ul',[_c('v-container',{attrs:{\"center\":\"\"}},[_c('br'),_c('v-img',{attrs:{\"contain\":\"\",\"lazy-src\":require(\"./img/osv-logo.png\"),\"max-height\":\"80\",\"src\":require(\"./img/logo.svg\")}}),_c('br')],1),(_vm.progressvisible)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"loginwrapper\">\n    <div class=\"loginview\">\n          <ul>\n            <v-container center>\n          <br><v-img contain lazy-src=\"./img/osv-logo.png\" max-height=\"80\" src=\"./img/logo.svg\"/><br>\n        </v-container>\n        <v-progress-circular v-if=\"progressvisible\" indeterminate color=\"primary\"></v-progress-circular>\n          <!--<router-link to=\"/feedback\">Feedback</router-link>-->\n          </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  Session,\n  handleIncomingRedirect,\n  fetch,\n  getDefaultSession,\n  onSessionRestore,\n  logout\n} from '@inrupt/solid-client-authn-browser';\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\n\nwindow.solid = {};\nwindow.solid.session = new Session();\nwindow.solidFetcher = window.solid.session.fetch;\n\nconst lo = {}\n\nexport default {\n  lo: lo,\n  name: 'TrinityLogout',\n  data() {\n    return {\n      progressvisible: true,\n      loggedin: false,\n      }\n  },\n  watch: {\n\n  },\n  methods: {\n    doRoute(){\n      this.$router.push({ path: '/' })\n      //this.$router.push({ path: '/addcustomer' })\n    },\n    logout(){\n      logout().then(() => {\n        window.solid.session.info.isLoggedIn = false;\n        this.doRoute();\n      });\n      //loginCheck(window.solid.session.info);\n      /*if(window.solid){\n        if(window.solid.session){\n          window.solid.session = null;\n        }\n        window.solid = null;\n      }\n      if(window.solidFetcher){\n        window.solidFetcher = null;\n      }*/\n    }\n  },\n  created(){\n\n  },\n  mounted() {\n    this.logout();\n  }\n};\n\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 0px 0 0;\n}\nul {\n  float: center;\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinityLogout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TrinityLogout.vue?vue&type=template&id=6eee5d4f&scoped=true&\"\nimport script from \"./TrinityLogout.vue?vue&type=script&lang=js&\"\nexport * from \"./TrinityLogout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TrinityLogout.vue?vue&type=style&index=0&id=6eee5d4f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6eee5d4f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VContainer,VImg,VProgressCircular})\n","<template>\n  <div class=\"logout\">\n    <TrinityLogout msg=\"Page for logging out\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport TrinityLogout from '../components/TrinityLogout.vue'\n\nexport default {\n  name: 'TrinityLogou',\n  components: {\n    TrinityLogout\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logout.vue?vue&type=template&id=11c7f232&\"\nimport script from \"./Logout.vue?vue&type=script&lang=js&\"\nexport * from \"./Logout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"About\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=7a4e78f5&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('ImportData',{attrs:{\"msg\":\"Show import data form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('br'),_c('font',{attrs:{\"color\":\"#000000\"}},[_vm._v(\"Import data into Hospital Pod\")]),_c('br'),_c('br'),_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_roomfile')))]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-file-input',{attrs:{\"show-size\":\"\",\"counter\":\"\",\"multiple\":\"\",\"accept\":\".csv\",\"label\":\"Room file input\"},model:{value:(_vm.csvFile),callback:function ($$v) {_vm.csvFile=$$v},expression:\"csvFile\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_circulationfile')))]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-file-input',{attrs:{\"show-size\":\"\",\"counter\":\"\",\"multiple\":\"\",\"accept\":\".csv\",\"label\":\"Circulation file input\"},model:{value:(_vm.circulationFile),callback:function ($$v) {_vm.circulationFile=$$v},expression:\"circulationFile\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_geometryfile')))]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-file-input',{attrs:{\"disabled\":_vm.geometryExists,\"show-size\":\"\",\"counter\":\"\",\"multiple\":\"\",\"accept\":\".csv\",\"label\":\"Geometry file input\"},model:{value:(_vm.geometryFile),callback:function ($$v) {_vm.geometryFile=$$v},expression:\"geometryFile\"}})],1),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.validateAndUpload}},[_vm._v(\" Upload systems \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.getUris}},[_vm._v(\" Get URIs \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.addRooms}},[_vm._v(\" Upload rooms \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.addStoreyContains}},[_vm._v(\" Add contains triples \")]),_c('v-btn',{staticClass:\"white--text\",attrs:{\"to\":{name: 'ImportIFC'},\"color\":\"#3577cb\"},on:{\"click\":_vm.gotoIFCImport}},[_vm._v(\" \"+_vm._s(_vm.$t('button_importifc'))+\" \")]),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":_vm.createPods}},[_vm._v(\" Create pods \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('v-form',{ref:\"form1\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" \"+_vm._s(_vm.$t(\"select_region\"))+\" \")]),_c('v-expansion-panel-content',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_region')))]),_c('hr',{staticClass:\"hr1\"}),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.rhf,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.rhfselected),callback:function ($$v) {_vm.rhfselected=$$v},expression:\"rhfselected\"}})],1),_c('v-col',[_c('img',{attrs:{\"src\":'./img/' + _vm.hrimage,\"width\":\"300\"}})])],1),(_vm.rhfselected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_unit')))]),_c('hr',{staticClass:\"hr1\"}),_c('v-select',{attrs:{\"items\":_vm.helseforetak,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.hfselected),callback:function ($$v) {_vm.hfselected=$$v},expression:\"hfselected\"}})],1):_vm._e()],1)],1)],1),_c('br'),(_vm.hfselected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_location')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.locationNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.lokselected),callback:function ($$v) {_vm.lokselected=$$v},expression:\"lokselected\"}})],1):_vm._e(),(_vm.lokselected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_building')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.buildingNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.buildingSelected),callback:function ($$v) {_vm.buildingSelected=$$v},expression:\"buildingSelected\"}}),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.showBuildingDetails}},[_vm._v(\" \"+_vm._s(_vm.$t('text_building_details'))+\" \")])],1):_vm._e(),(_vm.buildingSelected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_wings')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.wings,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.wingselected),callback:function ($$v) {_vm.wingselected=$$v},expression:\"wingselected\"}})],1):_vm._e(),(_vm.wingselected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_floors')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.floors,\"label\":_vm.$t('text_all'),\"multiple\":!_vm.twodim,\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.floorselected),callback:function ($$v) {_vm.floorselected=$$v},expression:\"floorselected\"}})],1):_vm._e(),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_functions')))]),_c('hr',{staticClass:\"hr1\"}),_c('v-sheet',{staticClass:\"pa-4 primary lighten-2\"},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"dark\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},model:{value:(_vm.csfsearch),callback:function ($$v) {_vm.csfsearch=$$v},expression:\"csfsearch\"}}),_c('v-checkbox',{attrs:{\"dark\":\"\",\"hide-details\":\"\",\"label\":\"Case sensitive search\"},model:{value:(_vm.caseSensitive),callback:function ($$v) {_vm.caseSensitive=$$v},expression:\"caseSensitive\"}})],1),_c('v-treeview',{attrs:{\"items\":_vm.csfitems,\"search\":_vm.csfsearch,\"filter\":_vm.filter,\"transition\":true,\"open-on-click\":true,\"rounded\":true,\"selectable\":\"\",\"return-object\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\" \"+_vm._s('mdi-folder'))])]}}],null,false,1680069583),model:{value:(_vm.csfselection),callback:function ($$v) {_vm.csfselection=$$v},expression:\"csfselection\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.setAllFunctionsSelected()}}},[_vm._v(\" Select all \")]),_c('br'),_c('br'),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_bedtypes')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.sengeplasstyper,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.sengeplass),callback:function ($$v) {_vm.sengeplass=$$v},expression:\"sengeplass\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_capacity')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.romkapasitet,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.kapasitet),callback:function ($$v) {_vm.kapasitet=$$v},expression:\"kapasitet\"}})],1),_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" \"+_vm._s(_vm.$t(\"text_rent_contracts\"))+\" \")]),_c('v-expansion-panel-content',[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_owner')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.contractOwnerNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.contractOwnerSelected),callback:function ($$v) {_vm.contractOwnerSelected=$$v},expression:\"contractOwnerSelected\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_rent_contract_user')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.contractUserNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.contractUserSelected),callback:function ($$v) {_vm.contractUserSelected=$$v},expression:\"contractUserSelected\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_rent_type')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.contractTypeNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.contractTypeSelected),callback:function ($$v) {_vm.contractTypeSelected=$$v},expression:\"contractTypeSelected\"}})],1),_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_rent_status')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.contractStatusNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.contractStatusSelected),callback:function ($$v) {_vm.contractStatusSelected=$$v},expression:\"contractStatusSelected\"}})],1)])],1)],1),_c('br'),_c('br'),(_vm.resultat == true)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('text_result')))]),_c('hr',{staticClass:\"hr2\"}),_c('h3',[_vm._v(_vm._s(this.lokselected[0]))]),_c('h4',[_vm._v(_vm._s(this.rhfselected[0] + \" - \" + this.hfselected[0]))]),_c('br'),_c('br'),_c('v-row',{attrs:{\"margin-top\":\"10\"}},[_c('v-col',[_c('WCartesian',{attrs:{\"dataset\":_vm.values,\"height\":200,\"bound\":[0],\"margin\":0}},[_c('WBar',{attrs:{\"datakey\":\"one\",\"width\":45}}),_c('WXAxis',{attrs:{\"datakey\":\"name\",\"space\":[0, 35, 35, 35]}})],1)],1),_c('v-col',[_c('div',{staticStyle:{\"width\":\"230px\"}},[_c('b',[_vm._v(_vm._s(this.totalCalculatedCapacity + _vm.$t('text_report1') + this.totalCalculatedRooms + _vm.$t('text_report2')))]),_c('br'),_c('font',{attrs:{\"color\":\"#FF0000\"}},[_c('b',[_vm._v(\"2 area issues found\")])])],1)])],1),_c('br'),_c('br'),_c('v-card',[_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.roomTableHeaders,\"items\":_vm.roomTableList,\"search\":_vm.search,\"flat\":\"\",\"item-key\":\"roomname\",\"show-select\":\"\"},model:{value:(_vm.roomTableSelectedRow),callback:function ($$v) {_vm.roomTableSelectedRow=$$v},expression:\"roomTableSelectedRow\"}})],1),_c('br'),_c('br'),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.calculate}},[_vm._v(\" \"+_vm._s(_vm.$t('button_exportxls'))+\" \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.loadHovedByggGeometry}},[_vm._v(\" \"+_vm._s(_vm.$t('button_exportpdf'))+\" \")]),_c('br'),_c('br'),_c('br'),_c('v-img',{attrs:{\"lazy-src\":require(\"./img/rapport2.png\"),\"max-width\":\"1000\",\"max-height\":\"350\",\"src\":require(\"./img/rapport2.png\")}})],1):_vm._e()],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.roomDetailsVisible),callback:function ($$v) {_vm.roomDetailsVisible=$$v},expression:\"roomDetailsVisible\"}},[_c('RoomDetails',{attrs:{\"dialog\":_vm.roomDetailsVisible},on:{\"update:dialog\":function($event){_vm.roomDetailsVisible=$event}}})],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.buildingDetailsVisible),callback:function ($$v) {_vm.buildingDetailsVisible=$$v},expression:\"buildingDetailsVisible\"}},[_c('BuildingDetails',{attrs:{\"dialog\":_vm.buildingDetailsVisible},on:{\"update:dialog\":function($event){_vm.buildingDetailsVisible=$event}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capacity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Capacity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Capacity.vue?vue&type=template&id=1425ad80&scoped=true&\"\nimport script from \"./Capacity.vue?vue&type=script&lang=js&\"\nexport * from \"./Capacity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Capacity.vue?vue&type=style&index=0&id=1425ad80&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1425ad80\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VCheckbox,VCol,VDataTable,VDialog,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VForm,VIcon,VImg,VRow,VSelect,VSheet,VTextField,VTreeview})\n","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <br><font color=\"#000000\">Import data into Hospital Pod</font></br><br>\n    <v-form\n      ref=\"form\"\n      v-model=\"valid\"\n      lazy-validation\n    >\n    <div>\n    <h2>{{ $t('select_roomfile') }}</h2>\n    <hr class=\"hr1\"></hr>\n    <br>\n      <v-file-input\n        v-model=\"csvFile\"\n        show-size\n        counter\n        multiple\n        accept=\".csv\"\n        label=\"Room file input\"\n      ></v-file-input>\n    </div>\n    <div>\n      <h2>{{ $t('select_circulationfile') }}</h2>\n      <hr class=\"hr1\"></hr>\n      <br>\n      <v-file-input\n        v-model=\"circulationFile\"\n        show-size\n        counter\n        multiple\n        accept=\".csv\"\n        label=\"Circulation file input\"\n      ></v-file-input>\n    </div>\n    <div>\n      <h2>{{ $t('select_geometryfile') }}</h2>\n      <hr class=\"hr1\"></hr>\n      <br>\n      <v-file-input\n        v-model=\"geometryFile\"\n        :disabled=\"geometryExists\"\n        show-size\n        counter\n        multiple\n        accept=\".csv\"\n        label=\"Geometry file input\"\n      ></v-file-input>\n    </div>\n      <v-btn\n        :disabled=\"!valid\"\n        color=\"success\"\n        class=\"mr-4\"\n        @click=\"validateAndUpload\"\n      >\n          Upload systems\n        </v-btn>\n      <v-btn\n        :disabled=\"!valid\"\n        color=\"success\"\n        class=\"mr-4\"\n        @click=\"getUris\"\n      >\n          Get URIs\n        </v-btn>\n        <v-btn\n          :disabled=\"!valid\"\n          color=\"success\"\n          class=\"mr-4\"\n          @click=\"addRooms\"\n        >\n            Upload rooms\n        </v-btn>\n        <v-btn\n          :disabled=\"!valid\"\n          color=\"success\"\n          class=\"mr-4\"\n          @click=\"addStoreyContains\"\n        >\n            Add contains triples\n        </v-btn>\n        <v-btn\n          :to=\"{name: 'ImportIFC'}\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"gotoIFCImport\"\n        >\n        {{ $t('button_importifc') }}\n        </v-btn>\n        <v-btn\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"createPods\"\n        >\n          Create pods\n        </v-btn>\n    </v-form>\n  </div>\n</template>\n\n<script>\n\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport so from './util-s.js';\nimport ur from './util-rdf.js';\nimport u from './util.js';\nconst N3 = require('n3');\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\n//window.solidFetcher = window.solid.session.fetch;\n\nvar factory = new (require('rdf-data-factory').DataFactory)();\nvar RdfTerm = require('rdf-string');\nvar toRdfLiteral = require(\"rdf-literal\").toRdf;\n\nimport { v4 as uuidv4 } from 'uuid';\nimport cp from './Capacity.vue';\nimport r from './util-r.js';\n\nconst mfTagList = [\n  { id: \"Opphold, somatikk\", tag: \"OPPH_SOM\", sysid: \"1A\"},\n  { id: \"Opphold, psykiatri og rus\", tag: \"OPPH_SOM_PSYK\", sysid: \"1B\"},\n  { id: \"Undersøkelse og behandling, somatikk\", tag: \"UNDE_BEH_SOM\", sysid: \"2A\"},\n  { id: \"Undersøkelse og behandling, psykiatri og rus\", tag: \"UNDE_BEH_PSYK\", sysid: \"2B\"},\n  { id: \"Medisinsk service\", tag: \"MED_SERV\", sysid: \"3\"},\n  { id: \"Ikke-medisinsk service\", tag: \"IKKE_MED_SERV\", sysid: \"4\"},\n  { id: \"Administrasjon\", tag: \"ADM\", sysid: \"5\"},\n  { id: \"Personalservice\", tag: \"PERS_SERV\", sysid: \"6\"},\n  { id: \"Pasientservice\", tag: \"PASI_SERV\", sysid: \"7\"},\n  { id: \"Undervisning og forskning\", tag: \"UND_FORS\", sysid: \"8\"},\n  { id: \"Tekniske arealer\", tag: \"TEK_AREA\", sysid: \"9\"},\n  { id: \"Trafikkarealer\", tag: \"TRAF_AREA\", sysid: \"10\"},\n  { id: \"Utomhus\", tag: \"UTOM_HUS\", sysid: \"11\"},\n  { id: \"Ikke i bruk\", tag: \"IKKE_BRUK\", sysid: \"12\"}\n];\n\nconst pfTagList = [\n  { id: \"Barnesengeområde\", tag: \"OPPH_SOM.POLI_KLI\", sysid: \"1A.1\"},\n  { id: \"Barneintensiv\", tag: \"OPPH_SOM.BARN_INT\", sysid: \"1A.2\"},\n  { id: \"Dagområde\", tag: \"OPPH_SOM.DAG_OMR\", sysid: \"1A.3\"},\n  { id: \"Føde/barsel\", tag: \"OPPH_SOM.FOD_BARS\", sysid: \"1A.4\"},\n  { id: \"Habilitering/Rehabilitering\", tag: \"OPPH_SOM.HAB_REHAB\", sysid: \"1A.5\"},\n  { id: \"Intensiv\", tag: \"OPPH_SOM.INT\", sysid: \"1A.6\"},\n  { id: \"Lettovervåking\", tag: \"OPPH_SOM.L_OVRV\", sysid: \"1A.7\"},\n  { id: \"Neonatalintensiv\", tag: \"OPPH_SOM.NEO_INT\", sysid: \"1A.8\"},\n  { id: \"Normalsengeområde\", tag: \"OPPH_SOM.NORM_SENG_OMR\", sysid: \"1A.9\"},\n  { id: \"Observasjon\", tag: \"OPPH_SOM.OBSRV\", sysid: \"1A.10\"},\n  { id: \"Pasienthotell\", tag: \"OPPH_SOM.PAS_HOT\", sysid: \"1A.11\"},\n  { id: \"Tungovervåking\", tag: \"OPPH_SOM.TUNG_OVRV\", sysid: \"1A.12\"},\n  { id: \"Barnesengeområde\", tag: \"OPPH_SOM_PSYK.BARN_SENG_OMR\", sysid: \"1B.1\"},\n  { id: \"Dagområde\", tag: \"OPPH_SOM_PSYK.DAG_OMR\", sysid: \"1B.2\"},\n  { id: \"Familieenhet\", tag: \"OPPH_SOM_PSYK.FAM_ENH\", sysid: \"1B.3\"},\n  { id: \"Normalsengeområde\", tag: \"OPPH_SOM_PSYK.NORM_SENG_OMR\", sysid: \"1B.4\"},\n  { id: \"Rehabilitering\", tag: \"OPPH_SOM_PSYK.REHAB\", sysid: \"1B.5\"},\n  { id: \"Sikring\", tag: \"OPPH_SOM_PSYK.SIKRI\", sysid: \"1B.6\"},\n  { id: \"Skjerming\", tag: \"OPPH_SOM_PSYK.SKJERM\", sysid: \"1B.7\"},\n  { id: \"Akuttmottak\", tag: \"UNDE_BEH_SOM.AKUTT_MOT\", sysid: \"2A.1\"},\n  { id: \"Ergo-ogFysioterapi\", tag: \"UNDE_BEH_SOM.ERGO_FYSI\", sysid: \"2A.3\"},\n  { id: \"Kliniskespesiallaboratorier\", tag: \"UNDE_BEH_SOM.KLIN_SPES_LAB\", sysid: \"2A.4\"},\n  { id: \"Kliniskestøttefunksjoner\", tag: \"UNDE_BEH_SOM.KLIN_ST_FUNK\", sysid: \"2A.5\"},\n  { id: \"Legevakt\", tag: \"UNDE_BEH_SOM.LEGE_VAKT\", sysid: \"2A.6\"},\n  { id: \"Oppvåkning\", tag: \"UNDE_BEH_SOM.OPPVA\", sysid: \"2A.7\"},\n  { id: \"NukleærmedisinogPET\", tag: \"UNDE_BEH_SOM.NUKL_PET\", sysid: \"2A.8\"},\n  { id: \"Operasjon\", tag: \"UNDE_BEH_SOM.OPERASJON\", sysid: \"2A.9\"},\n  { id: \"Poliklinikk\", tag: \"UNDE_BEH_SOM.POLI_KLI\", sysid: \"2A.10\"},\n  { id: \"Radiologi\", tag: \"UNDE_BEH_SOM.RADIO\", sysid: \"2A.11\"},\n  { id: \"Akuttmottak\", tag: \"UNDE_BEH_PSYK.AKUTT_MOT\", sysid: \"2B.1\"},\n  { id: \"Ergo-ogFysioterapi\", tag: \"UNDE_BEH_PSYK.ERGO_FYSI\", sysid: \"2B.2\"},\n  { id: \"Familieterapi\", tag: \"UNDE_BEH_PSYK.FAM_TERA\", sysid: \"2B.3\"},\n  { id: \"Kliniskestøttefunksjoner\", tag: \"UNDE_BEH_PSYK.KLIN_ST_FUNK\", sysid: \"2B.4\"},\n  { id: \"Poliklinikk\", tag: \"UNDE_BEH_PSYK.POLI_KLI\", sysid: \"2B.5\"},\n  { id: \"AMK-sentral\", tag: \"MED_SERV.AMK_SENT\", sysid: \"3.1\"},\n  { id: \"Apotek\", tag: \"MED_SERV.APOTEK\", sysid: \"3.2\"},\n  { id: \"Blodbank\", tag: \"MED_SERV.BLOD_BANK\", sysid: \"3.3\"},\n  { id: \"Laboratoriemedisin\", tag: \"MED_SERV.LAB_MED\", sysid: \"3.4\"},\n  { id: \"Ambulansetjeneste\", tag: \"MED_SERV.AMB_TJE\", sysid: \"3.7\"},\n  { id: \"Avfallshåndtering\", tag: \"IKKE_MED_SERV.AVFA_HAND\", sysid: \"4.1\"},\n  { id: \"Behandlingshjelpemidler\", tag: \"IKKE_MED_SERV.BEH_HJ_MIDL\", sysid: \"4.2\"},\n  { id: \"Beredskap\", tag: \"IKKE_MED_SERV.BERED\", sysid: \"4.3\"},\n  { id: \"FDVU\", tag: \"IKKE_MED_SERV.FDVU\", sysid: \"4.4\"},\n  { id: \"IKTdrift\", tag: \"IKKE_MED_SERV.IKT_DRIFT\", sysid: \"4.5\"},\n  { id: \"Journalarkiv\", tag: \"IKKE_MED_SERV.JOUR_ARK\", sysid: \"4.6\"},\n  { id: \"Medisinskteknikk\", tag: \"IKKE_MED_SERV.MED_TEKN\", sysid: \"4.7\"},\n  { id: \"Renhold\", tag: \"IKKE_MED_SERV.RENH\", sysid: \"4.8\"},\n  { id: \"Sengehåndtering\", tag: \"IKKE_MED_SERV.SENG_HAND\", sysid: \"4.9\"},\n  { id: \"Sentralkjøkken\", tag: \"IKKE_MED_SERV.SENT_KJOK\", sysid: \"4.10\"},\n  { id: \"Sentrallager\", tag: \"IKKE_MED_SERV.SENT_LAGER\", sysid: \"4.11\"},\n  { id: \"Sikkerhetstjeneste\", tag: \"IKKE_MED_SERV.SIKK_TJEN\", sysid: \"4.12\"},\n  { id: \"Sterilsentral\", tag: \"IKKE_MED_SERV.STERIL_SENT\", sysid: \"4.13\"},\n  { id: \"Transportogportør\", tag: \"IKKE_MED_SERV.TRANS_PORTO\", sysid: \"4.14\"},\n  { id: \"Tøyhåndtering\", tag: \"IKKE_MED_SERV.TOY_HANDT\", sysid: \"4.15\"},\n  { id: \"Administrativekontorfunksjoner\", tag: \"ADM.ADM_KONT\", sysid: \"5.1\"},\n  { id: \"Museum\", tag: \"ADM.MUSEUM\", sysid: \"5.2\"},\n  { id: \"Trykkeri\", tag: \"ADM.TRYKK\", sysid: \"5.3\"},\n  { id: \"Sentraladministrativkontorfunksjon\", tag: \"ADM.SENT_ADM_KONT\", sysid: \"5.4\"},\n  { id: \"Merkantilekontorfunksjoner\", tag: \"ADM.MERK_KONT\", sysid: \"5.5\"},\n  { id: \"Kliniskekontorfunksjoner\", tag: \"ADM.KLIN_KONT\", sysid: \"5.6\"},\n  { id: \"Barnehage\", tag: \"PERS_SERV.B_HAGE\", sysid: \"6.1\"},\n  { id: \"Bedriftshelsetjeneste\", tag: \"PERS_SERV.BEDR_HELS_TJ\", sysid: \"6.2\"},\n  { id: \"Garderobe\", tag: \"PERS_SERV.GARDR\", sysid: \"6.4\"},\n  { id: \"Kantine\", tag: \"PERS_SERV.KANTINE\", sysid: \"6.5\"},\n  { id: \"Overnatting\", tag: \"PERS_SERV.OVERNATTING\", sysid: \"6.6\"},\n  { id: \"Rekreasjon\", tag: \"PERS_SERV.REKREASJON\", sysid: \"6.7\"},\n  { id: \"Sanitærrom\", tag: \"PERS_SERV.SANITAER\", sysid: \"6.8\"},\n  { id: \"Kulturvirksomhet\", tag: \"PASI_SERV.KULT_VIRK\", sysid: \"7.1\"},\n  { id: \"Lærings-ogmestringssenter\", tag: \"PASI_SERV.LAER_MESTR_SENT\", sysid: \"7.2\"},\n  { id: \"Næringsvirksomhet\", tag: \"PASI_SERV.NAERI_VIRK\", sysid: \"7.3\"},\n  { id: \"Overnatting\", tag: \"PASI_SERV.OVERNATTING\", sysid: \"7.4\"},\n  { id: \"Pasientbibliotek\", tag: \"PASI_SERV.PAS_BIB\", sysid: \"7.5\"},\n  { id: \"Pasientinformasjon\", tag: \"PASI_SERV.PASIENT_INFO\", sysid: \"7.6\"},\n  { id: \"Prestetjeneste\", tag: \"PASI_SERV.PREST_TJ\", sysid: \"7.7\"},\n  { id: \"Sanitærrom\", tag: \"PASI_SERV.SANITAERR\", sysid: \"7.8\"},\n  { id: \"Skoleogbarnehage\", tag: \"PASI_SERV.SKOLE_BARNEH\", sysid: \"7.9\"},\n  { id: \"Rekreasjon\", tag: \"PASI_SERV.REKREASJON\", sysid: \"7.10\"},\n  { id: \"Dyrestall\", tag: \"UND_FORS.DYRE_STALL\", sysid: \"8.1\"},\n  { id: \"Forskning\", tag: \"UND_FORS.FORSK\", sysid: \"8.2\"},\n  { id: \"Medisinskbibliotek\", tag: \"UND_FORS.MED_BIB\", sysid: \"8.3\"},\n  { id: \"Simuleringsenhet\", tag: \"UND_FORS.SIM_ENHET\", sysid: \"8.4\"},\n  { id: \"Undervisning\", tag: \"UND_FORS.UNDERV\", sysid: \"8.5\"},\n  { id: \"Tekniskerom\", tag: \"TEK_AREA.TEK_ROM\", sysid: \"9.1\"},\n  { id: \"Tekniskesjakter\", tag: \"TEK_AREA.TEK_SJAKT\", sysid: \"9.2\"},\n  { id: \"Tekniskmellometasje\", tag: \"TEK_AREA.TEK_MEL_ETJ\", sysid: \"9.3\"},\n  { id: \"Internttrafikkareal\", tag: \"TRAF_AREA.INT_TRAF_AREAL\", sysid: \"10.1\"},\n  { id: \"Tverrgående trafikkareal\", tag: \"TRAF_AREA.TV_TRAF_AREAL\", sysid: \"10.2\"},\n  { id: \"Trafikkarealmellombygg\", tag: \"TRAF_AREA.TRAF_AREAL_MEL_BYG\", sysid: \"10.3\"},\n  { id: \"Garasje\", tag: \"UTOM_HUS.GARASJE\", sysid: \"11.1\"},\n  { id: \"Hage/Parkanlegg\", tag: \"UTOM_HUS.HAGE_PARK\", sysid: \"11.2\"},\n  { id: \"Landingsplass\", tag: \"UTOM_HUS.LANDINGSPLASS\", sysid: \"11.3\"},\n  { id: \"Parkering\", tag: \"UTOM_HUS.PARKERING\", sysid: \"11.4\"},\n  { id: \"Utomhusopphold\", tag: \"UTOM_HUS.UTOMHUS\", sysid: \"11.5\"},\n  { id: \"Ferdigbygg\", tag: \"IKKE_BRUK.FERD_BYGG\", sysid: \"12.1\"},\n  { id: \"Råbygg\", tag: \"IKKE_BRUK.RABYGG\", sysid: \"12.2\"},\n  { id: \"Utgravd\", tag: \"IKKE_BRUK.UTGRAVD\", sysid: \"12.3\"}\n];\n\nconst id = {}\nconst quads = [];\nlet tempRdfStore = $rdf.graph();\nlet tst = false;\n\nconst serverURL = store.state.serverPath;\nconst ministryPODurl = 'https://helsenorge'+store.state.testNum+'.'+serverURL;\nconst rhfPODurl = 'https://helsenorge-helsenord'+store.state.testNum+'.'+serverURL;\nconst hfPODurl = 'https://helsenorge-helsenord-helgeland'+store.state.testNum+'.'+serverURL;\nconst facilityPODurl = 'https://helsenorge-helsenord-helgeland-moirana'+store.state.testNum+'.'+serverURL;\nconst sitePODurl = 'https://sjoforsgata36'+store.state.testNum+'.'+serverURL;\nconst buildingPODurl = 'https://hovedbygg111'+store.state.testNum+'.'+serverURL;\n//const sitePODurl = 'https://landstadsgate36';\n//const buildingPODurl = 'https://bup112.'+serverURL;\n//const buildingPODurl = 'https://moirana-151ambulanse.'+serverURL;\n//const buildingPODurl = 'https://moirana-121psyk.'+serverURL;\n\nconst ministryURI = prettyURI(ministryPODurl+'/i');\nconst rhfURI = prettyURI(rhfPODurl+'/i');\nconst hfURI = prettyURI(hfPODurl+'/i');\nconst facilityURI = prettyURI(facilityPODurl+'/i');\nconst siteURI = prettyURI(sitePODurl+'/i');\nconst buildingURI = prettyURI(buildingPODurl+'/i');\n\nconst containsTypes = [ns.SIO(\"SIO_000202\"), ns.DUL(\"hasPart\"), ns.LDP(\"contains\"), ns.NEO(\"t_1pr4n\")];\nconst containsPortTypes = [ns.SIO(\"SIO_000202\"), ns.DUL(\"hasPart\"), ns.LDP(\"contains\"), ns.NEO(\"t_1pr4n\"), ns.NEO(\"m_port\")];\n\nlet systemURIs = [];\n\nfunction prettyURI(st) {\n  let s = st.replace(/\\s/g, \"\");\n  return encodeURI(s);\n}\n\nfunction arr2exists(arr, search) {\n    return arr.some(row => row.includes(search));\n    /*let found = false;\n    arr.forEach((item, i) => {\n      if(item[0] === search) { found = true; }\n    });\n    return found;*/\n}\n\nfunction addToStores(subject, predicate, object){\n  tempRdfStore.add(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nfunction createSiteSystemQuads(lineDetails, circulationArray, geometryArray){\n  let sFacility = \"\";\n\n  lineDetails.forEach((element, i) => {\n    let el = element.split(\":\", 2);\n  });\n\n  // Site circulation system ----------\n  let siteCirculationBlank = u.getBlankNode(\"Site circulation \"+sFacility)\n  if(!store.state.blankExisted){\n    addToStores(siteCirculationBlank, ns.RDF(\"type\"), ns.NEO(\"y_system\"));\n    addToStores(siteCirculationBlank, ns.TAG(\"tag\"), \"SiteCirculationSystem\");\n    addToStores(siteCirculationBlank, ns.RDFS(\"label\"), $rdf.literal(\"Site circulation \"+sFacility, 'en'));\n    addToStores(siteCirculationBlank, ns.RDFS(\"label\"), $rdf.literal(\"Område sirkulasjon \"+sFacility, 'no'));\n    addToStores(siteCirculationBlank, ns.RDFS(\"comment\"), \"Circulation system for the Site: \"+sFacility);\n    addToStores($rdf.sym(siteURI), ns.SIO(\"SIO_000202\"), siteCirculationBlank);\n\n    ur.checkIfContainLoop(siteCirculationBlank.value, containsTypes);\n  }\n  if(!arr2exists(systemURIs, \"SiteCirculationSystem\")){\n    systemURIs.push([\"SiteCirculationSystem\", \"\"]);\n  }\n  return true;\n}\n\nfunction createBuildingSystemQuads(lineDetails, circulationArray, geometryArray){\n  let tripleArray = [];\n  let sRHF = \"\";\n  let sHF = \"\";\n  let sFacility = \"\";\n  let sBuilding = \"\";\n  let sStorey = \"\";\n  let sWing = \"\";\n  let sBuildingCode = \"\";\n\n  lineDetails.forEach((element, i) => {\n    let el = element.split(\":\", 2);\n    if(el[0] == \"RHF\"){ sRHF = el[1]; }\n    if(el[0] == \"HF\"){ sHF = el[1]; }\n    if(el[0] == \"Lokasjon\"){ sFacility = el[1]; }\n    if(el[0] == \"Bygg\"){ sBuilding = el[1]; }\n    if(el[0] == \"Etasje\"){ sStorey = el[1]; }\n    if(el[0] == \"Fløy\"){ sWing = el[1]; }\n  });\n\n  let locationTAG = \"NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\";\n  let wingTAG = \".FLOY_\"+so.getCharactersBefore(sWing, \" - \");\n  let sstoreyTAG = \".E\"+so.getCharactersBefore(sStorey, \" - \");\n\n  // Building circulation system ----------\n  let buildingCirculationBlank = u.getBlankNode(\"Building circulation \"+sBuilding)\n  if(!store.state.blankExisted){\n    addToStores(buildingCirculationBlank, ns.RDF(\"type\"), ns.NEO(\"y_system\"));\n    addToStores(buildingCirculationBlank, ns.TAG(\"tag\"), \"BuildingCirculationSystem\");\n    addToStores(buildingCirculationBlank, ns.RDFS(\"label\"), $rdf.literal(\"Building circulation \"+sBuilding, 'en'));\n    addToStores(buildingCirculationBlank, ns.RDFS(\"label\"), $rdf.literal(\"Bygning sirkulasjon \"+sBuilding, 'no'));\n    //addToStores(buildingCirculationBlank, ns.RDFS(\"label\"), $rdf.literal('2016-02-29T21:44:31+00:00', '', ns.XSD('dateTime'))); // How to use XSD\n    addToStores(buildingCirculationBlank, ns.RDFS(\"comment\"), \"Circulation system for the Building: \"+sBuilding);\n  }\n  if(!arr2exists(systemURIs, \"BuildingCirculationSystem\")){\n    systemURIs.push([\"BuildingCirculationSystem\", \"\"]);\n  }\n\n  // Wing ----------\n  let wingBlank = u.getBlankNode(sWing)\n  let wingLocTAG = u.prettyTAG(locationTAG+wingTAG);\n  if(!store.state.blankExisted){\n    if(sWing === \"\"){ sWing = \"Ingen\"; }\n    addToStores(wingBlank, ns.RDF(\"type\"), ns.NEO(\"y_wing\"));\n    addToStores(wingBlank, ns.TAG(\"tag\"), wingLocTAG);\n    addToStores(wingBlank, ns.RDFS(\"label\"), $rdf.literal(sWing, 'en'));\n    //addToStores(buildingURI, ns.DUL(\"hasPart\"), wingBlank);\n  }\n  if(!arr2exists(systemURIs, wingLocTAG)){\n    systemURIs.push([wingLocTAG, \"\"]);\n  }\n\n  // Storey ----------\n  let storeyBlank = u.getBlankNode(sStorey+wingTAG)\n  let storeyTAG = u.prettyTAG(locationTAG+wingTAG+sstoreyTAG);\n  if(!store.state.blankExisted){\n    addToStores(storeyBlank, ns.RDF(\"type\"), ns.BOT(\"Storey\"));\n    addToStores(storeyBlank, ns.TAG(\"tag\"), storeyTAG);\n    addToStores(storeyBlank, ns.RDFS(\"label\"), $rdf.literal(sStorey, 'en'));\n    addToStores(wingBlank, ns.SIO(\"SIO_000202\"), storeyBlank);\n    ur.checkIfContainLoop(storeyBlank.value, containsTypes);\n    console.log(\"Storey: \"+sStorey);\n  }\n  if(!arr2exists(systemURIs, storeyTAG)){\n    systemURIs.push([storeyTAG, \"\"]);\n  }\n\n  // Floor - Combination between storey and wing ----------\n  /*let floorBlank = u.getBlankNode(sStorey+sWing)\n  let wingFloorTAG = u.prettyTAG(locationTAG+wingTAG+\"_\"+floorTAG.replace(\".\", \"\"));\n  if(!store.state.blankExisted){\n    addToStores(floorBlank, ns.RDF(\"type\"), ns.NEO(\"s_floor\"));\n    addToStores(floorBlank, ns.TAG(\"tag\"), wingFloorTAG);\n    addToStores(floorBlank, ns.RDFS(\"label\"), $rdf.literal(\"Floorarea: \"+sStorey+sWing, 'en'));\n    addToStores(floorBlank, ns.RDFS(\"label\"), $rdf.literal(\"Etasjedel: \"+sStorey+sWing, 'no'));\n    addToStores(storeyBlank, ns.SIO(\"SIO_000202\"), floorBlank);\n    addToStores(wingBlank, ns.SIO(\"SIO_000202\"), floorBlank);\n    ur.checkIfContainLoop(floorBlank.value, containsTypes);\n  }\n  if(!arr2exists(systemURIs, wingFloorTAG)){\n    systemURIs.push([wingFloorTAG, \"\"]);\n  }\n  */\n\n\n  return true;\n}\n\nfunction findTagById(source, id) {\n  for (var i = 0; i < source.length; i++) {\n    if (source[i].id === id) {\n      return source[i].tag;\n    }\n  }\n  console.log(\"Did not find: \"+id);\n  return \"UNDEFINED\";\n}\n\nfunction findTagByNum(source, id) {\n  for (var i = 0; i < source.length; i++) {\n    if (source[i].sysid === id) {\n      console.log(\"Did successfully find: \"+id);\n      return source[i].tag;\n    }\n  }\n  console.log(\"Did not find: \"+id);\n  return \"UNDEFINED\";\n}\n\n/*function createHospitalFunctionsQuads(lineDetails, circulationArray, geometryArray){\n  let tripleArray = [];\n  let sFacility = \"\";\n  let sMainfunction = \"\";\n  let sPartfunction = \"\";\n  let sMainFunctionCode = \"\";\n  let sPartFunctionCode = \"\";\n  let sFacilityCode = \"\";\n  let sStorey = \"\";\n  let sWing = \"\";\n\n  lineDetails.forEach((element, i) => {\n    let el = element.split(\":\", 2);\n    if(el[0] == \"Lokasjon\"){ sFacility = el[1]; }\n    if(el[0] == \"Hovedfunksjon\"){ sMainfunction = el[1]; }\n    if(el[0] == \"Delfunksjon\"){ sPartfunction = el[1]; }\n    if(el[0] == \"Etasje\"){ sStorey = el[1]; }\n    if(el[0] == \"Fløy\"){ sWing = el[1]; }\n  });\n\n  sMainFunctionCode = so.getCharactersAfter(sMainfunction, \" - \");\n  sPartFunctionCode = so.getCharactersAfter(sPartfunction, \" - \");\n\n  let sMainFunctionTAG = findTagById(tagList, sMainFunctionCode);\n  let sPartFunctionTAG = findTagById(tagList, sPartFunctionCode);\n\n  let functionTAG = \"NMH.F.SYKEHUS.\";\n\n  sFacilityCode = sFacility.substring(sFacility.indexOf(\" - \") - 1);\n\n  let hospitalFunctionBlank = u.getBlankNode(\"HospitalRoomFunctions\")\n  if(!store.state.blankExisted){\n    addToStores(hospitalFunctionBlank, ns.NEO(\"t_genus\"), ns.NEO(\"f_hospital\"));\n    addToStores(hospitalFunctionBlank, ns.TAG(\"tag\"), \"HospitalRoomFunctions\");\n    addToStores(hospitalFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Hospital functions\", 'en'));\n    addToStores(hospitalFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Sykehus funksjoner\", 'no'));\n  }\n  if(!arr2exists(systemURIs, \"HospitalRoomFunctions\")){\n    systemURIs.push([\"HospitalRoomFunctions\", \"\"]);\n  }\n\n  // System: 1A ----------\n  const mainFunctionBlank = u.getBlankNode(\"System: \"+sMainFunctionCode)\n  const mainFunctionTag = u.prettyTAG(functionTAG+sMainFunctionTAG);\n  if(!store.state.blankExisted){\n    addToStores(mainFunctionBlank, ns.TAG(\"tag\"), mainFunctionTag);\n    addToStores(mainFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Hovedfunksjon: \"+sMainFunctionCode, 'en'));\n    addToStores(mainFunctionBlank, ns.NEO(\"t_genus\"), hospitalFunctionBlank);\n    //addToStores(mainFunctionBlank, ns.SIO(\"SIO_000586\"), ns.SHBSPEC(encodeURI(sMainfunction.replace(/\\s/g, \"\"))));\n  }\n  if(!arr2exists(systemURIs, mainFunctionTag)){\n    systemURIs.push([mainFunctionTag, \"\"]);\n  }\n\n  // System: 1A.9 ----------\n  const partFunctionBlank = u.getBlankNode(\"System: \"+sPartFunctionCode)\n  const partFunctionTag = u.prettyTAG(functionTAG+sMainFunctionTAG+\".\"+sPartFunctionTAG);\n  if(!store.state.blankExisted){\n    addToStores(partFunctionBlank, ns.TAG(\"tag\"), partFunctionTag);\n    addToStores(partFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Partfunction: \"+sPartFunctionCode, 'en'));\n    addToStores(partFunctionBlank, ns.NEO(\"t_genus\"), mainFunctionBlank);\n    //addToStores(partFunctionBlank, ns.SIO(\"SIO_000586\"), ns.SHBSPEC(encodeURI(sPartfunction.replace(/\\s/g, \"\"))));\n  }\n  if(!arr2exists(systemURIs, partFunctionTag)){\n    systemURIs.push([partFunctionTag, \"\"]);\n  }\n  return true;\n}*/\n\nfunction createHospitalFunctions(){\n  let functionTAG = \"NMH.F.SYKEHUS.\";\n\n  let hospitalFunctionBlank = u.getBlankNode(\"HospitalRoomFunctions\")\n  if(!store.state.blankExisted){\n    addToStores(hospitalFunctionBlank, ns.NEO(\"t_genus\"), ns.NEO(\"f_hospital\"));\n    addToStores(hospitalFunctionBlank, ns.TAG(\"tag\"), \"HospitalRoomFunctions\");\n    addToStores(hospitalFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Hospital functions\", 'en'));\n    addToStores(hospitalFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Sykehus funksjoner\", 'no'));\n  }\n  if(!arr2exists(systemURIs, \"HospitalRoomFunctions\")){\n    systemURIs.push([\"HospitalRoomFunctions\", \"\"]);\n  }\n\n  mfTagList.forEach(mf => {\n    // System: 1A ----------\n    const mainFunctionBlank = u.getBlankNode(\"System: \"+mf.tag)\n    const mainFunctionTag = u.prettyTAG(functionTAG+mf.tag);\n    if(!store.state.blankExisted){\n      addToStores(mainFunctionBlank, ns.TAG(\"tag\"), mainFunctionTag);\n      addToStores(mainFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Hovedfunksjon: \"+mf.sysid+\" - \"+mf.id, 'en'));\n      addToStores(mainFunctionBlank, ns.NEO(\"t_genus\"), hospitalFunctionBlank);\n    }\n    if(!arr2exists(systemURIs, mainFunctionTag)){\n      systemURIs.push([mainFunctionTag, \"\"]);\n    }\n  });\n\n  pfTagList.forEach(pf => {\n    // System: 1A.9 ----------\n    const mainFunctionBlank = u.getBlankNode(\"System: \"+so.getCharactersBefore(pf.tag, \".\"));\n    const partFunctionBlank = u.getBlankNode(\"System: \"+pf.tag)\n    const partFunctionTag = u.prettyTAG(functionTAG+pf.tag);\n    if(!store.state.blankExisted){\n      addToStores(partFunctionBlank, ns.TAG(\"tag\"), partFunctionTag);\n      addToStores(partFunctionBlank, ns.RDFS(\"label\"), $rdf.literal(\"Delfunksjon: \"+pf.sysid+\" - \"+pf.id, 'en'));\n      addToStores(partFunctionBlank, ns.NEO(\"t_genus\"), mainFunctionBlank);\n    }\n    if(!arr2exists(systemURIs, partFunctionTag)){\n      systemURIs.push([partFunctionTag, \"\"]);\n    }\n });\n}\n\nasync function fetchAllStoreyURIs(){\n  let locationTAG = \"NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\";\n  let storeySearch = await r.searchAndGetURIs(\"#\"+locationTAG+\".FLOY*\");\n  const floorURIs = [];\n  if(storeySearch){}\n  store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\")).forEach(item => {\n    if(!floorURIs.includes(item.subject.value)){\n      console.log(\"Found storey: \" + item.subject.value);\n      floorURIs.push(item.subject.value);\n    }\n  });\n  // Fetch all storey data\n  for(let i=0; i<floorURIs.length; i++) {\n    let res = await ur.fetchAndSaveTurtle(floorURIs[i], false).then((response) => {});\n  }\n  return floorURIs;\n}\n\nasync function createStoreyContainsRoomQuads(lineDetails){\n  let floorURIs = await fetchAllStoreyURIs();\n  if(floorURIs) console.log(\"Storeys fetched.\");\n  for( var floorCount=0; floorCount<floorURIs.length; floorCount++){ // for( var floorCount=0; floorCount<floorURIs.length; floorCount++){\n    for (var rcount=0; rcount<lineDetails.length; rcount++) {\n      let sStorey = \"\";\n      let sWing = \"\";\n      let sRoomid = \"\";\n      lineDetails[rcount].forEach((element, i) => {\n        let el = element.split(\":\", 2);\n        if(el[0] == \"Etasje\"){ sStorey = el[1]; }\n        if(el[0] == \"Rom ID\"){ sRoomid = el[1]; }\n        if(el[0] == \"Fløy\"){ sWing = el[1]; }\n      });\n      let locationTAG = \"NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\";\n      let wingTAG = \".F\"+so.getCharactersBefore(sWing, \" - \");\n      let wingTAGfull = \".FLOY_\"+so.getCharactersBefore(sWing, \" - \");\n      let sstoreyTAG = \".E\"+so.getCharactersBefore(sStorey, \" - \");\n      let roomTAG = u.prettyTAG(locationTAG+wingTAG+sstoreyTAG+\".\"+encodeURI(sRoomid));\n      let storeyTAG = u.prettyTAG(locationTAG+wingTAGfull+sstoreyTAG);\n      let storeyURI = \"\";\n      let roomURI = \"\";\n      // Get storey URI\n      //let storeyData = await id.searchAndGetURIs(storeyTAG);\n      let tagitem = store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), storeyTAG)[0];\n      if(tagitem) {\n        storeyURI = tagitem.subject.value;\n      } else {\n        console.log(\"Warning, did not find Storey URI for tag: \"+storeyTAG);\n      }\n      if (!storeyURI) continue;\n      if (storeyURI!=floorURIs[floorCount]) continue;\n      // Get room URI\n      let roomData = await id.searchAndGetURIs(roomTAG);\n      if(roomData){}\n      let tagitem2 = store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), roomTAG)[0]\n      if(tagitem2){\n        console.log(\"Room URI for tag: \"+roomTAG)\n        console.log(tagitem2.subject.value)\n        roomURI = tagitem2.subject.value;\n        // Fetch storey URI to check if triple already exist\n        if(!store.state.rs.rdfStore.match($rdf.sym(storeyURI), ns.SIO(\"SIO_000202\"), $rdf.sym(roomURI))[0]){\n          tempRdfStore.add($rdf.sym(storeyURI), ns.SIO(\"SIO_000202\"), $rdf.sym(roomURI), $rdf.default);\n        }\n      }\n    }\n    // Create turtle file from store\n    let turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n    turtle = ur.modifyTurtle(turtle);\n    console.log(turtle);\n\n    // Upload the turtle\n    if (window.solid.session.info.isLoggedIn && turtle!=\"\"){\n      let uploadPromise = await ur.uploadTurtle(buildingURI, turtle, tst);\n      if(uploadPromise) console.log(\"Turtle should have been uploaded...\");\n      tempRdfStore = $rdf.graph();\n    } else {\n      console.log(\"Is logged out\");\n    }\n  }\n}\n\nasync function createRoomQuads(lineDetails, circulationArray, geometryArray){\n  let tripleArray = [];\n  let sRHF = \"\";\n  let sHF = \"\";\n  let sFacility = \"\";\n  let sBuilding = \"\";\n  let sStorey = \"\";\n  let sWing = \"\";\n  let sRoomid = \"\";\n  let sName = \"\";\n  let sMainfunction = \"\";\n  let sPartfunction = \"\";\n  let sRoomname = \"\";\n  let sRoomspec = \"\";\n  let sCapacity = \"\";\n  let sNetarea = \"\";\n  let sGrossarea = \"\";\n  let ownOrRent = \"\";\n  let orglevel1 = \"\";\n  let roomRentUsage = \"\";\n\n  let sMainFunctionCode = \"\";\n  let sPartFunctionCode = \"\";\n  let buildingCode = \"\";\n\n  let sroomTypeCode = \"\";\n  let sroomTypeSpecCode = \"\";\n\n\n  lineDetails.forEach((element, i) => {\n    let el = element.split(\":\", 2);\n    if(el[0] == \"RHF\"){ sRHF = el[1]; }\n    if(el[0] == \"HF\"){ sHF = el[1]; }\n    if(el[0] == \"Lokasjon\"){ sFacility = el[1]; }\n    if(el[0] == \"Bygg\"){ sBuilding = el[1]; }\n    if(el[0] == \"Etasje\"){ sStorey = el[1]; }\n    if(el[0] == \"Fløy\"){ sWing = el[1]; }\n    if(el[0] == \"Rom ID\"){ sRoomid = el[1]; }\n    if(el[0] == \"Navn\"){ sName = el[1]; }\n    if(el[0] == \"Hovedfunksjon\"){ sMainfunction = el[1]; }\n    if(el[0] == \"Delfunksjon\"){ sPartfunction = el[1]; }\n    if(el[0] == \"Romnavn\"){ sRoomname = el[1]; }\n    if(el[0] == \"Romspesifikasjon\"){ sRoomspec = el[1]; }\n    if(el[0] == \"Kapasitet, dagens\"){ sCapacity = el[1]; }\n    if(el[0] == \"Netto areal\"){ sNetarea = el[1]; }\n    if(el[0] == \"Brutto areal\"){ sGrossarea = el[1]; }\n    if(el[0] == \"Eie/leie\"){ ownOrRent = el[1]; }\n    if(el[0] == \"Org.-nivå 1\"){ orglevel1 = el[1]; }\n  });\n\n  let functionTAG = \"NMH.F.SYKEHUS.\";\n  let locationTAG = \"NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\";\n  let wingTAG = \".F\"+so.getCharactersBefore(sWing, \" - \");\n  let wingTAGfull = \".FLOY_\"+so.getCharactersBefore(sWing, \" - \");\n  let sstoreyTAG = \".E\"+so.getCharactersBefore(sStorey, \" - \");\n\n  buildingCode = sBuilding.substring(sBuilding.indexOf(\" - \") - 1);\n  sroomTypeCode = sRoomname.substring(sRoomname.indexOf(\" - \") - 1);\n  sroomTypeSpecCode = sRoomspec.substring(sRoomspec.indexOf(\" - \") - 1);\n  \n  sMainFunctionCode = so.getCharactersBefore(sMainfunction, \" - \");\n  sPartFunctionCode = so.getCharactersBefore(sPartfunction, \" - \");\n\n  roomRentUsage = so.getCharactersBefore(ownOrRent, \" - \");\n  ownOrRent = so.getCharactersAfter(ownOrRent, \" - \");\n\n  try{ sNetarea = parseFloat(sNetarea.replace(\",\", \".\")); } catch (error){ console.log(\"Failed to parse Net Area!\"); }\n  try{ sGrossarea = parseFloat(sGrossarea.replace(\",\", \".\")); } catch (error){ console.log(\"Failed to parse Gross Area!\"); }\n\n  if(isNaN(sNetarea)) sNetarea = 0;\n  if(isNaN(sGrossarea)) sGrossarea = 0;\n\n  let sMainFunctionTAG = findTagByNum(mfTagList, sMainFunctionCode);\n  console.log(\"Part function code: \"+sPartFunctionCode);\n  let sPartFunctionTAG = findTagByNum(pfTagList, sPartFunctionCode);\n  console.log(\"Part function tag: \"+sPartFunctionTAG);\n\n  let wingURI, storeyURI, siteCirculationURI, partFunctionURI = \"\";\n  for (var k=0; k<systemURIs.length; k++) {\n    if(systemURIs[k][0] === u.prettyTAG(locationTAG+wingTAGfull)){\n      wingURI = $rdf.sym(systemURIs[k][1]);\n    }\n    if(systemURIs[k][0] === u.prettyTAG(locationTAG+wingTAGfull+sstoreyTAG)){\n      storeyURI = $rdf.sym(systemURIs[k][1]);\n    }\n    //console.log(\"Floorblank: \"+u.prettyTAG(locationTAG+wingTAG+\"_\"+floorTAG.replace(\".\", \"\")));\n    /*if(systemURIs[k][0] === u.prettyTAG(locationTAG+wingTAG+\"_\"+sstoreyTAG.replace(\".\", \"\"))){\n      floorBlank = $rdf.sym(systemURIs[k][1]);\n    }*/\n    //console.log(\"Partfunction: \"+u.prettyTAG(functionTAG+sPartFunctionTAG));\n    if(systemURIs[k][0] === u.prettyTAG(functionTAG+sPartFunctionTAG)){\n      partFunctionURI = $rdf.sym(systemURIs[k][1]);\n    }\n    if(systemURIs[k][0] === \"SiteCirculationSystem\"){\n      siteCirculationURI = $rdf.sym(systemURIs[k][1]);\n    }\n  }\n\n  if(sMainfunction.includes(\"Trafikkarealer\")){ // Check if hall or corridor\n\n    // Hall ----------\n    let hallBlank = u.getBlankNode(\"Hall \"+sRoomid)\n    if(!store.state.blankExisted){\n        let hallTAG = u.prettyTAG(locationTAG+wingTAG+sstoreyTAG+\".\"+encodeURI(sRoomid));\n        addToStores(hallBlank, ns.RDF(\"type\"), ns.BOT(\"Space\"));\n        addToStores(hallBlank, ns.TAG(\"tag\"), hallTAG);\n        addToStores(hallBlank, ns.RDFS(\"label\"), $rdf.literal(\"Hall \"+sRoomid, 'en'));\n        addToStores(hallBlank, ns.RDFS(\"label\"), $rdf.literal(\"Gang \"+sRoomid, 'no'));\n        addToStores(hallBlank, ns.NEO(\"m_area-net\"), $rdf.literal(sNetarea+'', undefined, ns.XSD('decimal')));\n        addToStores(hallBlank, ns.NEO(\"m_area-gross\"), $rdf.literal(sGrossarea+'', undefined, ns.XSD('decimal')));\n        addToStores($rdf.sym(storeyURI), ns.SIO(\"SIO_000202\"), hallBlank);\n        ur.checkIfContainLoop(hallBlank.value, containsTypes);\n        //addToStores(buildingCirculationBlank, ns.DUL(\"hasPart\"), hallBlank);\n    }\n    // Circulation Hall ----------\n    /*circulationArray.forEach((element, i) => {\n      if(element[0] == sRoomid || element[1] == sRoomid){\n        //if(element[2] == \"Door_single\" || element[2] == \"Door_double\" || element[2] == \"Slidingdoor_single\" || element[2] == \"Slidingdoor_double\" ){ //\n          let doorBlank = u.getBlankNode(\"Door \"+element[0]+\"-\"+element[1])\n          if(!store.state.blankExisted){\n              let doorTAG = u.prettyTAG(locationTAG+sstoreyTAG+\".DØR.\"+element[0]+element[1]);\n              addToStores(doorBlank, ns.RDF(\"type\"), ns.NEO(\"x_door\"));\n              addToStores(doorBlank, ns.TAG(\"tag\"), doorTAG);\n              addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(element[2]+\" \"+element[0]+\"-\"+element[1], 'en'));\n              addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(element[2]+\" \"+element[0]+\"-\"+element[1], 'no'));\n              addToStores(hallBlank, ns.NEO(\"m_port\"), doorBlank); // ns.NEO(\"m_port\") is same as m_port\n              ur.checkIfContainLoop(doorBlank.value, containsPortTypes);\n          } else {\n           // If door is already made from room on other side\n             addToStores(hallBlank, ns.NEO(\"m_port\"), doorBlank); // ns.NEO(\"m_port\") is same as m_port\n             ur.checkIfContainLoop(doorBlank.value, containsPortTypes);\n          }\n        //}\n      }\n    });*/\n\n    // Geometry Hall ----------\n    geometryArray.forEach((element, i) => {\n      var splitted = element.split(';');\n      if(decodeURI(splitted[1]) == sRoomid){\n        addToStores(hallBlank, ns.IFOUR(\"m_polyline\"), element);\n      }\n    });\n\n  } else { // It is a room\n\n    // Room ----------\n    let roomBlank = u.getBlankNode(sRoomid)\n    if(!store.state.blankExisted){\n      let roomTAG = u.prettyTAG(locationTAG+wingTAG+sstoreyTAG+\".\"+encodeURI(sRoomid));\n      addToStores(roomBlank, ns.RDF(\"type\"), ns.BOT(\"Space\"));\n      addToStores(roomBlank, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+sRoomid, 'en'));\n      addToStores(roomBlank, ns.RDFS(\"label\"), $rdf.literal(\"Rom \"+sRoomid, 'no'));\n      addToStores(roomBlank, ns.TAG(\"tag\"), roomTAG);\n      addToStores(roomBlank, ns.NEO(\"m_area-net\"), $rdf.literal(sNetarea+'', undefined, ns.XSD('decimal')));\n      addToStores(roomBlank, ns.NEO(\"m_area-gross\"), $rdf.literal(sGrossarea+'', undefined, ns.XSD('decimal')));\n      addToStores($rdf.sym(storeyURI), ns.SIO(\"SIO_000202\"), roomBlank);\n      //if(ownOrRent!=\"\") addToStores(roomBlank, ns.NEO(\"newconcept\"), ownOrRent);\n      //if(roomRentUsage!=\"\") addToStores(roomBlank, ns.NEO(\"newconcept\"), roomRentUsage);\n      //if(orglevel1!=\"\") addToStores(roomBlank, ns.NEO(\"newconcept\"), orglevel1);\n      if(partFunctionURI!=\"\") addToStores(roomBlank, ns.NEO(\"b_capable\"), $rdf.sym(partFunctionURI));\n      ur.checkIfContainLoop(roomBlank.value, containsTypes);\n    }\n\n    // Bed System (bed1) ----------\n    for (let bed = 1; bed <= parseInt(sCapacity); bed++) {\n      let bedportBlank = u.getBlankNode(\"Bedport:\"+bed+sRoomid)\n      if(!store.state.blankExisted){\n        addToStores(bedportBlank, ns.RDF(\"type\"), ns.NEO(\"y_port\"));\n        addToStores(roomBlank, ns.NEO(\"m_port\"), bedportBlank);\n        ur.checkIfContainLoop(bedportBlank.value, containsPortTypes);\n      }\n    }\n\n\n    // Circulation Room ----------\n    /*circulationArray.forEach((element, i) => {\n      if(element[0] == sRoomid || element[1] == sRoomid){\n        //if(element[2] == \"Door_single\" || element[2] == \"Door_double\" || element[2] == \"Slidingdoor_single\" || element[2] == \"Slidingdoor_double\" ){ //\n          let doorBlank = u.getBlankNode(\"Door \"+element[0]+\"-\"+element[1])\n          if(!store.state.blankExisted){\n            let doorTAG = u.prettyTAG(locationTAG+sstoreyTAG+\".DØR.\"+element[0]+element[1]);\n            addToStores(doorBlank, ns.RDF(\"type\"), ns.NEO(\"x_door\"));\n            addToStores(doorBlank, ns.TAG(\"tag\"), doorTAG);\n            addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(element[2]+\" \"+element[0]+\"-\"+element[1], 'en'));\n            addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(element[2]+\" \"+element[0]+\"-\"+element[1], 'no'));\n            addToStores(roomBlank, ns.NEO(\"m_port\"), doorBlank); // ns.NEO(\"m_port\") is same as m_port\n            //addToStores(buildingCirculationBlank, ns.DUL(\"hasPart\"), doorBlank);\n             ur.checkIfContainLoop(doorBlank.value, containsPortTypes);\n          } else {\n            // If door is already made from room on other side\n            addToStores(roomBlank, ns.NEO(\"m_port\"), doorBlank); // ns.NEO(\"m_port\") is same as m_port\n            ur.checkIfContainLoop(doorBlank.value, containsPortTypes);\n          }\n         \n        //}\n      }\n    });*/\n\n    // Geometry Room ----------\n    geometryArray.forEach((element, i) => {\n      var splitted = element.split(';');\n      if(decodeURI(splitted[1]) == sRoomid){\n        addToStores(roomBlank, ns.IFOUR(\"m_polyline\"), element);\n      }\n    });\n  }\n\n  return false;\n}\n\nid.quadsToTurtle = function (quads){\n  if (quads && Array.isArray(quads)){\n  \tvar result\n    /*tempRdfStore.match(null, ns.RDFS(\"label\")).forEach(st => {\n       console.log(st.subject + \" \" + ns.RDFS(\"label\") + \" \" + st.object)\n    });*/\n    $rdf.serialize(undefined, tempRdfStore, buildingPODurl, 'text/turtle', function(err, str) {\n        console.log(\"Turtle serialize error: \", err);\n        result = str;\n    });\n  \treturn result\n  } else {\n    console.log(\"Error: quads array does not exist\")\n  }\n}\n\nid.searchAndGetURIs = async function(searchWord){\n  let uri = store.state.webId.replace(\"/i\", \"/search/\")+encodeURIComponent(searchWord);\n  try {\n    let res = await window.solid.session.fetch(\n      uri, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(res => res.text());\n    $rdf.parse(res, store.state.rs.rdfStore, uri, 'text/turtle');\n    store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n        //console.log(\"Found \"+searchWord+\" uri: \" + item.subject.value);\n        for(var i = 0; i < systemURIs.length; i++) {\n          if(systemURIs[i][0] == item.object.value){\n            systemURIs[i][1] = item.subject.value;\n          }\n        }\n    });\n    return res;\n  } catch (error) {\n    console.log(error);\n    console.log(\"Search failed\");\n  }\n}\n\nid.getSystemURIsFromTrinpod = async function(){\n  let sitecirculationData = await id.searchAndGetURIs(\"SiteCirculationSystem\");\n  let buildingcirculationData = await id.searchAndGetURIs(\"BuildingCirculationSystem\");\n  let hospitalfunctionsData = await id.searchAndGetURIs(\"HospitalRoomFunctions\");\n  // Loop through all main functions by iterating genus of hospitalfunctionsData URI located in systemURIs[i][0] where includes #NMH.F.SYKEHUS.*\n\n  let functionsData = await id.searchAndGetURIs(\"#NMH.F.SYKEHUS.*\");\n  let systemsData = await id.searchAndGetURIs(\"#NMH.Y.SYKEHUS.*\");\n\n  let bug1Data = await id.searchAndGetURIs(\"#NMH.F.SYKEHUS.IKKE_MED_SERV.*\");\n  let bug2Data = await id.searchAndGetURIs(\"#NMH.F.SYKEHUS.PASI_SERV.*\");\n  let bug3Data = await id.searchAndGetURIs(\"#NMH.F.SYKEHUS.ADM.*\");\n\n  for(var si=0; si<systemURIs.length; si++){\n    if(systemURIs[si][0] == \"SiteCirculationSystem\"){\n      let res = await ur.fetchAndSaveTurtle(systemURIs[si][1], true).then((response) => {});\n    }\n    if(systemURIs[si][0] == \"HospitalRoomFunctions\"){\n      let res = await ur.fetchAndSaveTurtle(systemURIs[si][1], true).then((response) => {});\n    }\n  }\n\n  let res = await ur.fetchAndSaveTurtle(ministryURI, true).then((response) => {});\n\n  store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n    for(var si=0; si<systemURIs.length; si++){\n      if(decodeURI(systemURIs[si][0])===decodeURI(item.object.value)){\n        console.log(systemURIs[si][0] +\" found, setting uri: \"+ item.subject.value);\n        systemURIs[si][1] = item.subject.value;\n      }\n    }\n  });\n\n  store.state.rs.systemURIs = systemURIs;\n  console.log(store.state.rs.systemURIs);\n  return true;\n}\n\nasync function uploadSystems(allText, circulationArray, geometryArray) {\n    var allTextLines = allText.split(/\\r\\n|\\n/);\n    var headers = allTextLines[0].split(';');\n    var lines = [];\n\n    for (var i=1; i<allTextLines.length; i++) {\n        var data = allTextLines[i].split(';');\n        if (data.length == headers.length) {\n\n            var tarr = [];\n            for (var j=0; j<headers.length; j++) {\n                tarr.push(headers[j]+\":\"+data[j]);\n            }\n            lines.push(tarr);\n        }\n    }\n\n    // ---- Code for creating system triples - START ----------\n    let siteURIfetch = await ur.fetchAndSaveTurtle(siteURI);\n    let buildingURIfetch = await ur.fetchAndSaveTurtle(buildingURI);\n    let facilityURIfetch = await ur.fetchAndSaveTurtle(ministryURI);\n    console.log(siteURIfetch+buildingURIfetch+facilityURIfetch);\n    for (var i = 0; i < lines.length; i++) {\n      createSiteSystemQuads(lines[i], circulationArray, geometryArray);\n    };\n    var turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n    turtle = ur.modifyTurtle(turtle);\n    console.log(turtle);\n    //if(ur.checkIfContainLoopInStore(store.state.rs.rdfStore, false)) return;\n    if (window.solid.session.info.isLoggedIn){\n      ur.uploadTurtle(siteURI, turtle, tst).then((successfulFetch) => {\n        //if(!successfulFetch) { return; }\n        tempRdfStore = $rdf.graph();\n        for (var i = 0; i < lines.length; i++) {\n          createBuildingSystemQuads(lines[i], circulationArray, geometryArray);\n        };\n        turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n        turtle = ur.modifyTurtle(turtle);\n        console.log(turtle);\n        //if(ur.checkIfContainLoopInStore(store.state.rs.rdfStore, false)) return;\n        ur.uploadTurtle(buildingURI, turtle, tst).then((successfulFetch) => {\n          //if(!successfulFetch) { return; }\n          tempRdfStore = $rdf.graph();\n          /*for (var i = 0; i < lines.length; i++) {\n            createHospitalFunctionsQuads(lines[i], circulationArray, geometryArray);\n          };*/\n          createHospitalFunctions();\n          let hospTurtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n          hospTurtle = ur.modifyTurtle(hospTurtle);\n          console.log(hospTurtle);\n          //if(ur.checkIfContainLoopInStore(store.state.rs.rdfStore, false)) return;\n          ur.uploadTurtle(ministryURI, hospTurtle, tst).then((successfulFetch) => {\n            //if(!successfulFetch) { return; }\n            tempRdfStore = $rdf.graph();\n            console.log(\"System triples should be uploaded, go to next operation if success...\");\n\n            // May need to clean main RDFstore for all blanknode triples\n\n            // First get the newly created URIs from trinpod.\n            /*id.getSystemURIsFromTrinpod().then((successfulFetch) => {\n              console.log(\"System uris should have been obtained...\");\n            });*/\n          });\n        });\n      });\n    } else {\n      console.log(\"Is logged out\");\n    }\n    // ---- Code for creating system triples - END ----------\n\n    /*if(tst){ // Do the check created by Fred\n      for (var i = 0; i < lines.length; i++) {\n        createRoomQuads(lines[i], circulationArray, geometryArray);\n      };\n      var turtle = id.quadsToTurtle(quads);\n      turtle = ur.modifyTurtle(turtle);\n      const parser = new N3.Parser();\n        parser.parse(\n          turtle,\n          (error, quad, prefixes) => {\n            if (quad){\n              if(quad.predicate.value == ns.DUL(\"hasPart\").value || quad.predicate.value == ns.SIO(\"SIO_000202\").value){\n                let blankList = quad.object.value.split('_:');\n                for (var i = 0; i < blankList.length; i++) {\n                  const foundSubject = quad.subject.value.replace(/(\\w+_)(\\w+)/g, '$2')\n                  const foundObject = '_:'+blankList[i].replace(/(\\w+_)(\\w+)/g, '$2');\n                  const objectURI = $rdf.sym(foundObject);\n                  console.log(\"Doing the check of: \", objectURI);\n                  let value = ur.getWholesNested(objectURI);\n                  console.log(value);\n                }\n              }\n            }\n          });\n    } else {\n      let uploadedcount = 1; // Which room to start on, should be 0\n      let batchSize = 1; // Number of rooms to include in each fetch\n      let uploadLimit = 3; // Where to stop uploading\n      //id.uploadBatch(lines, circulationArray, geometryArray, uploadedcount, batchSize, uploadLimit);\n    }*/\n\n}\n\nid.uploadBatch = async function(lines, circulationArray, geometryArray, uploadedcount, batchSize, uploadLimit){\n  //tempRdfStore.match(null, null, null).forEach(st => {\n    //console.log(\"Adding triple: \", st);\n    //store.state.rs.rdfStore.add(st);\n  //});\n  tempRdfStore = $rdf.graph(); // Clear the  temp store\n  let quads = [];\n  console.log(\"Uploading rooms \"+uploadedcount+\"-\"+(uploadedcount+batchSize)+\"!\");\n  let uploadToCount = uploadedcount+batchSize;\n  if(uploadToCount >= lines.length){ // Make sure not to try to upload something outside array\n    uploadToCount = lines.length;\n  }\n  for (var i = uploadedcount; i < uploadToCount; i++) {\n    const created = await createRoomQuads(lines[i], circulationArray, geometryArray);\n  };\n  var turt = id.quadsToTurtle(quads);\n  turt = ur.modifyTurtle(turt);\n  console.log(turt);\n\n  // Test code\n  /*uploadedcount = uploadedcount+batchSize;\n  if(uploadedcount <= uploadLimit){\n    id.uploadBatch(lines, circulationArray, geometryArray, uploadedcount, batchSize, uploadLimit);\n  }*/\n\n  if (window.solid.session.info.isLoggedIn){\n      //if(ur.checkIfContainLoopInStore(store.state.rs.rdfStore, false)) return;\n      //if(ur.checkIfmPortLoopInStore(store.state.rs.rdfStore)) return;\n      ur.uploadTurtle(buildingURI, turt, tst).then((successfulFetch) => {\n        uploadedcount = uploadedcount+batchSize;\n        console.log(uploadedcount+\" rooms should be uploaded..\");\n        if(uploadedcount <= uploadLimit && successfulFetch){\n          id.uploadBatch(lines, circulationArray, geometryArray, uploadedcount, batchSize, uploadLimit);\n        }\n      });\n  } else {\n    console.log(\"Is logged out\");\n  }\n}\n\nfunction createRelativeNodes(turt){\n  turt = turt.replace(/shbsand:\\w+/g, '<\\$&>'); // Regex replace \\$& is the whole found match\n  return turt.replaceAll('<shbsand:', '<#');\n}\n\nid.checkIfAppAuthenticated = async function(containerName) {\n  // This functionality will ask for app authorization for the linked pod - Organizational POD - When using persional pod as login\n  let currentListUrl = buildingPODurl + \"/\" + encodeURI(containerName); // Very important to add the / in end of url - Espen\n  try {\n    let res = await window.solid.session.fetch(\n      buildingPODurl, {\n        method: \"HEAD\",\n        credentials: \"include\"\n    });\n    console.log(\"-- Auth response below --\");\n    console.log(res);\n    var appAuthReq = res.headers.get('App-Authorization-Required');\n    var status = res.status;\n    if (status === 401 && appAuthReq){\n      console.log(\"Redirecting..\");\n      window.location.href = appAuthReq + '&redirect_uri=' + window.location.href;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n\nexport default {\n  id: id,\n  name: 'ImportData',\n  data() {\n    return {\n      selectedItem: 0,\n      valid: true,\n      geometryExists: true,\n      csvFile: \"\",\n      circulationFile: \"\",\n      geometryFile: \"\",\n      circulationArray: [],\n      customerarray: [\n      { name: 'Loading...', icon: 'mdi-clock  '}\n    ]\n    }\n  },\n  methods: {\n    checklogin(){\n      console.log(window.solid.session.info);\n      if (window.solid.session.info.isLoggedIn){\n        console.log(\"Test logged in\");\n      } else {\n        console.log(\"Is logged out, reroute\");\n        this.$router.push({ path: '/' })\n      }\n    },\n    createPods(){\n\n    },\n    createInput(file) {\n        let promise = new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          var vm = this;\n          reader.onload = e => {\n            resolve((vm.fileinput = reader.result));\n          };\n          reader.readAsText(file[0]);\n        });\n\n        promise.then(\n          result => {\n            /* handle a successful result */\n            //console.log(this.fileinput);\n            uploadSystems(this.fileinput, this.circulationArray, store.state.rs.geometryArray);\n          },\n          error => {\n            /* handle an error */\n            console.log(error);\n          }\n        );\n      },\n      validateAndUpload () {\n        this.$refs.form.validate()\n        //console.log(this.csvFile);\n        //console.log(this.circulationArray);\n        this.createInput(this.csvFile);\n      },\n      getUris(){\n        let promise = new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          var vm = this;\n          reader.onload = e => {\n            resolve((vm.fileinput = reader.result));\n          };\n          reader.readAsText(this.csvFile[0]);\n        });\n\n        promise.then(\n          result => {\n            var allTextLines = this.fileinput.split(/\\r\\n|\\n/);\n            var headers = allTextLines[0].split(';');\n            var lines = [];\n\n            for (var i=1; i<allTextLines.length; i++) {\n                var data = allTextLines[i].split(';');\n                if (data.length == headers.length) {\n\n                    var tarr = [];\n                    for (var j=0; j<headers.length; j++) {\n                        tarr.push(headers[j]+\":\"+data[j]);\n                    }\n                    lines.push(tarr);\n                }\n            }\n            for (var i = 0; i < lines.length; i++) {\n              createSiteSystemQuads(lines[i], this.circulationArray, store.state.rs.geometryArray);\n              createBuildingSystemQuads(lines[i], this.circulationArray, store.state.rs.geometryArray);\n              createHospitalFunctions();\n            };\n            store.state.rs.rdfStore = $rdf.graph(); // Resets the local store before getting URIs created by Trinpod\n            console.log(\"Getting URIs\");\n            id.getSystemURIsFromTrinpod().then((successfulFetch) => {\n              console.log(\"System uris should have been obtained...\");\n            });\n          },\n          error => {\n            /* handle an error */\n            console.log(error);\n          }\n        );\n      },\n      addRooms () {\n        store.state.rs.bIndex = [];\n        systemURIs = store.state.rs.systemURIs;\n        let file = this.csvFile;\n        let promise = new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          var vm = this;\n          reader.onload = e => {\n            resolve((vm.fileinput = reader.result));\n          };\n          reader.readAsText(file[0]);\n        });\n\n        promise.then(\n          result => {\n            let uploadedcount = 0; // Which room to start on, should be 0\n            let batchSize = 40; // Number of rooms to include in each fetch\n            let uploadLimit = 920; // Where to stop uploading 920\n            //console.log(\"FileInput\", this.fileinput);\n            var allTextLines = this.fileinput.split(/\\r\\n|\\n/);\n            var headers = allTextLines[0].split(';');\n            var lines = [];\n\n            for (var i=1; i<allTextLines.length; i++) {\n                var data = allTextLines[i].split(';');\n                if (data.length == headers.length) {\n\n                    var tarr = [];\n                    for (var j=0; j<headers.length; j++) {\n                        tarr.push(headers[j]+\":\"+data[j]);\n                    }\n                    lines.push(tarr);\n                }\n            }\n            id.uploadBatch(lines, this.circulationArray, store.state.rs.geometryArray, uploadedcount, batchSize, uploadLimit);\n          },\n          error => {\n            /* handle an error */\n            console.log(error);\n          }\n        );\n      },\n      addStoreyContains(){\n        let file = this.csvFile;\n        let promise = new Promise((resolve, reject) => {\n          var reader = new FileReader();\n          var vm = this;\n          reader.onload = e => {\n            resolve((vm.fileinput = reader.result));\n          };\n          reader.readAsText(file[0]);\n        });\n\n        promise.then(\n          result => {\n            var allTextLines = this.fileinput.split(/\\r\\n|\\n/);\n            var headers = allTextLines[0].split(';');\n            var lines = [];\n\n            for (var i=1; i<allTextLines.length; i++) {\n                var data = allTextLines[i].split(';');\n                if (data.length == headers.length) {\n\n                    var tarr = [];\n                    for (var j=0; j<headers.length; j++) {\n                        tarr.push(headers[j]+\":\"+data[j]);\n                    }\n                    lines.push(tarr);\n                }\n            }\n            createStoreyContainsRoomQuads(lines);\n          },\n          error => {\n            /* handle an error */\n            console.log(error);\n          }\n        );\n      },\n      reset () {\n        this.$refs.form.reset()\n      },\n      resetValidation () {\n        this.$refs.form.resetValidation()\n      },\n      gotoIFCImport(){\n\n      },\n  },\n  computed: {\n    sItem () {\n      return this.selectedItem // Updates the selectedItem\n    }\n  },\n  watch: {\n    csvFile: function (file) {\n      console.log(\"Filename: \", file);\n    },\n    circulationFile: function (file) {\n      let promise = new Promise((resolve, reject) => {\n        var reader = new FileReader();\n        var vm = this;\n        reader.onload = e => {\n          resolve((vm.fileinput = reader.result));\n        };\n        reader.readAsText(file[0]);\n      });\n\n      promise.then(\n        result => {\n          /* handle a successful result */\n          //console.log(this.fileinput);\n          var allTextLines = this.fileinput.split(/\\r\\n|\\n/);\n          var headers = allTextLines[0].split(';');\n          var lines = [];\n\n          for (var i=1; i<allTextLines.length; i++) {\n              var data = allTextLines[i].split(';');\n              if (data.length == headers.length) {\n                  var tarr = [];\n                  for (var j=0; j<headers.length; j++) {\n                      tarr.push(data[j]);\n                  }\n                  lines.push(tarr);\n              }\n          }\n          this.circulationArray = lines;\n          //console.log(lines)\n        },\n        error => {\n          /* handle an error */\n          console.log(error);\n        }\n      );\n    },\n    geometryFile: function (file) {\n      let promise = new Promise((resolve, reject) => {\n        var reader = new FileReader();\n        var vm = this;\n        reader.onload = e => {\n          resolve((vm.fileinput = reader.result));\n        };\n        reader.readAsText(file[0]);\n      });\n\n      promise.then(\n        result => {\n          var allTextLines = this.fileinput.split(/\\r\\n|\\n/);\n          allTextLines.shift();\n          store.state.rs.geometryArray = allTextLines;\n          //console.log(allTextLines);\n        },\n        error => {\n          /* handle an error */\n          console.log(error);\n        }\n      );\n    }\n  },\n  mounted() {\n    this.checklogin();\n    if(store.state.rs.geometryArray.length >= 1){\n      this.geometryExists = true;\n    } else {\n      this.geometryExists = false;\n    }\n\n    //this.circulationFile =   new File([\"./circulation.csv\"], \"circulation.csv\", {type: \"text/csv\"});\n    //this.geometryFile =   new File([\"./geometry-file.csv\"], \"geometry-file.csv\", {type: \"text/csv\"});\n\n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.white--text {\n  margin-right: 10px;\n  margin-left: 10px;\n}\ndiv.inputwrapper {\n  margin: 40px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportData.vue?vue&type=template&id=dbba2baa&scoped=true&\"\nimport script from \"./ImportData.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportData.vue?vue&type=style&index=0&id=dbba2baa&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dbba2baa\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VBtn,VFileInput,VForm})\n","<template>\n  <div class=\"feedback\">\n    <ImportData msg=\"Show import data form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport ImportData from '../components/ImportData.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'ImportDataV',\n  components: {\n    ImportData\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDataV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportDataV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportDataV.vue?vue&type=template&id=48b72d85&\"\nimport script from \"./ImportDataV.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportDataV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('BIMviewer',{attrs:{\"msg\":\"Show bimviewer form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"feedback\">\n    <BIMviewer msg=\"Show bimviewer form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport BIMviewer from '../components/BIMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'BIMviewerV',\n  components: {\n    BIMviewer\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIMviewerV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BIMviewerV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BIMviewerV.vue?vue&type=template&id=195835e0&\"\nimport script from \"./BIMviewerV.vue?vue&type=script&lang=js&\"\nexport * from \"./BIMviewerV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",style:({ 'height': _vm.viewHeight + 'px' })},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"3\",\"top\":\"28px\",\"right\":\"8px\"},attrs:{\"color\":\"#3577cb\"},on:{\"click\":_vm.toggleViews}},[_c('v-icon',[_vm._v(\"mdi-arrow-split-vertical\")])],1),_c('Multipane',{staticClass:\"vertical-panes\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"scroll\":\"no\",\"id\":\"resizer\",\"layout\":\"vertical\"},on:{\"paneResizeStart\":function($event){return _vm.paneresizestarted($event)},\"paneResizeStop\":function($event){return _vm.paneresizestopped($event)}}},[_c('div',{ref:\"leftpane\",staticClass:\"vertical\",staticStyle:{\"overflow\":\"scroll\"},style:({ 'height': _vm.viewHeight + 'px' })},[_c('BMviewer',{attrs:{\"msg\":\"Show BMViewer form\"}})],1),_c('multipane-resizer',{staticClass:\"resizer\",style:({ 'height': _vm.viewHeight + 'px' })},[_vm._v(\"R\")]),_c('div',{ref:\"rightpane\",staticClass:\"verticalflex\",staticStyle:{\"overflow\":\"scroll\"},style:({ 'height': _vm.viewHeight + 'px' })},[_c('BMDetails',{attrs:{\"msg\":\"Show details form\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\"},[_c('v-btn',{staticClass:\"buttonclass\",on:{\"click\":_vm.changeURL}},[_vm._v(\"Change URL\")]),_c('br'),_vm._v(\"Dette er en test.\"),_c('br'),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectWindow}},[_vm._v(\"Window\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectWalls}},[_vm._v(\"Walls\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectRoof}},[_vm._v(\"Roof\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectBUP}},[_vm._v(\"BUP\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectRIV}},[_vm._v(\"RIV\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectNTNU}},[_vm._v(\"NTNU\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpace}},[_vm._v(\"Space\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndDoor}},[_vm._v(\"Space and door\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndWindow}},[_vm._v(\"Space and window\")]),_c('br')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"inputwrapper\">\n    <v-btn class=\"buttonclass\" @click=\"changeURL\">Change URL</v-btn>\n    <br>Dette er en test.<br><br>\n    <v-btn @click=\"selectWindow\">Window</v-btn><br>\n    <v-btn @click=\"selectWalls\">Walls</v-btn><br>\n    <v-btn @click=\"selectRoof\">Roof</v-btn><br>\n    <v-btn @click=\"selectBUP\">BUP</v-btn><br>\n    <v-btn @click=\"selectRIV\">RIV</v-btn><br>\n    <v-btn @click=\"selectNTNU\">NTNU</v-btn><br>\n    <v-btn @click=\"selectSpace\">Space</v-btn><br>\n    <v-btn @click=\"selectSpaceAndDoor\">Space and door</v-btn><br>\n    <v-btn @click=\"selectSpaceAndWindow\">Space and window</v-btn><br>\n  </div>\n</template>\n\n\n<script>\n\nimport { mapMutations, mapActions  } from \"vuex\";\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport ur from './util-rdf.js';\nimport a from './util-a.js';\nimport r from './util-r.js';\nimport v from './util-v.js';\nimport c from './util-c.js';\nimport u from './util.js';\n\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\n\n\nconst serverURL = store.state.serverPath;\n\nfunction addToStores(subject, predicate, object){\n  //tempRdfStore.add(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nfunction removeFromStores(subject, predicate, object){\n  tempRdfStore.remove(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.remove(subject, predicate, object, $rdf.default);\n}\n\nconst bwd = {}\n\nexport default {\n  id: bwd,\n  name: 'BWDetails',\n  data() {\n    return {\n      valid: true,\n      loading: false,\n    }\n  },\n  methods: {\n    changeURL(){\n      store.state.bmurl = store.state.bmurl.replace(\"33316\", \"33318\")\n    },\n    selectBUP(){\n      store.state.bmurl = '{ \"select\": \"[1946]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fbup.scs&select=33316&twodim=left\";\n    },\n    selectRIV(){\n      store.state.bmurl = '{ \"select\": \"[443,442,337]\", \"location\": \"%252Fassets%252Fpowerhouse_riv.scs\", \"twodim\": \"none\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectNTNU(){\n      store.state.bmurl = '{ \"select\": \"[9264,9265,9263]\", \"location\": \"%252Fassets%252Fsb.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fsb.scs&select=33316&twodim=left\";\n    },\n    selectWindow(){\n      store.state.bmurl = '{ \"select\": \"[1946,1946,1946]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fbup.scs&select=33316&twodim=left\";\n    },\n    selectWalls(){\n      store.state.bmurl = '{ \"select\": \"[443,442,337]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectRoof(){\n      store.state.bmurl = '{ \"select\": \"[9264,9265,9263]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fsb.scs&select=33316&twodim=left\";\n    },\n    selectSpace(){\n      store.state.bmurl = '{ \"select\": \"[45]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectSpaceAndDoor(){\n      store.state.bmurl = '{ \"select\": \"[5995]\", \"location\": \"45\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectSpaceAndWindow(){\n      store.state.bmurl = '{ \"select\": \"[1949]\", \"location\": \"45\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n\n  },\n  mounted() {\n\n  },\n  created(){\n\n  },\n  beforeDestroy() {\n\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n#buttonclass {\n  position: relative;\n  color: #3577cb;\n  background-color: #3577cb;\n  accent-color: #3577cb;\n  text-decoration-color: white;\n  text-emphasis-color: white;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #3577cb;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n  margin-bottom: 10px;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BMDetails.vue?vue&type=template&id=7829fb3a&scoped=true&\"\nimport script from \"./BMDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./BMDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BMDetails.vue?vue&type=style&index=0&id=7829fb3a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7829fb3a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tsviewer\",attrs:{\"id\":\"tsviewer\"}},[_c('iframe',{ref:\"iframeRef\",attrs:{\"src\":_vm.currentURL}}),_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"90px\",\"right\":\"5px\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"tsviewer\" id=\"tsviewer\">\n      <iframe :src=\"currentURL\" ref=\"iframeRef\"></iframe>\n      <div style=\"position: absolute; top: 90px; right: 5px;\">\n      <!--<v-btn @click=\"selectWindow\">Window</v-btn><br>\n      <v-btn @click=\"selectWalls\">Walls</v-btn><br>\n      <v-btn @click=\"selectRoof\">Roof</v-btn><br>\n      <v-btn @click=\"selectSpace\">Space</v-btn><br>-->\n      </div>\n    </div>\n</template>\n<script>\n\nconst tsv = {}\n\nimport Vue from 'vue';\nimport { mapMutations, mapActions  } from \"vuex\";\nimport store from '../store';\n\nimport ig from './ImplicitGeometry.js'\nimport ir from './ImplicitRoom.js'\nimport a from './util-a.js';\nimport u from './util.js';\nimport ur from './util-rdf.js';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport { spCode } from './sp-code.js';\n\n\nconst $rdf = require('rdflib');\n\n\nlet hwv = undefined;\n\nexport default {\n  tsv: tsv,\n  name: 'BMViewer',\n  data () {\n    return {\n      loading: false,\n      employeeNameList: [\"https://espen.trinpod.us/i\"],\n      employeeList: [\"Espen Marthiniussen\"],\n      progress: null,\n      currentURL: \"http://localhost:8081/?location=%252Fassets%252Fbup.scs&select=33316&twodim=none\",\n    };\n  },\n  methods: {\n    async loadView(){\n      store.state.bmurl = '{ \"select\": \"[100]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"none\"}';\n      /*const Communicator = await import('./js/hoops_web_viewer');\n      if(Communicator) {};\n      hwv = new Communicator.WebViewer({\n          containerId: \"viewerContainer\",\n          endpointUri: \"drive_assembly.scs\"\n        });\n      console.log(\"Mounted...\");\n\n\n      hwv.setCallbacks({\n        sceneReady: function () {\n          viewer.view.setBackgroundColor(\n            Communicator.Color.white(),\n            Communicator.Color.white()\n          );\n        },\n      });\n\n      hwv.start();*/\n    },\n    selectWindow(){\n      store.state.bmurl = '{ \"select\": \"[1946]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fbup.scs&select=33316&twodim=left\";\n    },\n    selectWalls(){\n      store.state.bmurl = '{ \"select\": \"[443,442,337]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectSpace(){\n      store.state.bmurl = '{ \"select\": \"[45]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectRoof(){\n      store.state.bmurl = '{ \"select\": \"[9264,9265,9263]\", \"location\": \"%252Fassets%252Fbup.scs\", \"twodim\": \"right\"}';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fsb.scs&select=33316&twodim=left\";\n    },\n    async contentListener(message) {\n      if(typeof message.data!=\"string\") return;\n      const messageString = message.data+\"\";\n      console.log(\"Did receive message: \"+messageString)\n      const messageObj = JSON.parse(messageString);\n      console.log(\"Select: \"+messageObj.select);\n      if(messageObj.location) {\n        this.$router.push({path: this.$route.path, query: {location: messageObj.location} });\n      }\n      if(messageObj.select) {\n        this.$router.push({path: this.$route.path, query: {select: messageObj.select} });\n      }\n    }\n  },\n  computed: {\n  },\n  watch: {\n    \"$store.state.bmurl\": function (val){\n      this.$refs.iframeRef.contentWindow.postMessage(val, \"http://localhost:8081\");\n      //this.currentURL = val;\n    },\n    currentURL: function (val){\n      console.log(\"URL reported: \"+val);\n    }\n  },\n  mounted() {\n    this.loadView();\n  },\n  beforeMount() {\n    console.log(\"before mounted..\")\n    window.addEventListener(\"message\", this.contentListener);\n  },\n  beforeDestroy() {\n    console.log(\"before destroy..\")\n    window.removeEventListener(\"message\", this.contentListener);\n  },\n  created() {\n\n  }\n};\n</script>\n<!--<script type=\"text/javascript\" src=\"./js/hoops_web_viewer.js\"></script>\n<script type=\"text/javascript\" src=\"./js/communicator_server_integration.js\"></script>-->\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#tsviewer {\n  position: relative;\n  background-color: #3577cb;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  height: 100%;\n}\niframe {\n    position: relative;\n    background: #FFF;\n    margin-top: 0px;\n    margin-bottom: 0px;\n    border: none;         /* Reset default border */\n    height: 100%;        /* Viewport-relative units */\n    width: 100%;\n}\ndiv.inputwrapper {\n  margin: 0px;\n  box-align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin-left: 0px;\n  margin-top: 20px;\n  margin-bottom: 5px;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: 10px;\n  margin-right: 20px;\n  color: #3577cb;\n  font-size: 16px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n  margin: 0 5px 5px;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\np {\n  background: rgba(255, 255, 255, 0.6);\n  padding: 8px;\n  backdrop-filter: blur(8px);\n  border-radius: 1rem;\n  pointer-events: all;\n}\n\n#leavefeedbackclass {\n  margin-top: 20px;\n}\n\n#text-container{\n  position: absolute;\n  margin-top: 3rem;\n  margin-left: 3rem;\n  display: flex;\n}\n\n.viewport {\n  margin: 0px 0 0;\n  border: 1px;\n  width: 100%;\n  border-color: #3577cb;\n  border-radius: 0px;\n}\n\n@media screen and (max-width: 1000px) {\n \n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMviewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMviewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BMviewer.vue?vue&type=template&id=7b6ac88c&scoped=true&\"\nimport script from \"./BMviewer.vue?vue&type=script&lang=js&\"\nexport * from \"./BMviewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BMviewer.vue?vue&type=style&index=0&id=7b6ac88c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b6ac88c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"wrapper\" :style=\"{ 'height': viewHeight + 'px' }\">\n    <v-btn\n          style=\"position: absolute; z-index: 3; top: 28px; right: 8px;\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"toggleViews\"\n        >\n        <v-icon>mdi-arrow-split-vertical</v-icon>\n    </v-btn>\n    <Multipane scroll=\"no\" id=\"resizer\" class=\"vertical-panes\" :style=\"{ 'height': viewHeight + 'px' }\" layout=\"vertical\" @paneResizeStart=\"paneresizestarted($event)\" @paneResizeStop=\"paneresizestopped($event)\">\n      <div class=\"vertical\" :style=\"{ 'height': viewHeight + 'px' }\" ref=\"leftpane\" style=\"overflow: scroll\"><BMviewer msg=\"Show BMViewer form\" /></div>\n      <multipane-resizer class=\"resizer\" :style=\"{ 'height': viewHeight + 'px' }\">R</multipane-resizer>\n      <div class=\"verticalflex\" :style=\"{ 'height': viewHeight + 'px' }\" ref=\"rightpane\" style=\"overflow: scroll\"><BMDetails msg=\"Show details form\" /></div>\n    </Multipane>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport BMDetails from '../components/BMDetails.vue'\nimport BMviewer from '../components/BMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\nimport { mapMutations } from \"vuex\";\nimport store from '../store';\nimport { Multipane, MultipaneResizer } from 'vue-multipane';\n\nexport default {\n  name: 'TSviewerV',\n  components: {\n    BMDetails,\n    BMviewer,\n    Multipane,\n    MultipaneResizer\n  },\n  data: function() {\n    return {\n      bimVisible: true,\n      viewHeight: 600,\n    };\n  },\n  mounted: function() {\n\n  },\n  methods: {\n    updateCanvasSize(){\n      const rightpane = this.$refs.rightpane\n      console.log(rightpane);\n      const height = window.innerHeight-60;\n      this.viewHeight = height;\n    },\n    toggleViews(){\n      const leftpane = this.$refs.leftpane\n      const rightpane = this.$refs.rightpane\n      console.log(leftpane)\n      if(leftpane.style.width == \"70vw\"){\n        leftpane.style.width = \"100vw\";\n      } else {\n        leftpane.style.width = \"70vw\";\n      }\n      this.updateCanvasSize();\n    },\n    windowResize(){\n      this.updateCanvasSize();\n    },\n    paneresizestarted: function(event) {\n      console.log(\"resize start...\")\n    },\n    paneresizestopped: function(event) {\n      console.log(\"resize stop...\")\n      this.updateCanvasSize();\n      window.dispatchEvent(new Event('resize'));\n    },\n  },\n  mounted(){\n    this.windowResize();\n  },\n  created() {\n    window.addEventListener(\"resize\", this.windowResize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.windowResize);\n  }\n}\n</script>\n\n<style scoped>\n#wrapper {\n  overflow: hidden;\n}\n\n.vertical-panes {\n  overflow: hidden;\n}\n.vertical {\n  position: relative;\n  overflow: hidden;\n  width: 100vw;\n}\n\n.resizer {\n  width: 0px; \n  background-color: gray;\n}\n\n.verticalflex {\n  position: relative;\n  overflow: hidden;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  flex-grow: 1;\n  width: 10px;\n  height: 95vh;\n  background-color:lightblue;\n}\n\n.horizontal {\n  position: relative;\n  height: 50vh;\n  width: 100vw;\n}\n\n.horizontalflex {\n  position: relative;\n  flex-grow: 1;\n  width: 100vw;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSviewerV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TSviewerV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TSviewerV.vue?vue&type=template&id=f96e88c6&scoped=true&\"\nimport script from \"./TSviewerV.vue?vue&type=script&lang=js&\"\nexport * from \"./TSviewerV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TSviewerV.vue?vue&type=style&index=0&id=f96e88c6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f96e88c6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"scroll\":\"no\"}},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"3\",\"top\":\"28px\",\"right\":\"8px\"},attrs:{\"color\":\"#3577cb\"},on:{\"click\":_vm.toggleViews}},[_c('v-icon',[_vm._v(\"mdi-arrow-split-vertical\")])],1),_c('Multipane',{staticClass:\"vertical-panes\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"scroll\":\"no\",\"id\":\"resizer\",\"layout\":\"vertical\"},on:{\"paneResizeStart\":function($event){return _vm.paneresizestarted($event)},\"paneResizeStop\":function($event){return _vm.paneresizestopped($event)}}},[_c('div',{ref:\"leftpane\",staticClass:\"vertical\",staticStyle:{\"overflow\":\"scroll\"},style:({ 'height': _vm.viewHeight + 'px' })},[_c('AssetsList',{attrs:{\"msg\":\"Show assets list form\"}})],1),_c('multipane-resizer',{staticClass:\"resizer\",style:({ 'height': _vm.viewHeight + 'px' })},[_vm._v(\"-\")]),_c('div',{staticClass:\"verticalflex\",style:({ 'height': _vm.viewHeight + 'px', 'z-index': 1 })},[(_vm.moving)?_c('div',{staticClass:\"overlay1\"}):_vm._e(),_c('BMviewer',{ref:\"myviewer\",staticClass:\"viewer\",attrs:{\"msg\":\"Show asset viewer form\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('div',[_c('h2',[_vm._v(\"Select assets\")]),_c('hr',{staticClass:\"hr1\"}),_c('v-sheet',{staticClass:\"pa-4 primary lighten-2\"},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"dark\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},model:{value:(_vm.assetsearch),callback:function ($$v) {_vm.assetsearch=$$v},expression:\"assetsearch\"}}),_c('v-checkbox',{attrs:{\"dark\":\"\",\"hide-details\":\"\",\"label\":\"Case sensitive search\"},model:{value:(_vm.caseSensitive),callback:function ($$v) {_vm.caseSensitive=$$v},expression:\"caseSensitive\"}})],1),_c('v-treeview',{attrs:{\"items\":_vm.assetitems,\"search\":_vm.assetsearch,\"filter\":_vm.filter,\"transition\":true,\"open-on-click\":true,\"rounded\":true,\"selectable\":\"\",\"return-object\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\" \"+_vm._s('mdi-folder'))])]}}]),model:{value:(_vm.assetselection),callback:function ($$v) {_vm.assetselection=$$v},expression:\"assetselection\"}})],1),_c('br'),_c('div',[_c('h2',[_vm._v(\"Select items\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('br'),_c('v-btn',{staticClass:\"buttonclass\",on:{\"click\":_vm.changeURL}},[_vm._v(\"Change URL\")]),_c('br'),_vm._v(\"Dette er en test.\"),_c('br'),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectWindow}},[_vm._v(\"Window\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectWalls}},[_vm._v(\"Walls\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectWallsXray}},[_vm._v(\"Walls focus\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectRoof}},[_vm._v(\"Roof\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpace}},[_vm._v(\"Space\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndDoor}},[_vm._v(\"Space and door\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndWindow}},[_vm._v(\"Space and window\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndDoorXray}},[_vm._v(\"Space and door focus\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndWindowXray}},[_vm._v(\"Space and window focus\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSensor}},[_vm._v(\"Sensor\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndSensor}},[_vm._v(\"Space and sensor\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSpaceAndSensorXray}},[_vm._v(\"Space and sensor focus\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.selectSensorIsolate}},[_vm._v(\"Sensor Isolate\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.sendBimID}},[_vm._v(\"BIM ID\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.sendLocationTwo}},[_vm._v(\"Show location\")]),_c('br'),_c('v-btn',{on:{\"click\":_vm.sendDoubleBimID}},[_vm._v(\"BIM ID location and select\")]),_c('br')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <div>\n      <h2>Select assets</h2>\n        <hr class=\"hr1\"/>\n        <v-sheet class=\"pa-4 primary lighten-2\">\n          <v-text-field\n            v-model=\"assetsearch\"\n            label=\"Search\"\n            dark\n            flat\n            solo-inverted\n            hide-details\n            clearable\n            clear-icon=\"mdi-close-circle-outline\"\n          ></v-text-field>\n          <v-checkbox\n            v-model=\"caseSensitive\"\n            dark\n            hide-details\n            label=\"Case sensitive search\"\n          ></v-checkbox>\n        </v-sheet>\n        <v-treeview\n          v-model=\"assetselection\"\n          :items=\"assetitems\"\n          :search=\"assetsearch\"\n          :filter=\"filter\"\n          :transition=\"true\"\n          :open-on-click=\"true\"\n          :rounded=\"true\"\n          selectable\n          return-object\n          dense\n        >\n        <template v-slot:prepend=\"{ item, open }\">\n          <v-icon :color=\"item.color\"> {{ 'mdi-folder' }}</v-icon>\n        </template>\n        </v-treeview>\n    </div>\n    <br>\n    <div>\n      <h2>Select items</h2>\n      <hr class=\"hr1\"/>\n      <br><br>\n      <v-btn class=\"buttonclass\" @click=\"changeURL\">Change URL</v-btn>\n      <br>Dette er en test.<br><br>\n      <v-btn @click=\"selectWindow\">Window</v-btn><br>\n      <v-btn @click=\"selectWalls\">Walls</v-btn><br>\n      <v-btn @click=\"selectWallsXray\">Walls focus</v-btn><br>\n      <v-btn @click=\"selectRoof\">Roof</v-btn><br>\n      <v-btn @click=\"selectSpace\">Space</v-btn><br>\n      <v-btn @click=\"selectSpaceAndDoor\">Space and door</v-btn><br>\n      <v-btn @click=\"selectSpaceAndWindow\">Space and window</v-btn><br>\n      <v-btn @click=\"selectSpaceAndDoorXray\">Space and door focus</v-btn><br>\n      <v-btn @click=\"selectSpaceAndWindowXray\">Space and window focus</v-btn><br>\n      <v-btn @click=\"selectSensor\">Sensor</v-btn><br>\n      <v-btn @click=\"selectSpaceAndSensor\">Space and sensor</v-btn><br>\n      <v-btn @click=\"selectSpaceAndSensorXray\">Space and sensor focus</v-btn><br>\n      <v-btn @click=\"selectSensorIsolate\">Sensor Isolate</v-btn><br>\n      <v-btn @click=\"sendBimID\">BIM ID</v-btn><br>\n      <v-btn @click=\"sendLocationTwo\">Show location</v-btn><br>\n      <v-btn @click=\"sendDoubleBimID\">BIM ID location and select</v-btn><br>\n    </div>\n  </div>\n</template>\n\n\n<script>\n\nimport { mapMutations, mapActions  } from \"vuex\";\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport ur from './util-rdf.js';\nimport a from './util-a.js';\nimport r from './util-r.js';\nimport v from './util-v.js';\nimport c from './util-c.js';\nimport u from './util.js';\n\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\n\n\nconst serverURL = store.state.serverPath;\n\nfunction addToStores(subject, predicate, object){\n  //tempRdfStore.add(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nfunction removeFromStores(subject, predicate, object){\n  tempRdfStore.remove(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.remove(subject, predicate, object, $rdf.default);\n}\n\nconst bwd = {}\n\nexport default {\n  id: bwd,\n  name: 'BWDetails',\n  data() {\n    return {\n      valid: true,\n      loading: false,\n      assetselection: [],\n      assetsearch: null,\n      caseSensitive: false,\n      colorlist: ['#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080'],\n      assetitems: [\n        {\n          id: 1,\n          name: 'Building',\n          color: '#FF0000',\n          children: [\n            { id: 2, name: '1. etasje', color: '#0000FF' },\n            { id: 3, name: '2. etasje', color: '#00FF00' },\n            { id: 4, name: '3. etasje', color: '#0000FF' },\n          ],\n        },\n      ],\n    }\n  },\n  methods: {\n    changeURL(){\n      store.state.bmurl = store.state.bmurl.replace(\"33316\", \"33318\")\n    },\n    selectWindow(){\n      store.state.bmurl = '{ \"select\": \"[1946,1946,1946]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fbup.scs&select=33316&twodim=left\";\n    },\n    selectWalls(){\n      store.state.bmurl = '{ \"select\": \"[544,545,508]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectWallsXray(){\n      store.state.bmurl = '{ \"select\": \"[544,545,508]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"2\", \"twodim\": \"hidden\" }';\n    },\n    selectRoof(){\n      store.state.bmurl = '{ \"select\": \"[10674,10675,10673]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fsb.scs&select=33316&twodim=left\";\n    },\n    selectSpace(){\n      store.state.bmurl = '{ \"select\": \"[45]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n      //store.state.bmurl = \"http://localhost:8081/?location=%252Fassets%252Fpowerhouse_riv.scs&select=33316&twodim=none\";\n    },\n    selectSpaceAndDoor(){\n      store.state.bmurl = '{ \"select\": \"[6876]\", \"location\": \"45\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n    },\n    selectSpaceAndWindow(){\n      store.state.bmurl = '{ \"select\": \"[1946]\", \"location\": \"45\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n    },\n    selectSpaceAndDoorXray(){\n      store.state.bmurl = '{ \"select\": \"[6876]\", \"location\": \"45\", \"viewtype\": \"2\", \"twodim\": \"hidden\" }';\n    },\n    selectSpaceAndWindowXray(){\n      store.state.bmurl = '{ \"select\": \"[1946]\", \"location\": \"45\", \"viewtype\": \"2\", \"twodim\": \"hidden\" }';\n    },\n    selectSensor(){\n      store.state.bmurl = '{ \"select\": \"[10305]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"2\", \"twodim\": \"hidden\" }';\n    },  \n    selectSpaceAndSensor(){\n      store.state.bmurl = '{ \"select\": \"[10305]\", \"location\": \"45\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n    },    \n    selectSpaceAndSensorXray(){\n      store.state.bmurl = '{ \"select\": \"[10305]\", \"location\": \"45\", \"viewtype\": \"2\", \"twodim\": \"hidden\" }';\n    },\n    selectSensorIsolate(){\n      store.state.bmurl = '{ \"select\": \"[10305]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"3\", \"twodim\": \"hidden\" }';\n    },\n    sendBimID(){\n      store.state.bmurl = '{ \"select\": \"[0T0RBcoDbD4RWUd9JIq73Y]\", \"location\": \"%252Fassets%252Fbup.scs\", \"viewtype\": \"3\", \"twodim\": \"hidden\" }';\n    },\n    sendLocationTwo(){\n      store.state.bmurl = '{ \"select\": \"[0T0RBcoDbD4RWUd9JIq73Y]\", \"location\": \"45\", \"viewtype\": \"1\", \"twodim\": \"full\" }';\n    },\n    sendDoubleBimID(){\n      store.state.bmurl = '{ \"select\": \"[0T0RBcoDbD4RWUd9JIq73Y]\", \"location\": \"315dfX8sP6svqKOMzcCGRn\", \"viewtype\": \"1\", \"twodim\": \"hidden\" }';\n    },\n  },\n  computed: {\n    filter () {\n        return this.caseSensitive\n          ? (item, assetsearch, textKey) => item[textKey].indexOf(assetsearch) > -1\n          : undefined\n    },\n  },\n  watch: {\n\n  },\n  mounted() {\n\n  },\n  created(){\n\n  },\n  beforeDestroy() {\n\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n#buttonclass {\n  position: relative;\n  color: #3577cb;\n  background-color: #3577cb;\n  accent-color: #3577cb;\n  text-decoration-color: white;\n  text-emphasis-color: white;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #3577cb;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n  margin-bottom: 10px;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssetsList.vue?vue&type=template&id=3799bb6e&scoped=true&\"\nimport script from \"./AssetsList.vue?vue&type=script&lang=js&\"\nexport * from \"./AssetsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AssetsList.vue?vue&type=style&index=0&id=3799bb6e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3799bb6e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCheckbox,VIcon,VSheet,VTextField,VTreeview})\n","<template>\n  <div scroll=\"no\" class=\"wrapper\" :style=\"{ 'height': viewHeight + 'px' }\">\n    <v-btn\n          style=\"position: absolute; z-index: 3; top: 28px; right: 8px;\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"toggleViews\"\n        >\n        <v-icon>mdi-arrow-split-vertical</v-icon>\n    </v-btn>\n    <Multipane scroll=\"no\" id=\"resizer\" class=\"vertical-panes\" :style=\"{ 'height': viewHeight + 'px' }\" layout=\"vertical\" @paneResizeStart=\"paneresizestarted($event)\" @paneResizeStop=\"paneresizestopped($event)\">\n      <div class=\"vertical\" ref=\"leftpane\" :style=\"{ 'height': viewHeight + 'px' }\" style=\"overflow: scroll\"><AssetsList msg=\"Show assets list form\" /></div>\n      <multipane-resizer class=\"resizer\" :style=\"{ 'height': viewHeight + 'px' }\">-</multipane-resizer>\n      <div class=\"verticalflex\" :style=\"{ 'height': viewHeight + 'px', 'z-index': 1 }\">\n        <div class=\"overlay1\" v-if=\"moving\"></div>\n        <BMviewer class=\"viewer\" ref=\"myviewer\" msg=\"Show asset viewer form\" />\n      </div>\n    </Multipane>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport AssetsList from '../components/AssetsList.vue'\nimport BMviewer from '../components/BMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\nimport { mapMutations } from \"vuex\";\nimport store from '../store';\nimport { Multipane, MultipaneResizer } from 'vue-multipane';\n\nexport default {\n  name: 'AssetslistV',\n  components: {\n    AssetsList,\n    BMviewer,\n    Multipane,\n    MultipaneResizer\n  },\n  data: function() {\n    return {\n      bimVisible: true,\n      viewHeight: 600,\n      moving: false,\n    };\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    updateCanvasSize(){\n      const myviewer = this.$refs.myviewer\n      console.log(myviewer);\n      const height = window.innerHeight-60;\n      this.viewHeight = height;\n      const width = myviewer.$el.clientWidth+10\n      console.log(\"Width is: \"+width);\n    },\n    toggleViews(){\n      const leftpane = this.$refs.leftpane\n      console.log(leftpane)\n      if(leftpane.clientWidth>0){\n        leftpane.style.width = \"0vw\";\n      } else {\n        leftpane.style.width = \"100vw\";\n      }\n      this.updateCanvasSize();\n    },\n    windowResize(){\n      this.updateCanvasSize();\n    },\n    paneresizestarted: function(event) {\n      console.log(\"resize start...\")\n      this.moving = true;\n    },\n    paneresizestopped: function(event) {\n      console.log(\"resize stop...\")\n      this.updateCanvasSize();\n      window.dispatchEvent(new Event('resize'));\n      this.moving = false;\n    },\n  },\n  mounted(){\n    this.windowResize();\n  },\n  created() {\n    window.addEventListener(\"resize\", this.windowResize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.windowResize);\n  }\n}\n</script>\n\n<style scoped>\n#wrapper {\n  overflow: hidden;\n  position: relative;\n}\n\n.vertical-panes {\n  overflow: hidden;\n}\n\n.vertical {\n  background-color: #ffffff;\n  position: relative;\n  height: 95vh;\n  width: 30vw;\n}\n\n.resizer {\n  width: 12px; \n  background-color: gray;\n}\n\n.viewer {\n  position: absolute;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  width: 100%;\n  height: 95vh;\n  z-index: 1;\n}\n\n.overlay1 {\n  position: absolute;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  width: 100%;\n  height: 95vh;\n  z-index: 2;\n}\n\n.verticalflex {\n  position: relative;\n  overflow: hidden;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  flex-grow: 1;\n  width: 10px;\n  height: 95vh;\n}\n\n.horizontal {\n  position: relative;\n  height: 50vh;\n  width: 100vw;\n}\n\n.horizontalflex {\n  position: relative;\n  flex-grow: 1;\n  width: 100vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsListV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsListV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AssetsListV.vue?vue&type=template&id=9bd36606&scoped=true&\"\nimport script from \"./AssetsListV.vue?vue&type=script&lang=js&\"\nexport * from \"./AssetsListV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AssetsListV.vue?vue&type=style&index=0&id=9bd36606&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9bd36606\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"scroll\":\"no\"}},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"3\",\"top\":\"28px\",\"right\":\"8px\"},attrs:{\"color\":\"#3577cb\"},on:{\"click\":_vm.toggleViews}},[_c('v-icon',[_vm._v(\"mdi-arrow-split-vertical\")])],1),_c('Multipane',{staticClass:\"vertical-panes\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"scroll\":\"no\",\"id\":\"resizer\",\"layout\":\"vertical\"},on:{\"paneResizeStart\":function($event){return _vm.paneresizestarted($event)},\"paneResizeStop\":function($event){return _vm.paneresizestopped($event)}}},[_c('div',{ref:\"leftpane\",staticClass:\"vertical\",staticStyle:{\"overflow\":\"scroll\"},style:({ 'height': _vm.viewHeight + 'px' })},[_c('Capacity',{attrs:{\"msg\":\"Show capacity form\"}})],1),_c('multipane-resizer',{staticClass:\"resizer\",style:({ 'height': _vm.viewHeight + 'px' })},[_vm._v(\"-\")]),_c('BIMviewer',{ref:\"myviewer\",staticClass:\"verticalflex\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"msg\":\"Show bimviewer form\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div scroll=\"no\" class=\"wrapper\" :style=\"{ 'height': viewHeight + 'px' }\">\n    <v-btn\n          style=\"position: absolute; z-index: 3; top: 28px; right: 8px;\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"toggleViews\"\n        >\n        <v-icon>mdi-arrow-split-vertical</v-icon>\n    </v-btn>\n    <Multipane scroll=\"no\" id=\"resizer\" class=\"vertical-panes\" :style=\"{ 'height': viewHeight + 'px' }\" layout=\"vertical\" @paneResizeStart=\"paneresizestarted($event)\" @paneResizeStop=\"paneresizestopped($event)\">\n      <div class=\"vertical\" ref=\"leftpane\" :style=\"{ 'height': viewHeight + 'px' }\" style=\"overflow: scroll\"><Capacity msg=\"Show capacity form\" /></div>\n      <multipane-resizer class=\"resizer\" :style=\"{ 'height': viewHeight + 'px' }\">-</multipane-resizer>\n      <BIMviewer class=\"verticalflex\" :style=\"{ 'height': viewHeight + 'px' }\" ref=\"myviewer\" msg=\"Show bimviewer form\" />\n    </Multipane>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Capacity from '../components/Capacity.vue'\nimport BIMviewer from '../components/BIMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\nimport { mapMutations } from \"vuex\";\nimport store from '../store';\nimport { Multipane, MultipaneResizer } from 'vue-multipane';\n\nexport default {\n  name: 'CapacityV',\n  components: {\n    Capacity,\n    BIMviewer,\n    Multipane,\n    MultipaneResizer\n  },\n  data: function() {\n    return {\n      bimVisible: true,\n      viewHeight: 600,\n    };\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    updateCanvasSize(){\n      const myviewer = this.$refs.myviewer\n      console.log(myviewer);\n      const height = window.innerHeight-60;\n      this.viewHeight = height;\n      const width = myviewer.$el.clientWidth+10\n      console.log(\"Width is: \"+width);\n      store.state.bv.renderer.setSize(width, height);\n      if(store.state.bv.twodim){\n        store.state.bv.labelrenderer.setSize(width, height);\n        store.state.bv.twodimcamera.left = width/-2;\n        store.state.bv.twodimcamera.right = width/2;\n        store.state.bv.twodimcamera.top = height/2;\n        store.state.bv.twodimcamera.bottom = height/-2;\n        store.state.bv.twodimcamera.updateProjectionMatrix();\n      } else {\n        if(store.state.bv.thirdperson){\n          store.state.bv.thirdpersoncamera.aspect = width/height;\n          store.state.bv.thirdpersoncamera.updateProjectionMatrix()\n        } else {\n          store.state.bv.labelrenderer.setSize(width, height);\n          store.state.bv.camera.aspect = width/height;\n          store.state.bv.camera.updateProjectionMatrix()\n        }\n      }\n    },\n    toggleViews(){\n      const leftpane = this.$refs.leftpane\n      console.log(leftpane)\n      if(leftpane.clientWidth>0){\n        leftpane.style.width = \"0vw\";\n      } else {\n        leftpane.style.width = \"100vw\";\n      }\n      this.updateCanvasSize();\n    },\n    windowResize(){\n      this.updateCanvasSize();\n    },\n    paneresizestarted: function(event) {\n      console.log(\"resize start...\")\n    },\n    paneresizestopped: function(event) {\n      console.log(\"resize stop...\")\n      this.updateCanvasSize();\n      window.dispatchEvent(new Event('resize'));\n    },\n  },\n  mounted(){\n    this.windowResize();\n  },\n  created() {\n    window.addEventListener(\"resize\", this.windowResize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.windowResize);\n  }\n}\n</script>\n\n<style scoped>\n#wrapper {\n  overflow: hidden;\n}\n\n.vertical-panes {\n  overflow: hidden;\n}\n\n.vertical {\n  position: relative;\n  height: 95vh;\n  width: 30vw;\n}\n\n.resizer {\n  width: 12px; \n  background-color: gray;\n}\n\n.verticalflex {\n  position: relative;\n  overflow: hidden;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  flex-grow: 1;\n  width: 10px;\n  height: 95vh;\n}\n\n.horizontal {\n  position: relative;\n  height: 50vh;\n  width: 100vw;\n}\n\n.horizontalflex {\n  position: relative;\n  flex-grow: 1;\n  width: 100vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CapacityV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CapacityV.vue?vue&type=template&id=60483d9c&scoped=true&\"\nimport script from \"./CapacityV.vue?vue&type=script&lang=js&\"\nexport * from \"./CapacityV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CapacityV.vue?vue&type=style&index=0&id=60483d9c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60483d9c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('FilesLib',{attrs:{\"msg\":\"Show files library form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.addFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"left\",attrs:{\"align\":\"left\"}},[(_vm.files.length>0)?_c('v-card',{staticClass:\"mx-auto\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('v-subheader',[_vm._v(\"Upload files (drag files in here..)\")]),_vm._l((_vm.files),function(file){return _c('v-list-item',{key:file.name,on:{\"click\":function($event){}}},[_c('div',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(_vm.svgFile(file.name))}}),_c('v-list-item-content',[_c('v-list-item-title',{key:_vm.currentUploading,domProps:{\"textContent\":_vm._s(file.name)}}),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm._f(\"kb\")(file.size))+\" kb\")])],1),(_vm.currentUploading==file.name)?_c('v-progress-circular',{key:_vm.currentUploading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e(),_c('v-list-item-action',[_c('button',{attrs:{\"title\":\"Remove\"},on:{\"click\":function($event){return _vm.removeFile(file)}}},[_vm._v(\"X\")])])],1)}),_c('v-btn',{staticClass:\"mr-4\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-left\":\"10px\"},attrs:{\"disabled\":_vm.uploadDisabled,\"color\":\"success\"},on:{\"click\":_vm.startUpload}},[_vm._v(\" Upload \")])],2)]):_vm._e(),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"filemenu\",staticStyle:{\"width\":\"100%\",\"text-align\":\"right\",\"background-color\":\"#3577cb\"}},[_c('span',[(_vm.parentContainer!='')?_c('v-btn',{staticStyle:{\"margin-left\":\"0px\",\"margin-right\":\"auto\"},attrs:{\"icon\":\"\"},on:{\"click\":_vm.goToParentContainer}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-arrow-left\")])],1):_vm._e()],1),_c('span',[(_vm.loading)?_c('v-progress-circular',{key:_vm.loading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-right\":\"15px\"},attrs:{\"indeterminate\":\"\",\"color\":\"white\"}}):_vm._e(),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.goToPodSelect()}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-database-marker\")])],1),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.dialog = true}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-folder-plus-outline\")])],1),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.reloadData()}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-reload\")])],1)],1)]),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(_vm._s(_vm.$t(\"text_folders\")))]),_vm._l((_vm.items),function(item){return _c('v-list-item',{key:item.title,style:({'background-color': item.uri==_vm.currentContainer ? 'lightgray' : 'white'}),on:{\"click\":function($event){return _vm.containerSelected(item.uri)}}},[_c('div',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(_vm.svgFile(item.name))}}),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.subtitle)}})],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-information\")])],1)],1)],1)}),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-subheader',[_vm._v(_vm._s(_vm.$t(\"text_files\")))]),_vm._l((_vm.filelistitems),function(item){return _c('v-list-item',{key:item.title,on:{\"click\":function($event){return _vm.fileSelected(item.uri)}}},[_c('div',{staticClass:\"icon\",domProps:{\"innerHTML\":_vm._s(_vm.svgFile(item.filename))}}),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.subtitle)}})],1),_c('v-list-item-action',[(item.crossLinkStatus==='unstarted')?_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"alt\":\"Start crosslink\"},on:{\"click\":function($event){return _vm.startCrossLink(item.uri)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"color\":\"blue lighten-1\"}},[_vm._v(\"mdi-vector-polyline-plus\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Start linking file\")])]):_vm._e(),(item.crossLinkStatus==='processing')?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-cog-play\")])],1):_vm._e(),(item.crossLinkStatus==='linked')?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"green lighten-1\"}},[_vm._v(\"mdi-vector-polyline\")])],1):_vm._e()],1),(item.loading)?_c('v-progress-circular',{key:item.loading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-right\":\"0px\"},attrs:{\"indeterminate\":\"\",\"color\":\"blue\"}}):_vm._e()],1)})],2)],1)],1),_c('div',{ref:\"filedetails\",staticClass:\"right\",attrs:{\"align\":\"left\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(_vm._s(_vm.$t(\"text_file_details\")))]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(_vm.selectedFileName)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(decodeURI(_vm.selectedFileURI))}})],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('div',{staticClass:\"iconlarge\",domProps:{\"innerHTML\":_vm._s(_vm.svgFile(_vm.selectedFileName))}})])],1),_c('br'),(_vm.selectedFileURI.length>=1)?_c('div',[_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-list-item',[_c('v-list-item-content',[_c('span',{domProps:{\"textContent\":_vm._s(_vm.$t(\"text_last_changed\")+\" \"+_vm.selectedFileChange)}})])],1),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-list-item-action',[_c('span',[_vm._v(_vm._s(_vm.$t(\"text_download\"))+\" \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.download(_vm.selectedFileURI, _vm.selectedFileName)}}},[_c('v-icon',{attrs:{\"color\":\"blue lighten-1\"}},[_vm._v(\"mdi-download\")])],1),(_vm.downloading)?_c('v-progress-circular',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e(),_vm._v(\"   Open file:   \"),(_vm.selectedFileURI.includes('.docx') || _vm.selectedFileURI.includes('.xls'))?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.openDocumentInZoho(_vm.selectedFileURI, _vm.selectedFileName)}}},[_c('v-icon',{attrs:{\"color\":\"blue lighten-1\"}},[_vm._v(\"mdi-file\")])],1):_vm._e(),(_vm.selectedFileURI.includes('.pdf'))?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.goToPDFviewer(_vm.selectedFileURI)}}},[_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-file\")])],1):_vm._e(),_vm._v(\"   Delete:   \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.deleteFile(_vm.selectedFileURI, _vm.selectedFileName)}}},[_c('v-icon',{attrs:{\"color\":\"red lighten-1\"}},[_vm._v(\"mdi-trash-can-outline\")])],1)],1)])],1):_vm._e()],1),_c('div')])],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.$t(\"text_create_container\")))])]),_c('div',{staticStyle:{\"margin-left\":\"25px\",\"text-align\":\"left\"},domProps:{\"innerHTML\":_vm._s(_vm.currentContainer)}}),_c('v-card-text',[_c('v-container',{staticStyle:{\"background-color\":\"white\"}},[_c('v-row',[_c('v-text-field',{attrs:{\"label\":_vm.$t('text_container_name')},model:{value:(_vm.createContainerName),callback:function ($$v) {_vm.createContainerName=$$v},expression:\"createContainerName\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(_vm._s(_vm.$t(\"text_cancel\")))]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){return _vm.createContainer(_vm.createContainerName)}}},[_vm._v(_vm._s(_vm.$t(\"text_create\")))]),(_vm.loading)?_c('v-progress-circular',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e()],1)],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.alertBox),callback:function ($$v) {_vm.alertBox=$$v},expression:\"alertBox\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.alertTitle))])]),_c('div',{staticStyle:{\"margin-left\":\"25px\",\"text-align\":\"left\"},domProps:{\"innerHTML\":_vm._s(_vm.alertText)}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.alertBox = false}}},[_vm._v(_vm._s(_vm.$t(\"text_dismiss\")))])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div id=\"wrapper\"  v-cloak @drop.prevent=\"addFile\" @dragover.prevent>\n\n  <div class=\"left\" align=\"left\">\n\n  <v-card class=\"mx-auto\" v-if=\"files.length>0\" style=\"margin-bottom: 10px\">\n  <div style=\"margin-bottom: 20px;\">\n    <v-subheader>Upload files (drag files in here..)</v-subheader>\n     <v-list-item  v-for=\"file in files\" :key=\"file.name\" @click=\"\">\n     <div class=\"icon\" v-html=\"svgFile(file.name)\"></div>\n      <v-list-item-content>\n          <v-list-item-title v-text=\"file.name\" :key=\"currentUploading\"></v-list-item-title>\n          <v-list-item-subtitle >{{ file.size | kb }} kb</v-list-item-subtitle>\n      </v-list-item-content>\n      <!--<progress v-if=\"uploadPercentage>0\" max=\"100\" :value.prop=\"uploadPercentage\"></progress>-->\n      <v-progress-circular v-if=\"currentUploading==file.name\" :key=\"currentUploading\" style=\"width: 20px; height: 20px; margin-left: 5px; margin-right: 5px;\" indeterminate color=\"primary\"></v-progress-circular>\n      <v-list-item-action>\n        <button @click=\"removeFile(file)\" title=\"Remove\">X</button>\n      </v-list-item-action>\n      </v-list-item>\n      <v-btn\n          :disabled=\"uploadDisabled\"\n          color=\"success\"\n          class=\"mr-4\"\n          @click=\"startUpload\"\n          style=\"margin-bottom: 10px; margin-left: 10px;\"\n        >\n            Upload\n        </v-btn>\n  </div>\n  </v-card>\n\n\n  <v-card\n    class=\"mx-auto\"\n    width=\"100%\"\n  >\n    <div class=\"filemenu\" style=\"width: 100%; text-align: right; background-color: #3577cb;\">\n    <span>\n    <v-btn v-if=\"parentContainer!=''\" style=\"margin-left: 0px; margin-right:auto;\" icon @click=\"goToParentContainer\">\n      <v-icon style=\"color: white;\">mdi-arrow-left</v-icon>\n    </v-btn>\n    </span>\n    <span>\n    <v-progress-circular v-if=\"loading\" :key=\"loading\" style=\"width: 20px; height: 20px; margin-right: 15px;\" indeterminate color=\"white\"></v-progress-circular>\n    <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"goToPodSelect()\">\n      <v-icon style=\"color: white;\">mdi-database-marker</v-icon>\n    </v-btn>\n    <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"dialog = true\">\n      <v-icon style=\"color: white;\">mdi-folder-plus-outline</v-icon>\n    </v-btn>\n    <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"reloadData()\">\n      <v-icon style=\"color: white;\">mdi-reload</v-icon>\n    </v-btn>\n    </span>\n    </div>\n    <v-divider dark style=\"background-color: lightgray\"></v-divider>\n    <v-list two-line subheader>\n      <v-subheader>{{ $t(\"text_folders\") }}</v-subheader>\n\n      <v-list-item\n        v-for=\"item in items\"\n        :key=\"item.title\"\n        @click=\"containerSelected(item.uri)\"\n        :style=\"{'background-color': item.uri==currentContainer ? 'lightgray' : 'white'}\"\n      >\n        <div class=\"icon\" v-html=\"svgFile(item.name)\"></div>\n\n        <v-list-item-content>\n          <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n          <v-list-item-subtitle v-text=\"item.subtitle\"></v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-action>\n          <v-btn icon>\n            <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\n          </v-btn>\n        </v-list-item-action>\n      </v-list-item>\n\n     <v-divider dark style=\"background-color: lightgray\"></v-divider>\n\n      <v-subheader>{{ $t(\"text_files\") }}</v-subheader>\n\n      <v-list-item\n        v-for=\"item in filelistitems\"\n        :key=\"item.title\"\n        @click=\"fileSelected(item.uri)\"\n      >\n        <div class=\"icon\" v-html=\"svgFile(item.filename)\"></div>\n\n        <v-list-item-content>\n          <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n          <v-list-item-subtitle v-text=\"item.subtitle\"></v-list-item-subtitle>\n        </v-list-item-content>\n       \n        <v-list-item-action>\n          <v-tooltip  v-if=\"item.crossLinkStatus==='unstarted'\" left>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn icon @click=\"startCrossLink(item.uri)\" alt=\"Start crosslink\" v-bind=\"attrs\" v-on=\"on\">\n                <v-icon color=\"blue lighten-1\">mdi-vector-polyline-plus</v-icon>\n              </v-btn>\n            </template>\n          <span>Start linking file</span>\n          </v-tooltip>\n          <v-btn v-if=\"item.crossLinkStatus==='processing'\" icon>\n            <v-icon color=\"red lighten-1\">mdi-cog-play</v-icon>\n          </v-btn>\n          <v-btn v-if=\"item.crossLinkStatus==='linked'\" icon>\n            <v-icon color=\"green lighten-1\">mdi-vector-polyline</v-icon>\n          </v-btn>\n        </v-list-item-action>\n        <v-progress-circular v-if=\"item.loading\" :key=\"item.loading\" style=\"width: 20px; height: 20px; margin-right: 0px;\" indeterminate color=\"blue\"></v-progress-circular>\n      </v-list-item>\n    </v-list>\n  </v-card>\n\n  </div>\n\n  <div class=\"right\" ref=\"filedetails\" align=\"left\">\n\n  <v-card class=\"mx-auto\">\n  <div style=\"margin-bottom: 20px;\">\n\n    <v-list-item three-line>\n      <v-list-item-content>\n        <div class=\"overline mb-4\">{{ $t(\"text_file_details\") }}</div>\n        <v-list-item-title class=\"headline mb-1\" v-text=\"selectedFileName\"></v-list-item-title>\n        <v-list-item-subtitle v-text=\"decodeURI(selectedFileURI)\"></v-list-item-subtitle>\n      </v-list-item-content>\n\n      <v-list-item-avatar\n        tile\n        size=\"80\"\n      ><div class=\"iconlarge\" v-html=\"svgFile(selectedFileName)\"></div></v-list-item-avatar>\n    </v-list-item>\n    <br>\n    <div v-if=\"selectedFileURI.length>=1\">\n      <v-divider dark style=\"background-color: lightgray\"></v-divider>\n      <v-list-item>\n        <v-list-item-content> <span v-text='$t(\"text_last_changed\")+\" \"+selectedFileChange'></span></v-list-item-content>\n      </v-list-item>\n      <v-divider dark style=\"background-color: lightgray\"></v-divider>\n      <v-list-item-action>\n        <span>{{ $t(\"text_download\") }}\n        <v-btn icon @click=\"download(selectedFileURI, selectedFileName)\">\n          <v-icon color=\"blue lighten-1\">mdi-download</v-icon>\n        </v-btn>\n        <v-progress-circular v-if=\"downloading\" style=\"width: 20px; height: 20px; margin-left: 5px; margin-right: 5px;\" indeterminate color=\"primary\"></v-progress-circular>\n        &nbsp; Open file: &nbsp;\n        <v-btn v-if=\"selectedFileURI.includes('.docx') || selectedFileURI.includes('.xls')\" icon @click=\"openDocumentInZoho(selectedFileURI, selectedFileName)\">\n          <v-icon color=\"blue lighten-1\">mdi-file</v-icon>\n        </v-btn>\n        <v-btn v-if=\"selectedFileURI.includes('.pdf')\" icon @click=\"goToPDFviewer(selectedFileURI)\">\n          <v-icon color=\"red lighten-1\">mdi-file</v-icon>\n        </v-btn>\n        &nbsp; Delete:  &nbsp;\n        <v-btn icon @click=\"deleteFile(selectedFileURI, selectedFileName)\">\n          <v-icon color=\"red lighten-1\">mdi-trash-can-outline</v-icon>\n        </v-btn>\n        </span>\n      </v-list-item-action>\n    </div>\n  </div>\n  <div>\n\n  </div>\n  </v-card>\n\n\n  </div>\n\n    <v-row justify=\"center\">\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{ $t(\"text_create_container\") }}</span>\n        </v-card-title>\n        <div style=\"margin-left: 25px; text-align: left;\" v-html=\"currentContainer\"></div>\n        <v-card-text>\n          <v-container style=\"background-color: white;\">\n            <v-row>\n              <v-text-field v-bind:label=\"$t('text_container_name')\" v-model=\"createContainerName\"></v-text-field>\n            </v-row>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">{{ $t(\"text_cancel\") }}</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"createContainer(createContainerName)\">{{ $t(\"text_create\") }}</v-btn>\n          <v-progress-circular v-if=\"loading\" style=\"width: 20px; height: 20px; margin-left: 5px; margin-right: 5px;\" indeterminate color=\"primary\"></v-progress-circular>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n\n  <v-row justify=\"center\">\n    <v-dialog v-model=\"alertBox\" persistent max-width=\"600px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{ alertTitle }}</span>\n        </v-card-title>\n        <div style=\"margin-left: 25px; text-align: left;\" v-html=\"alertText\"></div>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"alertBox = false\">{{ $t(\"text_dismiss\") }}</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n\n  </div>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\n//const Comunica = require('@comunica/actor-init-sparql-rdfjs');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport so from './util-s.js';\nimport moment from 'moment';\nimport { getIcon } from 'material-file-icons';\nconst streamSaver = require('streamsaver');\nconst streamToBlob = require('stream-to-blob');\nimport axios from 'axios';\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\nimport Vue from 'vue';\n\nconst factory = new (require('rdf-data-factory').DataFactory)();\nconst RdfTerm = require('rdf-string');\nconst toRdfLiteral = require(\"rdf-literal\").toRdf;\nlet socket = websocketconnect();\n\nconst fl = {}\n\n// Make the function wait until the connection is made...\nfunction waitForSocketConnection(socket, callback){\n    let tried = false;\n    setTimeout(\n        function () {\n            if (socket.readyState === WebSocket.OPEN) {\n                console.log(\"Connection is made\")\n                if (callback != null){\n                    setTimeout( function () {\n                      callback();\n                    }, 500);\n                }\n            } else {\n                console.log(\"wait for connection...\")\n                if(!tried){\n                  socket = websocketconnect();\n                }\n                waitForSocketConnection(socket, callback);\n            }\n\n        }, 1000); // wait 5 milisecond for the connection...\n}\n\nfunction websocketconnect() {\n    // Websocket things START --------------\n    let ws = new WebSocket('ws://localhost:8003');\n    ws.onopen = function(e) {\n      console.log(\"[open] Connection established\");\n      //socket.send(\"My name is Espen\");\n    };\n\n    ws.onmessage = function(event) {\n      console.log(event.data);\n      if(event.data.includes(\"http\")){\n        router.push({path: '/fileedit', query: {location: '', select: event.data} });\n      }\n      //window.open(event.data, '_blank');\n    };\n\n    ws.onclose = function(event) {\n      if (event.wasClean) {\n        console.log(`[close] Connection closed cleanly, code=${event.code} reason=${event.reason}`);\n      } else {\n        // e.g. server process killed or network down\n        // event.code is usually 1006 in this case\n        console.log('[close] Connection died');\n      }\n      //console.log(\"Trying to reconnect to websocket.\");\n    };\n\n    ws.onerror = function(error) {\n      console.log(`[error] ${error.message}`);\n    };\n    // Websocket things END --------------\n\n    return ws;\n}\n\nfunction addToStores(subject, predicate, object){\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nconst deleteURI = async function(deculeteURI) {\n  try {\n    const res = await window.solid.session.fetch(\n      deleteURI, {\n        method: \"DELETE\",\n        credentials: \"include\",\n        headers: {\n        },\n    });\n    return res.text();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n/*async function comunicaQuery(sparqlStr,rowFunction,quadStore,callback) {\n  var startTime = performance.now();\n  const myEngine = Comunica.newEngine();\n  const config = { sources: [quadStore] };\n  const result = await myEngine.query(sparqlStr, config);\n  result.bindingsStream.on('data',(binding)=> {\n    for(let field of binding._root.entries){\n      let newRow = [];\n      // comunica has [ key, value ], rdflib wants { key : vaue }\n      for(let field of binding._root.entries){\n        newRow[field[0]]=field[1];\n      }\n      rowFunction(newRow);\n    }\n  });\n  result.bindingsStream.on('end', () => {\n    var endTime = performance.now();\n    console.log(`Communicaquery used: ${endTime - startTime} milliseconds`);\n    callback();\n  });\n}*/\n\nasync function rdflibQuery(queryString){\n  return new Promise(async (resolve,reject)=>{\n    try {\n      let quadStore = new N3.Store();\n      store.state.rs.rdfStore.match(null, null, null).forEach(stm => {\n        quadStore.addQuad( stm.subject,stm.predicate,stm.object )\n      });\n      //let quadStore = store.state.rs.rdfStore;\n      let allResults = []\n      comunicaQuery(queryString, (results)=>{\n        allResults.push(results)\n      },quadStore,()=>{resolve(allResults)})\n    }\n    catch(e) { console.log(e); reject(e) }\n });\n}\n\nfunction buf2hex(buffer) { // buffer is an ArrayBuffer\n  return [...new Uint8Array(buffer)]\n      .map(x => x.toString(16).padStart(2, '0'))\n      .join('');\n}\n\nasync function test(queryString){\n  var startTime = performance.now();\n  const results = await rdflibQuery(queryString);\n  var endTime = performance.now();\n  console.log(`Whole process took: ${endTime - startTime} milliseconds`);\n  console.log(results);\n}\n\n\nexport default {\n  id: fl,\n  name: 'FilesLib',\n  data() {\n    return {\n      valid: true,\n      currentPOD: this.$route.query.location,\n      currentContainer: '',\n      uploadDisabled: true,\n      files:[],\n      currentUploading: '',\n      uploadPercentage: 0,\n      fileDetails: {},\n      selectedFileURI: \"\",\n      selectedFileName: \"\",\n      selectedFileChange: \"\",\n      createContainerName: \"\",\n      crosslinkFunctionURI: \"\",\n      parentContainer: \"\",\n      loading: false,\n      downloading: false,\n      dialog: false,\n      alertBox: false,\n      alertTitle: \"\",\n      alertText: \"\",\n      items: [\n        { uri: this.$route.query.location, filename: 'folder', title: 'Home', subtitle: '' },\n      ],\n      filelistitems: [],\n    }\n  },\n  methods: {\n      scrollMeTo(refName) {\n        var element = this.$refs[refName];\n        var top = element.offsetTop;\n        window.scrollTo(0, top);\n      },\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      addFile(e) {\n        let droppedFiles = e.dataTransfer.files;\n        if(!droppedFiles) return;\n        // this tip, convert FileList to array, credit: https://www.smashingmagazine.com/2018/01/drag-drop-file-uploader-vanilla-js/\n        ([...droppedFiles]).forEach(f => {\n          this.files.push(f);\n        });\n        this.uploadDisabled = false;\n      },\n      removeFile(file){\n        this.files = this.files.filter(f => {\n          return f != file;\n        });     \n      },\n      goToPodSelect(){\n        this.$router.push({path: \"PodSelect\", query: {location: this.$route.query.location, select: this.$route.query.select} });\n      },\n      goToPDFviewer(PDFuri){\n        this.$router.push({path: \"PDFviewer\", query: {location: this.$route.query.location, select: PDFuri} });\n      },\n      async openDocumentInZoho(documentURI, filename){\n        socket = websocketconnect();\n        waitForSocketConnection(socket, function(){\n            socket.send(\"filename:\"+filename);\n        });\n        this.downloading = true;\n        try {\n          const res = await window.solid.session.fetch(\n            documentURI, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n          console.log(res);\n          console.log(\"Sending to server\");\n          socket.binaryData = \"hex\";\n          const fileStream = streamSaver.createWriteStream(filename);\n          const writer = fileStream.getWriter();\n\n          const reader = res.body.getReader();\n          var parts = [];\n          socket = websocketconnect();\n          const pump = () => reader.read()\n            .then(({ value, done }) => {\n              if (done){\n                //console.log('Finished.');\n                /*const blob = new Blob(parts, { type: \"application\" });\n                socket = websocketconnect();\n                waitForSocketConnection(socket, function(){\n                    socket.send(blob);\n                });*/\n                //this.loading = false;\n                waitForSocketConnection(socket, function(){\n                  socket.send(\"done:\");\n                });\n                writer.close();\n              } else {\n                //parts.push(value);\n                //const blob = new Blob(value, { type: \"application\" });\n                //console.log(value);\n                waitForSocketConnection(socket, function(){\n                    socket.send(buf2hex(value));\n                });\n                writer.write(value);\n                return writer.ready.then(pump);\n              }\n            });\n\n          await pump()\n            .then(() => console.log('Closed the stream, Done writing'))\n            .catch(err => console.log(err));\n          \n          \n        } catch (error) {\n          console.log(error);\n        }\n\n\n\n      },\n      async download(uri, filename){\n        this.downloading = true;\n        try {\n          const res = await window.solid.session.fetch(\n            uri, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n          console.log(res);\n          const fileStream = streamSaver.createWriteStream(filename);\n          const writer = fileStream.getWriter();\n\n          const reader = res.body.getReader();\n\n          const pump = () => reader.read()\n            .then(({ value, done }) => {\n              if (done) writer.close();\n              else {\n                writer.write(value);\n                return writer.ready.then(pump);\n              }\n            });\n\n          await pump()\n            .then(() => console.log('Closed the stream, Done writing'))\n            .catch(err => console.log(err));\n          this.downloading = false;\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      async deleteFile(uri, filename){\n        this.loading = true;\n        try {\n          store.state.rs.rdfStore.match(null, null, $rdf.sym(uri)).forEach(triple => {\n            console.log(\"Removing triple...\")\n            store.state.rs.rdfStore.removeStatement(triple);\n          });\n          store.state.rs.rdfStore.match($rdf.sym(uri), null, null).forEach(triple => {\n            console.log(\"Removing triple...\")\n            store.state.rs.rdfStore.removeStatement(triple);\n          });\n          const res = await window.solid.session.fetch(\n            uri, {\n              method: \"DELETE\",\n              credentials: \"include\",\n              });\n          console.log(res);\n          if(res.status != 404){\n            this.alertTitle = \"DELETED\";\n            this.alertText = \"File: \"+filename+\" has been deleted!\";\n            this.alertBox = true;\n            this.loading = false;\n          } else {\n            this.alertTitle = \"ERROR\";\n            this.alertText = \"File: \"+filename+\" not found!\"\n            this.alertBox = true;\n            this.loading = false;\n          }\n          this.reloadData();\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      startUpload() {\n        this.uploadDisabled = true;\n        let formData = new FormData();\n        this.files.forEach((f,x) => {\n          formData.append('file'+(x+1), f);\n        });\n        if(this.files.length > 0){\n          this.uploadFile(this.files[0], 0);\n        }\n      },\n      async uploadFile(f, x){\n          this.currentUploading = this.files[x].name;\n          console.log(\"Uploading: \"+this.currentUploading)\n          if(!this.files[x].name.includes('.zip')){\n            window.solid.session.fetch(\n            this.currentContainer+f.name, {\n              method: \"PUT\",\n              credentials: \"include\",\n              body: f,\n              headers: {\n                \"Content-Type\": \"\",\n              },\n              onUploadProgress: function( progressEvent ) {\n                this.uploadPercentage = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n                console.log(this.uploadPercentage);\n              }.bind(this)}).then(res => {\n            console.log('done uploading', res);\n            this.removeFile(f);\n            if(this.files.length > 0){\n              this.uploadFile(this.files[0], 0);\n            }\n            if(this.files.length == 0){\n              this.reloadData();\n            }\n            })\n            .catch(e => {\n              console.error(JSON.stringify(e.message));\n            });\n          } else {\n            // Bulk upload zip ----\n            console.log(\"Trying to bulk upload zip.\");\n            window.solid.session.fetch(\n            this.currentContainer+f.name, {\n              method: \"PUT\",\n              credentials: \"include\",\n              body: f,\n              headers: { link: '<https://trinity.graphmetrix.net/node/t_2qv>; rel=\"type\"'\n                }}).then(res => {\n            console.log('done uploading', res);\n            this.removeFile(f);\n            if(this.files.length > 0){\n              this.uploadFile(this.files[0], 0);\n            }\n            if(this.files.length == 0){\n              this.reloadData();\n            }\n            })\n            .catch(e => {\n              console.error(JSON.stringify(e.message));\n            });\n          }\n      },\n      fileSelected(uri){\n        if(this.$route.query.select != uri){\n          this.$router.push({path: this.$route.path, query: {location: this.$route.query.location, select: uri} });\n        }\n        this.scrollMeTo('filedetails');\n        console.log(\"Selected file URI: \", uri);\n        \n        \n        /*let fileListItem = \"\";\n        this.filelistitems.forEach((f,x) => {\n          if(f.uri == uri){\n            fileListItem = f;\n          }\n        });*/\n        // Check if this code can replace the above\n        const fileListItem = this.filelistitems.find(fileitem => {\n          return fileitem.uri === uri;\n        });\n\n\n        this.selectedFileName = fileListItem.filename;\n        this.selectedFileURI = fileListItem.uri;\n        this.selectedFileChange = fileListItem.subtitle;\n        console.log(fileListItem);\n        this.filelDetails = fileListItem;\n      },\n      containerSelected(uri){\n        if(this.currentContainer != uri){\n          this.parentContainer = \"\";\n          this.currentContainer = uri;\n          this.filelistitems = [];\n          console.log(\"Selected file URI: \", uri); \n          //this.getFilesFromURI(this.currentContainer); \n          this.reloadData();\n        }\n      },\n      goToParentContainer(){\n        this.currentContainer = this.parentContainer;\n        this.parentContainer = \"\";\n        this.filelistitems = [];\n        this.reloadData();\n      },\n      reloadData(){\n        console.log(\"Trying to reload!\");\n        this.getContainersFromURI(this.currentContainer);\n        this.getFilesFromURI(this.currentContainer);\n      },\n      getTripleMatches(tripleArray, tripleGraph){\n        let tripleResult = [];\n        tripleArray.forEach((item, i) => {\n          if(i==0){\n            //console.log(\"S: \"+tripleArray[i].subject+\" P: \"+tripleArray[i].predicate+\" O: \"+tripleArray[i].object);\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              tripleResult.push(st);\n            });\n          } else {\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              if(tripleResult.includes(st)){\n                tripleResult = this.arrayRemove(tripleResult, st);\n                tripleResult.push(st);\n              } else {\n                tripleResult.push(st);\n              }\n            });\n          }\n        });\n        return tripleResult;\n      },\n      arrayRemove(arr, value) {\n        return arr.filter(function(ele){\n            return ele != value;\n        });\n      },\n      getFilesFromURI(uri){\n        this.loading = true;\n        var startTime = performance.now();\n        let files = ur.fetchAndSaveTurtle(uri, true).then((successBool) => {\n        var endTime = performance.now();\n        console.log(`Fetch URI took: ${endTime - startTime} milliseconds`);\n        console.log(successBool);\n        \n        this.filelistitems = [];\n        let containedFileURIs = [];\n        let fileURIs = [];\n\n        // Get all URIs contained by the current POD (does also include things that are not files)\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(this.currentContainer), ns.LDP(\"contains\"), null);\n        tripleArray.forEach(item => {\n            if(!containedFileURIs.includes(item.object.value)) {\n              containedFileURIs.push(item.object.value);\n            }\n        });\n\n        // Get all file URIs where contained by POD\n        let fileArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.REG(\"file\"));\n        fileArray.forEach(item => {\n            if(!fileURIs.includes(item.subject.value) && containedFileURIs.includes(item.subject.value)) {\n              fileURIs.push(item.subject.value);\n            }\n        });\n        tripleArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), null);\n        tripleArray.forEach(item => {\n            if(!fileURIs.includes(item.subject.value) && containedFileURIs.includes(item.subject.value) && (item.object.value.includes(\"http://www.w3.org/ns/iana/\") || item.object.value == ns.REG(\"file\"))) {\n              fileURIs.push(item.subject.value);\n            }\n        });\n\n        // Get function URI for crosslink\n        tripleArray = store.state.rs.rdfStore.match(null, ns.NEO(\"i_function\"), ns.RDFS(\"label\"));\n        this.crosslinkFunctionURI = \"\"; // Must be cleared to support multiple containers. So it does not use function from other container.\n        tripleArray.forEach(item5 => {\n            let currentContainerName = uri.slice(0, -1).substring(uri.slice(0, -1).lastIndexOf('/') + 1);\n            let resultName = store.state.rs.rdfStore.match($rdf.sym(item5.subject.value), ns.NEO(\"o_result\"), null);\n            if(resultName[0].object.value.toLowerCase().includes(currentContainerName)) {\n              console.log(\"Did find URI for Crosslink function: \"+item5.subject.value);\n              this.crosslinkFunctionURI = item5.subject.value.substring(item5.subject.value.lastIndexOf('/') + 1);\n              console.log(this.crosslinkFunctionURI);\n            } else {\n              console.log(\"Did NOT find URI for Crosslink function: \"+item5.subject.value);\n            }\n        });\n\n\n        // Get file names\n        fileURIs.forEach((fileitem, i) => {\n          let tripleArray = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.RDFS(\"label\"), null);\n            tripleArray.forEach(item3 => {\n              console.log(\"File: \", item3.object.value);\n              let found = false;\n              this.filelistitems.forEach((item4, i) => {\n                if(item4.title === item3.object.value){ found = true; }\n              });\n\n              // Get the last changed Time\n              let lastChangedTime = \"\";\n              let changeArray = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.NEO(\"m_last-change\"), null);\n              if(changeArray[0]){\n                let lastChangeURI = changeArray[0].object.value;\n                if(lastChangeURI){\n                  let startArray = store.state.rs.rdfStore.match($rdf.sym(lastChangeURI), ns.NEO(\"t_start\"), null);\n                  let startURI = startArray[0].object.value;\n                  if(startURI){\n                    let timeArray = store.state.rs.rdfStore.match($rdf.sym(startURI), ns.NEO(\"o_result\"), null);\n                    lastChangedTime = timeArray[0].object.value;\n                  }\n                }\n                lastChangedTime = moment(lastChangedTime).format('MMMM Do YYYY, HH:mm:ss');\n              }\n\n\n              let loading = false;\n              if(fileitem.substr(fileitem.length - 4) === '.pdf'){\n                loading = true;\n              }\n              let isContainer = store.state.rs.rdfStore.match($rdf.sym(item3.subject.value), ns.RDF(\"type\"), ns.LDP(\"BasicContainer\"))[0];\n              if(!found && !isContainer){\n                this.filelistitems.push({ uri: item3.subject.value, filename: item3.object.value, title: item3.object.value, subtitle: lastChangedTime, crossLinkStatus: \"none\", loading: loading });\n              }\n            });\n          });\n\n          // Get file crosslink status\n          fileURIs.forEach((fileitem, i) => {\n            var cStatus = 'unstarted';\n            if(fileitem.substr(fileitem.length - 4) === '.pdf'){\n              let file = ur.fetchAndSaveTurtle($rdf.sym(fileitem), true).then((successBool) => {\n                  let currentFileElement = this.filelistitems.find(element => element.uri === fileitem);\n                  // Get file crosslink status\n                  let statusProcessing = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.NEO(\"c_trinpod-processing\"), null);\n                  console.log(statusProcessing);\n                  if(statusProcessing[0]){\n                    cStatus = 'processing';\n                  }\n\n                  statusProcessing = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.NEO(\"c_trinpod-read\"), null);\n                  console.log(statusProcessing);\n                  if(statusProcessing[0]){\n                    cStatus = 'linked';\n                  }\n\n                  statusProcessing = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.NEO(\"c_crosslink\"), null);\n                  if(statusProcessing[0]){\n                    cStatus = 'linked';\n                  }\n\n                  console.log(\"cStatus: \"+cStatus);\n                  currentFileElement.crossLinkStatus = cStatus;\n                  currentFileElement.loading = false;\n              });\n            }\n          });\n          \n\n          this.loading = false;\n          return successBool;\n        });\n      },\n      getContainersFromURI(uri){\n        this.checkIfParentFolder(uri);\n        let containers = ur.fetchAndSaveTurtle(uri, true).then((successBool) => {\n          this.items = [];\n          let containedContainerURIs = [];\n          let containerURIs = [];\n\n          containedContainerURIs.push(this.currentContainer); // Adding the current container\n\n          // Get all URIs contained by the current POD (does also include things that are not containers)\n          let tripleArray = store.state.rs.rdfStore.match($rdf.sym(this.currentContainer), ns.LDP(\"contains\"), null);\n          tripleArray.forEach(item => {\n              if(!containedContainerURIs.includes(item.object.value)) {\n                containedContainerURIs.push(item.object.value);\n              }\n          });\n\n          // Get all container URIs where contained by POD\n          tripleArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.LDP(\"BasicContainer\"));\n          tripleArray.forEach(item => {\n              if(!containerURIs.includes(item.subject.value) && containedContainerURIs.includes(item.subject.value)) {\n                containerURIs.push(item.subject.value);\n              }\n          });\n\n          // Get container names\n          containerURIs.forEach((containeritem, i) => {\n              console.log(containeritem);\n              let tripleArray = store.state.rs.rdfStore.match($rdf.sym(containeritem), ns.RDFS(\"label\"), null);\n              tripleArray.forEach(item3 => {\n                console.log(\"Container: \", item3.object.value);\n                let found = false;\n                this.items.forEach((item4, i) => {\n                  if(item4.title === decodeURI(item3.object.value)){ found = true; }\n                });\n\n                // Get the last changed Time\n                let lastChangedTime = this.getLastChangedTime(containeritem);\n                if(!found){\n                  this.items.push({ uri: item3.subject.value, name: decodeURI(item3.object.value), title: decodeURI(item3.object.value), subtitle: lastChangedTime });\n                }\n              });\n              if(tripleArray.length === 0){\n                // Container does not have a label\n                let lastChangedTime = this.getLastChangedTime(containeritem);\n                this.items.push({ uri: containeritem, name: decodeURI(so.getCharactersAfter(so.removeLastCharacter(containeritem), \"/\")), title: decodeURI(so.getCharactersAfter(so.removeLastCharacter(containeritem), \"/\")), subtitle: lastChangedTime });\n              }\n            });\n            return successBool;\n        });\n      },\n      getLastChangedTime(containeritem){\n          // Get the last changed Time\n          let lastChangedTime = \"\";\n          let changeArray = store.state.rs.rdfStore.match($rdf.sym(containeritem), ns.NEO(\"m_last-change\"), null);\n          let lastChangeURI = changeArray[0] ? changeArray[0].object.value : null;\n          if(lastChangeURI){\n            let startArray = store.state.rs.rdfStore.match($rdf.sym(lastChangeURI), ns.NEO(\"t_start\"), null);\n            if(startArray[0]) return \"\";\n            let startURI = startArray[0].object.value;\n            if(startURI){\n              let timeArray = store.state.rs.rdfStore.match($rdf.sym(startURI), ns.NEO(\"o_result\"), null);\n              lastChangedTime = timeArray[0].object.value;\n            }\n          }\n          return moment(lastChangedTime).format('MMMM Do YYYY, HH:mm:ss');\n      },\n      checkIfParentFolder(uri){\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.LDP(\"contains\"), $rdf.sym(uri));\n          tripleArray.forEach(item => {\n              console.log(\"Parent found:\", item.subject.value);\n              if(item.subject.value != this.currentPOD){\n                this.parentContainer = item.subject.value;\n              } else {\n                this.parentContainer = \"\";\n              }\n          });\n      },\n      async createContainer(containerName){\n        let createContainerURL = this.currentContainer + encodeURI(containerName) + \"/\"; // Very important to add the / in end of url - Espen\n        if (containerName.length >= 3){\n          this.loading = true;\n          try {\n            console.log(\"Trying to create container..\");\n            await window.solid.session.fetch(\n              createContainerURL, {\n                method: \"PUT\",\n                credentials: \"include\",\n                body:'<> <http://www.w3.org/2000/01/rdf-schema#label> \"' + encodeURI(containerName) +'\" .',\n                headers: {\n                  \"Content-Type\": \"text/turtle\",\n                  \"link\": '<http://www.w3.org/ns/ldp#Container>; rel=\"type\", <http://www.w3.org/ns/ldp#BasicContainer>; rel=\"type\"',\n                },\n            }).then((res) => {\n              console.log(\"Container response:\");\n              console.log(res);\n              this.dialog = false;\n              this.loading = false;\n              this.reloadData();\n              this.createContainerName = \"\";\n            });\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          console.log(\"Containername is too short.\");\n        }\n      },\n      async startCrossLink(fileURI){\n        const timeElapsed = new Date();\n        const date = new Date(timeElapsed);\n        this.filelistitems.forEach((file, i) => {\n          if(file.uri === fileURI){ file.loading = true; }\n        });\n        let turtleString = `INSERT DATA {@prefix u1: <`+store.state.webId.slice(0, -1)+`node/>.\n@prefix solid: <http://www.w3.org/ns/solid/terms#>.\n@prefix neo: <https://neo.graphmetrix.net/node/>.\n@prefix ldp: <http://www.w3.org/ns/ldp#>.\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.\n@prefix sio: <http://semanticscience.org/resource/>.\n@prefix acl: <http://www.w3.org/ns/auth/acl#>.\n@prefix vcard: <http://www.w3.org/2006/vcard/ns#>.\n\n_:13 neo:i_function <http://purl.org/NET/c4dm/timeline.owl#at>;\n    neo:o_result \"`+date.toISOString()+`\"^^<http://www.w3.org/2001/XMLSchema#dateTime>.\n_:12 neo:t_start _:13;\n    <http://purl.obolibrary.org/obo/OBI_0000308> u1:`+this.crosslinkFunctionURI+`.\n<`+fileURI+`> sio:SIO_000230 _:12.\n}`;\n        console.log(turtleString);\n        if(this.crosslinkFunctionURI.length >= 1){ // Check if Function URI has been obtained.\n            let res = await window.solid.session.fetch(\n            this.currentPOD+'node/Substance', {\n              method: \"PATCH\",\n              credentials: \"include\",\n              body: turtleString,\n              headers: {\n                \"Content-Type\": \"application/sparql-update\",\n              },\n            });\n            console.log(res);\n            addToStores($rdf.sym(fileURI), ns.NEO(\"c_trinpod-processing\"), date.toISOString());\n            this.reloadData();\n        } else {\n          alert(\"Unable to get required function for crosslink!!\");\n        }\n      },\n  },\n  computed: {\n      svgFile() {\n        return (filename) => getIcon(filename).svg;\n      },\n      checkCurrentUploading(){\n        return (listedfile) => {\n          if(listedfile==this.currentUploading){\n            return true;\n          } else {\n            return false;\n          }\n        }\n      }\n  },\n  watch: {\n    files(){\n      console.log(this.files);\n\n    },\n    currentUploading(){\n      console.log(this.currentUploading);\n    }\n  },\n  mounted(){\n      this.checklogin();      \n      this.currentPOD = this.$route.query.location;\n      this.currentContainer = this.$route.query.location+'home/';\n      if(!this.$route.query.location){\n        this.goToPodSelect();\n      }\n      this.reloadData();\n\n      const form = document.getElementById('form');\n      \n      /*form.addEventListener('submit', function(e) {\n          // Prevent default behavior:\n          console.log(e);\n      })*/\n  },\n  created(){\n      console.log(\"connecting..\")\n      socket = websocketconnect();\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    right: 0px;\n    left: 0px;\n    padding: 0px;\n    padding-left: 10px;\n    margin-top: 0px;\n    margin-bottom: 0px;\n    margin-left: 0px;\n    margin-right: 0px;\n}\n.filemenu {\n  display: flex;\n  justify-content: space-between;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n#wrapper {\n  display: flex;\n}\n.left {\n  flex: 0 0 40%;\n  max-width: 40%;\n  margin: 15px;\n  align: left;\n}\n\n.right {\n  flex: 1;\n  min-width: 55%;\n  max-width: 55%;\n  margin: 15px;\n  align: left;\n}\n\n@media screen and (max-width: 1000px) {\n  #wrapper {\n    display: block;\n    flex-direction: row;\n  }\n  .left, .right{\n    position: relative;\n    max-width: 100%;\n    float:none;\n    height: fit-content;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesLib.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesLib.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilesLib.vue?vue&type=template&id=181dfa8c&scoped=true&\"\nimport script from \"./FilesLib.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesLib.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilesLib.vue?vue&type=style&index=0&id=181dfa8c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"181dfa8c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VDivider,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VProgressCircular,VRow,VSpacer,VSubheader,VTextField,VTooltip})\n","<template>\n  <div class=\"feedback\">\n    <FilesLib msg=\"Show files library form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport FilesLib from '../components/FilesLib.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'FilesLibV',\n  components: {\n    FilesLib\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesLibV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesLibV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilesLibV.vue?vue&type=template&id=69770f5a&\"\nimport script from \"./FilesLibV.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesLibV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('PodSelect',{attrs:{\"msg\":\"Show files library form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",attrs:{\"id\":\"wrapper\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.addFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"left\",attrs:{\"align\":\"left\"}},[_c('v-card',{staticClass:\"wrapper\",attrs:{\"width\":\"100%\"}},[_c('div',{staticClass:\"filemenu\",staticStyle:{\"width\":\"100%\",\"text-align\":\"right\",\"background-color\":\"#3577cb\"}},[_c('span',[_c('v-btn',{staticStyle:{\"margin-left\":\"0px\",\"margin-right\":\"auto\"},attrs:{\"icon\":\"\"},on:{\"click\":_vm.goBack}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-arrow-left\")])],1)],1),_c('span',[(_vm.loading)?_c('v-progress-circular',{key:_vm.loading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-right\":\"15px\"},attrs:{\"indeterminate\":\"\",\"color\":\"white\"}}):_vm._e(),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.reloadData(true)}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-reload\")])],1)],1)]),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(_vm._s(_vm.$t(\"text_pods\")))]),_vm._l((_vm.podlist),function(item){return _c('v-list-item',{key:item.subtitle,class:{'container': item.subtitle.substring(0, item.subtitle.length - 1)==_vm.currentPod},on:{\"click\":function($event){return _vm.podSelected(item.subtitle)}}},[_vm._l((item.podlevel),function(i){return [_c('span',{staticStyle:{\"width\":\"10px\"}})]}),(item.podtype=='Building')?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/building2.png\")}}):(item.podtype=='Site')?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/position2.png\")}}):(item.podtype=='Personal')?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/person2.png\")}}):(item.podtype=='Organization')?_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"../assets/organization3.png\")}}):_vm._e(),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.subtitle)}})],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-information\")])],1)],1)],2)})],2)],1)],1),_c('div',{ref:\"filedetails\",staticClass:\"right\",attrs:{\"align\":\"left\"}},[(_vm.selectedPod.title!='')?_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(_vm._s(_vm.$t(\"text_pod_details\")))]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(_vm.selectedPod.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(_vm.selectedPod.subtitle)}}),_c('br'),_vm._v(\" \"+_vm._s(_vm.selectedPod.podtype+\" POD\")+\" \")],1),(_vm.selectedPod.podtype=='Building')?_c('img',{staticClass:\"iconbig\",attrs:{\"src\":require(\"../assets/building2.png\")}}):(_vm.selectedPod.podtype=='Site')?_c('img',{staticClass:\"iconbig\",attrs:{\"src\":require(\"../assets/position2.png\")}}):(_vm.selectedPod.podtype=='Personal')?_c('img',{staticClass:\"iconbig\",attrs:{\"src\":require(\"../assets/person2.png\")}}):(_vm.selectedPod.podtype=='Organization')?_c('img',{staticClass:\"iconbig\",attrs:{\"src\":require(\"../assets/organization3.png\")}}):_vm._e()],1),(_vm.organizationpodSelected)?_c('div',[_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-subheader',[_vm._v(_vm._s(_vm.$t(\"text_employees\")))]),_vm._l((_vm.employeeList),function(employee){return _c('v-list-item',{key:employee.subtitle,class:{'container': employee.subtitle.substring(0, employee.subtitle.length - 1)==_vm.currentPod},on:{\"click\":function($event){return _vm.podSelected(employee.subtitle)}}},[_c('v-list-item-avatar',{attrs:{\"color\":employee.color || '#FF0000',\"size\":\"48\"}},[_c('span',{staticClass:\"white--text text-h5\"},[_vm._v(_vm._s(employee.initials))])]),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(employee.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(employee.subtitle)}})],1),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-information\")])],1)],1)],1)}),_c('br'),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('v-subheader',[_vm._v(_vm._s(_vm.$t(\"text_employee_new\")))]),_c('div',{staticClass:\"inputwrapper\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Employee URI\",\"required\":\"\"},model:{value:(_vm.newEmployeeURI),callback:function ($$v) {_vm.newEmployeeURI=$$v},expression:\"newEmployeeURI\"}}),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.addEmployee}},[_vm._v(\" \"+_vm._s(_vm.$t(\"text_add\"))+\" \")])],1)],1),_c('br')],2):_vm._e()],1),_c('div')]):_vm._e()],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.whatToDoVisible),callback:function ($$v) {_vm.whatToDoVisible=$$v},expression:\"whatToDoVisible\"}},[_c('WhatToDo',{attrs:{\"dialog\":_vm.whatToDoVisible},on:{\"update:dialog\":function($event){_vm.whatToDoVisible=$event}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeview}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"text_what_to_do\")))]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){}}},[_vm._v(\" Reload \")])],1)],1),_c('v-container',{staticClass:\"container\"},[_c('v-row',[_c('v-col',[_c('div',{staticClass:\"title\"},[_vm._v(\"Where do you want to start?\")]),_c('hr',{staticClass:\"hr1\"})])],1),_c('v-row',[_c('v-col',[_c('v-card',{attrs:{\"color\":\"#3577cb\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" Get overview of bed capacity for rooms \")]),_c('v-card-subtitle',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"You will be sent to the capacity app, where you can select building or site to focus on. You will here be able to look at room bed capacities.\")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Capacity')}}},[_vm._v(\" START NOW \")])],1)],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-card',{attrs:{\"color\":\"#5597eb\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" Search for information in all files and data \")]),_c('v-card-subtitle',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"You will be sent to search app, where you can search for things located anywhere in your available data. You can find paragraphs, rooms, and building objects.\")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.followLink('Search')}}},[_vm._v(\" SEARCH NOW \")])],1)],1)],1)],1),_c('v-row',[_c('v-col',[_c('v-card',{attrs:{\"color\":\"#1566ab\",\"dark\":\"\"}},[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\" Advanced: Select POD to work on \")]),_c('v-card-subtitle',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"You will be sent to the POD selector app, where you will need to select between organization, site and building pods. From there you will have to use the menu to navigate to other apps. The other apps will then use the selected POD as source for data.\")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeview}},[_vm._v(\" START NOW \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar\n      dark\n      color=\"primary\"\n    >\n      <v-btn\n        icon\n        dark\n        @click=\"closeview\"\n      >\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n      <v-toolbar-title>{{ $t(\"text_what_to_do\")}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n        <v-btn\n          dark\n          text\n          @click=\"\"\n        >\n          Reload\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n\n    <v-container class=\"container\">\n      <v-row>\n        <v-col>\n          <div class=\"title\">Where do you want to start?</div>\n          <hr class=\"hr1\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col>\n          <v-card color=\"#3577cb\" dark>\n              <v-card-title class=\"text-h5\">\n                Get overview of bed capacity for rooms\n              </v-card-title>\n\n              <v-card-subtitle style=\"text-align: left;\">You will be sent to the capacity app, where you can select building or site to focus on. You will here be able to look at room bed capacities.</v-card-subtitle>\n\n              <v-card-actions>\n                <v-btn text @click=\"followLink('Capacity')\">\n                  START NOW\n                </v-btn>\n              </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col>\n          <v-card color=\"#5597eb\" dark>\n              <v-card-title class=\"text-h5\">\n                Search for information in all files and data\n              </v-card-title>\n\n              <v-card-subtitle style=\"text-align: left;\">You will be sent to search app, where you can search for things located anywhere in your available data. You can find paragraphs, rooms, and building objects.</v-card-subtitle>\n\n              <v-card-actions>\n                <v-btn text @click=\"followLink('Search')\">\n                  SEARCH NOW\n                </v-btn>\n              </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col>\n          <v-card color=\"#1566ab\" dark>\n              <v-card-title class=\"text-h5\">\n                Advanced: Select POD to work on\n              </v-card-title>\n\n              <v-card-subtitle style=\"text-align: left;\">You will be sent to the POD selector app, where you will need to select between organization, site and building pods. From there you will have to use the menu to navigate to other apps. The other apps will then use the selected POD as source for data.</v-card-subtitle>\n\n              <v-card-actions>\n                <v-btn text @click=\"closeview\">\n                  START NOW\n                </v-btn>\n              </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n\n  </v-card>\n\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport so from './util-s.js';\nimport u from './util.js';\nimport ur from './util-rdf.js';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\n\nconst wtd = {}\n\nexport default {\n  id: wtd,\n  name: 'WhatToDo',\n  data() {\n    return {\n      documenturl: '',\n    }\n  },\n  methods: {\n    closeview(){\n      console.log(\"Close view\");\n      store.state.whatToDoVisible = false;\n    },\n    reloadview(){\n      \n    },\n    followLink(linkName){\n      if(!this.$route.path.includes(linkName)){\n        this.$router.push({path: linkName, query: {location: this.$route.query.location, select: this.$route.query.select} });\n      }\n    },\n  },\n  computed: {\n\n  },\n  watch: {\n\n  },\n  mounted(){\n      this.documenturl = this.$route.query.select;\n      if(!this.$route.query.location){\n        this.$router.push({path: this.$route.path, query: {select: this.documenturl} });\n      }\n      \n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    width: 100vw;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\n.title {\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: 10px;\n  color: #05569b;\n  font-size: 55px;\n  text-align: left;\n}\n.simpletable{\n  max-width: 300px;\n  margin-top: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n  text-align: left;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #000000;\n  font-size: 16px;\n  text-align: left;\n}\n#wrapper {\n  width: 100%;\n  height: 100%;\n}\n#frame {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n  text-align: left;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatToDo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatToDo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WhatToDo.vue?vue&type=template&id=797cdef6&scoped=true&\"\nimport script from \"./WhatToDo.vue?vue&type=script&lang=js&\"\nexport * from \"./WhatToDo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WhatToDo.vue?vue&type=style&index=0&id=797cdef6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"797cdef6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardTitle,VCol,VContainer,VIcon,VRow,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","<template>\n\n  <div id=\"wrapper\" class=\"wrapper\" v-cloak @drop.prevent=\"addFile\" @dragover.prevent>\n\n  <div class=\"left\" align=\"left\">\n  <v-card\n    class=\"wrapper\"\n    width=\"100%\"\n  >\n    <div class=\"filemenu\" style=\"width: 100%; text-align: right; background-color: #3577cb;\">\n    <span>\n      <v-btn style=\"margin-left: 0px; margin-right:auto;\" icon @click=\"goBack\">\n        <v-icon style=\"color: white;\">mdi-arrow-left</v-icon>\n      </v-btn>\n    </span>\n    <span>\n      <v-progress-circular v-if=\"loading\" :key=\"loading\" style=\"width: 20px; height: 20px; margin-right: 15px;\" indeterminate color=\"white\"></v-progress-circular>\n      <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"reloadData(true)\">\n        <v-icon style=\"color: white;\">mdi-reload</v-icon>\n      </v-btn>\n    </span>\n    </div>\n\n    <v-divider dark style=\"background-color: lightgray\"></v-divider>\n    <v-list two-line subheader>\n      <v-subheader>{{ $t(\"text_pods\") }}</v-subheader>\n\n      <v-list-item\n        v-for=\"item in podlist\"\n        :key=\"item.subtitle\"\n        @click=\"podSelected(item.subtitle)\"\n        :class=\"{'container': item.subtitle.substring(0, item.subtitle.length - 1)==currentPod}\"\n      >\n        <template v-for=\"i in item.podlevel\" >\n          <span style=\"width:10px;\"></span>\n        </template>\n\n        <img class=\"icon\" v-if=\"item.podtype=='Building'\" src='../assets/building2.png'/>\n        <img class=\"icon\" v-else-if=\"item.podtype=='Site'\" src='../assets/position2.png'/>\n        <img class=\"icon\" v-else-if=\"item.podtype=='Personal'\" src='../assets/person2.png'/>\n        <img class=\"icon\" v-else-if=\"item.podtype=='Organization'\" src='../assets/organization3.png'/>\n        \n        <v-list-item-content>\n          <v-list-item-title v-text=\"item.title\"></v-list-item-title>\n          <v-list-item-subtitle v-text=\"item.subtitle\"></v-list-item-subtitle>\n          <!--<v-list-item-subtitle v-text=\"item.parentpod+' '+item.podlevel\"></v-list-item-subtitle>-->\n        </v-list-item-content>\n\n        <v-list-item-action>\n          <v-btn icon>\n            <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\n          </v-btn>\n        </v-list-item-action>\n      </v-list-item>\n\n    </v-list>\n  </v-card>\n\n  </div>\n\n  <div class=\"right\" ref=\"filedetails\" align=\"left\">\n\n  <v-card v-if=\"selectedPod.title!=''\" class=\"mx-auto\">\n  <div style=\"margin-bottom: 20px;\">\n\n    <v-list-item three-line>\n      <v-list-item-content>\n        <div class=\"overline mb-4\">{{ $t(\"text_pod_details\") }}</div>\n        <v-list-item-title class=\"headline mb-1\" v-text=\"selectedPod.title\"></v-list-item-title>\n        <v-list-item-subtitle v-text=\"selectedPod.subtitle\"></v-list-item-subtitle>\n        <br/>\n        {{ selectedPod.podtype+\" POD\" }}\n      </v-list-item-content>\n\n        <img class=\"iconbig\" v-if=\"selectedPod.podtype=='Building'\" src='../assets/building2.png'/>\n        <img class=\"iconbig\" v-else-if=\"selectedPod.podtype=='Site'\" src='../assets/position2.png'/>\n        <img class=\"iconbig\" v-else-if=\"selectedPod.podtype=='Personal'\" src='../assets/person2.png'/>\n        <img class=\"iconbig\" v-else-if=\"selectedPod.podtype=='Organization'\" src='../assets/organization3.png'/>\n    </v-list-item>\n\n    <div v-if=\"organizationpodSelected\">\n      <v-divider dark style=\"background-color: lightgray\"></v-divider>\n      <v-subheader>{{ $t(\"text_employees\") }}</v-subheader>\n      <v-list-item\n        v-for=\"employee in employeeList\"\n        :key=\"employee.subtitle\"\n        @click=\"podSelected(employee.subtitle)\"\n        :class=\"{'container': employee.subtitle.substring(0, employee.subtitle.length - 1)==currentPod}\"\n      >\n        <v-list-item-avatar :color=\"employee.color || '#FF0000'\" size=\"48\">\n          <span class=\"white--text text-h5\">{{ employee.initials }}</span>\n        </v-list-item-avatar>\n\n        <v-list-item-content>\n          <v-list-item-title v-text=\"employee.title\"></v-list-item-title>\n          <v-list-item-subtitle v-text=\"employee.subtitle\"></v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-action>\n          <v-btn icon>\n            <v-icon color=\"grey lighten-1\">mdi-information</v-icon>\n          </v-btn>\n        </v-list-item-action>\n      </v-list-item>\n      <br>\n      <v-divider dark style=\"background-color: lightgray\"></v-divider>\n      <v-subheader>{{ $t(\"text_employee_new\") }}</v-subheader>\n      <div class=\"inputwrapper\">\n        <v-form\n            ref=\"form\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-text-field\n              v-model=\"newEmployeeURI\"\n              label=\"Employee URI\"\n              required\n            ></v-text-field>\n\n            <v-btn\n              :disabled=\"!valid\"\n              color=\"success\"\n              class=\"mr-4\"\n              @click=\"addEmployee\"\n            >\n              {{ $t(\"text_add\") }}\n            </v-btn>\n          </v-form>\n        </div>\n        <br>\n      </div>\n      </div>\n  <div>\n  </div>\n  </v-card>\n  </div>\n\n\n  <v-row justify=\"center\">\n    <v-dialog\n      v-model=\"whatToDoVisible\"\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n    <WhatToDo :dialog.sync=\"whatToDoVisible\" />\n    </v-dialog>\n    </v-row>\n  </div>\n\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport WhatToDo from './WhatToDo.vue';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport so from './util-s.js';\nimport c from './util-c.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport l from './TrinityLogin.vue';\nimport { getIcon } from 'material-file-icons';\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\nimport Vue from 'vue';\n\n\n\nconst ps = {}\n\n\nfunction addToStores(subject, predicate, object){\n  store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n}\n\nexport default {\n  id: ps,\n  name: 'PodSelect',\n  components: {\n      WhatToDo\n  },\n  data() {\n    return { \n      valid: true,\n      currentPOD: '',\n      currentPod: this.$route.query.location,\n      selectedPod: { filename: 'pod', title: \"\", subtitle: \"\", parentpod: \"\", podlevel: 0 },\n      files:[],\n      fileDetails: {},\n      createContainerName: \"\",\n      loading: false,\n      employeeList: [],\n      podlist: [],\n      newEmployeeURI: \"\",\n      organizationpodSelected: false,\n      whatToDoVisible: false,\n    }\n  },\n  methods: {\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      goBack() {\n        history.back();\n      },\n      podSelected(uri){\n        this.employeeList = [];\n        uri = uri.substr(uri.length - 2) === \"/i\" ? uri.substring(0, uri.length - 1) : uri; // Removes i from the location\n        this.currentPod = uri;\n        if(this.$route.query.location !== uri){\n          this.$router.push({path: this.$route.path, query: {location: uri, select: this.$route.query.select} });\n        }\n        // Set pod list organization.\n        //this.podList.\n        console.log(\"Selected Pod: \", uri);\n        this.podlist.filter(element => element.subtitle == uri+\"i\").forEach((pod, podindex) => {\n          this.selectedPod = pod;\n          if(pod.podtype.includes(\"Organization\")){\n            this.organizationpodSelected = true;\n          } else {\n            this.organizationpodSelected = false;\n          }\n        });\n        this.getEmployees(uri+'i');\n      },\n      reloadData(force){\n        console.log(\"Trying to reload: \"+store.state.webId);\n        this.getPodsFromURI(store.state.webId, force);\n      },\n      getTripleMatches(tripleArray, tripleGraph){\n        let tripleResult = [];\n        tripleArray.forEach((item, i) => {\n          if(i==0){\n            //console.log(\"S: \"+tripleArray[i].subject+\" P: \"+tripleArray[i].predicate+\" O: \"+tripleArray[i].object);\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              tripleResult.push(st);\n            });\n          } else {\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              if(tripleResult.includes(st)){\n                tripleResult = this.arrayRemove(tripleResult, st);\n                tripleResult.push(st);\n              } else {\n                tripleResult.push(st);\n              }\n            });\n          }\n        });\n        return tripleResult;\n      },\n      arrayRemove(arr, value) {\n        return arr.filter(function(ele){\n            return ele != value;\n        });\n      },\n      async getPodsFromURI(uri, force){\n        this.podlist = [];\n        this.loading = true;\n        let containedPodURIs = [];\n        let pods = await ur.fetchAndSaveTurtle(uri, force);\n        console.log(pods)\n\n          \n        containedPodURIs.push(uri);\n        let didFetchNewURI = true;\n        while(didFetchNewURI){ // Loop until all pod cards have been checked.\n          didFetchNewURI = false;\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.FOAF(\"maker\"), null);\n          let tripleArray2 = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.ORG(\"Organization\")); // Get all organization trinpods\n          let tripleArray3 = store.state.rs.rdfStore.match(null, ns.ACL(\"owner\"), null); // Get all site trinpods\n          let tripleArray4 = store.state.rs.rdfStore.match(null, ns.ORG(\"hasMember\"), null); // Get all site trinpods\n          let tripleArray5 = store.state.rs.rdfStore.match(null, ns.DCTERMS(\"contributor\"), null);\n          tripleArray2.forEach(tp => { tripleArray.push(tp) });\n          tripleArray3.forEach(tp => { tripleArray.push(tp) });\n          tripleArray4.forEach(tp => { tripleArray.push(tp) });\n          tripleArray5.forEach(tp => { tripleArray.push(tp) });\n          for(let i=0; i<tripleArray.length; i++){\n            const subject = tripleArray[i].subject.value;\n            const object = tripleArray[i].object.value;\n            if(subject.slice(-2).includes(\"/i\")){\n              if(!containedPodURIs.includes(subject.substring(0, subject.length - 2)) && !containedPodURIs.includes(subject)) { // Check if it contains the exact same or without /i in the end.\n                containedPodURIs.push(subject);\n                let pod = await ur.fetchAndSaveTurtle(subject, force);\n                if(pod) didFetchNewURI = true;\n              }\n            }\n            if(object.slice(-2).includes(\"/i\")){\n              if(!containedPodURIs.includes(object.substring(0, object.length - 2)) && !containedPodURIs.includes(object)) { // Check if it contains the exact same or without /i in the end.\n                containedPodURIs.push(object);\n                let pod = await ur.fetchAndSaveTurtle(object, force);\n                if(pod) didFetchNewURI = true;\n              }\n            }\n          }\n        }\n        console.log(containedPodURIs); // Problem is that not all pods are returned in this array. Must fetch\n\n        for(let cPod=0; cPod<containedPodURIs.length; cPod++){\n          /*let pods = await ur.fetchAndSaveTurtle(containedPodURIs[cPod], force); \n          console.log(\"Pods\");\n          console.log(pods);*/\n          this.podlist.filter(element => element.subtitle == containedPodURIs[cPod]).forEach((listitem) => {\n            try{\n              listitem.title = store.state.rs.rdfStore.match($rdf.sym(listitem.subtitle), ns.FOAF(\"name\"), null)[0].object || \"\";\n            } catch (error){\n              console.log(error);\n            }\n            let obj = ur.parseLinkHeader(listitem.subtitle);\n            if(obj.type){\n              if(!obj.type.includes(\"http://xmlns.com/foaf/0.1/PersonalProfileDocument\")){\n                this.podlist.splice(listitem, 1);\n              }\n            }\n          });\n          containedPodURIs.forEach((puri, ind) => {\n            if(puri=='') containedPodURIs.splice(ind, 1);\n          });\n          if(cPod == containedPodURIs.length-1) {\n            console.log(\"Listing pods..\")\n            this.setPodNames(containedPodURIs, uri);\n          }\n        }\n      },\n      setPodNames(containedPodURIs, rootPod){\n          let podListHierarchy = [];\n          // Add to pods list\n          containedPodURIs.forEach((poditem, i) => {\n            poditem = poditem.substr(poditem.length - 2) === \"/i\" ? poditem : poditem+\"/i\";\n            this.podlist.push({ filename: 'pod', title: \"POD\", subtitle: poditem, parentpod: \"\", podlevel: 0 });\n          });\n\n          // Set pod hierachy\n          let plevel = 0;\n          podListHierarchy.push({ filename: 'pod', title: \"POD\", subtitle: rootPod, parentpod: \"\", podlevel: plevel, podtype: \"Personal\" });\n          // Must be looped until no more sub pods are found.\n          for(let pl = 0; pl <= 20; pl++){ // Looping max 20 levels of pods for infinite security\n            console.log(\"Looping round: \"+pl);\n            let found = false;\n            podListHierarchy.filter(element => element.podlevel == pl).forEach((pod, podindex) => {\n              const topPodLevel = [];\n              store.state.rs.rdfStore.match(null, ns.FOAF(\"maker\"), $rdf.sym(pod.subtitle)).forEach(item => {\n                if(!topPodLevel.includes(item)) topPodLevel.push(item);\n              });\n              store.state.rs.rdfStore.match(null, ns.ORG(\"hasMember\"), $rdf.sym(pod.subtitle)).forEach(item => {\n                if(!topPodLevel.includes(item)) topPodLevel.push(item);\n              });\n              topPodLevel.forEach(somesubitem => {\n                if(containedPodURIs.includes(somesubitem.subject.value) && somesubitem.subject.value != pod.subtitle){ // Check if in list of pods and not same as current pod.\n                  console.log(\"Found child pod: \"+somesubitem.subject.value);\n                  let podtype = \"\";\n                  let exists = podListHierarchy.some( element => element['subtitle'] === somesubitem.subject.value );\n                  if(store.state.rs.rdfStore.match($rdf.sym(somesubitem.subject.value), ns.ACL(\"owner\"), null).length>=1) exists = true; // Do not add if it has an owner. Filters only first level of organization tree\n                  if(store.state.rs.rdfStore.match($rdf.sym(somesubitem.subject.value), ns.RDF(\"type\"), ns.ORG(\"Organization\")).length>=1) podtype = \"Organization\";\n                  if(!exists) podListHierarchy.splice(podindex+1, 0, { filename: 'pod', title: \"POD\", subtitle: somesubitem.subject.value, podtype: podtype, parentpod: pod.subtitle, podlevel: pl+1 });\n                  if(!exists) found = true;\n                }\n              });\n              store.state.rs.rdfStore.match($rdf.sym(pod.subtitle), ns.ORG(\"hasSubOrganization\"), null).forEach(suborg => {\n                if(containedPodURIs.includes(suborg.object.value) && suborg.object.value != pod.subtitle){ // Check if in list of pods and not same as current pod.\n                    let exists = podListHierarchy.some( element => element['subtitle'] === suborg.object.value );\n                    if(!exists) podListHierarchy.push({ filename: 'pod', title: \"POD\", subtitle: suborg.object.value, podtype: \"Organization\", parentpod: pod.subtitle, podlevel: pl+1 });\n                    if(!exists) found = true;\n                }\n              });\n              store.state.rs.rdfStore.match(null, ns.FRBR(\"owner\"), $rdf.sym(pod.subtitle)).forEach(site => {\n                if(containedPodURIs.includes(site.subject.value) && site.subject.value != pod.subtitle){ // Check if in list of pods and not same as current pod.\n                  let exists = podListHierarchy.some( element => element['subtitle'] === site.subject.value );\n                  if(!exists) {\n                    let podtype = \"Site\";\n                    let podlevel = pl+1;\n                    if(store.state.rs.rdfStore.match($rdf.sym(site.subject.value), ns.RDF(\"type\"), ns.BOT(\"Site\")).length==0 || store.state.rs.rdfStore.match($rdf.sym(site.subject.value), ns.RDF(\"type\"), ns.BOT(\"Building\")).length>=1){\n                      podtype = \"Building\";\n                      podlevel = pl+2;\n                    } \n                    podListHierarchy.push({ filename: 'pod', title: \"POD\", subtitle: site.subject.value, podtype: podtype, parentpod: pod.subtitle, podlevel: podlevel });\n                  } else {\n                    podListHierarchy.filter( element => element['subtitle'] == site.subject.value ).forEach(site1 => {\n                      site1.parentpod = pod.subtitle;\n                      site1.podlevel = pl+1;\n                      if(store.state.rs.rdfStore.match($rdf.sym(site.subject.value), ns.RDF(\"type\"), ns.BOT(\"Site\")).length==0) site1.podtype = \"Site\";\n                      if(store.state.rs.rdfStore.match($rdf.sym(site.subject.value), ns.RDF(\"type\"), ns.BOT(\"Building\")).length>=1){\n                        site1.podtype = \"Building\";\n                        if(store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(site.subject.value))[0]) site1.parentpod = store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(site.subject.value))[0].subject.value;\n                        site1.podlevel = pl+2;\n                      }\n                    });\n                  }\n                  if(!exists) found = true;\n                }\n              });\n            });\n            if(!found) this.loading = false;\n            if(!found) break; // Exit loop if no more pods are found\n          }\n\n          for(let i=0; i<2; i++){ // This loop is needed to make order of pods correctly, may need to be increased\n            let prevPod = 0;\n            podListHierarchy.forEach((poditem, index) => {\n              if(poditem.podlevel<prevPod) podListHierarchy = so.arraymove(podListHierarchy, index, index-1);\n              prevPod = poditem.podlevel;\n            });\n          }\n          //podListHierarchy.sort((p1, p2) => (p1.podlevel < p2.podlevel) ? 1 : (p1.podlevel > p2.podlevel) ? -1 : 0);\n          for(let i=0; i<2; i++){\n            for(let pi=0; pi<podListHierarchy.length; pi++){\n              let parent = podListHierarchy[pi].parentpod;\n              for(let p=0; p<podListHierarchy.length; p++){\n                // Get parent position and move after\n                if(podListHierarchy[p].subtitle==parent) so.arraymove(podListHierarchy, pi, p+1);\n              }\n            }\n          }\n\n          \n\n\n          console.log(podListHierarchy);\n\n          this.podlist = podListHierarchy;\n\n          // Get pod names\n          this.podlist.forEach((listitem, i) => {\n            console.log(listitem.podlevel);\n            if(listitem.podlevel==1) this.checkPodAuthorization(listitem.subtitle);\n            try{\n             listitem.title = store.state.rs.rdfStore.match($rdf.sym(listitem.subtitle), ns.FOAF(\"name\"), null)[0].object || \"\";\n            } catch (error){\n              console.log(error);\n            }\n          });\n          /*this.podlist.forEach((podlistitem, i) => {\n            \n          });*/\n      },\n      checkPodAuthorization(podURI){\n        const done = ur.fetchAndSaveTurtle(podURI.replace(\"/i\", \"/home/\"));\n      },\n      getEmployees(uri){\n        if(uri=='') return;\n        let pods = ur.fetchAndSaveTurtle(uri, true).then((successBool) => {\n          console.log(\"Get employees from: \"+uri);\n          this.employeeList = [];\n          let employeeURIs = [];\n          //let containerURIs = [];\n\n          // Get all URIs\n          let tripleArray = store.state.rs.rdfStore.match($rdf.sym(uri), ns.ORG(\"hasMember\"), null);\n          tripleArray.forEach(item => {\n              if(!employeeURIs.includes(item.object.value)) { // Check if it contains the exact same or without /i in the end.\n                employeeURIs.push(item.object.value);\n              }\n          });\n\n          employeeURIs.forEach((poditem, i) => {\n            this.employeeList.push({ filename: 'pod', personuri: poditem, title: \"Personal\", initials: \"\", subtitle: poditem, color: so.makeRandomColor() });\n          });\n\n          // Get pod names\n          this.employeeList.forEach((listitem, i) => {\n            let pods = ur.fetchAndSaveTurtle(listitem.personuri, true).then((successBool) => {\n              try{\n              let personName = store.state.rs.rdfStore.match($rdf.sym(listitem.subtitle), ns.FOAF(\"name\"), null)[0].object.value || \"\";\n              listitem.title = personName;\n              listitem.initials = so.getInitials(personName);\n              } catch (error){\n                console.log(error);\n              }\n            });\n            return successBool;\n          });\n        });\n      },\n      addEmployee(){\n        console.log(this.newEmployeeURI);\n        // Do checks on URI string\n\n        // Request the URI to check validity\n        let employeeCheck = ur.fetchAndSaveTurtle(this.newEmployeeURI, true).then(empl => {\n          console.log(empl);\n        });\n      },\n      showWhatToDo(){\n        \n      }\n  },\n  computed: {\n      svgFile() {\n        return (filename) => getIcon(filename).svg;\n      },\n  },\n  watch: {\n    \"$store.state.whatToDoVisible\": function (val) {\n      this.whatToDoVisible = store.state.whatToDoVisible;\n    },\n  },\n  mounted(){\n      this.checklogin();\n      if(!this.$route.query.location){\n        this.$router.push({path: this.$route.path, query: {location: this.currentPOD} });\n      }\n      this.getPodsFromURI(store.state.webId, false);\n      if(this.currentPOD) this.getEmployees(this.currentPOD+\"i\");\n      const form = document.getElementById('form');\n      \n      if(this.$route.query.location.length>=5){\n        ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\").then(IFCmetadata => {\n          store.state.currentBuildingTag = IFCmetadata.tag;\n        }); \n      }\n\n      /*form.addEventListener('submit', function(e) {\n          // Prevent default behavior:\n          console.log(e);\n      })*/\n  },\n  created(){\n    if(!this.$route.query.location) store.state.whatToDoVisible = true;\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\nimg.icon {\n  width: 40px;\n  margin-right: 10px;\n}\nimg.iconbig {\n  width: 80px;\n  margin-right: 10px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.filemenu {\n  display: flex;\n  justify-content: space-between;\n}\ndiv.inputwrapper {\n  margin-left: 20px;\n  margin-right: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\n#wrapper {\n  display: flex;\n}\n.left {\n  flex: 0 0 40%;\n  max-width: 40%;\n  margin: 15px;\n  align: left;\n}\n\n.right {\n  flex: 1;\n  min-width: 55%;\n  max-width: 55%;\n  margin: 15px;\n  align: left;\n}\n\n@media screen and (max-width: 1000px) {\n  #wrapper {\n    display: block;\n    flex-direction: row;\n  }\n  .left, .right{\n    position: relative;\n    max-width: 100%;\n    float:none;\n    height: fit-content;\n  }\n\n  .right{\n    height: fit-content;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PodSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PodSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PodSelect.vue?vue&type=template&id=53bfdf54&scoped=true&\"\nimport script from \"./PodSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./PodSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PodSelect.vue?vue&type=style&index=0&id=53bfdf54&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53bfdf54\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VDialog,VDivider,VForm,VIcon,VList,VListItem,VListItemAction,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VProgressCircular,VRow,VSubheader,VTextField})\n","<template>\n  <div class=\"feedback\">\n    <PodSelect msg=\"Show files library form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport PodSelect from '../components/PodSelect.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'PodSelectV',\n  components: {\n    PodSelect\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PodSelectV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PodSelectV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PodSelectV.vue?vue&type=template&id=1597cf52&\"\nimport script from \"./PodSelectV.vue?vue&type=script&lang=js&\"\nexport * from \"./PodSelectV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('FileEdit',{attrs:{\"msg\":\"Show files library form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('iframe',{attrs:{\"id\":\"frame\",\"src\":this.$route.query.select}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <iframe id=\"frame\" :src='this.$route.query.select'></iframe>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport moment from 'moment';\nimport { getIcon } from 'material-file-icons';\nconst streamSaver = require('streamsaver');\nconst streamToBlob = require('stream-to-blob');\nimport axios from 'axios';\n\nconst fe = {}\n\nexport default {\n  id: fe,\n  name: 'FileEdit',\n  data() {\n    return {\n      documenturl: ''\n    }\n  },\n  methods: {\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n  },\n  computed: {\n\n  },\n  watch: {\n\n  },\n  mounted(){\n      this.checklogin();\n      this.documenturl = this.$route.query.select;\n      if(!this.$route.query.location){\n        this.$router.push({path: this.$route.path, query: {select: this.documenturl} });\n      }\n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n#wrapper {\n  width: 100%;\n  height: 100%;\n}\n#frame {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileEdit.vue?vue&type=template&id=d1f69328&scoped=true&\"\nimport script from \"./FileEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./FileEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileEdit.vue?vue&type=style&index=0&id=d1f69328&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1f69328\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"feedback\">\n    <FileEdit msg=\"Show files library form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport FileEdit from '../components/FileEdit.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'FileEditV',\n  components: {\n    FileEdit\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEditV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileEditV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileEditV.vue?vue&type=template&id=00a3d1ac&\"\nimport script from \"./FileEditV.vue?vue&type=script&lang=js&\"\nexport * from \"./FileEditV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('Search',{attrs:{\"msg\":\"Show files library form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.addFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"left\",attrs:{\"align\":\"left\"}},[_c('div',[_c('v-card',{staticClass:\"vcard-bottom-margin\",attrs:{\"width\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"text-align\":\"right\",\"background-color\":\"#3577cb\"}},[(_vm.loading)?_c('v-progress-circular',{key:_vm.loading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-right\":\"15px\"},attrs:{\"indeterminate\":\"\",\"color\":\"white\"}}):_vm._e(),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.getFilesFromURI('')}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-reload\")])],1)],1),_c('v-divider',{staticStyle:{\"background-color\":\"lightgray\"},attrs:{\"dark\":\"\"}}),_c('div',{staticClass:\"div-margins-left\"},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"required\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.runSearch.apply(null, arguments)}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('div',{staticClass:\"d-flex justify-content-start\"},[_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"success\"},on:{\"click\":_vm.runSearch}},[_vm._v(\" \"+_vm._s(_vm.$t(\"text_search\"))+\" \")]),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"normal\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\" \"+_vm._s(_vm.$t(\"text_clear\"))+\" \")]),_c('v-switch',{staticStyle:{\"margin-top\":\"7px\",\"padding\":\"0px\"},attrs:{\"label\":\"Autosearch on select\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.autosearch),callback:function ($$v) {_vm.autosearch=$$v},expression:\"autosearch\"}})],1)],1)],1),_c('br')],1),(_vm.noResults === true)?_c('v-card',{staticClass:\"vcard-bottom-margin\"},[_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"No results found\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\"},[_vm._v(\"Nothing found on: \"),_c('font',{attrs:{\"color\":\"#FF0000\"}},[_vm._v(_vm._s(_vm.search))])],1)],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/notfound2.png\")}})])],1)],1)],1):_vm._e(),_vm._l((_vm.searchArrayOrdered),function(item,i){return _c('v-card',{key:i,staticClass:\"vcard-bottom-margin\"},[(item.type == 'waiting')?_c('v-list',[_c('v-list-item',[_c('v-list-item-content',[_c('v-progress-circular',{staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1)],1)],1):(item.type == 'file')?_c('v-list',{attrs:{\"color\":item.selected}},[_c('v-list-item',{attrs:{\"three-line\":\"\"},on:{\"click\":function($event){return _vm.getPDF(item.subjectURI, 1)}}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"FILE\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(item.subjectURI)}})],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('div',{staticClass:\"iconlarge\",domProps:{\"innerHTML\":_vm._s(_vm.svgFile(item.subjectURI))}})])],1)],1):(item.type == 'paragraph')?_c('v-list',{attrs:{\"color\":item.selected}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Paragraph\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),(item.page)?_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s('Page '+item.page)}}):_vm._e(),_c('br'),_vm._v(\" \"+_vm._s(item.text)),_c('br'),_c('br'),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(decodeURI(item.fileURI))}})],1),_c('div',{attrs:{\"align\":\"center\"}},[_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/paragraph3.png\")}})]),_c('br'),(item.pageURI!='')?_c('v-btn',{on:{\"click\":function($event){return _vm.getPDF(item.pageURI, 1)}}},[_vm._v(\" Page \")]):_vm._e(),_c('br'),_c('br'),(item.pageURI!='')?_c('v-btn',{on:{\"click\":function($event){return _vm.goToPDFviewer(item.fileURI)}}},[_vm._v(\" Document \")]):_vm._e()],1)],1)],1):(item.type == 'person')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Person\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/person2.png\")}})])],1)],1):(item.type == 'tag')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"TAG\")]),_vm._v(\" \"+_vm._s(item.title)),_c('br'),_vm._v(\" \"+_vm._s(item.text)+\" \")])],1)],1):(item.type == 'instance')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Instance\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1)],1)],1):(item.type == 'room')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Room\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1),_c('div',{attrs:{\"align\":\"center\"}},[_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/room.png\")}})]),_c('br'),(item.uri!='')?_c('v-btn',{on:{\"click\":function($event){return _vm.showRoom(item.subjectURI)}}},[_vm._v(\" View \")]):_vm._e()],1)],1)],1):(item.type == 'door')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Door\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1),_c('div',{attrs:{\"align\":\"center\"}},[_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/door.png\")}})]),_c('br'),(item.uri!='')?_c('v-btn',{on:{\"click\":function($event){return _vm.getPDF(item.uri, 1)}}},[_vm._v(\" View \")]):_vm._e()],1)],1)],1):(item.type == 'storey')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Storey\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1),_c('div',{attrs:{\"align\":\"center\"}},[_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/floor.png\")}})]),_c('br'),(item.foundglobalid)?_c('v-btn',{on:{\"click\":function($event){return _vm.showAsset(item.globalid, item.globalid, 1, \"full\")}}},[_vm._v(\" 2D \")]):_vm._e(),(item.foundglobalid)?_c('v-btn',{on:{\"click\":function($event){return _vm.showAsset(item.globalid, 1, 2, \"hidden\")}}},[_vm._v(\" 3D \")]):_vm._e()],1)],1)],1):(item.type == 'page')?_c('v-list',[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('div',{staticClass:\"overline mb-4\"},[_vm._v(\"Page\")]),_c('v-list-item-title',{staticClass:\"headline mb-1\",domProps:{\"textContent\":_vm._s(item.title)}}),_vm._v(\" \"+_vm._s(item.text)+\" \")],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"80\"}},[_c('img',{attrs:{\"src\":require(\"../assets/document.png\")}})])],1)],1):_vm._e()],1)}),(_vm.debug === true)?_c('v-card',{staticClass:\"mx-auto\",attrs:{\"width\":\"100%\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.searchArray),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-content',{domProps:{\"innerHTML\":_vm._s(item)}})],1)}),1)],1):_vm._e()],2)]),(_vm.pdfloaded)?_c('div',{ref:\"filedetails\",staticClass:\"right\",attrs:{\"align\":\"left\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('pdf',{attrs:{\"src\":_vm.pdfdata,\"page\":1}},[_c('template',{slot:\"loading\"},[_vm._v(\" Loading PDF... \")])],2)],1)])],1):_vm._e(),(_vm.bimviewerloaded)?_c('div',{ref:\"bimviewer\",staticClass:\"right\",attrs:{\"align\":\"left\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('BIMviewer',{attrs:{\"msg\":\"Show bimviewer form\"}})],1)])],1):_vm._e(),(_vm.assetviewerloaded)?_c('div',{ref:\"assetviewer\",staticClass:\"right\",attrs:{\"align\":\"left\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticClass:\"assetviewerdiv\"},[_c('BMviewer',{attrs:{\"msg\":\"Show assetviewer form\"}})],1)])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"wrapper\" v-cloak @drop.prevent=\"addFile\" @dragover.prevent>\n    <div class=\"left\" align=\"left\">\n    <div>\n    <v-card\n      class=\"vcard-bottom-margin\"\n      width=\"100%\"\n    >\n      <div style=\"width: 100%; text-align: right; background-color: #3577cb;\">\n      <v-progress-circular v-if=\"loading\" :key=\"loading\" style=\"width: 20px; height: 20px; margin-right: 15px;\" indeterminate color=\"white\"></v-progress-circular>\n      <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"getFilesFromURI('')\">\n        <v-icon style=\"color: white;\">mdi-reload</v-icon>\n      </v-btn>\n      </div>\n      <v-divider dark style=\"background-color: lightgray\"></v-divider>\n        <div class=\"div-margins-left\">\n        <v-form\n          ref=\"form\"\n          v-on:submit.prevent\n        >\n          <v-text-field\n            @keyup.enter=\"runSearch\"\n            v-model=\"search\"\n            label=\"Search\"\n            required\n          ></v-text-field>\n          <div class=\"d-flex justify-content-start\">\n              <v-btn\n                color=\"success\"\n                class=\"mr-4\"\n                @click=\"runSearch\"\n              >\n                {{ $t(\"text_search\") }}\n              </v-btn>\n              <v-btn\n                color=\"normal\"\n                class=\"mr-4\"\n                @click=\"clearSearch\"\n              >\n                {{ $t(\"text_clear\") }}\n              </v-btn>\n              <v-switch\n                v-model=\"autosearch\"\n                label=\"Autosearch on select\"\n                color=\"blue\"\n                hide-details\n                style=\"margin-top: 7px; padding: 0px;\"\n              ></v-switch>\n          </div>\n        </v-form>\n        </div>\n        <br>\n    </v-card>\n    \n\n    <!-- Wrapper for all search result types start-->\n    <v-card\n        class=\"vcard-bottom-margin\"\n        v-if=\"noResults === true\"\n        >\n      <v-list>\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">No results found</div>\n          <v-list-item-title class=\"headline mb-1\">Nothing found on: <font color='#FF0000'>{{ search }}</font></v-list-item-title>\n        </v-list-item-content>\n\n        <v-list-item-avatar\n          tile\n          size=\"80\"\n        ><img src='../assets/notfound2.png'></v-list-item-avatar>\n      </v-list-item>\n      </v-list>\n    </v-card>\n\n\n    <v-card\n      class=\"vcard-bottom-margin\"\n      v-for=\"(item, i) in searchArrayOrdered\"\n      :key=\"i\"\n      >\n\n      <v-list v-if=\"item.type == 'waiting'\">\n            <v-list-item>\n              <v-list-item-content>\n                <v-progress-circular style=\"width: 20px; height: 20px; margin-left: 5px; margin-right: 5px;\" indeterminate color=\"primary\"></v-progress-circular>\n              </v-list-item-content>\n            </v-list-item>\n      </v-list>\n\n      <v-list :color=\"item.selected\" v-else-if=\"item.type == 'file'\">\n      <v-list-item @click=\"getPDF(item.subjectURI, 1)\" three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">FILE</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          <v-list-item-subtitle v-text=\"item.subjectURI\"></v-list-item-subtitle>\n        </v-list-item-content>\n\n        <v-list-item-avatar\n          tile\n          size=\"80\"\n        ><div class=\"iconlarge\" v-html=\"svgFile(item.subjectURI)\"></div></v-list-item-avatar>\n      </v-list-item>\n      </v-list>\n\n      <v-list :color=\"item.selected\" v-else-if=\"item.type == 'paragraph'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Paragraph</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          <v-list-item-subtitle v-if=\"item.page\" v-text=\"'Page '+item.page\"></v-list-item-subtitle><br>\n          {{ item.text }}<br><br>\n          <v-list-item-subtitle v-text=\"decodeURI(item.fileURI)\"></v-list-item-subtitle>\n        </v-list-item-content>\n\n        <div align=\"center\">\n          <v-list-item-avatar\n            tile\n            size=\"80\"\n          ><img src='../assets/paragraph3.png'>\n          </v-list-item-avatar>\n          <br>\n          <v-btn v-if=\"item.pageURI!=''\" @click=\"getPDF(item.pageURI, 1)\">\n            Page\n          </v-btn><br><br>\n          <v-btn v-if=\"item.pageURI!=''\" @click=\"goToPDFviewer(item.fileURI)\">\n            Document\n          </v-btn>\n        </div>\n      </v-list-item>\n      </v-list>\n\n    <v-list v-else-if=\"item.type == 'person'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Person</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <v-list-item-avatar\n          tile\n          size=\"80\"\n        ><img src='../assets/person2.png'></v-list-item-avatar>\n      </v-list-item>\n      </v-list>\n\n      <v-list v-else-if=\"item.type == 'tag'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">TAG</div>\n          {{ item.title }}<br>\n          {{ item.text }}\n        </v-list-item-content>\n      </v-list-item>\n      </v-list>\n\n      <!--<v-list v-else-if=\"item.type == 'word'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Word</div>\n          {{ item.title }}<br>\n          {{ item.text }}\n        </v-list-item-content>\n      </v-list-item>\n      </v-list>-->\n\n      <v-list v-else-if=\"item.type == 'instance'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Instance</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n      </v-list-item>\n      </v-list>\n\n      <v-list v-else-if=\"item.type == 'room'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Room</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <div align=\"center\">\n          <v-list-item-avatar\n            tile\n            size=\"80\"\n          ><img src='../assets/room.png'>\n          </v-list-item-avatar>\n          <br>\n          <v-btn v-if=\"item.uri!=''\" @click=\"showRoom(item.subjectURI)\">\n            View\n          </v-btn>\n        </div>\n      </v-list-item>\n      </v-list>\n\n      <v-list v-else-if=\"item.type == 'door'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Door</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <div align=\"center\">\n          <v-list-item-avatar\n            tile\n            size=\"80\"\n          ><img src='../assets/door.png'>\n          </v-list-item-avatar>\n          <br>\n          <v-btn v-if=\"item.uri!=''\" @click=\"getPDF(item.uri, 1)\">\n            View\n          </v-btn>\n        </div>\n      </v-list-item>\n      </v-list>\n\n      <v-list v-else-if=\"item.type == 'storey'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Storey</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <div align=\"center\">\n          <v-list-item-avatar\n            tile\n            size=\"80\"\n          ><img src='../assets/floor.png'>\n          </v-list-item-avatar>\n          <br>\n          <v-btn v-if=\"item.foundglobalid\" @click='showAsset(item.globalid, item.globalid, 1, \"full\")'>\n            2D\n          </v-btn>\n          <v-btn v-if=\"item.foundglobalid\" @click='showAsset(item.globalid, 1, 2, \"hidden\")'>\n            3D\n          </v-btn>\n        </div>\n      </v-list-item>\n      </v-list>\n\n      <v-list v-else-if=\"item.type == 'page'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Page</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <v-list-item-avatar\n          tile\n          size=\"80\"\n        ><img src='../assets/document.png'></v-list-item-avatar>\n      </v-list-item>\n      </v-list>\n\n  <!--\n      <v-list v-else-if=\"item.type == 'other'\">\n      <v-list-item three-line>\n        <v-list-item-content>\n          <div class=\"overline mb-4\">Entity</div>\n          <v-list-item-title class=\"headline mb-1\" v-text=\"item.title\"></v-list-item-title>\n          {{ item.text }}\n        </v-list-item-content>\n\n        <v-list-item-avatar\n          tile\n          size=\"80\"\n        ><img src='../assets/something.png'></v-list-item-avatar>\n      </v-list-item>\n      </v-list>\n  -->\n    \n\n    </v-card>\n    <!-- Wrapper for all search result types end-->\n    <v-card\n    class=\"mx-auto\"\n    width=\"100%\"\n    v-if=\"debug === true\"\n    >\n    <v-list dense>\n          <v-list-item\n          v-for=\"(item, i) in searchArray\"\n          :key=\"i\"\n          >\n\n            <v-list-item-content v-html=\"item\">\n            </v-list-item-content>\n\n\n          </v-list-item>\n    </v-list>\n  </v-card>\n  </div>\n  </div>\n\n\n  <div v-if=\"pdfloaded\" class=\"right\" ref=\"filedetails\" align=\"left\">\n    <v-card class=\"mx-auto\">\n      <div style=\"margin-bottom: 20px;\">\n      \n      <pdf :src=\"pdfdata\" :page=\"1\">\n        <template slot=\"loading\">\n          Loading PDF...\n        </template>\n      </pdf>\n      </div>\n    </v-card>\n  </div>\n\n  <div v-if=\"bimviewerloaded\" class=\"right\" ref=\"bimviewer\" align=\"left\">\n    <v-card class=\"mx-auto\">\n      <div style=\"margin-bottom: 20px;\">\n        <BIMviewer msg=\"Show bimviewer form\" />\n      </div>\n    </v-card>\n  </div>\n\n  <div v-if=\"assetviewerloaded\" class=\"right\" ref=\"assetviewer\" align=\"left\">\n    <v-card class=\"mx-auto\">\n      <div class=\"assetviewerdiv\">\n        <BMviewer msg=\"Show assetviewer form\" />\n      </div>\n    </v-card>\n  </div>\n\n\n  </div>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport pdf from 'pdfvuer'\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport moment from 'moment';\nimport { getIcon } from 'material-file-icons';\nimport BIMviewer from '../components/BIMviewer.vue'\nimport BMviewer from '../components/BMviewer.vue'\nimport bmu from './BIMviewer-utils.js';\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\nvar factory = new (require('rdf-data-factory').DataFactory)();\nvar RdfTerm = require('rdf-string');\nvar toRdfLiteral = require(\"rdf-literal\").toRdf;\nlet searchRdfStore = $rdf.graph();\n\nconst se = {}\n\nasync function streamToArrayBuffer(stream) {\n    var bytes = Object.keys(stream).length;\n    var myArr = new Uint8Array(bytes)\n\n    for(var i = 0; i < bytes; i++){\n        myArr[i] = stream[i].charCodeAt(0);\n    }\n    return myArr;\n}\nexport default {\n  id: se,\n  name: 'Search',\n  data() {\n    return {\n      valid: true,\n      search: '',\n      pdfdata: undefined,\n      pdfloaded: false,\n      bimviewerloaded: false,\n      assetviewerloaded: true,\n      pdfpage: 1,\n      searchResponse: '',\n      searchArray: [],\n      searchArrayOrdered: [],\n      uploadDisabled: true,\n      noResults: false,\n      debug: false,\n      scale: undefined,\n      loading: false,\n      selectedRoomURIs: [],\n      selectedResult: undefined,\n      autosearch: false,\n    }\n  },\n  methods: {\n      scrollMeTo(refName) {\n        var element = this.$refs[refName];\n        var top = element.offsetTop;\n        window.scrollTo(0, top);\n      },\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      async runSearch(){\n        this.loading = true;\n        this.noResults = false;\n        searchRdfStore = $rdf.graph();\n        this.searchArrayOrdered = [];\n        console.log(\"Searched for: \", this.search);\n        let uri = store.state.webId.replace(\"/i\", \"/search/\")+encodeURIComponent(this.search);\n        try {\n          let res = await window.solid.session.fetch(\n            uri, {\n              method: \"GET\",\n              credentials: \"include\",\n              headers: {\n                \"Accept\": \"text/turtle\"\n              },\n          }).then(res => res.text());\n          if(res.length == 0){\n            this.noResults = true;\n          }\n          console.log(\"Response: \"+res);\n          //this.searchResponse = res;\n          $rdf.parse(res, searchRdfStore, uri, 'text/turtle');\n          // Add URI list by rank\n          searchRdfStore.statements.forEach((item, i) => {\n            this.searchArray.push(item.subject.value+\" --> \"+item.predicate.value+\" --> \"+item.object.value);\n            if(item.predicate.value == ns.NEO('m_rank').value){\n              this.searchArrayOrdered.push({ rank: item.object.value, type: 'waiting', subjectURI: item.subject.value, title: '', subtitle: '', text: '', filename: '', page: '', pageURI: '', fileURI: '', selected: '#FFFFFF' });\n            }\n          });\n\n          // Sorting the array by rank ---\n          this.searchArrayOrdered = this.searchArrayOrdered.sort(function (a, b) {\n            return a.rank - b.rank;\n          });\n          // End sorting-----\n          console.log(this.searchArrayOrdered);\n          this.requestSearchResults();\n          return res;\n        } catch (error) {\n          console.log(error);\n          console.log(\"Search failed\");\n        }\n      },\n      async requestSearchResults(){\n        let didSet = await this.searchArrayOrdered.forEach((item, i) => {\n          let tripleArray = searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDF(\"type\"), null);\n          tripleArray.forEach(item2 => {\n            console.log(item2);\n            if(item2.object.value.includes(ns.SIO(\"SIO_000110\").value) || item2.object.value.includes(ns.SIO(\"SIO_000015\").value)){\n              console.log(\"Found a paragraph!!!!\");\n              item.text = searchRdfStore.match($rdf.sym(item.subjectURI), ns.SCHEMA(\"text\"), null)[0].object.value;\n              if(item.text.length >= 3){ // Should make a better check if it is a sentence or more.\n                item.type = 'paragraph';\n                if(searchRdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(item.subjectURI)).length == 0){\n                  this.fetchSearchResultURI(item.subjectURI);\n                }\n                try {\n                  let pageURI = searchRdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(item.subjectURI))[0].subject.value;\n                  item.pageURI = pageURI;\n                  searchRdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(pageURI)).forEach(fileuri => {\n                    item.fileURI = fileuri.subject.value;\n                  });\n                  if(searchRdfStore.match($rdf.sym(pageURI), ns.RDF(\"type\"), ns.FABIO('Page'))[0].subject.value.length >= 0){\n                    let pageName = \"\";\n                    searchRdfStore.match($rdf.sym(pageURI), ns.RDFS(\"label\"), null).forEach(pagename => {\n                      pageName = pagename.object.value;\n                      item.filename = pageName;\n                      item.title = decodeURI(pageName.substring(0, pageName.lastIndexOf('.'))) || decodeURI(pageName); // Removes the file extension\n                      if(item.page.includes(\"_\")) item.page = item.page.substring(item.page.indexOf('_') + 1);\n                      item.title = item.title.substring(0, item.title.lastIndexOf('_')) || item.title; // Removes value after the _ underline\n                    });\n                    if(pageName == \"\") this.fetchSearchResultURI(item.subjectURI);\n                  }\n                } catch (error) {\n                  console.log(error);\n                }\n              } else {\n                item.type = 'word';\n              }\n            } else if (item2.object.value.includes(ns.REG(\"file\").value) || item2.object.value.includes(ns.OPMV(\"Artifact\").value)){\n              console.log(\"Found a file!!!!\");\n              item.title = searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value;\n              if(item2.subject.value.charAt(item2.subject.value.length-4) === \".\" || item2.subject.value.charAt(item2.subject.value.length-5) === \".\"){ // Checks if URI is from a file. with 3 or 4 characters after .\n                item.type = 'file';\n              } else {\n                item.type = 'page';\n              }\n            } else if (item2.object.value.includes(ns.FOAF(\"Person\").value)){\n              console.log(\"Found a person!!!!\");\n              item.title = searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value;\n              item.type = 'person';\n            } else if (item2.object.value.includes(ns.SIO(\"SIO_000114\").value)){\n              // Found Word\n              item.type = 'word';\n              item.text = searchRdfStore.match($rdf.sym(item.subjectURI), ns.SCHEMA(\"text\"), null)[0].object.value;\n            } else if (item2.object.value.includes(ns.NEO(\"a_titleblock\").value)){\n              // Found Titleblock\n              item.type = 'titleblock';\n            } else if (item2.object.value.includes(ns.SIO(\"SIO_000135\").value)){\n              // Found Definition\n              item.type = 'definition';\n            } else if (item2.object.value.includes(ns.FABIO(\"Page\").value)){\n              // Found Page\n              item.type = 'page';\n            } else if (item2.object.value.includes(ns.BOT(\"Storey\").value)){\n              // Found Storey\n              item.foundglobalid = false;\n              ur.fetchAndSaveTurtle(item.subjectURI, true).then(() => {\n                store.state.rs.rdfStore.match($rdf.sym(item.subjectURI), ns.IFOUR(\"globalid\"), null).forEach((triple) => {\n                  console.log(\"Global ID:\"+triple.object.value);\n                  item.foundglobalid = true;\n                  item.globalid = triple.object.value+\"\";\n                  item.text = \"GlobalID: \"+triple.object.value+\"\";\n                });\n              });\n              item.type = 'storey';\n              item.title = searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value;\n            } else if (item2.object.value.includes(ns.BOT(\"Space\").value)){\n              // Found Space\n              item.type = 'room';\n              item.title = decodeURI(searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value);\n              if(searchRdfStore.match($rdf.sym(item.subjectURI), ns.TAG(\"tag\"), null)[0]){\n                item.text = searchRdfStore.match($rdf.sym(item.subjectURI), ns.TAG(\"tag\"), null)[0].object.value;\n              }\n            } else if (item2.object.value.includes(ns.NEO(\"s_instance\").value)){\n              // Found Instance\n              ur.fetchAndSaveTurtle(item.subjectURI, true).then(() => {\n                store.state.rs.rdfStore.match($rdf.sym(item.subjectURI), ns.RDF(\"type\"), null).forEach((triple) => {\n                  console.log(triple.object.value);\n                  if(triple.object.value==ns.BOT(\"Storey\").value){\n                    item.type = 'storey';\n                  } \n                  if(triple.object.value==ns.BOT(\"Space\").value){\n                    item.type = 'room';\n                  } \n                  if(triple.object.value==ns.NEO(\"x_door\").value){\n                    item.type = 'door';\n                  } \n                });\n              });\n              item.type = 'instance';\n              item.title = decodeURI(searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value);\n              if(searchRdfStore.match($rdf.sym(item.subjectURI), ns.TAG(\"tag\"), null)[0]){\n                item.text = searchRdfStore.match($rdf.sym(item.subjectURI), ns.TAG(\"tag\"), null)[0].object.value;\n              }\n            } else if (item2.object.value.includes(ns.NEO(\"s_tagged-object\").value)){\n              // Found TAG\n              item.title = searchRdfStore.match($rdf.sym(item.subjectURI), ns.TAG(\"tag\"), null)[0].object.value;\n              item.text = item.subjectURI;\n              item.type = 'tag';\n            } else if (item2.object.value.includes(ns.SIO(\"SIO_000000\").value)){\n              // Found Word\n              item.type = 'entity';\n            } else {\n              item.type = 'none';\n            }\n          });\n          \n          // Try to request each URI - Temporarily unavailable\n          /*let done = ur.fetchAndSaveTurtle(item.subject).then((result) => {\n            let tripleArray = store.state.rs.rdfStore.match($rdf.sym(item.subject), ns.RDF(\"type\"), null);\n            tripleArray.forEach(item2 => {\n              if(item2.object.value.includes(ns.REG(\"file\").value)){\n                console.log(\"Found a file!!!!\");\n              }\n            });\n            return result;\n          });*/\n        });\n        this.searchArrayOrdered.forEach((item, i) => {\n          if(item.type == 'waiting'){\n              try{\n                item.title = searchRdfStore.match($rdf.sym(item.subjectURI), ns.RDFS(\"label\"), null)[0].object.value;\n              } catch (error) {\n                console.log(error);\n                //this.searchArrayOrdered.splice(i, 1);\n              }\n              item.filename = item.subjectURI;\n              item.type = 'other';\n          }\n        });\n        this.loading = false;\n      },\n      async fetchSearchResultURI(resultURI){\n        console.log(\"Result URI:\",resultURI);\n        let resultData = ur.fetchAndSaveTurtle(resultURI, true).then((successBool) => {\n          try{\n            let item = this.searchArrayOrdered.find(element => element.subjectURI === resultURI);\n            let pageURI = store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(item.subjectURI))[0].subject.value;\n            console.log(pageURI);\n            let pageData = ur.fetchAndSaveTurtle(pageURI, true).then((successBool) => {\n              item.page = store.state.rs.rdfStore.match($rdf.sym(pageURI), ns.SIO(\"SIO_000787\"), null)[0].object.value;\n            });\n            if(store.state.rs.rdfStore.match($rdf.sym(pageURI), ns.RDF(\"type\"), ns.FABIO('Page'))[0].subject.value.length >= 0){\n              let pageName = store.state.rs.rdfStore.match($rdf.sym(pageURI), ns.RDFS(\"label\"), null)[0].object.value;\n              item.filename = pageName;\n              item.title = pageName.substring(0, pageName.lastIndexOf('.')) || pageName; // Removes the file extension\n              item.title = item.title.substring(0, item.title.lastIndexOf('_')) || item.title; // Removes value after the _ underline\n            }\n            if(store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(pageURI))[0].subject.value.length >= 0){\n              item.fileURI = store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(pageURI))[0].subject.value;\n            }\n          } catch (error) {\n            console.log(error);\n          }\n        });\n      },\n      getTripleMatches(tripleArray, tripleGraph){\n        let tripleResult = [];\n        tripleArray.forEach((item, i) => {\n          if(i==0){\n            //console.log(\"S: \"+tripleArray[i].subject+\" P: \"+tripleArray[i].predicate+\" O: \"+tripleArray[i].object);\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              tripleResult.push(st);\n            });\n          } else {\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              if(tripleResult.includes(st)){\n                tripleResult = this.arrayRemove(tripleResult, st);\n                tripleResult.push(st);\n              } else {\n                tripleResult.push(st);\n              }\n            });\n          }\n        });\n        return tripleResult;\n      },\n      showAsset(select, location=\"\", viewtype=1, twodim=\"hidden\"){\n        store.state.bmurl = '{ \"select\": \"['+select+']\", \"location\": \"'+location+'\", \"viewtype\": \"'+viewtype+'\", \"twodim\": \"'+twodim+'\" }';\n      },\n      async getPDF(pdfURI, page){\n        console.log(\"Opening PDF URI: \"+pdfURI);\n        this.loading = true;\n        this.pdfloaded = false;\n        this.pdfdata = undefined;\n        try {\n          this.pdfpage = parseInt(page);\n        } catch (error) {\n          this.pdfpage = 1;\n        } \n        this.searchArrayOrdered.forEach((item, i) => {\n          if(item.subjectURI == pdfURI || item.pageURI == pdfURI){\n            item.selected = \"#EEFEFF\";\n          } else {\n            item.selected = \"#FFFFFF\";\n          }\n        });\n        try {\n          console.log(pdfURI);\n          const res = await window.solid.session.fetch(\n            pdfURI, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n            let filedata = await res.arrayBuffer();\n            let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/pdf\"}));\n            this.pdfdata = pdf.createLoadingTask(fileurl);\n            this.pdfdata.then(pdf => {\n              //console.log(\"Number of pages: \",pdf.numPages);\n              this.pdfloaded = true;\n              this.bimviewerloaded = false;\n              this.loading = false;\n            });\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      goToPDFviewer(PDFuri){\n        this.$router.push({path: \"PDFviewer\", query: {location: this.$route.query.location, select: PDFuri} });\n      },\n      showRoom(RoomURI){\n        //this.$router.push({path: \"BimViewer\", query: {location: this.$route.query.location, select: RoomURI} });\n        this.bimviewerloaded = true;\n        this.pdfloaded = false;\n        store.state.bv.twodim = false;\n        store.state.bv.gltfGeoVisible = false;\n        store.state.bv.lockSelection = true;\n        //store.state.bv.lockSelection = true;\n        searchRdfStore.match($rdf.sym(RoomURI), ns.RDFS(\"label\"), null).forEach(label => {\n          console.log(\"Found Label: \"+label.object.value);\n          store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(label.object.value, 'en')).forEach(newURI => {\n            console.log(\"Found URI: \"+newURI.subject.value);\n            if(newURI.subject.value!=RoomURI){\n              RoomURI = newURI.subject.value;\n              console.log(\"Found other URI!!!\");\n            }\n          });\n        });\n        console.log(\"Room URI: \", RoomURI);\n        store.state.bv.selectedRoomURI = RoomURI;\n        if(this.$route.query.select != RoomURI){\n          this.$router.push({path: this.$route.path, query: {location: this.$route.query.location, select: RoomURI} });\n        }\n        if(!this.bimviewerloaded) this.showAllRooms();\n      },\n      showAllRooms(){\n        store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(cont => {\n          if(!this.selectedRoomURIs.includes(cont.subject.value)){\n            console.log(\"Found room: \" + cont.subject.value);\n            this.selectedRoomURIs.push(cont.subject.value);\n          }\n        });\n        this.drawRoomWithURIs(this.selectedRoomURIs);\n      },\n      drawRoomWithURIs(roomURIs){\n        roomURIs.forEach((roomURIitem, i) => {\n          store.state.rs.rdfStore.match($rdf.sym(roomURIitem), ns.IFOUR(\"m_polyline\"), null).forEach((polyline, i) => {\n              bmu.addRoomMatrix(polyline, 0x1B4F72, 0.9, roomURIitem);\n          });\n        });\n      },\n      clearSearch(){\n        this.searchArrayOrdered = [];\n        this.searchArray = [];\n        this.search = '';\n      },\n      arrayRemove(arr, value) {\n        return arr.filter(function(ele){\n            return ele != value;\n        });\n      },\n  },\n  computed: {\n      svgFile() {\n        return (filename) => getIcon(filename).svg;\n      },\n  },\n  watch: {\n    search(){\n      this.noResults = false;\n    },\n    $route(to, from) {\n      console.log(\"URL select: \"+to.query.select)\n      if(this.autosearch&&to.query.select!=from.query.select){\n        if(this.search.includes(from.query.select)){\n          console.log(\"Found existing in search..\")\n          this.search = this.search.replace(\" \"+from.query.select, \"\");\n          this.search = this.search.replace(from.query.select, \"\");\n        }\n        if(to.query.select){\n          if(this.search.length>=1){\n            this.search = this.search+\" \"+to.query.select;\n          } else {\n            this.search = this.search+to.query.select;\n          }\n          this.runSearch();\n        }\n      }\n    }\n  },\n  mounted(){\n      this.checklogin();\n  },\n  created(){\n\n  },\n  components: {\n    pdf,\n    BIMviewer,\n    BMviewer\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.div-margins-left{\n  margin: 15px;\n  text-align: left;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.vcard-bottom-margin {\n  margin-bottom:  15px;\n  width: 100%;\n}\n.assetviewerdiv {\n  height: 80vh;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\nswitch {\n  position: relative;\n  background-color: #3577cb;\n}\n#wrapper {\n  display: flex;\n}\n.left {\n  flex: 1;\n  min-width: 30%;\n  max-width: 98%;\n  margin: 15px;\n  align: left;\n}\n\n.right {\n  flex: 1;\n  min-width: 55%;\n  max-width: 60%;\n  margin: 15px;\n  align: left;\n}\n\n@media screen and (max-width: 1200px) {\n  #wrapper {\n    display: block;\n    flex-direction: row;\n  }\n  .left, .right{\n    position: relative;\n    max-width: 100%;\n    float:none;\n    height: fit-content;\n  }\n\n  .right{\n    height: fit-content;\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=efa949b2&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=efa949b2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efa949b2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VDivider,VForm,VIcon,VList,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VProgressCircular,VSwitch,VTextField})\n","<template>\n  <div class=\"feedback\">\n    <Search msg=\"Show files library form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Search from '../components/Search.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'SearchV',\n  components: {\n    Search\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchV.vue?vue&type=template&id=16c3c026&\"\nimport script from \"./SearchV.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('img',{attrs:{\"alt\":\"I4 logo\",\"src\":require(\"../assets/logo.png\"),\"width\":\"200px\"}}),_c('ImportIFC',{attrs:{\"msg\":\"Show import IFC data form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"}},[_c('v-file-input',{attrs:{\"truncate-length\":\"15\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('v-btn',{staticClass:\"white--text\",attrs:{\"to\":{name: 'ImportData'},\"color\":\"#3577cb\"}},[_vm._v(\" \"+_vm._s(_vm.$t('button_back'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <v-form\n      ref=\"form\"\n      lazy-validation\n    >\n    <v-file-input\n          v-model=\"file\"\n          truncate-length=\"15\"\n        ></v-file-input>\n        <v-btn\n          :to=\"{name: 'ImportData'}\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n        >\n        {{ $t('button_back') }}\n        </v-btn>\n    </v-form>\n  </div>\n</template>\n\n<script>\nimport store from '../store';\nimport router from '../router';\nimport u from './util.js';\n//import { LBDParser } from \"ifc-lbd\";\nconst WebIFC = require(\"web-ifc/web-ifc-api.js\");\nconst ifcApi = new WebIFC.IfcAPI();\n\nexport default {\n  name: 'ImportIFC',\n  data () {\n    return {\n      file: \"\",\n    };\n  },\n  props: {\n    msg: String\n  },\n  methods: {\n    getCirculationData(modelID, IFCDoors){\n      for (var i = 0; i < IFCDoors.length; i++) {\n        //console.log(IFCDoors[i]);\n        const doorLineID = IFCDoors[i].substring(0, IFCDoors[i].indexOf('='));\n        //console.log(doorLineID);\n        let doorValues = IFCDoors[i].substring(IFCDoors[i].indexOf('IFCDOOR(')+8);\n        doorValues = doorValues.replace(');', '');\n        doorValues = doorValues.replaceAll('\\'', '');\n        console.log(doorValues);\n        const doorValuesArray = doorValues.split(',');\n        //const doorIFCuID = doorValuesArray[0];\n        const doorID = doorValuesArray[2];\n        console.log(doorID);\n        const IfcLocalPlacement = ifcApi.GetLine(modelID, parseInt(doorValuesArray[5].substring(1)));\n        //console.log(IfcLocalPlacement);\n        const ifcToAxis2Placement3d = ifcApi.GetLine(modelID, parseInt(IfcLocalPlacement.RelativePlacement.value));\n        //console.log(ifcToAxis2Placement3d);\n        const location = ifcApi.GetLine(modelID, ifcToAxis2Placement3d.Location.value);\n        //console.log(location);\n        const doorLevel = location.Coordinates[0].value; // Mest sannsynlig høyde i meter\n        console.log(doorLevel);\n\n        const value1 = doorValuesArray[8];\n        const value2 = doorValuesArray[9];\n        console.log(\"Høyde: \"+value1+\" Bredde:\"+value2);\n\n        /*const IfcProductDefinitionShape = ifcApi.GetLine(modelID, parseInt(doorValuesArray[6].substring(1)));\n        console.log(IfcProductDefinitionShape);\n        const IfcShapeRepresentation = ifcApi.GetLine(modelID, parseInt(IfcProductDefinitionShape.Representations[0].value));\n        console.log(IfcShapeRepresentation);\n        const IfcMappedItem = ifcApi.GetLine(modelID, parseInt(IfcShapeRepresentation.Items[0].value));\n        console.log(IfcMappedItem);\n        if(IfcMappedItem.MappingSource){\n          const IfcRepresentationMap = ifcApi.GetLine(modelID, parseInt(IfcMappedItem.MappingSource.value));\n          console.log(IfcRepresentationMap);\n          const IfcFacetedBrep = ifcApi.GetLine(modelID, parseInt(IfcRepresentationMap.MappedRepresentation.value));\n          console.log(IfcFacetedBrep);\n          if(IfcFacetedBrep.Outer){\n            const IfcMappedItem2 = ifcApi.GetLine(modelID, parseInt(IfcFacetedBrep.Outer.value));\n            console.log(IfcMappedItem2);\n          }\n        }*/\n\n      }\n    },\n    getPolyLineData(modelID, ifcSpaceLoc, ifcSpacePoly, ifcSpaceRoomID, lineID, ifcSpaceHeight){\n      // Finding location of room box\n      const ifcLocalPlacement = ifcApi.GetLine(modelID, parseInt(ifcSpaceLoc[lineID].substring(1)));\n      //console.log(ifcLocalPlacement);\n      const placementRelTo = ifcApi.GetLine(modelID, parseInt(ifcLocalPlacement.PlacementRelTo));\n      //console.log(placementRelTo);\n      const ifcToAxis2Placement3d = ifcApi.GetLine(modelID, ifcLocalPlacement.RelativePlacement.value);\n      //console.log(ifcToAxis2Placement3d);\n      const location = ifcApi.GetLine(modelID, ifcToAxis2Placement3d.Location.value);\n      //console.log(location);\n      const ifcaxis = ifcApi.GetLine(modelID, ifcToAxis2Placement3d.Axis.value);\n      //console.log(ifcaxis);\n      const refDirection = ifcApi.GetLine(modelID, ifcToAxis2Placement3d.RefDirection.value);\n      //console.log(refDirection);\n      //The relation between the following two values will create the rotation\n      const directionRatios = refDirection.DirectionRatios;\n      const axisDirectionRatios = ifcaxis.DirectionRatios; // Mostly { 0, 0, 1 }\n      //console.log(directionRatios);\n      const coordinates = location.Coordinates; // Location of the bounding box relative to IFC site zero\n      //console.log(coordinates);\n\n\n      // Finding polyline\n      const IfcProductDefinitionShape = ifcApi.GetLine(modelID, parseInt(ifcSpacePoly[lineID].substring(1)));\n      //console.log(IfcProductDefinitionShape);\n      const IfcShapeRepresentation = ifcApi.GetLine(modelID, parseInt(IfcProductDefinitionShape.Representations[1].value));\n      //console.log(IfcShapeRepresentation);\n      const IfcGeometricCurveSet = ifcApi.GetLine(modelID, parseInt(IfcShapeRepresentation.Items[0].value));\n      //console.log(IfcGeometricCurveSet);\n      const IfcPolyline = ifcApi.GetLine(modelID, parseInt(IfcGeometricCurveSet.Elements[0].value));\n      //console.log(IfcPolyline);\n\n      //console.log(directionRatios[0].value+\",\"+directionRatios[1].value+\",\"+directionRatios[2].value);\n      //console.log(axisDirectionRatios[0].value+\",\"+axisDirectionRatios[1].value+\",\"+axisDirectionRatios[2].value);\n\n      // Functionality to find rotation START ---------------------\n      const inRotation = { x:directionRatios[0].value, y:directionRatios[1].value, z:directionRatios[2].value };\n      const inAxis = { x: axisDirectionRatios[0].value, y:axisDirectionRatios[1].value, z:axisDirectionRatios[2].value };\n      const crossProduct = this.v3cross(inRotation, inAxis);\n      const myAxis = { x:0, y:-1, z:0 };\n\n      var angle = this.getAngleRadians(crossProduct.x, crossProduct.y, inRotation.x, inRotation.y);\n      var angle2 = this.getAngleRadians(inAxis.x, inAxis.y, myAxis.x, myAxis.y);\n      angle = (angle2-angle)+(Math.PI/4);\n      // Functionality to find rotation END ---------------------\n\n\n      const polyCoordinates = [];\n      if(IfcPolyline.Points){\n        for (var i = 0; i < IfcPolyline.Points.length; i++) {\n          const IfcCartesianPoint = ifcApi.GetLine(modelID, parseInt(IfcPolyline.Points[i].value));\n          polyCoordinates.push(IfcCartesianPoint.Coordinates);\n        }\n        //console.log(polyCoordinates);\n\n        // Create string of polyline\n        var polyString = \"polyline;\"+encodeURI(ifcSpaceRoomID[lineID])+\";\"+coordinates[0].value/1000+\";\"+coordinates[1].value/1000+\";\"+ifcSpaceHeight+\";2.9;[\"; // Includes x, y, z and height of room. Must set z and height dynamic\n\n        for (var i = 0; i < polyCoordinates.length; i++) {\n          var point1 = (polyCoordinates[i][0].value/1000);\n          var point2 = (polyCoordinates[i][1].value/1000);\n\n          const rotatedPoints = this.rotateRadians(0, 0, point1, point2, angle);\n          point1 = rotatedPoints[0];\n          point2 = rotatedPoints[1];\n\n          polyString = \"\"+polyString+point1+\",\"+point2+\",0\"; // Switches points because of current version, may need to change\n          if(i<polyCoordinates.length-1){\n            polyString = polyString+\",\";\n          }\n        }\n        polyString = polyString+\"]\";\n        //console.log(polyString);\n        return polyString;\n      } else {\n        return \"\";\n      }\n\n    },\n    rotateRadians(cx, cy, x, y, radians) {\n        const cos = Math.cos(radians);\n        const sin = Math.sin(radians);\n        const nx = (cos * (x - cx)) + (sin * (y - cy)) + cx;\n        const ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n        return [nx, ny];\n    },\n    getAngleRadians(fromX,fromY,toX,toY) {\n      let deltaX = fromX - toX;\n      let deltaY = fromY - toY;\n      let radians = Math.atan2(deltaY, deltaX)\n      return radians;\n    },\n    v3cross(v1, v2){\n      let v3 = {x:0,y:0,z:0};\n      v3.x = (v1.y*v2.z)-(v1.z*v2.y);\n      v3.y = (v1.z*v2.x)-(v1.x*v2.z);\n      v3.z = (v1.x*v2.y)-(v1.y*v2.x);\n      return v3;\n    },\n  },\n  watch: {\n    file: function(file) {\n      let reader = new FileReader()\n      reader.onload = (event) => {\n        var encoder = new TextEncoder(\"utf-8\");\n        var resultArray = encoder.encode(event.target.result);\n          ifcApi.SetWasmPath(\"../\");\n          // initialize the library\n          ifcApi.Init().then((result) => {\n              const modelID = ifcApi.OpenModel(resultArray);\n\n              // Init LBD Parser and parse BOT\n              /*const lbdParser = new LBDParser();\n              const botTriples = lbdParser.parseBOTTriples(ifcApi, modelID).then((result) => {\n                console.log(result);\n                // Close the model, all memory is freed\n                //ifcApi.CloseModel(modelID);\n              });*/\n\n              const allLines = event.target.result.split(/\\r\\n|\\n/);\n              var ifcSpaces = [];\n              var ifcRelAggregates = []; // Array for getting relations between storeys and spaces\n              var ifcStoreys = [];\n              var ifcDoors = [];\n              for (var i = 0; i < allLines.length; i++) {\n                if(allLines[i].includes(\"IFCSPACE(\")){\n                  ifcSpaces.push(allLines[i]);\n                }\n                if(allLines[i].includes(\"IFCRELAGGREGATES(\")){\n                  ifcRelAggregates.push(allLines[i]);\n                }\n                if(allLines[i].includes(\"IFCBUILDINGSTOREY(\")){\n                  ifcStoreys.push(allLines[i]);\n                }\n                if(allLines[i].includes(\"IFCDOOR(\")){\n                  ifcDoors.push(allLines[i]);\n                }\n              }\n\n\n              // Funtionality to find relation between storey and rooms.\n              var relValuesArray = [];\n              for (var i = 0; i < ifcRelAggregates.length; i++) {\n                let relValues = ifcRelAggregates[i].substring(ifcRelAggregates[i].indexOf('IFCRELAGGREGATES(')+17);\n                relValues = relValues.replace(');', '');\n                relValues = relValues.replaceAll('\\'', '');\n                relValues = relValues.replaceAll('(', '');\n                relValues = relValues.replaceAll(')', '');\n                relValuesArray.push(relValues.split(','));\n              }\n              //console.log(relValuesArray);\n\n              // Functionality for getting sub values for storeys\n              const storeyLineIDs = [];\n              for (var i = 0; i < ifcStoreys.length; i++) {\n                //console.log(\"Storey:\");\n                //console.log(ifcStoreys[i]);\n                const storeyLineID = ifcStoreys[i].substring(0, ifcStoreys[i].indexOf('='));\n                let storeyValues = ifcStoreys[i].substring(ifcStoreys[i].indexOf('IFCBUILDINGSTOREY(')+17);\n                storeyValues = storeyValues.replace(');', '');\n                storeyValues = storeyValues.replaceAll('\\'', '');\n                const storeyValuesArray = storeyValues.split(',');\n                //console.log(storeyValuesArray[5]);\n                const IfcLocalPlacement = ifcApi.GetLine(modelID, parseInt(storeyValuesArray[5].replace('#', '')));\n                //console.log(IfcLocalPlacement);\n                const IfcAxis2Placement3D = ifcApi.GetLine(modelID, parseInt(IfcLocalPlacement.RelativePlacement.value));\n                //console.log(IfcAxis2Placement3D);\n                const IfcLocation = ifcApi.GetLine(modelID, parseInt(IfcAxis2Placement3D.Location.value));\n                //console.log(IfcLocation);\n                const heightAboveGround = IfcLocation.Coordinates[2].value/1000;\n                //console.log(\"Storey: \"+storeyLineID+\" HeightAboveGround: \"+heightAboveGround);\n                for (var j = 0; j < relValuesArray.length; j++) {\n                  //console.log(relValuesArray[j][4]+\":\"+storeyLineID);\n                  for (var k = 5; k < relValuesArray[j].length; k++) {\n                    if(relValuesArray[j][4] == storeyLineID){\n                      storeyLineIDs.push({ roomid:relValuesArray[j][k], height:heightAboveGround, id:storeyLineID });\n                    }\n                  }\n                }\n              }\n              //console.log(storeyLineIDs);\n\n\n              // Functionality for getting sub values for spaces\n              var ifcSpaceGUID = [];\n              var ifcSpaceHeight = [];\n              var ifcSpaceRoomID = [];\n              var ifcSpaceLoc = []; // 5\n              var ifcSpacePoly = []; // 6\n              var ifcSpaceNames = [];\n              for (var i = 0; i < ifcSpaces.length; i++) {\n                const spaceLineID = ifcSpaces[i].substring(0, ifcSpaces[i].indexOf('='));\n                //console.log(spaceLineID);\n                let spaceValues = ifcSpaces[i].substring(ifcSpaces[i].indexOf('IFCSPACE(')+9);\n                spaceValues = spaceValues.replace(');', '');\n                spaceValues = spaceValues.replaceAll('\\'', '');\n                const spaceValuesArray = spaceValues.split(',');\n                if(spaceValuesArray[2] != '$'){\n                  for (var j = 0; j < storeyLineIDs.length; j++) { // Function for setting roomheight from IFCSPACE relation\n                    if(storeyLineIDs[j].roomid == spaceLineID){\n                      ifcSpaceHeight.push(storeyLineIDs[j].height);\n                    }\n                  }\n                  ifcSpaceGUID.push(spaceValuesArray[0]);\n                  //ifcSpaceRoomID.push(spaceValuesArray[2].replace('\\\\X2\\\\00D8\\\\X0\\\\', 'Ø')); // Replaces shit with Ø\n                  ifcSpaceRoomID.push(u.formatString(spaceValuesArray[2]));\n                  ifcSpaceLoc.push(spaceValuesArray[5]);\n                  ifcSpacePoly.push(spaceValuesArray[6]);\n                  ifcSpaceNames.push(spaceValuesArray[7]);\n                }\n              }\n              //console.log(ifcSpaceRoomID);\n\n              // Write polylines to file\n              const tempArray = [];\n              let polystring = \"\";\n              for (var i = 0; i < ifcSpaceRoomID.length; i++) {\n                let newPolyLine = this.getPolyLineData(modelID, ifcSpaceLoc, ifcSpacePoly, ifcSpaceRoomID, i, ifcSpaceHeight[i]);\n                if(newPolyLine != \"\"){\n                  tempArray.push(newPolyLine);\n                  polystring = polystring+newPolyLine+\"\\n\";\n                }\n              }\n              store.state.rs.geometryArray = tempArray;\n\n              this.getCirculationData(modelID, ifcDoors);\n\n              // Save to file download\n              var blob = new Blob([ polystring ], { \"type\" : \"text/plain\" });\n              let link = document.createElement('a');\n              link.href = window.URL.createObjectURL(blob);\n              link.download = 'geometry-file.csv';\n              //link.click();\n          });\n      }\n      reader.readAsText(file);\n    },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\ndiv.inputwrapper {\n  margin: 40px;\n  align: left;\n}\n#heading {\n  font-weight: bold;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIFC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIFC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportIFC.vue?vue&type=template&id=a9a1547e&scoped=true&\"\nimport script from \"./ImportIFC.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportIFC.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImportIFC.vue?vue&type=style&index=0&id=a9a1547e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a9a1547e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VBtn,VFileInput,VForm})\n","<template>\n  <div class=\"feedback\">\n    <img alt=\"I4 logo\" src=\"../assets/logo.png\" width=\"200px\">\n    <ImportIFC msg=\"Show import IFC data form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport ImportIFC from '../components/ImportIFC.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'ImportIFCV',\n  components: {\n    ImportIFC\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIFCV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIFCV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportIFCV.vue?vue&type=template&id=7e11f027&\"\nimport script from \"./ImportIFCV.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportIFCV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('PDFviewer',{attrs:{\"msg\":\"Show files library form\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"},on:{\"drop\":function($event){$event.preventDefault();return _vm.addFile.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"card\",staticStyle:{\"width\":\"96%\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticClass:\"filemenu\",staticStyle:{\"width\":\"100%\",\"text-align\":\"right\",\"background-color\":\"#3577cb\"}},[_c('span',[_c('v-btn',{staticStyle:{\"margin-left\":\"0px\",\"margin-right\":\"auto\"},attrs:{\"icon\":\"\"},on:{\"click\":_vm.goBack}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-arrow-left\")])],1)],1),_c('span',[(_vm.loading)?_c('v-progress-circular',{key:_vm.loading,staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"margin-right\":\"15px\"},attrs:{\"indeterminate\":\"\",\"color\":\"white\"}}):_vm._e(),_c('v-btn',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"10px\"},attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.getPDF(_vm.pdfURI, 1)}}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-reload\")])],1)],1)]),(_vm.pdfloaded)?_c('div',{staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"pdfvuer\"}},_vm._l((10),function(i){return _c('pdf',{key:i,staticStyle:{\"width\":\"100%\",\"margin\":\"20px auto\"},attrs:{\"src\":_vm.pdfdata,\"id\":_vm.startPage+i,\"page\":_vm.startPage+i,\"scale\":_vm.scale,\"annotation\":true,\"resize\":true},on:{\"update:scale\":function($event){_vm.scale=$event},\"link-clicked\":_vm.handle_pdf_link}},[_c('template',{slot:\"loading\"},[_vm._v(\" Loading page... \")])],2)}),1):_vm._e()])],1),_c('div',{staticClass:\"bottommenu\"},[(_vm.pdfpage<_vm.totalNumPages)?_c('v-btn',{staticStyle:{\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"icon\":\"\"},on:{\"click\":_vm.nextPage}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-arrow-down\")])],1):_c('span',{staticStyle:{\"width\":\"50px\",\"height\":\"25px\"}}),_c('font',{attrs:{\"color\":\"#FFFFF\"}},[_vm._v(\"Page \"+_vm._s(_vm.pdfpage)+\" of \"+_vm._s(_vm.totalNumPages))]),_c('v-btn',{staticStyle:{\"margin-left\":\"5px\",\"margin-right\":\"5px\"},attrs:{\"icon\":\"\"},on:{\"click\":_vm.previousPage}},[_c('v-icon',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"mdi-arrow-up\")])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"wrapper\" v-cloak @drop.prevent=\"addFile\" @dragover.prevent>\n\n  <div class=\"card\" style=\"width: 96%\">\n    <v-card class=\"mx-auto\">\n      <div class=\"filemenu\" style=\"width: 100%; text-align: right; background-color: #3577cb;\">\n          <span>\n            <v-btn style=\"margin-left: 0px; margin-right:auto;\" icon @click=\"goBack\">\n              <v-icon style=\"color: white;\">mdi-arrow-left</v-icon>\n            </v-btn>\n          </span>\n          <span>\n            <v-progress-circular v-if=\"loading\" :key=\"loading\" style=\"width: 20px; height: 20px; margin-right: 15px;\" indeterminate color=\"white\"></v-progress-circular>\n            <v-btn style=\"margin-left: auto; margin-right:10px;\" icon @click=\"getPDF(pdfURI, 1)\">\n              <v-icon style=\"color: white;\">mdi-reload</v-icon>\n            </v-btn>\n          </span>\n      </div>\n\n        <div id=\"pdfvuer\" v-if=\"pdfloaded\" style=\"width: 100%\">\n          <!---<div id=\"buttons\" class=\"ui grey three item inverted bottom fixed menu transition hidden\">\n            <a class=\"item\" @click=\"pdfpage > 1 ? pdfpage-- : 1\">\n              <i class=\"left chevron icon\"></i>\n              Back\n            </a>\n            <a class=\"ui active item\">\n              {{pdfpage}} / {{ numPages ? numPages : '∞' }}\n            </a>\n            <a class=\"item\" @click=\"pdfpage < numPages ? pdfpage++ : 1\">\n              Forward\n              <i class=\"right chevron icon\"></i>\n            </a>\n          </div>\n          <div id=\"buttons\" class=\"ui grey three item inverted bottom fixed menu transition hidden\">\n            <a class=\"item\" @click=\"scale -= scale > 0.2 ? 0.1 : 0\">\n              <i class=\"left chevron icon\" />\n                Zoom -\n            </a>\n            <a class=\"ui active item\">\n              {{ formattedZoom }} %\n            </a>\n            <a class=\"item\" @click=\"scale += scale < 2 ? 0.1 : 0\">\n              Zoom +\n              <i class=\"right chevron icon\" />\n            </a>\n          </div>-->\n          <pdf :src=\"pdfdata\" v-for=\"i in 10\" :key=\"i\" :id=\"startPage+i\" :page=\"startPage+i\"\n            :scale.sync=\"scale\" style=\"width:100%;margin:20px auto;\"\n              :annotation=\"true\"\n              :resize=\"true\"\n              @link-clicked=\"handle_pdf_link\">\n            <template slot=\"loading\">\n              Loading page...\n            </template>\n          </pdf>\n        </div>\n    </v-card>\n  </div>\n  <div class=\"bottommenu\">\n    <v-btn v-if=\"pdfpage<totalNumPages\" style=\"margin-left: 5px; margin-right:5px;\" icon @click=\"nextPage\">\n      <v-icon style=\"color: white;\">mdi-arrow-down</v-icon>\n    </v-btn>\n    <span v-else style=\"width: 50px; height: 25px\"> </span>\n    <font color=\"#FFFFF\">Page {{ pdfpage }} of {{ totalNumPages }}</font>\n    <v-btn style=\"margin-left: 5px; margin-right:5px;\" icon @click=\"previousPage\">\n      <v-icon style=\"color: white;\">mdi-arrow-up</v-icon>\n    </v-btn>\n  </div>\n\n\n  </div>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport pdf from 'pdfvuer'\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport moment from 'moment';\nimport { getIcon } from 'material-file-icons';\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\n\nvar factory = new (require('rdf-data-factory').DataFactory)();\nvar RdfTerm = require('rdf-string');\nvar toRdfLiteral = require(\"rdf-literal\").toRdf;\nlet searchRdfStore = $rdf.graph();\n\nconst pw = {}\n\nexport default {\n  id: pw,\n  name: 'PDFviewer',\n  data() {\n    return {\n      valid: true,\n      pdfURI: '',\n      pdfdata: undefined,\n      pdfloaded: false,\n      pdfpage: 1,\n      numPages: 10,\n      totalNumPages: 10,\n      pagePositions: [],\n      scrolling: false,\n      scale: 'page-width',\n      debug: false,\n      loading: false,\n      startPage: 0,\n    }\n  },\n  methods: {\n      scrollMeTo(refName) {\n        var element = this.$refs[refName];\n        var top = element.offsetTop;\n        window.scrollTo(0, top);\n      },\n      goBack() {\n        history.back();\n      },\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      async getPDF(pdfURI, page){\n        this.loading = true;\n        this.pdfloaded = false;\n        this.pdfdata = undefined;\n        this.pagePositions = [];\n        try {\n          this.pdfpage = this.startPage+parseInt(page);\n        } catch (error) {\n          this.pdfpage = this.startPage+1;\n        } \n        try {\n          const res = await window.solid.session.fetch(\n            pdfURI, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n              console.log(res);\n            let filedata = await res.arrayBuffer();\n            let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/pdf\"}));\n            this.pdfdata = pdf.createLoadingTask(fileurl);\n            this.pdfdata.then(pdf => {\n            console.log(fileurl);\n            setTimeout( () => {\n              let previousPos = 0;\n              for (var i=1; i<100; i++) {\n                const foundPos = this.findPos(document.getElementById(this.startPage+i));\n                if(previousPos==foundPos) break;\n                this.pagePositions.push(foundPos);\n                this.numPages = this.startPage+i;\n                previousPos = foundPos;\n              }\n              this.numPages--;\n            }, 1000 );\n            this.pdfloaded = true;\n            this.loading = false;\n            this.totalNumPages = pdf.numPages;\n            });\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      handle_pdf_link: function (params) {\n        // Scroll to the appropriate place on our page - the Y component of\n        // params.destArray * (div height / ???), from the bottom of the page div\n        var page = document.getElementById(String(params.pageNumber));\n        page.scrollIntoView();\n      },\n      findPos(obj) {\n        return obj.offsetTop;\n      },\n      arrayRemove(arr, value) {\n        return arr.filter(function(ele){\n            return ele != value;\n        });\n      },\n      between(x, min, max) {\n        return x >= min && x <= max;\n      },\n      nextPage() {\n        if(this.pdfpage<this.numPages){\n          this.pdfpage++;\n        } else {\n          if(String(this.pdfpage).charAt(String(this.pdfpage).length - 1)==0){\n            this.startPage = this.startPage+10;\n            this.getPDF(this.pdfURI, 1);\n          }\n        }\n        document.getElementById(this.pdfpage).scrollIntoView();\n        window.scrollBy(0,-120);\n      },\n      previousPage() {\n        if(this.pdfpage > this.startPage+1){\n          this.pdfpage--;\n        } else {\n          if(this.pdfpage>1){\n            this.startPage = this.startPage-10;\n            this.getPDF(this.pdfURI, 1);\n          }\n        }\n        document.getElementById(this.pdfpage).scrollIntoView();\n        window.scrollBy(0,-120);\n      }\n  },\n  computed: {\n    formattedZoom () {\n      return Number.parseInt(this.scale * 100);\n    },\n  },\n  watch: {\n    /*pdfpage: function (p) {\n      console.log(this.pdfpage);\n      document.getElementById(p).scrollIntoView();\n      window.scrollBy(0,-120);\n      //if( window.pageYOffset <= this.findPos(document.getElementById(p)) || ( document.getElementById(p+1) && window.pageYOffset >= this.findPos(document.getElementById(p+1)) )) {\n        // window.scrollTo(0,this.findPos(document.getElementById(p)));\n      //}\n    }*/\n  },\n  mounted(){\n      this.checklogin();\n      this.pdfURI = this.$route.query.select;\n      this.getPDF(this.pdfURI, 1);\n  },\n  created(){\n    let isScrolling;\n    window.addEventListener('scroll', () => {\n      this.scrolling = true\n      window.clearTimeout(isScrolling);\n      isScrolling = setTimeout(() => {\n        this.scrolling = false\n        console.log(window.scrollY)\n        for (var i=0; i<this.numPages+1; i++) {\n          if(this.between(window.scrollY, this.pagePositions[i]-120, this.pagePositions[i+1]-120)){\n            this.pdfpage = this.startPage+i+1;\n          }\n          if(window.scrollY<50) this.pdfpage = this.startPage+1;\n          if(window.scrollY>this.pagePositions[this.pagePositions.length-1]) this.pdfpage = this.numPages;\n        }\n      }, 400);\n    }, false);\n  },\n  destroyed () {\n\n  },\n  components: {\n    pdf\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#buttons {\n  margin-left: 0 !important;\n  margin-right: 0 !important;\n}\n/* Page content */\n.content {\n  padding: 16px;\n}\n.bottommenu {\n  position:fixed;\n  margin-top: 85vh;\n  margin-left: 43vw;\n  width: 200px;\n  background-color: #3577cb;\n}\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.div-margins-left{\n  margin: 15px;\n  text-align: left;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.filemenu {\n  display: flex;\n  justify-content: space-between;\n}\n.vcard-bottom-margin {\n  margin-bottom:  15px;\n  width: 100%;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n#wrapper {\n  display: flex;\n}\n.card {\n  margin: 15px;\n  align: left;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PDFviewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PDFviewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PDFviewer.vue?vue&type=template&id=1c7d9d7b&scoped=true&\"\nimport script from \"./PDFviewer.vue?vue&type=script&lang=js&\"\nexport * from \"./PDFviewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PDFviewer.vue?vue&type=style&index=0&id=1c7d9d7b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c7d9d7b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VCard,VIcon,VProgressCircular})\n","<template>\n  <div class=\"feedback\">\n    <PDFviewer msg=\"Show files library form\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport PDFviewer from '../components/PDFviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'PDFviewerV',\n  components: {\n    PDFviewer\n}\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PDFviewerV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PDFviewerV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PDFviewerV.vue?vue&type=template&id=7863d2b4&\"\nimport script from \"./PDFviewerV.vue?vue&type=script&lang=js&\"\nexport * from \"./PDFviewerV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\"},[_c('WorkList',{attrs:{\"msg\":\"Show work list\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('v-card',{staticClass:\"mx-auto\"},[_c('div',{staticClass:\"flex justify-center\"},[_c('div',{staticClass:\"min-h-screen flex overflow-x-scroll py-12\"},_vm._l((_vm.columns),function(column){return _c('div',{key:column.title,staticClass:\"bg-gray-100 rounded-lg px-3 py-3 column-width rounded mr-4\"},[_c('p',{staticClass:\"text-gray-700 font-semibold font-sans tracking-wide text-sm\"},[_vm._v(_vm._s(column.title))]),_c('draggable',{attrs:{\"list\":column.tasks,\"animation\":200,\"ghost-class\":\"ghost-card\",\"group\":\"tasks\"}},_vm._l((column.tasks),function(task){return _c('task-card',{key:task.uri,staticClass:\"mt-3 cursor-move\",attrs:{\"task\":task}})}),1)],1)}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-white shadow rounded px-3 pt-3 pb-5 border border-white\"},[_c('div',{staticClass:\"flex justify-between\"},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('p',{staticClass:\"text-gray-700 font-semibold font-sans tracking-wide text-sm\"},[_vm._v(_vm._s(_vm.task.title))])]),_c('img',{staticClass:\"w-6 h-6 rounded-full ml-3\",attrs:{\"src\":require(\"./img/face.png\"),\"alt\":\"Avatar\"}})]),_c('div',{staticClass:\"flex mt-4 justify-between items-center\"},[_c('span',{staticClass:\"text-sm text-gray-600\"},[_vm._v(_vm._s(_vm.task.date))]),(_vm.task.type)?_c('badge',{attrs:{\"color\":_vm.badgeColor}},[_vm._v(_vm._s(_vm.task.type))]):_vm._e()],1),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('p',{staticClass:\"text-gray-500 font-narrow font-sans tracking-wide text-sm\",staticStyle:{\"margin-bottom\":\"-15px\"}},[_vm._v(_vm._s(_vm.task.responsible))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-3 h-6 rounded-full text-xs font-semibold flex items-center\",class:(\"bg-\" + _vm.color + \"-100 text-\" + _vm.color + \"-700\")},[_c('span',{staticClass:\"w-2 h-2 rounded-full mr-1\",class:(\"bg-\" + _vm.color + \"-400\")}),_c('span',[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"px-3 h-6 rounded-full text-xs font-semibold flex items-center\"\n    :class=\"`bg-${color}-100 text-${color}-700`\"\n  >\n    <span class=\"w-2 h-2 rounded-full mr-1\" :class=\"`bg-${color}-400`\"></span>\n    <span>\n      <slot></slot>\n    </span>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    color: {\n      type: String,\n      default: \"teal\"\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Badge.vue?vue&type=template&id=3d16cedc&\"\nimport script from \"./Badge.vue?vue&type=script&lang=js&\"\nexport * from \"./Badge.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"bg-white shadow rounded px-3 pt-3 pb-5 border border-white\">\n    <div class=\"flex justify-between\">\n      <div style=\"text-align: left;\">\n          <p class=\"text-gray-700 font-semibold font-sans tracking-wide text-sm\">{{task.title}}</p>\n      </div>\n      <img\n        class=\"w-6 h-6 rounded-full ml-3\"\n        src=\"./img/face.png\"\n        alt=\"Avatar\"\n      >\n    </div>\n    <div class=\"flex mt-4 justify-between items-center\">\n      <span class=\"text-sm text-gray-600\">{{task.date}}</span>\n      <badge v-if=\"task.type\" :color=\"badgeColor\">{{task.type}}</badge>\n    </div>\n    <div style=\"text-align: left;\">\n        <p class=\"text-gray-500 font-narrow font-sans tracking-wide text-sm\" style=\"margin-bottom: -15px\">{{task.responsible}}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport Badge from \"./Badge.vue\";\nexport default {\n  components: {\n    Badge\n  },\n  props: {\n    task: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  computed: {\n    badgeColor() {\n      const mappings = {\n        Design: \"purple\",\n        \"Feature Request\": \"teal\",\n        Backend: \"blue\",\n        QA: \"green\",\n        default: \"teal\"\n      };\n      return mappings[this.task.type] || mappings.default;\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskCard.vue?vue&type=template&id=0b3a078b&\"\nimport script from \"./TaskCard.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"wrapper\">\n    <v-card class=\"mx-auto\">\n        <div class=\"flex justify-center\">\n            <div class=\"min-h-screen flex overflow-x-scroll py-12\">\n                <div\n                v-for=\"column in columns\"\n                :key=\"column.title\"\n                class=\"bg-gray-100 rounded-lg px-3 py-3 column-width rounded mr-4\"\n                >\n                <p class=\"text-gray-700 font-semibold font-sans tracking-wide text-sm\">{{column.title}}</p>\n                <!-- Draggable component comes from vuedraggable. It provides drag & drop functionality -->\n                <draggable :list=\"column.tasks\" :animation=\"200\" ghost-class=\"ghost-card\" group=\"tasks\">\n                    <!-- Each element from here will be draggable and animated. Note :key is very important here to be unique both for draggable and animations to be smooth & consistent. -->\n                    <task-card\n                    v-for=\"(task) in column.tasks\"\n                    :key=\"task.uri\"\n                    :task=\"task\"\n                    class=\"mt-3 cursor-move\"\n                    ></task-card>\n                    <!-- </transition-group> -->\n                </draggable>\n                </div>\n            </div>\n        </div>\n    </v-card>\n  </div>\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport id from './ImportData.vue';\nimport ur from './util-rdf.js';\nimport so from './util-s.js';\nimport u from './util.js';\nimport moment from 'moment';\nimport { getIcon } from 'material-file-icons';\nconst streamSaver = require('streamsaver');\nconst streamToBlob = require('stream-to-blob');\nconst fs = require('fs');\nimport axios from 'axios';\n\nimport {\n  Vector3,\n} from \"three\";\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\nimport Vue from 'vue';\n\nimport draggable from \"vuedraggable\";\nrequire('./tailwind.min.css');\nimport TaskCard from \"./TaskCard.vue\";\n\nconst factory = new (require('rdf-data-factory').DataFactory)();\nconst RdfTerm = require('rdf-string');\nconst toRdfLiteral = require(\"rdf-literal\").toRdf;\n\nconst wl = {}\n\nconst components = {\n  //...\n}\n\nwl.searchAndParseResult = async function(conceptName){\n  let uri = store.state.webId.replace(\"/i\", \"/search/\")+encodeURIComponent(conceptName);\n  try {\n    let res = await window.solid.session.fetch(\n      uri, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(res => res.text());\n    $rdf.parse(res, store.state.rs.rdfStore, uri, 'text/turtle');\n    return res;\n  } catch (error) {\n    console.log(error);\n    console.log(\"Search failed\");\n  }\n}\n\nexport default {\n  id: wl,\n  name: 'WorkList',\n  components: {\n    TaskCard,\n    draggable\n  },\n  data() {\n    return {\n            columns: [\n        {\n          title: \"Not started\",\n          tasks: []\n        },\n        {\n          title: \"In Progress\",\n          tasks: []\n        },\n        {\n          title: \"Resolved\",\n          tasks: []\n        },\n        {\n          title: \"Closed\",\n          tasks: []\n        }\n      ],\n    }\n  },\n  methods: {\n      checklogin(){\n        console.log(window.solid.session.info);\n        if (window.solid.session.info.isLoggedIn){\n          console.log(\"Test logged in\");\n        } else {\n          console.log(\"Is logged out, reroute\");\n          this.$router.push({ path: '/' })\n        }\n      },\n      async getTasksFromServer(){\n          let taskTAGS = await wl.searchAndParseResult(\"#i4task*\");\n          let taskURIs = [];\n          store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n              if(item.object.value.includes(\"i4task\")){\n                if(!taskURIs.includes(item.subject.value)) taskURIs.push(item.subject.value);\n              }\n          });\n          for(let t=0; t<taskURIs.length; t++){\n            let done = await ur.fetchAndSaveTurtle(taskURIs[t]);\n            if(done) console.log(\"Done\");\n          }\n          this.getTasksFromDatabase();\n          store.state.tasks.forEach(task => {\n          this.columns.forEach((column, cid) => {\n              if(task.state == column.title){\n                  this.columns[cid].tasks.push(task);\n              }\n          });\n      });\n      },\n      getTasksFromDatabase(){\n        store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n            if(item.object.value.includes(\"i4task\")){\n                console.log(\"Found item: \"+item.object.value);\n                let title = \"\";\n                let descript = \"\";\n                let imageuri = \"\";\n                let responsible = \"\";\n                let responsibleName = \"\";\n                let state = \"Not started\";\n                //state = decodeURIComponent(item.object.value.replace(\"i4task.\", \"\"));\n                store.state.rs.rdfStore.match(item.subject, ns.IFOUR(\"taskStatus\"), null).forEach(foundItem => {\n                    //console.log(\"Found state: \"+foundItem.object.value);\n                    state = foundItem.object.value;\n                });\n                store.state.rs.rdfStore.match(item.subject, ns.RDFS(\"label\"), null).forEach(foundItem => {\n                    title = foundItem.object.value;\n                    console.log(\"Label\", title);\n                });\n                store.state.rs.rdfStore.match(item.subject, ns.RDFS(\"comment\"), null).forEach(foundItem => {\n                    descript = foundItem.object.value;\n                });\n                store.state.rs.rdfStore.match(item.subject, ns.FOAF(\"image\"), null).forEach(foundItem => {\n                    imageuri = foundItem.object.value;\n                });\n                store.state.rs.rdfStore.match(item.subject, ns.FOAF(\"aimChatID\"), null).forEach(foundItem => {\n                    responsible = foundItem.object.value;\n                    if(store.state.rs.rdfStore.match($rdf.sym(foundItem.object.value), ns.FOAF(\"name\"), null)[0]) responsibleName = store.state.rs.rdfStore.match($rdf.sym(foundItem.object.value), ns.FOAF(\"name\"), null)[0].object.value;\n                });\n                let matrix = \"\";\n                let position = new Vector3( 0, 0, 0);\n                store.state.rs.rdfStore.match(item.subject, ns.NEO(\"t_\"), null).forEach(foundMatrix => {\n                    matrix = foundMatrix.object.value;\n                });\n                if(matrix.length>=10){\n                    matrix = matrix.replace(']^^neo:a_matrix-3m', '');\n                    matrix = matrix.replace('[0,0,0,0,0,0,', '');\n                    const matrixArray = matrix.split(\",\");\n                    position.x = parseInt(matrixArray[0]);\n                    position.y = parseInt(matrixArray[1]);\n                    position.z = parseInt(matrixArray[2]);\n                }\n                console.log(position);\n                let found = false;\n                store.state.tasks.forEach(task => {\n                  if(task.uri===item.subject.value) found = true;\n                });\n                if(!found){\n                  console.log(\"Found state: \"+state);\n                  store.state.tasks.push({ id: Date.now(), uri: item.subject.value, position: position, title: title, description: descript, imageuri: imageuri, responsible: responsibleName, state: state, date: \"16.09.2022\", type: \"issue\" });\n                }\n            }\n        });\n      }\n  },\n  computed: {\n\n  },\n  watch: {\n    columns: {\n        handler: function (newColumns, oldVal) {\n            console.log(\"Task list changed..\");\n            newColumns.forEach((column, cid) => {\n                newColumns[cid].tasks.forEach(task => {\n                    // Check if changed column\n                    store.state.tasks.forEach((storeTask, stid) => {\n                        if(storeTask.id===task.id){\n                            if(storeTask.state!=newColumns[cid].title){\n                                console.log(storeTask.title+\" : Has changed.\");\n                                console.log(\"URI: \"+storeTask.uri);\n                                store.state.rs.rdfStore.removeMatches($rdf.sym(storeTask.uri), ns.IFOUR(\"taskStatus\"), storeTask.state); // Deletes the triple that matches.\n                                store.state.tasks[stid].state = newColumns[cid].title;\n                                store.state.rs.rdfStore.add($rdf.sym(store.state.tasks[stid].uri), ns.IFOUR(\"taskStatus\"), store.state.tasks[stid].state, $rdf.default);\n                                // Start updating Trinpod\n                                store.state.rs.tempRdfStore = $rdf.graph();\n                                store.state.rs.tempRdfStore.add($rdf.sym(store.state.tasks[stid].uri), ns.IFOUR(\"taskStatus\"), store.state.tasks[stid].state, $rdf.default);\n                                let turtle = u.storeToTurtle(store.state.rs.tempRdfStore, \"\");\n                                turtle = ur.modifyTurtle(turtle);\n                                console.log(turtle);\n                                let taskPod = so.getCharactersBefore(store.state.tasks[stid].uri, \"node/\")+\"i\";\n                                console.log(\"Taskpod:\"+taskPod);\n                                /*ur.uploadTurtle(taskPod, turtle, false).then((successfulFetch) => {\n                                  console.log(successfulFetch);\n                                });*/\n                            } \n                        }\n                    });\n\n                    // Check if changed order\n\n                });\n            });\n        },\n        deep: false\n    },\n  },\n  mounted(){\n      this.checklogin();      \n      this.currentPOD = this.$route.query.location;\n      this.currentContainer = this.$route.query.location+'home/';\n\n      /*form.addEventListener('submit', function(e) {\n          // Prevent default behavior:\n          console.log(e);\n      })*/\n      this.columns[0].tasks = [];\n      console.log(store.state.tasks.length);\n      store.state.tasks = [];\n      this.getTasksFromServer();\n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.filemenu {\n  display: flex;\n  justify-content: space-between;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n#wrapper {\n  display: flex;\n}\n.left {\n  flex: 0 0 40%;\n  max-width: 40%;\n  margin: 15px;\n  align: left;\n}\n\n.right {\n  flex: 1;\n  min-width: 55%;\n  max-width: 55%;\n  margin: 15px;\n  align: left;\n}\n\n  .column-width {\n        min-width: 320px;\n        width: 320px;\n    }\n.ghost-card {\n    opacity: 0.5;\n    background: #F7FAFC;\n    border: 1px solid #4299e1;\n}\n\n@media screen and (max-width: 1000px) {\n  #wrapper {\n    display: block;\n    flex-direction: row;\n  }\n  .left, .right{\n    position: relative;\n    max-width: 100%;\n    float:none;\n    height: fit-content;\n  }\n\n  .right{\n    height: fit-content;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkList.vue?vue&type=template&id=8a7a1d6c&scoped=true&\"\nimport script from \"./WorkList.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkList.vue?vue&type=style&index=0&id=8a7a1d6c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a7a1d6c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCard})\n","<template>\n  <div class=\"feedback\">\n    <WorkList msg=\"Show work list\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport WorkList from '../components/WorkList.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'WorklistV',\n  components: {\n    WorkList\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkListV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkListV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkListV.vue?vue&type=template&id=d152abea&\"\nimport script from \"./WorkListV.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkListV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\",style:({ 'height': _vm.viewHeight + 'px' })},[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"position\":\"absolute\",\"z-index\":\"3\",\"top\":\"28px\",\"right\":\"8px\"},attrs:{\"color\":\"#3577cb\"},on:{\"click\":_vm.toggleViews}},[_c('v-icon',[_vm._v(\"mdi-arrow-split-vertical\")])],1),_c('Multipane',{staticClass:\"vertical-panes\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"id\":\"resizer\",\"layout\":\"vertical\"},on:{\"paneResizeStart\":function($event){return _vm.paneresizestarted($event)},\"paneResizeStop\":function($event){return _vm.paneresizestopped($event)}}},[_c('div',{ref:\"leftpane\",staticClass:\"vertical\",staticStyle:{\"overflow\":\"scroll\"},style:({ 'height': _vm.viewHeight + 'px' })},[_c('IFCexporter',{attrs:{\"msg\":\"Show IFCexporter form\"}})],1),_c('multipane-resizer',{staticClass:\"resizer\",style:({ 'height': _vm.viewHeight + 'px' })},[_vm._v(\"-\")]),_c('BIMviewer',{ref:\"myviewer\",staticClass:\"verticalflex\",style:({ 'height': _vm.viewHeight + 'px' }),attrs:{\"msg\":\"Show bimviewer form\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('v-form',{ref:\"form1\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.clearScene()}}},[_vm._v(\" Clear scene \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.createTrinpods()}}},[_vm._v(\" Create trinpods \")]),_c('br'),_c('br'),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(\"Select IFC file\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-select',{attrs:{\"items\":_vm.ifcfiles,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"single\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.ifcfile),callback:function ($$v) {_vm.ifcfile=$$v},expression:\"ifcfile\"}})],1):_vm._e(),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(\"Create GLTF by IFC types\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-select',{attrs:{\"items\":_vm.ifctypes,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.ifctypesselected),callback:function ($$v) {_vm.ifctypesselected=$$v},expression:\"ifctypesselected\"}})],1):_vm._e(),_c('v-switch',{attrs:{\"label\":\"Split by floor\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.splitbyfloor),callback:function ($$v) {_vm.splitbyfloor=$$v},expression:\"splitbyfloor\"}}),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.convertIFCtoGLTF()}}},[_vm._v(\" Export GLTF by types \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.exportIFCProperties()}}},[_vm._v(\" Export JSON property set \")]),_c('br'),_c('br'),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(\"Create floorplan by floor\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-btn',{staticClass:\"black--text\",attrs:{\"color\":\"#AAAAAA\"},on:{\"click\":function($event){return _vm.getIFCStoreys()}}},[_vm._v(\" Get floors from IFC \")]),_c('br'),_c('br'),_c('v-select',{attrs:{\"items\":_vm.floorlist,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"single\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.floorsselected),callback:function ($$v) {_vm.floorsselected=$$v},expression:\"floorsselected\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.createFloorplan()}}},[_vm._v(\" Create Floorplan \")]),_c('br'),_c('br'),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(\"Gather sensor information\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.getIFCSensorElements()}}},[_vm._v(\" Store sensors \")]),_c('br'),_c('br')],1):_vm._e(),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(\"Generate room numbers\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-btn',{staticClass:\"black--text\",attrs:{\"color\":\"#AAAAAA\",\"disabled\":_vm.roomNumberProcess != 1 || _vm.loading},on:{\"click\":function($event){return _vm.getIFCStoreys()}}},[_vm._v(\" Get floors from IFC \")]),_c('br'),_c('br'),_c('v-select',{attrs:{\"items\":_vm.floorlist,\"label\":_vm.$t('text_all'),\"return-object\":\"\",\"single\":\"\",\"chips\":\"\",\"solo\":\"\",\"disabled\":_vm.loading},model:{value:(_vm.floorsselected),callback:function ($$v) {_vm.floorsselected=$$v},expression:\"floorsselected\"}})],1):_vm._e(),_c('v-radio-group',{staticStyle:{\"width\":\"100%\"},attrs:{\"inline\":\"\"},model:{value:(_vm.labelType),callback:function ($$v) {_vm.labelType=$$v},expression:\"labelType\"}},[_c('v-radio',{attrs:{\"label\":\"Trafficload\",\"value\":\"1\",\"selected\":\"\"}}),_c('v-radio',{attrs:{\"label\":\"Room numbers\",\"value\":\"2\"}})],1),_c('v-switch',{attrs:{\"label\":\"Rooms exist in trinpod\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.roomsExistInTrinpod),callback:function ($$v) {_vm.roomsExistInTrinpod=$$v},expression:\"roomsExistInTrinpod\"}}),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\",\"disabled\":_vm.roomNumberProcess != 3 || _vm.loading},on:{\"click\":function($event){return _vm.generateDoorCirculation()}}},[_vm._v(\" Generate door circulation \")]),_c('br'),_c('br'),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.doorIssueTableHeaders,\"items\":_vm.doorIssueTableList,\"search\":_vm.search,\"flat\":\"\",\"item-key\":\"doorid\",\"show-select\":\"\"},model:{value:(_vm.doorIssueTableSelectedRow),callback:function ($$v) {_vm.doorIssueTableSelectedRow=$$v},expression:\"doorIssueTableSelectedRow\"}}),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\",\"disabled\":_vm.roomNumberProcess != 4 || _vm.loading},on:{\"click\":function($event){return _vm.generateOpeningCirculation()}}},[_vm._v(\" Generate opening circulation \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\",\"disabled\":false},on:{\"click\":function($event){return _vm.generateStoreyLevelCirculation()}}},[_vm._v(\" Generate storey level circulation \")]),_c('br'),_c('br'),_c('b',[_vm._v(\"Building main entrances:\")]),_c('br'),_vm._l((_vm.buildingMainEntrances),function(item){return _c('li',[_vm._v(\" \"+_vm._s(item)+\" \")])}),(_vm.roomSelected)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\",\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.setBuildingMainEntrance()}}},[_vm._v(\"Set\")]):_vm._e(),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\",\"disabled\":_vm.loading},on:{\"click\":function($event){(_vm.calculateRoomTrafficLoad())}}},[_vm._v(\" Calculate traffic load \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.generateRoomNames()}}},[_vm._v(\" Generate roomnames \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.runNextTrafficArea()}}},[_vm._v(\" Approve \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.editIFCStoreyNames()}}},[_vm._v(\" Save updated IFC file \")]),_c('br'),_c('br'),_c('h2',[_vm._v(\"Data upload\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.uploadFloorsToTrinpod()}}},[_vm._v(\" Upload floors to trinpod \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.generateRoomsTurtle()}}},[_vm._v(\" Upload rooms and doors to trinpod \")]),_c('br'),_c('br'),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.loadIFCSlabs()}}},[_vm._v(\" Show slabs \")]),_c('br'),_c('br'),_c('h2',[_vm._v(\"Position building\")]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.showIFC()}}},[_vm._v(\" Show IFC \")]),_c('br'),_c('br'),_vm._v(\" Rotate building with E and R. \"),_c('br'),_vm._v(\" Move building with WASD. \"),_c('br'),_vm._v(\" Building height with Z and X. \"),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.setBuildingPoint1()}}},[_vm._v(\" Set point 1 \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3333BB\"},on:{\"click\":function($event){return _vm.setBuildingLatLong1()}}},[_vm._v(\" Set LatLong 1 \")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#337733\"},on:{\"click\":function($event){return _vm.fineTuneBuildingRotation()}}},[_vm._v(\" Finetune rotation \")]),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.buildingPosition)+\" \"),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#BB33BB\"},on:{\"click\":function($event){return _vm.uploadPropertiesJson()}}},[_vm._v(\" Upload JSON \")]),_c('br'),_c('br')],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <v-form\n      ref=\"form1\"\n      v-model=\"valid\"\n      lazy-validation\n    >\n\n    <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"clearScene()\"\n      > Clear scene </v-btn><br><br>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"createTrinpods()\"\n      > Create trinpods </v-btn><br><br>\n\n      <div v-if='!loading'>\n        <h2>Select IFC file</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-select\n                v-model=\"ifcfile\"\n                :items=\"ifcfiles\"\n                :label=\"$t('text_all')\"\n                return-object\n                single\n                chips\n                solo\n              ></v-select>\n      </div>\n\n      <div v-if='!loading'>\n        <h2>Create GLTF by IFC types</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-select\n                v-model=\"ifctypesselected\"\n                :items=\"ifctypes\"\n                :label=\"$t('text_all')\"\n                return-object\n                multiple\n                chips\n                solo\n              ></v-select>\n      </div>\n      <v-switch\n        v-model=\"splitbyfloor\"\n        label=\"Split by floor\"\n        color=\"blue\"\n        hide-details\n      ></v-switch><br><br>\n\n      <v-btn\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"convertIFCtoGLTF()\"\n        >\n      Export GLTF by types\n        </v-btn><br><br>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"exportIFCProperties()\"\n      > Export JSON property set </v-btn><br><br>\n\n      <div v-if='!loading'>\n        <h2>Create floorplan by floor</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-btn\n          color=\"#AAAAAA\"\n          class=\"black--text\"\n          @click=\"getIFCStoreys()\"\n        > Get floors from IFC </v-btn><br><br>\n        <v-select\n                v-model=\"floorsselected\"\n                :items=\"floorlist\"\n                :label=\"$t('text_all')\"\n                return-object\n                single\n                chips\n                solo\n              ></v-select>\n      </div>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"createFloorplan()\"\n      > Create Floorplan </v-btn><br><br>\n\n      <div v-if='!loading'>\n        <h2>Gather sensor information</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-btn\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"getIFCSensorElements()\"\n        > Store sensors </v-btn><br><br>\n      </div>\n      \n        <div v-if='!loading'>\n        <h2>Generate room numbers</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-btn\n          color=\"#AAAAAA\"\n          class=\"black--text\"\n          @click=\"getIFCStoreys()\"\n          :disabled=\"roomNumberProcess != 1 || loading\"\n        > Get floors from IFC </v-btn><br><br>\n\n        <v-select\n                v-model=\"floorsselected\"\n                :items=\"floorlist\"\n                :label=\"$t('text_all')\"\n                return-object\n                single\n                chips\n                solo\n                :disabled=\"loading\"\n              ></v-select>\n      </div>\n\n      <v-radio-group v-model=\"labelType\" style=\"width: 100%\" inline>\n          <v-radio label=\"Trafficload\" value=\"1\" selected></v-radio>\n          <v-radio label=\"Room numbers\" value=\"2\"></v-radio>\n        </v-radio-group>\n\n      <v-switch\n        v-model=\"roomsExistInTrinpod\"\n        label=\"Rooms exist in trinpod\"\n        color=\"blue\"\n        hide-details\n      ></v-switch><br>\n\n      <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"generateDoorCirculation()\"\n          :disabled=\"roomNumberProcess != 3 || loading\"\n        >\n      Generate door circulation\n        </v-btn><br><br>\n\n        <v-data-table\n        :headers=\"doorIssueTableHeaders\"\n        :items=\"doorIssueTableList\"\n        :search=\"search\"\n        flat\n        class=\"elevation-0\"\n        item-key=\"doorid\"\n        v-model=\"doorIssueTableSelectedRow\"\n        show-select\n      ></v-data-table><br><br>\n\n      <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"generateOpeningCirculation()\"\n          :disabled=\"roomNumberProcess != 4 || loading\"\n        >\n      Generate opening circulation\n        </v-btn><br><br>\n\n        <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"generateStoreyLevelCirculation()\"\n          :disabled=\"false\"\n        >\n      Generate storey level circulation\n        </v-btn><br><br>\n\n      <b>Building main entrances:</b><br>\n      <li v-for=\"item in buildingMainEntrances\">\n        {{ item }}\n      </li> \n      <v-btn v-if='roomSelected'\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"setBuildingMainEntrance()\"\n        :disabled=\"loading\"\n      >Set</v-btn><br><br>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"(calculateRoomTrafficLoad())\"\n        :disabled=\"loading\"\n      > Calculate traffic load </v-btn><br><br>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"generateRoomNames()\"\n      > Generate roomnames </v-btn><br><br>\n      \n      <v-btn\n        color=\"#337733\"\n        class=\"white--text\"\n        @click=\"runNextTrafficArea()\"\n      > Approve </v-btn><br><br>\n\n      <v-btn\n        color=\"#3577cb\"\n        class=\"white--text\"\n        @click=\"editIFCStoreyNames()\"\n      > Save updated IFC file </v-btn><br><br>\n\n      <h2>Data upload</h2>\n      <hr class=\"hr1\"/><br>\n      <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"uploadFloorsToTrinpod()\"\n        >\n      Upload floors to trinpod\n        </v-btn><br><br>\n      <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"generateRoomsTurtle()\"\n        >\n      Upload rooms and doors to trinpod\n        </v-btn><br><br>\n\n      <hr class=\"hr1\"/><br><br>\n      <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"loadIFCSlabs()\"\n        >\n      Show slabs\n        </v-btn><br><br>\n\n        <h2>Position building</h2>\n        <hr class=\"hr1\"/>\n        <br>\n        <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"showIFC()\"\n        >\n      Show IFC\n        </v-btn><br><br>\n        Rotate building with E and R. <br>\n        Move building with WASD. <br>\n        Building height with Z and X. <br><br>\n        <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"setBuildingPoint1()\"\n        >\n      Set point 1\n        </v-btn><br><br>\n        <v-btn\n          color=\"#3333BB\"\n          class=\"white--text\"\n          @click=\"setBuildingLatLong1()\"\n        >\n      Set LatLong 1\n        </v-btn><br><br>\n        <v-btn\n          color=\"#337733\"\n          class=\"white--text\"\n          @click=\"fineTuneBuildingRotation()\"\n        >\n      Finetune rotation\n        </v-btn><br><br>\n      {{ buildingPosition }}\n      <v-btn\n          color=\"#BB33BB\"\n          class=\"white--text\"\n          @click=\"uploadPropertiesJson()\"\n        >\n      Upload JSON\n        </v-btn><br><br>\n    </v-form>\n  </div>\n</template>\n\n\n<script>\n\nimport { mapMutations, mapActions  } from \"vuex\";\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport a from './util-a.js';\nimport r from './util-r.js';\nimport v from './util-v.js';\nimport c from './util-c.js';\nimport u from './util.js';\nimport wf from './Wayfinder.js';\nimport wf2 from './Wayfinder2.js';\nimport bw from './BIMviewer.vue';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport polylabel from 'polylabel';\nimport { UnitsUtils } from \"geo-three\";\n\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\nimport {\n  Color,\n  ExtrudeGeometry,\n  Shape,\n  MeshPhongMaterial,\n  Mesh,\n  LineBasicMaterial,\n  MeshBasicMaterial,\n  Geometry,\n  Vector3,\n  PointsMaterial,\n  Points,\n  Line,\n  BufferAttribute,\n  LineCurve3,\n  BoxGeometry,\n  BufferGeometry,\n  Float32BufferAttribute,\n  LineSegments,\n  Box3,\n  Face3,\n  Triangle,\n  LineDashedMaterial,\n  DoubleSide,\n  MeshLambertMaterial,\n  MeshStandardMaterial,\n  Quaternion,\n  Matrix4,\n  Line3\n} from \"three\";\nimport {\n    IFCWALLSTANDARDCASE,\n    IFCSLAB,\n    IFCWALL,\n    IFCROOF,\n    IFCDOOR,\n    IFCWINDOW,\n    IFCFURNISHINGELEMENT,\n    IFCMEMBER,\n    IFCBUILDINGSTOREY,\n    IFCPLATE,\n    IFCCURTAINWALL,\n    IFCSPACE,\n    IFCSTAIR,\n    IFCCOVERING,\n    IFCOPENINGELEMENT,\n    IFCRELFILLSELEMENT,\n    IFCRELVOIDSELEMENT,\n    IFCTRANSPORTELEMENT,\n    IFCRELDEFINESBYPROPERTIES,\n    IFCRELSPACEBOUNDARY,\n    IFCRELAGGREGATES,\n    IfcFillAreaStyle,\n    IFCRELDEFINESBYTYPE,\n    IFCFLOWFITTING,\n    IFCFLOWMOVINGDEVICE,\n    IFCFLOWSEGMENT,\n    IFCFLOWTERMINAL,\n    IFCFLOWCONTROLLER,\n    IFCFLOWCONTROLLERTYPE,\n    IFCFLOWFITTINGTYPE,\n    IFCFLOWINSTRUMENT,\n    IFCFLOWINSTRUMENTTYPE,\n    IFCFLOWMETER,\n    IFCFLOWMETERTYPE,\n    IFCFLOWMOVINGDEVICETYPE,\n    IFCFLOWSEGMENTTYPE,\n    IFCFLOWSTORAGEDEVICE,\n    IFCFLOWSTORAGEDEVICETYPE,\n    IFCFLOWTERMINALTYPE,\n    IFCFLOWTREATMENTDEVICE,\n    IFCFLOWTREATMENTDEVICETYPE,\n    IFCDISTRIBUTIONCONTROLELEMENT,\n    IFCRELCONTAINEDINSPATIALSTRUCTURE\n  } from \"web-ifc\";\n  import {\n    acceleratedRaycast,\n    computeBoundsTree,\n    disposeBoundsTree\n  } from 'three-mesh-bvh';\n\nimport { IFCLoader } from \"web-ifc-three/IFCLoader\";\nimport { IfcViewerAPI } from 'web-ifc-viewer';\n\nconst ifcLoader = new IFCLoader();\nifcLoader.ifcManager.setupThreeMeshBVH(computeBoundsTree, disposeBoundsTree, acceleratedRaycast); // Sets up optimized picking\n\nasync function setUpMultiThreading() {\n  console.log(\"Initialize multithreading..\");\n  await ifcLoader.ifcManager.useWebWorkers(true, '../IFCWorker.js');\n  await ifcLoader.ifcManager.setWasmPath('../');\n}\n\nasync function getIFCelements(modelID, type) {\n  const elementIDs = ifcLoader.ifcManager.getAllItemsOfType(modelID, type);\n  return elementIDs;\n}\n\nNumber.prototype.pad = function(size) {\n    var s = String(this);\n    while (s.length < (size || 2)) {s = \"0\" + s;}\n    return s;\n}\n\nconst serverURL = store.state.serverPath;\nlet IFCmetadata = undefined;\nconst containsPortTypes = [ns.SIO(\"SIO_000202\"), ns.DUL(\"hasPart\"), ns.LDP(\"contains\"), ns.NEO(\"t_1pr4n\"), ns.NEO(\"m_port\")];\nconst containsTypes = [ns.SIO(\"SIO_000202\"), ns.DUL(\"hasPart\"), ns.LDP(\"contains\"), ns.NEO(\"t_1pr4n\")];\nconst buildingPODurl = 'https://hovedbygg111.'+store.state.testNum+serverURL;\n//const buildingPODurl = 'https://bup112.'+serverURL;\nlet tempRdfStore = $rdf.graph();\n\nfunction addToStores(subject, predicate, object, debugF=false){\n  //tempRdfStore.add(subject, predicate, object, $rdf.default);\n  //Check if already exist\n  if(!store.state.rs.rdfStore.match(subject, predicate, object)[0]){\n    store.state.rs.rdfStore.add(subject, predicate, object, $rdf.default);\n  } else {\n    if(debugF) console.log(\"Warning: data already exist:\");\n    if(debugF) console.log(\"Subject: \"+subject.value+\" Predicate: \"+predicate.value+\"Object: \"+object.value);\n  }\n}\n\nfunction addToTempStore(subject, predicate, object, defaultStore, debugF=false){\n  //tempRdfStore.add(subject, predicate, object, $rdf.default);\n  //Check if already exist\n  if(!tempRdfStore.match(subject, predicate, object)[0]){\n    tempRdfStore.add(subject, predicate, object, $rdf.default);\n  } else {\n    if(debugF) console.log(\"Warning: data already exist:\");\n    if(debugF) console.log(\"Subject: \"+subject.value+\" Predicate: \"+predicate.value+\"Object: \"+object.value);\n  }\n}\n\nfunction removeFromStores(subject, predicate, object){\n  tempRdfStore.remove(subject, predicate, object, $rdf.default);\n  store.state.rs.rdfStore.remove(subject, predicate, object, $rdf.default);\n}\n\nconst container = document.createElement('div');\nconst viewer = new IfcViewerAPI({ container, backgroundColor: new Color(0xffffff) });\nviewer.IFC.loader.ifcManager.useWebWorkers(true, '../IFCWorker.js');\nviewer.IFC.setWasmPath('../');\nlet ifcModel = undefined;\n\nconst approximatelyEqual = (v1, v2, tolerance) => {\n  return Math.abs(v1 - v2) < tolerance;\n}\n\nconst findDuplicates = (arr, tolerance) => {\n  let newArr = [];\n  for (let i=0; i<arr.length-1; i++) {\n    for (let j = i + 1; j < arr.length; j++) {\n      if (approximatelyEqual(arr[i], arr[j], tolerance)) {\n        newArr[i] = arr[i];\n        newArr[100+j] = arr[j];\n      }\n    }\n  }\n  return newArr.filter(Number).sort(function(a, b){return a-b});\n}\n\nconst ie = {}\n\nexport default {\n  id: ie,\n  name: 'IFCexporter',\n  data() {\n    return {\n      valid: true,\n      labelType: \"1\",\n      loading: false,\n      ifctypesselected: [],\n      ifctypes: [\"IFCWALLSTANDARDCASE\", \"IFCSLAB\", \"IFCWALL\", \"IFCROOF\", \"IFCCOVERING\", \"IFCDOOR\", \"IFCWINDOW\", \"IFCFURNISHINGELEMENT\", \"IFCMEMBER\", \"IFCPLATE\", \"IFCCURTAINWALL\", \"IFCSPACE\",\n                \"IFCFLOWFITTING\", \"IFCFLOWMOVINGDEVICE\", \"IFCFLOWSEGMENT\", \"IFCFLOWTERMINAL\", \"IFCFLOWCONTROLLER\", \"IFCFLOWCONTROLLERTYPE\", \"IFCFLOWFITTINGTYPE\", \"IFCFLOWINSTRUMENT\", \"IFCFLOWINSTRUMENTTYPE\", \"IFCFLOWMETER\", \"IFCFLOWMETERTYPE\", \"IFCFLOWMOVINGDEVICETYPE\", \"IFCFLOWSEGMENTTYPE\", \"IFCFLOWSTORAGEDEVICE\", \"IFCFLOWSTORAGEDEVICETYPE\", \"IFCFLOWTERMINALTYPE\", \"IFCFLOWTREATMENTDEVICE\", \"IFCFLOWTREATMENTDEVICETYPE\"\n                ],\n      splitbyfloor: true,\n      floorsselected: [],\n      floorlist: [],\n      floorheights:[],\n      floorids: [],\n      floortags: [],\n      ifcfile: \"building.ifc\",\n      ifcfiles: [],\n      roomsExistInTrinpod: false,\n      buildingMainEntrances: [],\n      buildingMainEntranceURIs: [],\n      roomSelected: false,\n      roomList: [],\n      ifcmodelLoaded: false,\n      search: \"\",\n      roomNumberProcess: 1,\n      roomURIsNumbered: [],\n      nextTrafficArea: {},\n      deep: 0,\n      wingEntranceList: [],\n      wingEntranceNames: [],\n      spaceIntersections: [],\n      lockedDoors: [],\n      uriBlackList: [],\n      doorIssueTableHeaders: [\n          {\n            text: 'Door id',\n            align: 'start',\n            filterable: false,\n            value: 'doorid',\n          },\n          { text: 'Room1', value: 'room1' },\n          { text: 'Room2', value: 'room2' }\n        ],\n      doorIssueTableList: [],\n      doorIssueTableSelectedRow: [],\n      rotationStep: 48,\n      buildingPosition: {\n        \"buildinglat\": 0.00,\n        \"buildinglong\": 0.00,\n        \"xAnchorDisplacement\": 0,\n        \"yAnchorDisplacement\": 0,\n        \"buildingPosX\": 0,\n        \"buildingPosY\": 0,\n        \"rotation\": {\n          \"x\": 0,\n          \"y\": 0,\n          \"z\": 0\n        },\n        \"buildingdimensions\": {\n          \"v1\": {\n            \"x\": 0,\n            \"y\": 0.0,\n            \"z\": 0\n          },\n          \"v2\": {\n            \"x\": 0.0,\n            \"y\": 0,\n            \"z\": 0\n          },\n          \"v3\": {\n            \"x\": 0,\n            \"y\": 0.0,\n            \"z\": 0.0\n          }\n        },\n      },\n    }\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    ...mapActions('bv', [\"RENDER\", \"INITIALIZE_PLAYER\"]),\n    addEventListerners(){\n      document.addEventListener('keyup',  this.keyEvents);\n    },\n    removeEventListerners(){\n      document.removeEventListener('keyup',  this.keyEvents);\n    },\n    keyEvents(event) {\n      if (event.keyCode === 82) {\n        // r is pressed\n        this.rotateBuildingbox(1);\n        return;\n      }\n      if (event.keyCode === 69) {\n        // e is pressed\n        this.rotateBuildingbox(-1);\n        return;\n      }\n      if (event.keyCode === 87) {\n        // w is pressed\n        this.moveBuildingBox(0, 0, -1);\n        return;\n      }\n      if (event.keyCode === 83) {\n        // s is pressed\n        this.moveBuildingBox(0, 0, 1);\n        return;\n      }\n      if (event.keyCode === 65) {\n        // a is pressed\n        this.moveBuildingBox(-1, 0, 0);\n        return;\n      }\n      if (event.keyCode === 68) {\n        // d is pressed\n        this.moveBuildingBox(1, 0, 0);\n        return;\n      }\n    },\n    checklogin(){\n      console.log(window.solid.session.info);\n      if (window.solid.session.info.isLoggedIn){\n        console.log(\"Test logged in\");\n      } else {\n        console.log(\"Is logged out, reroute\");\n        this.$router.push({ path: '/' })\n      }\n    },\n    clearScene(){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      for( var i = store.state.bv.scene.children.length - 1; i >= 0; i--) { \n        if(store.state.bv.scene.children[i].name!=\"buildingbox\" && store.state.bv.scene.children[i].name!=\"light\" && !store.state.bv.scene.children[i].name.includes(\"map\")){\n          store.state.bv.scene.remove(store.state.bv.scene.children[i]);\n        }\n      }\n      for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n        buildingbox.remove(buildingbox.children[i]);\n      }\n      this.roomNumberProcess = 1;\n      this.loading = false;\n      this.roomURIsNumbered = [];\n      this.ifcmodelLoaded = false;\n      this.doorIssueTableList = [];\n    },\n    createTrinpods(){\n      let trinpodArray = [];\n      const testNum = store.state.testNum;\n      console.log(\"URI:\")\n      let webID = \"https://espen\"+testNum+\".\"+store.state.serverPath+\"\";\n      //console.log(u.getURIs(webID));\n      //trinpodArray.push(trinpodID,trinpodName,parentPod,trinpodType,vertical);\n      trinpodArray.push([\"helsenorge\"+testNum, \"Helse og Omsorgsdepartementet\", webID, \"organization\", \"construction\"]);\n      trinpodArray.push([\"helsenord\"+testNum, \"Helse Nord RHF\", \"https://helsenorge\"+testNum+\".\"+store.state.serverPath, \"sub_org\", \"construction\"]);\n      trinpodArray.push([\"helgeland\"+testNum, \"Helgelandsykehuset HF\", \"https://helsenord\"+testNum+\".\"+store.state.serverPath, \"sub_org\", \"construction\"]);\n      trinpodArray.push([\"moirana\"+testNum, \"1 - Mo I Rana\", \"https://helgeland\"+testNum+\".\"+store.state.serverPath, \"sub_org\", \"construction\"]);\n      trinpodArray.push([\"sjoforsgata36\"+testNum, \"Sjøforsgata 36\", \"https://moirana\"+testNum+\".\"+store.state.serverPath, \"site\", \"construction\"]);\n      trinpodArray.push([\"hovedbygg111\"+testNum, \"111 - Hovedbygg\", \"https://sjoforsgata36\"+testNum+\".\"+store.state.serverPath, \"building\", \"construction\"]);\n      c.createTrinpods(trinpodArray).then(response => {\n        console.log(response);\n      });\n    },\n    async convertIFCtoGLTF(IFCtypeString=\"IFCSPACE\", IFCtype=[IFCSPACE]){ // 2016517767 = IFCROOF in MoiRana\n      //container.setAttribute('style', \"position: absolute; width: 1000px; height: 1000px; margin-right: 8px; margin-top: 3px; z-index: 5\");\n      //document.body.appendChild(container);\n      \n      //viewer.grid.setGrid(40);\n      //await viewer.IFC.loadIfcUrl('./Mir111Shell.ifc');\n\n      let ifcTypeSelectedValues = [];\n      this.ifctypesselected.forEach(ifctype => {\n        if(ifctype==\"IFCWALLSTANDARDCASE\") ifcTypeSelectedValues.push(IFCWALLSTANDARDCASE); \n        if(ifctype==\"IFCSLAB\") ifcTypeSelectedValues.push(IFCSLAB); \n        if(ifctype==\"IFCWALL\") ifcTypeSelectedValues.push(IFCWALLSTANDARDCASE); \n        if(ifctype==\"IFCROOF\") ifcTypeSelectedValues.push(IFCWALL); \n        if(ifctype==\"IFCDOOR\") ifcTypeSelectedValues.push(IFCROOF); \n        if(ifctype==\"IFCWINDOW\") ifcTypeSelectedValues.push(IFCDOOR); \n        if(ifctype==\"IFCFURNISHINGELEMENT\") ifcTypeSelectedValues.push(IFCWINDOW); \n        if(ifctype==\"IFCMEMBER\") ifcTypeSelectedValues.push(IFCMEMBER); \n        if(ifctype==\"IFCPLATE\") ifcTypeSelectedValues.push(IFCPLATE); \n        if(ifctype==\"IFCCURTAINWALL\") ifcTypeSelectedValues.push(IFCCURTAINWALL); \n        if(ifctype==\"IFCSPACE\") ifcTypeSelectedValues.push(IFCSPACE); \n        if(ifctype==\"IFCCOVERING\") ifcTypeSelectedValues.push(IFCCOVERING); \n\n        if(ifctype==\"IFCFLOWFITTING\") ifcTypeSelectedValues.push(IFCFLOWFITTING); \n        if(ifctype==\"IFCFLOWMOVINGDEVICE\") ifcTypeSelectedValues.push(IFCFLOWMOVINGDEVICE); \n        if(ifctype==\"IFCFLOWSEGMENT\") ifcTypeSelectedValues.push(IFCFLOWSEGMENT); \n        if(ifctype==\"IFCFLOWTERMINAL\") ifcTypeSelectedValues.push(IFCFLOWTERMINAL); \n        if(ifctype==\"IFCFLOWCONTROLLER\") ifcTypeSelectedValues.push(IFCFLOWCONTROLLER); \n        if(ifctype==\"IFCFLOWCONTROLLERTYPE\") ifcTypeSelectedValues.push(IFCFLOWCONTROLLERTYPE); \n        if(ifctype==\"IFCFLOWFITTINGTYPE\") ifcTypeSelectedValues.push(IFCFLOWFITTINGTYPE); \n        if(ifctype==\"IFCFLOWINSTRUMENT\") ifcTypeSelectedValues.push(IFCFLOWINSTRUMENT); \n        if(ifctype==\"IFCFLOWINSTRUMENTTYPE\") ifcTypeSelectedValues.push(IFCFLOWINSTRUMENTTYPE); \n        if(ifctype==\"IFCFLOWMETER\") ifcTypeSelectedValues.push(IFCFLOWMETER); \n        if(ifctype==\"IFCFLOWMETERTYPE\") ifcTypeSelectedValues.push(IFCFLOWMETERTYPE); \n        if(ifctype==\"IFCFLOWMOVINGDEVICETYPE\") ifcTypeSelectedValues.push(IFCFLOWMOVINGDEVICETYPE); \n        if(ifctype==\"IFCFLOWSEGMENTTYPE\") ifcTypeSelectedValues.push(IFCFLOWSEGMENTTYPE); \n        if(ifctype==\"IFCFLOWSTORAGEDEVICE\") ifcTypeSelectedValues.push(IFCFLOWSTORAGEDEVICE); \n        if(ifctype==\"IFCFLOWSTORAGEDEVICETYPE\") ifcTypeSelectedValues.push(IFCFLOWSTORAGEDEVICETYPE); \n        if(ifctype==\"IFCFLOWTERMINALTYPE\") ifcTypeSelectedValues.push(IFCFLOWTERMINALTYPE); \n        if(ifctype==\"IFCFLOWTREATMENTDEVICE\") ifcTypeSelectedValues.push(IFCFLOWTREATMENTDEVICE); \n        if(ifctype==\"IFCFLOWTREATMENTDEVICETYPE\") ifcTypeSelectedValues.push(IFCFLOWTREATMENTDEVICETYPE); \n      });\n\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      console.log(\"IFC uri: \"+IFCuri);\n      try {\n          const res = await window.solid.session.fetch(\n            IFCuri, {\n              method: \"GET\",\n              credentials: \"include\",\n              });\n              console.log(res);\n            let filedata = await res.arrayBuffer();\n            let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n\n            \n            const result = await viewer.GLTF.exportIfcFileAsGltf({\n                ifcFileUrl: fileurl,\n                splitByFloors: this.splitbyfloor,\n                categories: {\n                    //walls: [IFCWALL, IFCWALLSTANDARDCASE],\n                    //slabs: [IFCSLAB],\n                    //windows: [IFCWINDOW],\n                    //curtainwalls: [IFCMEMBER, IFCPLATE, IFCCURTAINWALL],\n                    //doors: [IFCDOOR],\n                    //category: [IFCWALL, IFCWALLSTANDARDCASE, IFCWINDOW, IFCSLAB, IFCMEMBER, IFCPLATE, IFCCURTAINWALL, IFCDOOR, IFCWALLSTANDARDCASE, IFCROOF],\n                    //category: IFCtype,\n                    category: ifcTypeSelectedValues\n                },\n                getProperties: false\n            });\n\n            console.log(result);\n\n            // Download result\n            const link = document.createElement('a');\n            document.body.appendChild(link);\n\n            const IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n            let buildingTag = IFCmetadata.tag;\n            for(const categoryName in result.gltf) {\n                const category = result.gltf[categoryName];\n                for(const levelName in category) {\n                    const heightAboveGround = category.height;\n                    const file = category[levelName].file;\n                    if(file) {\n                        let floorTag = buildingTag;\n                        for(const [key, value] of Object.entries(IFCmetadata.storeys)) {\n                          if(value==levelName) floorTag = buildingTag+\".\"+key+\".\"+IFCtypeString;\n                        }\n                        link.download = `${floorTag}.gltf`;\n                        link.href = URL.createObjectURL(file);\n                        link.click();\n                    }\n                }\n            }\n\n            if(!this.ifcmodelLoaded){\n              ifcModel = await ifcLoader.loadAsync(fileurl);\n              this.ifcmodelLoaded = true;\n            }\n            const properties =  await viewer.IFC.properties.serializeAllProperties(ifcModel);\n            const file = new File(properties, 'properties');\n            link = document.createElement('a'); \n            document.body.appendChild(link);\n            link.href = URL.createObjectURL(file);\n            link.download = 'ifc.json';\n            link.click();\n            /*for(let jsonFile of result.json) {\n                link.download = `${jsonFile.name}.json`;\n                link.href = URL.createObjectURL(jsonFile);\n                link.click();\n            }*/\n\n            link.remove();\n            this.ifcloading = false;\n          } catch (error) {\n          console.log(error);\n        }\n    },\n    createFloorplan(){\n      bmu.unloadGeometryUsingTag(store.state.currentBuildingTag, [\"BUILDING\"]);\n      let buildingTag = store.state.currentBuildingTag+\".\";\n      const IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      let floorNumber = 0;\n      for(let i=0; i<this.floorlist.length; i++){\n        if(this.floorlist[i]==this.floorsselected) floorNumber = i;\n      }\n      console.log(\"FloorNumber:\"+floorNumber);\n      ifcu.createFloorplan(floorNumber, IFCuri, buildingTag);\n    },\n    getRoomURIbyName(roomName){\n      let roomTriple = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+roomName, 'en'))[0];\n      if(roomTriple){\n        return roomTriple.subject.value;\n      } else {\n        console.log(\"Warning: Did not find room URI!..\");\n        return u.getBlankNode(\"Room \"+roomName);\n      }\n    },\n    getRoomNamebyURI(roomURI){\n      let roomTriple = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.FOAF(\"name\"), null)[0];\n      if(roomTriple){\n        return roomTriple.object.value;\n      } else {\n        console.log(\"Warning: Did not find name for URI!..\");\n        return \"\";\n      }\n    },\n    getRoomPolylinebyURI(roomURI){\n      let roomTriple = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"m_polyline\"), null)[0];\n      if(roomTriple){\n        return roomTriple.object.value;\n      } else {\n        console.log(\"Warning: Did not find polyline for URI!..\");\n        return \"\";\n      }\n    },\n    getExpressIDbyURI(roomURI){\n      let roomTriple = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"expressid\"), null)[0];\n      if(roomTriple){\n        return roomTriple.object.value;\n      } else {\n        console.log(\"Warning: Did not expressid for URI!..\");\n        return \"\";\n      }\n    },\n    getGlobalIDbyURI(roomURI){\n      let roomTriple = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"globalid\"), null)[0];\n      if(roomTriple){\n        return roomTriple.object.value;\n      } else {\n        console.log(\"Warning: Did not expressid for URI!..\");\n        return \"\";\n      }\n    },\n    async editIFCStoreyNames() {\n        const manager = ifcLoader.ifcManager;\n        const modelID = ifcModel.modelID;\n        const storeysIDs = await manager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY, false);\n\n        const storeyID = storeysIDs[0];\n        const storey = await manager.ifcAPI.GetLine(modelID, storeyID)\n        console.log(storey);\n        if(storey.LongName){\n          storey.LongName.value = \"NivelEditado\";\n        } else {\n          storey.Name.value = \"NivelEditado\";\n        }\n        \n        const result = await manager.ifcAPI.WriteLine(modelID, storey);\n        console.log(result)\n\n       /*for(let id=0; id<3; id++){\n          //console.log(\"Number: \"+Number(this.roomList[id].expressid))\n          const space = await manager.ifcAPI.GetLine(modelID,  Number(this.roomList[id].expressid))\n          //console.log(\"Newname: \"+this.roomList[id].newname);\n          space.Name.value = this.roomList[id].newname;\n          console.log(\"Storey object:\")\n          console.log(space);\n          await manager.ifcAPI.WriteLine(modelID, space);\n        }*/\n        \n        const data = await manager.ifcAPI.ExportFileAsIFC(modelID);\n        const blob = new Blob([data]);\n        const file = new File([blob], \"modified.ifc\");\n\n        const link = document.createElement('a');\n        link.download = 'modified.ifc';\n        link.href = URL.createObjectURL(file);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n    },\n    generateRoomList(){\n      console.log(\"Generating room list...\");\n      const roomList = [];\n      let selectedStoreyHeightAboveGround = undefined;\n      // Get the selected storey height\n      if(this.floorsselected.length>0){\n        for(let i=0; i<this.floorlist.length; i++){\n          if(this.floorsselected==this.floorlist[i]){\n            selectedStoreyHeightAboveGround = this.floorheights[i];\n          }\n        }\n      }\n      store.state.rs.rdfStore.match(null, ns.IFOUR(\"roomhag\"), null).forEach(obj => {\n        let loc = new Vector3(0,0,0);\n        if(store.state.rs.rdfStore.match($rdf.sym(obj.subject.value), ns.SIO(\"SIO_000507\"), null)[0]){\n          let locVal = store.state.rs.rdfStore.match($rdf.sym(obj.subject.value), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n          loc = u.pointStringToVector3(locVal);\n          //console.log(loc);\n        }\n        let trafficLoad = 0;\n        try{\n          if(store.state.rs.rdfStore.match($rdf.sym(obj.subject.value), ns.IFOUR(\"trafficload\"), null)[0]){\n            trafficLoad = Number(store.state.rs.rdfStore.match($rdf.sym(obj.subject.value), ns.IFOUR(\"trafficload\"), null)[0].object.value);\n            console.log(\"Trafficload = \"+trafficLoad);\n          } else {\n            console.log(\"Trafficload was not found.\")\n          }\n        } catch (e) {\n          console.log(e)\n        }\n        let found = false;\n        roomList.forEach(r => {\n          if(r.uri==obj.subject.value) found = true;\n        }); \n        let polyline = this.getRoomPolylinebyURI(obj.subject.value);\n        let roomname = this.getRoomNamebyURI(obj.subject.value).replace(\" \", \"\")+\"\";\n        if(selectedStoreyHeightAboveGround){\n          // Select only rooms for selected storey\n          //console.log(\"Room height above ground: \"+obj.object.value);\n          if(selectedStoreyHeightAboveGround==obj.object.value&&!found) roomList.push({\"uri\": obj.subject.value, \"name\": roomname, \"trafficload\": trafficLoad, \"trafficAreaType\": \"\", \"heightaboveground\": obj.object.value, \"loc\": loc, \"polyline\": polyline, \"newname\": \"\", \"globalid\": this.getGlobalIDbyURI(obj.subject.value), \"floorprefix\": \"\"});\n        } else {\n          // Select all rooms for all storeys\n          if(!found) roomList.push({\"uri\": obj.subject.value, \"name\": roomname, \"trafficload\": trafficLoad, \"trafficAreaType\": \"\", \"heightaboveground\": obj.object.value, \"loc\": loc, \"polyline\": polyline, \"newname\": \"\", \"expressid\": this.getExpressIDbyURI(obj.subject.value), \"globalid\": this.getGlobalIDbyURI(obj.subject.value), \"floorprefix\": \"\"});\n        }\n      });\n      console.log(\"Roomlist length: \"+roomList.length)\n      console.log(roomList)\n      return roomList;\n    },\n    async calculateRoomTrafficLoad(debugF=false){\n      // Get all the room objects from IFC\n      this.loading = true;\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      if(this.roomList.length<5){\n        this.roomList = this.generateRoomList(); // Done when generating trafficload..\n      }\n\n      console.log(\"Find main entrance room\");\n      let entranceRoomName = \"\";\n      entranceRoomName = this.buildingMainEntrances[0];\n      /*this.buildingMainEntrances.forEach(door => {\n        try{\n          let doorURI = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(door, 'en'))[0].subject.value;\n          //console.log(\"DoorURI: \"+doorURI);\n          let entranceDoorURI = store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(doorURI))[0].subject.value;\n          console.log(\"EntranceDoorURI: \"+entranceDoorURI);\n          const tempName = store.state.rs.rdfStore.match($rdf.sym(entranceDoorURI), ns.RDFS(\"label\"), null)[0].object.value;\n          if(!tempName.includes(\"Outdoor\")) entranceRoomName = tempName;\n        } catch (error){}\n      });*/\n      entranceRoomName = entranceRoomName+\"\".replace(\"Room \", \"\");\n      entranceRoomName = entranceRoomName+\"\".replace(\"Rom \", \"\");\n      \n\n      this.roomList.forEach((room, id) => {\n        //if(id==15){ // Test with first room\n          try{\n            const room1 = $rdf.literal(entranceRoomName, 'en');\n            const room2 = $rdf.literal(room.name, 'en');\n            //console.log(\"Room1: \"+room1+\" Room2: \"+room2);\n            let way = wf2.methods.wayBetweenRooms(room1, room2, 1, \"Stair\", this.uriBlackList, false);\n            if(way.length>0){\n              this.roomList.forEach((roomcheck, chid) => {\n                if(way.includes(roomcheck.uri)){\n                  this.roomList[chid].trafficload = this.roomList[chid].trafficload+1;\n                } \n              });\n            }\n          } catch (error){\n            if(debugF) console.log(\"Traffic load error:\")\n            if(debugF) console.log(error)\n          }\n        //}\n      });\n\n      // Mark all rooms with trafficload\n      if(debugF){\n        this.roomList.forEach((room, id) => {\n          let loc = new Vector3(0,0,0);\n          if(room.loc){\n            loc = new Vector3(room.loc.x,room.loc.y,room.loc.z);\n          }\n          bmu.createSimpleLabel(loc.applyMatrix4(buildingbox.matrixWorld), \"\"+room.trafficload);\n        });\n      }\n      this.roomList.forEach((room) => {\n        // Save trafficload to store\n          addToStores($rdf.sym(room.uri), ns.IFOUR(\"trafficload\"), room.trafficload);\n      });\n      //console.log(\"Roomlist:\")\n      //console.log(this.roomList);\n      this.generateTurtleFromStore();\n      this.loading = false;\n      this.roomNumberProcess = 7;\n    },\n    createLockedDoorList(){\n      this.lockedDoors = [];\n      if(this.$route.query.location.includes(\"hovedbygg111\")){\n        //this.lockedDoors.push(678720); // Works\n        this.lockedDoors.push(\"V120\");\n        this.lockedDoors.push(1635474);\n      }\n      this.addLockedDoorsToStore();\n    },\n    async checkForPermanentFloorURIs(){\n      console.log(\"Checking for permanent storey URIs....\");\n      const storeyList = [];\n      const storeyURIs = [];\n      let storeySearch = await r.searchAndGetURIs(\"BUILDINGSTOREY\");\n      if(storeySearch){\n        console.log(storeySearch);\n      }\n      store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), \"BUILDINGSTOREY\").forEach(storey =>{\n        if(!storeyURIs.includes(storey.subject.value)){\n          let roomhag = 0;\n          if(store.state.rs.rdfStore.match($rdf.sym(storey.subject.value), ns.IFOUR(\"roomhag\"), null)[0]) roomhag = store.state.rs.rdfStore.match($rdf.sym(storey.subject.value), ns.IFOUR(\"roomhag\"), null)[0].object.value;\n          storeyList.push({uri: storey.subject.value, roomhag: roomhag});\n          storeyURIs.push(storey.subject.value)\n        }\n      });\n      console.log(\"storeyList\")\n      console.log(storeyList);\n      return storeyList;\n    },\n    uploadFloorsToTrinpod(tst=true){\n      tempRdfStore = $rdf.graph();\n      this.floorids.forEach(floor => {\n        if(floor.uri==\"\") floor.uri = u.getBlankNode(floor.name);\n        addToTempStore(floor.uri, ns.RDF(\"type\"), ns.BOT(\"Storey\"), $rdf.default);\n        addToTempStore(floor.uri, ns.RDFS(\"label\"), $rdf.literal(floor.name, 'no'), $rdf.default);\n        addToTempStore(floor.uri, ns.RDFS(\"label\"), $rdf.literal(floor.name, 'en'), $rdf.default);\n        addToTempStore(floor.uri, ns.TAG(\"tag\"), \"BUILDINGSTOREY\");\n        addToTempStore(floor.uri, ns.IFOUR(\"roomhag\"), floor.roomhag, $rdf.default);\n        addToTempStore(floor.uri, ns.IFOUR(\"expressid\"), floor.expressid, $rdf.default);\n        addToTempStore(floor.uri, ns.IFOUR(\"globalid\"), floor.globalid, $rdf.default);\n        if(floor.tag!=\"\") addToTempStore(floor.uri, ns.TAG(\"tag\"), floor.tag, $rdf.default);\n        addToTempStore($rdf.sym(this.$route.query.location+\"i\"), ns.SIO(\"SIO_000202\"), floor.uri, $rdf.default);\n      });\n      var turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n      turtle = ur.modifyTurtle(turtle);\n      console.log(turtle);\n      const uploadURI = this.$route.query.location+'/i';\n      if (window.solid.session.info.isLoggedIn && turtle!=\"\"&&!tst){\n        ur.uploadTurtle(uploadURI, turtle, false).then((successfulFetch) => {\n          console.log(\"Upload floors response:\")\n          console.log(successfulFetch);\n        });\n      } else {\n        console.log(\"Aborted upload, test = \"+tst);\n      } \n    },\n    addLockedDoorsToStore(){\n      this.uriBlackList = [];\n      this.lockedDoors.forEach(name => {\n        // Add locked rooms to store\n        if(store.state.rs.rdfStore.match(null, ns.FOAF(\"name\"), $rdf.literal(name))[0]){\n          const roomURI = store.state.rs.rdfStore.match(null, ns.FOAF(\"name\"), $rdf.literal(name))[0].subject.value;\n          this.uriBlackList.push(roomURI);\n          if(!store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"islocked\"), null)[0]){\n            addToStores($rdf.sym(roomURI), ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n          }\n        }\n        // Add locked doors to store\n        if(store.state.rs.rdfStore.match(null, ns.IFOUR(\"expressid\"), name)[0]){\n          const roomURI = store.state.rs.rdfStore.match(null, ns.IFOUR(\"expressid\"), name)[0].subject.value;\n          this.uriBlackList.push(roomURI);\n          if(!store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"islocked\"), null)[0]){\n            addToStores($rdf.sym(roomURI), ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n          }\n        }\n      });\n    },\n    async nameTechnicalRooms(floorPrefix){\n      let floorExpressID = 0;\n      for(let i=0;i<this.floorids.length;i++){\n        if(this.floorids[i].name==this.floorsselected) floorExpressID = this.floorids[i].expressid;\n      }\n      let spaces = await this.getSpacesRelatedToStorey(floorExpressID, ifcModel.modelID, true);\n      let roomNum = 0;\n      for(let i=0; i<this.roomList.length; i++){\n        if(this.roomList[i].trafficload==0&&this.roomList[i].newname.length<1&&spaces.includes(Number(this.roomList[i].expressid))){\n          roomNum++;\n          this.roomList[i].newname = \"T\"+floorPrefix+\".\"+(roomNum.pad(2));\n          const poly = [this.polyLineTo2dArray(this.roomList[i].polyline)];\n          const pos = polylabel(poly, 1); // Legge til denne til nullpunkt til polyline, ikke til senter.\n          const polyPos = bmu.convertPolylineToXY(this.roomList[i].polyline);\n          let position = new Vector3(polyPos.x+pos[1], this.roomList[i].loc.y, -polyPos.y+pos[0]);\n          console.log(\"Technical: \"+this.roomList[i].name);\n          this.setSpaceLabel(position, this.roomList[i].newname);\n        }\n      }\n    },\n    async generateRoomNames(){\n      // Get all the room objects from IFC\n      console.log(\"Find main entrance room\");\n      bmu.removeAllLabels();\n      let entranceRoomName = \"\";\n      let entranceRoomURI = \"\";\n      let entranceDoorURI = \"\";\n      this.buildingMainEntrances.forEach(door => {\n        try{\n          const doorURI = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(door, 'en'))[0].subject.value;\n          //console.log(\"DoorURI: \"+doorURI);\n          const roomURI = store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(doorURI))[0].subject.value;\n          const roomName = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.RDFS(\"label\"), null)[0].object.value;\n          if(!entranceRoomName.includes(\"Outdoor\")) {\n            entranceRoomURI = roomURI;\n            entranceRoomName = roomName.replace(\"Room \", \"\");\n          }\n        } catch (error){}\n      });\n      console.log(\"Entrance room name: \"+entranceRoomName)\n\n      if(this.roomList.length<5){\n        this.roomList = this.generateRoomList(); // Done when generating trafficload..\n      }\n      \n      let floorPrefix = \"1\";\n      // Moirana:\n      if(this.$route.query.location.includes(\"hovedbygg111\")){\n        //const doorLocation = {x:62.18050956726074, y:3, z:-32.02000045776367};\n        if(this.floorsselected.includes(\"2U.\")){\n          floorPrefix = \"U2\";\n          this.wingEntranceList.push({\"name\": \"038\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"E\"+floorPrefix+\".\"})\n          //this.wingEntranceList.push({\"name\": \"055\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"002\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"B001\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"G\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"1U.\")){\n          floorPrefix = \"U1\";\n          this.wingEntranceList.push({\"name\": \"0Ø01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"A\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"0N01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": false, \"wingtag\": \"A\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"0V04\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"B\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"0Ø05\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"0Ø07\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": false, \"wingtag\": \"C\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"174\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"E\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"152\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"151\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": false, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"B101\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"G\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"S00.K01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"H\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"1.\")){\n          floorPrefix = \"1\";\n          this.wingEntranceList.push({\"name\": \"1N01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"A\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"1V3\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"B\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"1Ø09\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"1Ø11\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"D\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"F131\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"E\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"252\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"B201\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"G\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"S01.K01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"H\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"2.\")){ // Denne må kjøres på nytt\n          floorPrefix = \"2\";\n          this.wingEntranceList.push({\"name\": \"2Ø02\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"A\"+floorPrefix+\".\"})\n          //this.wingEntranceList.push({\"name\": \"V201\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": false, \"wingtag\": \"A\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"V224\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"B\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"V234\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": false, \"wingtag\": \"B\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"2Ø07\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"2M01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"D\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"F215\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"E\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"352\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"F\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"S02.K01\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"H\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"3.\")){\n          floorPrefix = \"3\";\n          this.wingEntranceList.push({\"name\": \"3V1\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"B\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"Ø327\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n          this.wingEntranceList.push({\"name\": \"F336\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"E\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"4.\")){\n          floorPrefix = \"4\";\n          this.wingEntranceList.push({\"name\": \"4Ø02\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"5.\")){\n          floorPrefix = \"5\";\n          this.wingEntranceList.push({\"name\": \"5Ø02\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n        }\n        if(this.floorsselected.includes(\"6.\")){\n          floorPrefix = \"6\";\n          this.wingEntranceList.push({\"name\": \"6Ø02\", \"uri\": \"\", \"doorlocation\": undefined, \"resetnum\": true, \"wingtag\": \"C\"+floorPrefix+\".\"})\n        }\n      }\n\n      // Mosjøen:\n      if(this.$route.query.location.includes(\"hovedbygg211\")){\n        //const doorLocation = {x:62.18050956726074, y:3, z:-32.02000045776367};\n        this.wingEntranceList.push({\"name\": \"5133\", \"uri\": \"_:t236\", \"doorlocation\": this.getDoorLocation(\"_:t236\"), \"wingtag\": \"A1\"})\n        this.wingEntranceList.push({\"name\": \"1027\", \"uri\": \"_:t255\", \"doorlocation\": this.getDoorLocation(\"_:t255\"), \"wingtag\": \"B1\"})\n        this.wingEntranceList.push({\"name\": \"4126\", \"uri\": \"_:t258\", \"doorlocation\": this.getDoorLocation(\"_:t258\"), \"wingtag\": \"C1\"})\n      }\n\n      // Sandnessjøen\n      if(this.$route.query.location.includes(\"hovedbygg311\")){\n        if(this.floorsselected.includes(\"3. Etasje\")){\n          this.wingEntranceList.push({\"name\": entranceRoomName, \"uri\": entranceRoomURI, \"doorlocation\": this.getEntranceDoorLocation(this.buildingMainEntranceURIs[0]), \"wingtag\": \"A3\"})\n          this.wingEntranceList.push({\"name\": \"G316\", \"uri\": \"_:t534\", \"doorlocation\": this.getDoorLocation(\"_:t534\"), \"wingtag\": \"B3\"})\n          //this.wingEntranceList.push({\"name\": \"D316.1\", \"uri\": \"_:t470\", \"doorlocation\": this.getDoorLocation(\"_:t470\"), \"wingtag\": \"\"})\n          this.wingEntranceList.push({\"name\": \"C309\", \"uri\": \"_:t536\", \"doorlocation\": this.getDoorLocation(\"_:t536\"), \"wingtag\": \"C3\"})\n          this.increaseTrafficLoadForSpace(entranceRoomName, \"H314\", \"G313\", 200);\n        }\n        if(this.floorsselected.includes(\"2. Etasje\")){\n          this.wingEntranceList.push({\"name\": \"H214\", \"uri\": \"_:t298\", \"doorlocation\": this.getDoorLocation(\"_:t298\"), \"wingtag\": \"A2\"})\n          this.wingEntranceList.push({\"name\": \"J214\", \"uri\": \"_:t337\", \"doorlocation\": this.getDoorLocation(\"_:t337\"), \"wingtag\": \"B2\"})\n          this.wingEntranceList.push({\"name\": \"G214\", \"uri\": \"_:t270\", \"doorlocation\": this.getDoorLocation(\"_:t270\"), \"wingtag\": \"\"})\n          this.wingEntranceList.push({\"name\": \"C209\", \"uri\": \"_:t184\", \"doorlocation\": this.getDoorLocation(\"_:t184\"), \"wingtag\": \"C2\"})\n        }\n      }\n\n      await this.showDoorMarkers2();\n\n      this.wingEntranceList.forEach(wing => {\n        wing.uri = this.getRoomURIbyName(wing.name);\n        wing.doorlocation = this.getDoorLocation(wing.uri);\n        this.wingEntranceNames.push(wing.name);\n      });\n\n      for(let i=0; i<this.roomList.length; i++){\n        if(this.checkIfVerticalPassage(this.roomList[i].uri)) {\n          this.roomList[i].trafficload = 2;\n          this.roomList[i].trafficAreaType = \"Verticalpassage\";\n        }\n      }\n\n      console.log(\"Wing entrance list:\")\n      console.log(this.wingEntranceList);\n      let roomNum = 0;\n      this.wingEntranceList.forEach(wing => {\n        if(wing.wingtag!=\"\"){\n          if(wing.resetnum) roomNum = 0;\n          this.deep = 0;\n          bmu.createPlaceMarker(wing.doorlocation, 0x00FF00, false, 2, \"placemarker\", 0.25);\n          roomNum = this.newTrafficArea(wing.uri, roomNum, wing.doorlocation, wing.wingtag, floorPrefix);\n        }\n      });\n      await this.nameTechnicalRooms(floorPrefix);\n      this.storeNewRoomNumbers();\n      store.state.bv.needsrender = true;\n    },\n    newTrafficArea(spaceURI, roomNum, doorLocation, wingtag, floorPrefix, roomNumbersApproved=true){\n      let labelTag = \"simplelabel\";\n      if(!roomNumbersApproved) labelTag = \"templabel\";\n      roomNum++;\n      console.log(\"Running trafficarea: \"+roomNum+\" with URI: \"+spaceURI);\n      let currentTrafficLoad = 0;\n      let position = new Vector3(0,0,0);\n      let currentSpaceName = \"\";\n      let currentRoomListIndex = 0;\n      let currentRoomHag = 0;\n      this.roomList.forEach((room, index) => {\n        if(room.uri==spaceURI){\n          const poly = [this.polyLineTo2dArray(room.polyline)];\n          const pos = polylabel(poly, 1); // Legge til denne til nullpunkt til polyline, ikke til senter.\n          const polyPos = bmu.convertPolylineToXY(room.polyline);\n          position = new Vector3(polyPos.x+pos[1], room.loc.y, -polyPos.y+pos[0]);\n          currentTrafficLoad = room.trafficload;\n          currentSpaceName = room.name;\n          currentRoomListIndex = index;\n          currentRoomHag = room.heightaboveground;\n          room.floorprefix = floorPrefix;\n        }\n      });\n\n      let doorArray = this.getDoorsInSpace(spaceURI, doorLocation.clone());\n      console.log(\"Door array before:\")\n      console.log(doorArray);\n\n      //const polyline = \"polyline;1N01;62.205509379700004;30.75;3;2.9;[0,0,0,-2.54,-3.110602869834277e-16,0,-2.5393294347499995,-2.2650000000000006,0,-2.3018294347499997,-2.2650000000000006,0,-2.3018294347499997,-2.6900000000000004,0,-2.5529999999999995,-2.6900000000000004,0,-2.5529999999999995,-3.53550937975,0,0.009117699423760433,-3.5355093797499997,0,0.00747572507190033,-2.69,0,-0.23817056524899965,-2.69,0,-0.2381705652489997,-2.2655093797499997,0,2.774136024559312e-16,-2.26525397077,0,0,0,0]\";\n      const polyline = this.getRoomPolylinebyURI(spaceURI)\n      const doorDirectionVector = bmu.getDoorDirectionVector(polyline, doorLocation.clone(), false);\n\n      doorArray.forEach(door => {\n        const roomObject = this.getRoomBehindDoor(door.uri, spaceURI);\n        if(this.checkIfVerticalPassage(spaceURI)) {\n          currentTrafficLoad = 2;\n          roomObject.roomtype = \"Subrooms\";\n        }\n        door.roomobject = roomObject;\n        if(door.type==\"Join\"){\n          this.spaceIntersections.forEach(intersection => {\n            if(door.name.replace(\"Room \", \"\").replace(\"Rom \", \"\") == intersection.room1 && currentSpaceName == intersection.room2 || door.name.replace(\"Room \", \"\").replace(\"Rom \", \"\") == intersection.room2 && currentSpaceName == intersection.room1 ){\n              door.position = new Vector3(intersection.point.x, intersection.point.y, intersection.point.z);\n            }\n          });\n        }\n      });\n\n      doorArray.forEach(door => {\n        // Must be run in own loop after Join door postitions have been changed.\n        if(doorArray.length>=3){\n          door.x = this.getDoorXDistance(door.position.clone(), doorLocation.clone(), doorDirectionVector.clone());\n          door.y = this.getDoorYDistance(door.position.clone(), doorLocation.clone(), doorDirectionVector.clone());\n        }\n      });\n\n      // Do the classifying of roomType here\n      let trafficAreaType = this.getCurrentTrafficAreaType(doorArray);\n      if(this.checkIfVerticalPassage(spaceURI)) trafficAreaType = \"Verticalpassage\";\n      this.roomList[currentRoomListIndex].trafficAreaType = trafficAreaType;\n      this.setSpaceLabelType(position, wingtag+(roomNum.pad(2)), trafficAreaType, labelTag);\n      this.roomList[currentRoomListIndex].newname = wingtag+(roomNum.pad(2));\n      this.roomURIsNumbered.push(spaceURI);\n\n      // Sort doorarray based on y value\n      console.log(\"TrafficAreaType: \"+trafficAreaType);\n      if(trafficAreaType==\"Wideareasmall\") doorArray = this.sortWideAreaSmall(doorArray);\n      if(trafficAreaType==\"Widearealarge\") doorArray = this.sortWideAreaLarge(doorArray);\n      if(trafficAreaType==\"Hallcross\") doorArray = this.sortHallCross(doorArray);\n      if(trafficAreaType==\"Hallaway\") doorArray = this.sortHallAway(doorArray);\n      \n      console.log(\"Number of doors: \"+doorArray.length);\n\n      // Loop the joined areas and doors\n      for(let d=0; d<doorArray.length; d++){\n        const door = doorArray[d];\n        if(door.roomobject.trafficload!=0&&!this.roomURIsNumbered.includes(door.roomobject.uri)){ // Sort out Outdoor etc.\n          //if(door.pri==1){\n            if(!approximatelyEqual(door.roomobject.heightaboveground, currentRoomHag, 0.5)) continue;\n            position = new Vector3(0,0,0);\n            if(door.roomobject.position) position = door.roomobject.position;\n            const polyLine = this.polyLineTo2dArray(door.roomobject.polyline);\n            if(polyLine.length>8){\n              const poly = [polyLine];\n              const pos = polylabel(poly, 1); // Legge til denne til nullpunkt til polyline, ikke til senter.\n              const polyPos = bmu.convertPolylineToXY(door.roomobject.polyline);\n              position = new Vector3(polyPos.x+pos[1], door.roomobject.position.y, -polyPos.y+pos[0]);\n            }\n            if(door.roomobject.roomtype==\"Single\"){\n              roomNum++;\n              if(this.checkIfVerticalPassage(door.roomobject.uri)){\n                this.setSpaceLabelType(position, wingtag+(roomNum.pad(2)), \"Verticalpassage\", labelTag);\n              } else {\n                this.setSpaceLabel(position, wingtag+(roomNum.pad(2)), labelTag);\n              }\n              this.roomList[currentRoomListIndex].newname = wingtag+(roomNum.pad(2));\n              this.roomURIsNumbered.push(door.roomobject.uri);\n            }\n            if(door.roomobject.roomtype==\"Subrooms\"){\n              roomNum++;\n              if(this.checkIfVerticalPassage(door.roomobject.uri)){\n                this.setSpaceLabelType(position, wingtag+(roomNum.pad(2)), \"Verticalpassage\", labelTag);\n              } else {\n                this.setSpaceLabel(position, wingtag+(roomNum.pad(2)), labelTag);\n              }\n              this.roomList[currentRoomListIndex].newname = wingtag+(roomNum.pad(2));\n              this.roomURIsNumbered.push(door.roomobject.uri);\n              this.numberSubRooms(door.roomobject.uri, wingtag, roomNum);\n            }\n          //}\n        }\n      }\n\n      // Loop the Traffic Areas\n      doorArray.sort((p1, p2) => (p1.roomobject.trafficload < p2.roomobject.trafficload) ? 1 : (p1.roomobject.trafficload > p2.roomobject.trafficload) ? -1 : 0);\n      for(let d=0; d<doorArray.length; d++){\n        const door = doorArray[d];\n        if(this.lockedDoors.includes(door.roomobject.name.replace(\"Rom \", \"\").replace(\"Room \", \"\"))&&door.type==\"Join\") continue;\n        if(this.lockedDoors.includes(door.uri)) continue;\n        if(!approximatelyEqual(door.roomobject.heightaboveground, currentRoomHag, 0.5)) continue;\n        if(door.roomobject.trafficload!=0&&!this.roomURIsNumbered.includes(door.roomobject.uri)){ // Sort out Outdoor etc.\n          let foundNewWing = false;\n          this.wingEntranceNames.forEach(name => { \n            if(name==door.roomobject.name.replace(\"Room \", \"\")) foundNewWing = true; \n            if(name==door.roomobject.name.replace(\"Rom \", \"\")) foundNewWing = true; \n          });\n          if(door.roomobject.roomtype==\"Trafficarea\"&&!foundNewWing&&door.roomobject.trafficload<currentTrafficLoad){\n            this.deep++;\n            if(this.deep<25){\n              console.log(\"Running new trafficarea: \"+door.roomobject.name);\n              console.log(door.position);\n              bmu.createPlaceMarker(door.position.clone(), 0x00FF00, false, 2, \"placemarker\", 0.25);\n              if(door.roomobject.uri==\"_:t1105\"){\n                this.nextTrafficArea = { \"spaceURI\": door.roomobject.uri, \"roomNum\": roomNum, \"doorLocation\": door.position.clone(), \"wingtag\": wingtag, \"floorPrefix\": floorPrefix, \"roomNumbersApproved\": true };\n              } else {\n                roomNum = this.newTrafficArea(door.roomobject.uri, roomNum, door.position.clone(), wingtag, floorPrefix, true);\n              }\n            }\n          }\n        }\n      }\n      return roomNum;\n    },\n    runNextTrafficArea(){\n      this.newTrafficArea(this.nextTrafficArea.spaceURI, this.nextTrafficArea.roomNum, this.nextTrafficArea.doorLocation, this.nextTrafficArea.wingtag, this.nextTrafficArea.floorPrefix, this.nextTrafficArea.roomNumbersApproved);\n      /*const roomlit1 = $rdf.literal(\"1N01\", 'en');\n      const roomlit2 = $rdf.literal(\"Ø503\", 'en');\n      let way = wf2.methods.wayBetweenRooms(roomlit1, roomlit2, 1, \"Stair\", false);\n      console.log(\"Way\")\n      console.log(way)*/\n    },\n    checkIfVerticalPassage(spaceURI){\n      if(store.state.rs.rdfStore.match($rdf.sym(spaceURI), ns.NEO(\"b_capable\"), ns.SBEO(\"VerticalPassage\"))[0]){\n        return true;\n      } else {\n        return false;\n      }\n    },\n    sortWideAreaSmall(doorArray){\n      return doorArray.sort(function (a, b) {\n        // First compare y direction with deviation of 0.5 meters\n        if (Math.abs(b.y-a.y)>0.3) {\n          return a.y - b.y;\n        } else {\n          return a.x - b.x;\n        }\n      });\n    },\n    sortWideAreaLarge(doorArray, debugF=true){\n      const doorXValues = [];\n      const doorYValues = [];\n      let sortedDoorArray = [];\n      doorArray.forEach(door => {\n        doorXValues.push(door.x);\n        doorYValues.push(door.y);\n        //console.log(\"DoorX: \"+door.x+\" DoorY: \"+door.y);\n      });\n      const maxX = Math.max.apply( Math, doorXValues );\n      const minX = Math.min.apply( Math, doorXValues );\n      const maxY = Math.max.apply( Math, doorYValues );\n      const minY = Math.min.apply( Math, doorYValues );\n      const lengthX = maxX-minX;\n      const lengthY = maxY-minY;\n      doorYValues.forEach(val => {\n        console.log(\"doorYValue: \"+val);\n      });\n      let xDuplicates = findDuplicates(doorXValues, 0.6);\n      let yDuplicates = findDuplicates(doorYValues, 0.6);\n      xDuplicates.sort((p1, p2) => (p1 < p2) ? 1 : (p1 > p2) ? -1 : 0);\n      yDuplicates.sort((p1, p2) => (p1 < p2) ? 1 : (p1 > p2) ? -1 : 0);\n      xDuplicates.forEach(dup => { console.log(\"DuplicateX: \"+dup); })\n      yDuplicates.forEach(dup => { console.log(\"DuplicateY: \"+dup); })\n      let returnValues = []\n\n      // Analysere duplikat arrayene for å se snitt antall i top 3 arrays for å vurdere rekkefølge på to neste while operasjoner (Har byttet om fra å kjøre y først)\n      // Hva med WidearealargeX and WidearealargeY?\n      // Skal vel egentlig hente ut nærmeste linje i bunnen først, med tilhørende gang, så ta oppover. Blir kanskje plukking mellom arrays.\n\n      // Start doing first two lines\n      // Finished doing first two lines\n\n      // Check if duplicates found with only two doors - then remove\n      //removeTwoDoorDuplicates(xDuplicates, doorArray, false);\n\n      // Test if there is most x duplicates or y duplicates\n      let mostX = false;\n      const xDoorCount = this.countDuplicates(xDuplicates, doorArray, true); \n      const yDoorCount = this.countDuplicates(yDuplicates, doorArray, false); \n      console.log(\"Doorcount X:\"+xDoorCount+\" Y:\"+yDoorCount);\n      if(xDoorCount>yDoorCount) mostX = true;\n\n      let splittedArray = [];\n      if(mostX){\n        while(xDuplicates.length>0){\n          returnValues = this.moveXLineValues(xDuplicates, doorArray, maxX, minX, debugF);\n          xDuplicates = returnValues[0];\n          doorArray = returnValues[1];\n          splittedArray = this.checkForGapInDistances(returnValues[2]);\n          splittedArray.forEach(arr => {\n            sortedDoorArray.push(arr);\n          });\n        }\n        while(yDuplicates.length>0){\n          returnValues = this.moveYLineValues(yDuplicates, doorArray, maxX, minX, debugF);\n          yDuplicates = returnValues[0];\n          doorArray = returnValues[1];\n          splittedArray = this.checkForGapInDistances(returnValues[2]);\n          splittedArray.forEach(arr => {\n            sortedDoorArray.push(arr);\n          });\n        }\n      } else {\n        while(yDuplicates.length>0){\n          returnValues = this.moveYLineValues(yDuplicates, doorArray, maxX, minX, debugF);\n          yDuplicates = returnValues[0];\n          doorArray = returnValues[1];\n          splittedArray = this.checkForGapInDistances(returnValues[2]);\n          splittedArray.forEach(arr => {\n            sortedDoorArray.push(arr);\n          });\n        }\n        while(xDuplicates.length>0){\n          returnValues = this.moveXLineValues(xDuplicates, doorArray, maxX, minX, debugF);\n          xDuplicates = returnValues[0];\n          doorArray = returnValues[1];\n          splittedArray = this.checkForGapInDistances(returnValues[2]);\n          splittedArray.forEach(arr => {\n            sortedDoorArray.push(arr);\n          });\n        }\n      }\n\n      if(debugF) console.log(\"Sorted door array after :\"+sortedDoorArray.length);\n      for(var i = 0; i < doorArray.length; i++) {\n        const doorObject = doorArray[i];\n        sortedDoorArray.push({\"x\": doorArray[i].x, \"y\": doorArray[i].y, \"doorarray\": [doorObject]});\n        doorArray.splice(i, 1);\n        i--;\n      }\n      sortedDoorArray = this.sortHallAway(sortedDoorArray);\n      console.log(\"sortedDoorArray: \"+sortedDoorArray.length);\n      console.log(sortedDoorArray);\n      \n      const returnArray = [];\n      sortedDoorArray.forEach(object => {\n        object.doorarray.forEach(door => {\n          returnArray.push(door);\n        });\n      });\n      console.log(\"sortedDoorArray: \")\n      console.log(returnArray)\n      return returnArray;\n    },\n    checkForGapInDistances(listObject){\n      // Checks for large distances in door lines and splits them into two arrays\n      console.log(\"Doorarray\")\n      console.log(listObject.doorarray)\n      let temparray = [];\n      let temparray2 = [];\n      let foundSplit = false;\n      let previousX = undefined;\n      let previousY = undefined;\n      for(let i=0; i<listObject.doorarray.length; i++){\n        if(i!=0){\n          if(previousX) if((listObject.doorarray[i].x-previousX)>=8) foundSplit = true;\n          if(previousY) if((listObject.doorarray[i].y-previousY)>=8) foundSplit = true;\n          if(foundSplit){\n            temparray2.push(listObject.doorarray[i]);\n          } else {\n            temparray.push(listObject.doorarray[i]);\n          }\n        } else {\n          temparray.push(listObject.doorarray[i]);\n        }\n        previousX = listObject.doorarray[i].x;\n        previousY = listObject.doorarray[i].y;\n      }\n      let returnArray = [];\n      if(temparray[0]) returnArray.push({\"x\": temparray[0].x, \"y\": temparray[0].y, \"doorarray\": temparray});\n      if(temparray2[0]) returnArray.push({\"x\": temparray2[0].x, \"y\": temparray2[0].y, \"doorarray\": temparray2});\n      return returnArray;\n    },\n    countDuplicates(dupArray, doorArray, isX){\n      const duplicateArray = [];\n      dupArray.forEach(dup => {\n        let dupExist = false;\n        duplicateArray.forEach(checkExist => {\n          if(approximatelyEqual(dup, checkExist, 0.6)) dupExist = true;\n        });\n        if(!dupExist) duplicateArray.push(dup);\n      });\n      let count = 0;\n      const arrayOfCounts = [];\n      for(var y = 0; y < duplicateArray.length; y++) {\n        count = 0;\n        for(var i = 0; i < doorArray.length; i++) {\n          if(approximatelyEqual(doorArray[i].x, duplicateArray[y], 0.6)&&isX) count++;\n          if(approximatelyEqual(doorArray[i].y, duplicateArray[y], 0.6)&&!isX) count++;\n        }\n        arrayOfCounts.push(count);\n      }\n      count = 0;\n      //arrayOfCounts.sort((p1, p2) => (p1 < p2) ? 1 : (p1 > p2) ? -1 : 0);\n      //count = arrayOfCounts[0]+arrayOfCounts[1]; // Takes only the two largest lines into consideration\n      console.log(\"arrayofcounts\")\n      console.log(arrayOfCounts)\n      arrayOfCounts.forEach(num => {\n        if(num>4){\n          count = count+2; // Bonus for having large lines of doors\n        } else if(num>2) count++; // Counts only lines larger than 2 doors\n      });\n      return count;\n    },\n    removeTwoDoorDuplicates(yDuplicates, doorArray, debugF){\n      /*let tempDoorArray = [];\n      for(var y = 0; y < yDuplicates.length; y++) {\n          for(var i = 0; i < doorArray.length; i++) {\n            if(doorArray[i].y==yDuplicates[y]){\n              // Put doors found on line into new array if not near to left of right side.\n              if(Math.abs(doorArray[i].x-maxX)>0.3&&Math.abs(doorArray[i].x-minX)>0.3){\n                tempDoorArray.push(doorArray[i]);\n                if(debugF) console.log(\"Adding to Y line: \"+doorArray[i].name);\n                doorArray.splice(i, 1);\n                i--;\n              } \n            }\n\n          yDuplicates.splice(y, 1);\n          y--;\n        }\n      }\n      tempDoorArray = this.sortHallCross(tempDoorArray);\n      let firstDoorPoint = {\"x\": 0, \"y\": 0};\n      if(tempDoorArray[0]) firstDoorPoint = {\"x\": tempDoorArray[0].x, \"y\": tempDoorArray[0].y};\n      if(debugF) console.log(\"First door point x: \"+firstDoorPoint.x+\" y: \"+firstDoorPoint.y);\n      if(debugF) console.log(\"Moving to new line...\");\n      return [yDuplicates, doorArray, {\"x\": firstDoorPoint.x, \"y\": firstDoorPoint.y, \"doorarray\": tempDoorArray}];*/\n    },\n    moveYLineValues(yDuplicates, doorArray, maxX, minX, debugF){\n      const minYLineVal = Math.min.apply( Math, yDuplicates );\n      let tempDoorArray = [];\n      for(var y = 0; y < yDuplicates.length; y++) {\n        let offset = 2.5;\n        if(yDuplicates[y]<=(minYLineVal+offset)){ // Check if two lines found near eachother\n          for(var i = 0; i < doorArray.length; i++) {\n            if(doorArray[i].y==yDuplicates[y]){\n              // Put doors found on line into new array if not near to left of right side.\n              if(Math.abs(doorArray[i].x-maxX)>0.3&&Math.abs(doorArray[i].x-minX)>0.3){\n                tempDoorArray.push(doorArray[i]);\n                if(debugF) console.log(\"Adding to Y line: \"+doorArray[i].name);\n                doorArray.splice(i, 1);\n                i--;\n              } \n            }\n          }\n          yDuplicates.splice(y, 1);\n          y--;\n        }\n      }\n      tempDoorArray = this.sortHallCross(tempDoorArray);\n      let firstDoorPoint = {\"x\": 0, \"y\": 0};\n      if(tempDoorArray[0]) firstDoorPoint = {\"x\": tempDoorArray[0].x, \"y\": tempDoorArray[0].y};\n      if(debugF) console.log(\"First door point x: \"+firstDoorPoint.x+\" y: \"+firstDoorPoint.y);\n      if(debugF) console.log(\"Moving to new line...\");\n      return [yDuplicates, doorArray, {\"x\": firstDoorPoint.x, \"y\": firstDoorPoint.y, \"doorarray\": tempDoorArray}];\n    },\n    moveXLineValues(xDuplicates, doorArray, maxX, minX, debugF){\n      const minXLineVal = Math.min.apply( Math, xDuplicates );\n      let tempDoorArray = [];\n      for(var x = 0; x < xDuplicates.length; x++) {\n        let offset = 2.5;\n        if(xDuplicates[x]<=(minXLineVal+offset)){ // Check if two lines found near eachother\n          for(var i = 0; i < doorArray.length; i++) {\n            if(doorArray[i].x==xDuplicates[x]){\n              // Put doors found on line into new array\n              tempDoorArray.push(doorArray[i]);\n              if(debugF) console.log(\"Adding to X line: \"+doorArray[i].name);\n              doorArray.splice(i, 1);\n              i--;\n            }\n          }\n          xDuplicates.splice(x, 1);\n          x--;\n        }\n      }\n      tempDoorArray = this.sortHallAway(tempDoorArray);\n\n      let firstDoorPoint = {\"x\": 0, \"y\": 0};\n      if(tempDoorArray[0]) firstDoorPoint = {\"x\": tempDoorArray[0].x, \"y\": tempDoorArray[0].y};\n      if(debugF) console.log(\"Moving to new line...\");\n      return [xDuplicates, doorArray, {\"x\": firstDoorPoint.x, \"y\": firstDoorPoint.y, \"doorarray\": tempDoorArray}];\n    },\n    sortHallCross(doorArray){\n      return doorArray.sort(function (a, b) {\n        // First compare x direction with deviation of 0.5 meters\n        if (Math.abs(b.x-a.x)>0.3) {\n          return a.x - b.x;\n        } else {\n          return a.y - b.y;\n        }\n      });\n    },\n    sortHallAway(doorArray){\n      return doorArray.sort(function (a, b) {\n        // First compare y direction with deviation of 0.5 meters\n        if (Math.abs(b.y-a.y)>0.3) {\n          return a.y - b.y;\n        } else {\n          return a.x - b.x;\n        }\n      });\n    },\n    getDoorsInSpace(spaceURI, debugF=false){\n      const doorURIArray = [];\n      const doorTagArray = [];\n      const newDoorArray = [];\n      store.state.rs.rdfStore.match($rdf.sym(spaceURI), ns.NEO(\"m_port\"), null).forEach(door => {\n        if(!doorURIArray.includes(door.object.value)){ \n          doorURIArray.push(door.object.value);\n          doorTagArray.push(2);\n        }\n      });\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(spaceURI)).forEach(door => {\n        if(!doorURIArray.includes(door.subject.value)){ \n          doorURIArray.push(door.subject.value);\n          doorTagArray.push(2);\n        }\n      });\n      store.state.rs.rdfStore.match($rdf.sym(spaceURI), ns.NEO(\"m_join\"), null).forEach(door => {\n        if(!doorURIArray.includes(door.object.value)){ \n          doorURIArray.push(door.object.value);\n          doorTagArray.push(1);\n        }\n      });\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(spaceURI)).forEach(door => {\n        if(!doorURIArray.includes(door.subject.value)){ \n          doorURIArray.push(door.subject.value);\n          doorTagArray.push(1);\n        }\n      });\n      doorURIArray.forEach((doorURI, cn) => {\n        const doorName = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.RDFS(\"label\"), null)[0].object.value;\n        let nextRoomHAG = 0;\n        if(store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.IFOUR(\"roomhag\"), null)[0]) nextRoomHAG = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.IFOUR(\"roomhag\"), null)[0].object.value;\n        if(debugF) console.log(\"DoorName: \"+doorName);\n        if(debugF) console.log(\"DoorURI: \"+doorURI);\n        let interfaceType = \"Door\";\n        if(doorTagArray[cn]==1) interfaceType = \"Join\";\n        let doorPos = new Vector3(0,0,0);\n        if(interfaceType!= \"Join\"){\n          doorPos = this.getDoorPosition(doorURI);\n        } else {\n          doorPos = this.getJoinPosition(doorURI);\n        }\n        newDoorArray.push({\"uri\": doorURI, \"name\": doorName, \"position\": doorPos, \"x\": 0, \"y\": 0, \"pri\": doorTagArray[cn], \"nextroomhag\": nextRoomHAG, \"type\": interfaceType, \"roomobject\": {}});\n      });\n      return newDoorArray;\n    },\n    getRoomBehindDoor(doorURI, currentSpaceURI){\n      let roomURI = doorURI; // Default sets to enable shared space\n      let roomType = \"\";\n      let polyline = \"\";\n      let trafficAreaType = \"\";\n      let roomhag = 0;\n      let trafficLoad = 0;\n      let roomName = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.RDFS(\"label\"), null)[0].object.value;\n      let isRoom = false;\n      if(store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.RDF(\"type\"), ns.BOT(\"Space\"))[0]) isRoom = true;\n      if(!isRoom){ // May find other way to compare\n        store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.NEO(\"m_port\"), null).forEach(door => {\n          if(door.object.value!=currentSpaceURI) roomURI = door.object.value;\n        });\n        store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(doorURI)).forEach(door => {\n          if(door.subject.value!=currentSpaceURI) roomURI = door.subject.value;\n        });\n      }\n      if(store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.RDFS(\"label\"), null)[0]) roomName = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.RDFS(\"label\"), null)[0].object.value; // Overwrite because roomURI may have been changed\n      let roomPosition = new Vector3(0,0,0);\n      /*if(store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.SIO(\"SIO_000507\"), null)[0]){\n        roomPosition = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n      }*/\n      this.roomList.forEach((room, id) => {\n        if(room.uri==roomURI){\n          //console.log(\"Polyline: \"+room.polyline);\n          trafficLoad = room.trafficload;\n          roomPosition = new Vector3(room.loc.x, room.loc.y, room.loc.z);\n          polyline = room.polyline;\n          roomhag = room.heightaboveground;\n          trafficAreaType = room.trafficAreaType;\n        }\n      });\n      if(trafficLoad<2) roomType = \"Single\";\n      if(trafficLoad<4&&trafficLoad>1) roomType = \"Subrooms\";\n      if(trafficLoad>=4) roomType = \"Trafficarea\";\n      return {\"uri\": roomURI, \"name\": roomName.replace(\"  \", \" \"), \"position\": roomPosition, \"polyline\": polyline, \"trafficload\": trafficLoad, \"roomtype\": roomType, \"heightaboveground\": roomhag};\n    },\n    setSpaceLabel(position, label, labelTag){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      bmu.createSimpleLabel(position.applyMatrix4(buildingbox.matrixWorld), \"\"+label, labelTag);\n    },\n    setSpaceLabelType(position, label, title, labelTag){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      bmu.createLabelWithType(position.applyMatrix4(buildingbox.matrixWorld), \"\"+label, \"\"+title, labelTag);\n    },\n    polyLineTo2dArray(polyline){\n      const polyArray = bmu.convertPolylineToPolyarray(polyline);\n      const polyArr = [];\n      while (polyArray.length > 1) {\n        const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n        polyArr.push([Number(polyXYZ[0]), Number(polyXYZ[1])]);\n      }\n      return polyArr;\n    },\n    polyLineXY(polyline){\n      const polyArray = bmu.convertPolylineToPolyarray(polyline);\n      const polyArr = [];\n      while (polyArray.length > 1) {\n        const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n        polyArr.push([Number(polyXYZ[0]), Number(polyXYZ[1])]);\n      }\n      return polyArr;\n    },\n    numberSubRooms(spaceURI, wingtag, roomNum, subRoomCounter=0, labelTag){\n      const doorArray = this.getDoorsInSpace(spaceURI);\n      const polyLines = [];\n      let currentTrafficLoad = 0;\n      let currentRoomListIndex = 0;\n      this.roomList.forEach((room, index) => {\n        if(room.uri==spaceURI){\n          currentTrafficLoad = room.trafficload;\n          currentRoomListIndex = index;\n        }\n      });\n      doorArray.forEach(door => {\n        const roomObject = this.getRoomBehindDoor(door.uri, spaceURI);\n        door.roomobject = roomObject;\n        if(door.type==\"Join\"){\n          polyLines.push(door.roomobject.polyline);\n          let intersections = bmu.findSpaceIntersections(polyLines, 0.5, false);\n          intersections.forEach(intersection => {\n            if(door.name.includes(intersection.room1)||door.name.includes(intersection.room2)){\n              door.position = new Vector3(intersection.point.x, intersection.point.y, intersection.point.z);\n            }\n          });\n        }\n      });\n      doorArray.forEach(door => {\n        if(door.roomobject.trafficload!=0&&!this.roomURIsNumbered.includes(door.roomobject.uri)&&door.roomobject.trafficload<currentTrafficLoad){ // Sort out Outdoor etc.\n          let position = new Vector3(0,0,0);\n          if(door.roomobject.position) position = door.roomobject.position;\n          let trafficLoadBehind = this.getTrafficLoadInSpaceBehind(spaceURI, door.roomobject.uri);\n          if(trafficLoadBehind<=currentTrafficLoad||door.type==\"Join\"){\n            subRoomCounter++;\n            this.setSpaceLabel(position, wingtag+(roomNum.pad(2))+\".\"+subRoomCounter, labelTag);\n            this.roomList[currentRoomListIndex].newname = wingtag+(roomNum.pad(2))+\".\"+subRoomCounter;\n            this.roomURIsNumbered.push(door.roomobject.uri);\n            const doorArray2 = this.getDoorsInSpace(door.roomobject.uri);\n            doorArray2.forEach(door2 => {\n              const roomObject = this.getRoomBehindDoor(door.uri, spaceURI);\n              door2.roomobject = roomObject;\n              this.numberSubRooms(door2.roomobject.uri, wingtag, roomNum, subRoomCounter);\n            });\n          }\n        }\n      });\n    },\n    getTrafficLoadInSpaceBehind(prevRoomURI, currRomURI){\n      const doorArray = this.getDoorsInSpace(currRomURI);\n      let trafficload = 0;\n      doorArray.forEach(door2 => {\n        const roomObject = this.getRoomBehindDoor(door2.uri, currRomURI);\n        if(roomObject.uri!=prevRoomURI&&roomObject.uri!=currRomURI){\n          if(roomObject.trafficload>trafficload) trafficload = roomObject.trafficload;\n        }\n      });\n      return trafficload;\n    },\n    getDoorXDistance(point, observerPos, observerDir, debugF=false){\n      const dist = observerPos.distanceTo(point);\n      observerDir = observerPos.clone().add(observerDir.normalize().multiplyScalar(dist));\n      const yLine = new Line3(observerPos, observerDir);\n      if(debugF) bmu.createVisibleVector(observerPos, observerDir, 0x0000FF, dist);\n      const closestPointOnLine = new Vector3(0,0,0);\n      const posVector = new Vector3(point.x, point.y, point.z);\n      yLine.closestPointToPoint(posVector, false, closestPointOnLine);\n      let distance = closestPointOnLine.distanceTo(posVector);\n      // Start finding positive or negative angle:\n      var dirForward = new Vector3().subVectors(observerDir, observerPos).normalize();\n      var dirToPoint = new Vector3().subVectors(point, observerPos).normalize();\n      var cross = new Vector3().crossVectors(dirForward, dirToPoint);\n      const dir = cross.dot(new Vector3(0,1,0));\n      if(dir > 0.0) distance = distance*-1.0;\n      if(isNaN(distance)) distance = 0;\n      return distance;\n    },\n    getDoorYDistance(point, observerPos, observerDir, debugF=false){\n      const dist = observerPos.clone().distanceTo(point);\n      var q1 = new Quaternion();\n      q1.setFromAxisAngle(new Vector3(0, 1, 0), Math.PI/2);\n      observerDir.applyQuaternion(q1);\n      if(debugF) bmu.createVisibleVector(observerPos, observerDir, 0x00FF00, dist);\n      const p1 = observerPos.clone().add(observerDir.clone().multiplyScalar(dist));\n      const p2 = observerPos.clone().add(observerDir.clone().negate().multiplyScalar(dist));\n      if(debugF) bmu.createVisibleVector(observerPos, observerDir.clone().negate(), 0x00FF00, dist);\n      const yLine = new Line3(p1, p2);\n      const closestPointOnLine = new Vector3(0,0,0);\n      const posVector = new Vector3(point.x, point.y, point.z);\n      yLine.closestPointToPoint(posVector, false, closestPointOnLine);\n      let distance = closestPointOnLine.distanceTo(posVector);\n      // Start finding positive or negative angle:\n      var dirForward = new Vector3().subVectors(p1, observerPos).normalize();\n      var dirToPoint = new Vector3().subVectors(point, observerPos).normalize();\n      var cross = new Vector3().crossVectors(dirForward, dirToPoint);\n      const dir = cross.dot(new Vector3(0,1,0));\n      if(dir > 0.0) distance = distance*-1.0;\n      if(isNaN(distance)) distance = 0;\n      return distance;\n    },\n    getDoorLocation(roomURI){\n      // Find the door with higher TrafficLoad\n      let location = new Vector3(0,0,0);\n      let trafficload = 5000;\n      this.roomList.forEach((room) => {\n        if(room.uri==roomURI){\n          trafficload = room.trafficload;\n          console.log(\"Current trafficload: \"+trafficload);\n        }\n      });\n      store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.NEO(\"m_port\"), null).forEach(door => {\n        store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), $rdf.sym(door.object.value)).forEach(roomTriple => {\n          if(roomTriple.subject.value!=roomURI){\n            //console.log(\"Found room in database: \"+roomURI);\n            this.roomList.forEach((room) => {\n              if(room.uri==roomTriple.subject.value){\n                if(room.trafficload>trafficload){\n                  if(store.state.rs.rdfStore.match($rdf.sym(door.object.value), ns.SIO(\"SIO_000507\"), null)[0]){\n                    let locVal = store.state.rs.rdfStore.match($rdf.sym(door.object.value), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n                    location = u.pointStringToVector3(locVal);\n                  } \n                }\n              }\n            });\n          }\n        });\n      });\n      store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"hasInterfacePoint\"), null).forEach(triple => {\n        store.state.rs.rdfStore.match(null, ns.IFOUR(\"hasInterfacePoint\"), $rdf.sym(triple.object.value)).forEach(roomTriple => {\n          if(roomTriple.subject.value!=roomURI){\n            //console.log(\"Found interface connection: \"+roomURI);\n            this.roomList.forEach((room) => {\n              if(room.uri==roomTriple.subject.value){\n                if(room.trafficload>trafficload){\n                  if(store.state.rs.rdfStore.match($rdf.sym(triple.object.value), ns.SIO(\"SIO_000507\"), null)[0]){\n                    let locVal = store.state.rs.rdfStore.match($rdf.sym(triple.object.value), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n                    location = u.pointStringToVector3(locVal);\n                  } \n                }\n              }\n            });\n          }\n        });\n      });\n      return location;\n    },\n    getDoorPosition(doorURI){\n      let location = new Vector3(0,0,0);\n      if(store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0]){\n        let locVal = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n        location = u.pointStringToVector3(locVal);\n      }\n      return location;\n    },\n    getJoinPosition(roomURI){\n      let location = new Vector3(1,0,0);\n      let trafficload = 5000;\n      this.roomList.forEach((room) => {\n        if(room.uri==roomURI){\n          trafficload = room.trafficload;\n          console.log(\"Current trafficload: \"+trafficload);\n        }\n      });\n      store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"hasInterfacePoint\"), null).forEach(triple => {\n        store.state.rs.rdfStore.match(null, ns.IFOUR(\"hasInterfacePoint\"), $rdf.sym(triple.object.value)).forEach(roomTriple => {\n          if(roomTriple.subject.value!=roomURI){\n            //console.log(\"Found interface connection: \"+roomURI);\n            this.roomList.forEach((room) => {\n              if(room.uri==roomTriple.subject.value){\n                if(room.trafficload>trafficload){\n                  if(store.state.rs.rdfStore.match($rdf.sym(triple.object.value), ns.SIO(\"SIO_000507\"), null)[0]){\n                    let locVal = store.state.rs.rdfStore.match($rdf.sym(triple.object.value), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n                    location = u.pointStringToVector3(locVal);\n                  } \n                }\n              }\n            });\n          }\n        });\n      });\n      return location;\n    },\n    getEntranceDoorLocation(doorURI){\n      let location = new Vector3(0,0,0);\n      if(store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0]){\n        let locVal = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n        location = u.pointStringToVector3(locVal);\n      } \n      return location;\n    },\n    getCurrentTrafficAreaType(doorArray){\n      let trafficAreaType = \"Wideareasmall\";\n      const doorXValues = [];\n      const doorYValues = [];\n      doorArray.forEach(door => {\n        //console.log(door.position);\n        doorXValues.push(door.x);\n        doorYValues.push(door.y);\n      });\n      const maxX = Math.max.apply( Math, doorXValues );\n      const minX = Math.min.apply( Math, doorXValues );\n      const maxY = Math.max.apply( Math, doorYValues );\n      const minY = Math.min.apply( Math, doorYValues );\n      const lengthX = maxX-minX;\n      const lengthY = maxY-minY;\n      console.log(\"Length X: \"+lengthX+\" length Y: \"+lengthY)\n      const xCount = findDuplicates(doorXValues, 0.5);\n      const yCount = findDuplicates(doorYValues, 0.5);\n      if(xCount.length>2) trafficAreaType = \"Hallaway\";\n      if(yCount.length>2&&yCount.length>xCount.length) trafficAreaType = \"Hallcross\";\n      if((lengthX>=6&&lengthY>=10)||(lengthX>=10&&lengthY>=6)) trafficAreaType = \"Widearealarge\";\n      return trafficAreaType;\n    },\n    increaseTrafficLoadForSpace(room1, room2, avvoid, increasevalue=1){\n      const roomlit1 = $rdf.literal(room1, 'en');\n      const roomlit2 = $rdf.literal(room2, 'en');\n      let way = wf2.methods.wayBetweenRooms(roomlit1, roomlit2, 1, \"Stair\", this.uriBlackList, false);\n      if(way.length>0){\n        this.roomList.forEach((roomcheck, chid) => {\n          if(way.includes(roomcheck.uri)&&this.roomList[chid].name!=avvoid){\n            this.roomList[chid].trafficload = this.roomList[chid].trafficload+increasevalue;\n            console.log(\"Increased traffic load for space: \"+this.roomList[chid].name+\" to value: \"+this.roomList[chid].trafficload)\n          } \n        });\n      }\n    },\n    async loadIFCSlabs(){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      this.ifcloading = true;\n      const container = document.createElement('div');\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      try {\n        const res = await window.solid.session.fetch(IFCuri, { method: \"GET\", credentials: \"include\" });\n        let filedata = await res.arrayBuffer();\n        let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n        //const ifcModel = await viewer.IFC.loadIfcUrl(fileurl);\n        if(!this.ifcmodelLoaded){\n          ifcModel = await ifcLoader.loadAsync(fileurl);\n          this.ifcmodelLoaded = true;\n        }\n        const modelID = ifcModel.modelID;\n        const slabIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSLAB);\n        const slabMeshes = ifcu.getAllSubsetMeshes(slabIDs, modelID, ifcLoader);\n        let slabArray = [];\n        for(let i = 0; i<=slabIDs.length-1; i++){\n          //console.log(spaceMeshes[i]);\n          slabArray.push({expressID: slabIDs[i], elementID: slabMeshes[i].id });\n        }\n\n        const material = new MeshLambertMaterial({\n          transparent: true,\n          opacity: 0.5,\n          color: 0xaaaaff,\n          depthTest: true\n        });\n\n        for(let i = 0; i<=slabMeshes.length-2; i++){\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, slabIDs[i]);\n          console.log(\"Slab props:\")\n          console.log(props)\n          const slabMesh = ifcu.getAllSubsetMeshes([slabIDs[i]], modelID, ifcLoader)[0];\n          slabMesh.material = material.clone();\n          slabMesh.material.side = DoubleSide; // Must have doubleside for making the raycaster work - Espen.\n          slabMesh.updateMatrixWorld();\n          buildingbox.add(slabMesh);\n        }\n        //await this.getRoomZones(modelID, buildingbox);\n        this.RENDER();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async showRoomsForStorey(storeyHeightAboveGround=0, storeyHeightAboveGround2){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      await bmu.removeAllLabels();\n      buildingbox.children.forEach(object => {\n        const heightSpan = bmu.getMeshHeightAboveGround(object);\n        if(bmu.checkIfMeshCrossStoreyLevel(storeyHeightAboveGround, heightSpan.min, heightSpan.max)){\n          object.visible = true;\n          this.roomList.forEach((room) => {\n            if(object.name==room.name){\n              let loc = new Vector3(0,0,0);\n              if(room.loc){\n                loc = new Vector3(room.loc.x,room.loc.y,room.loc.z);\n              }\n              if(this.labelType==\"1\"){\n                bmu.createSimpleLabel(loc.applyMatrix4(buildingbox.matrixWorld), \"\"+room.trafficload);\n              } else {\n                let roomname = room.newname;\n                if(roomname==\"\") roomname = room.name;\n                bmu.createLabelWithType(loc.applyMatrix4(buildingbox.matrixWorld), \"\"+roomname, \"\"+room.trafficAreaType);\n              }\n            }\n          });\n        } else {\n          object.visible = false;\n        }\n        if(storeyHeightAboveGround2){\n          if(bmu.checkIfMeshCrossStoreyLevel(storeyHeightAboveGround2, heightSpan.min, heightSpan.max)){\n            object.visible = true;\n          } \n        } \n      });\n      this.showDoorMarkers2();\n      /*let way = wf.methods.wayBetweenRooms(\"V011\", \"Ø003\", 2, true);\n      console.log(\"Way found:\");\n      console.log(way);\n      bmu.showWay(way, store.state.bv.scaleFactor);*/\n      store.state.bv.needsrender = true;\n    },\n    showAllRooms(){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      buildingbox.children.forEach(object => {\n        object.visible = true;\n      });\n      store.state.bv.needsrender = true;\n    },\n    async setBuildingMainEntrance(){\n      this.buildingMainEntrances = [];\n      let roomName = store.state.bv.selectedRoomNames[0];\n      this.buildingMainEntrances.push(roomName);\n      //console.log(\"Roomname: \"+roomName);\n      let roomURI = this.getRoomURIbyName(roomName);\n      let roomDoorURIs = [];\n      store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.NEO(\"m_port\"), null).forEach(st => {\n        roomDoorURIs.push(st.object.value);\n      });\n      console.log(\"Doors:\");\n      let exteriorDoors = [];\n      roomDoorURIs.forEach(doorURI => {\n        let doorName = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.RDFS(\"label\"), null)[0].object.value;\n\n        if(doorName.includes(\"Outdoor\")){\n          exteriorDoors.push({\"name\": doorName, \"uri\": doorURI});\n          console.log(\"Selected door: \"+doorName);\n        }\n      });\n      if(exteriorDoors.length>0){\n        let buildingURI = this.$route.query.location+\"i\";\n        exteriorDoors.forEach(door => {\n          if(!this.buildingMainEntranceURIs.includes(door.uri)) this.buildingMainEntranceURIs.push(door.uri);\n          addToStores($rdf.sym(buildingURI), ns.NEO(\"m_port\"), $rdf.sym(door.uri));\n        });\n      }\n      this.roomNumberProcess = 6;\n    },\n    getBuildingMainEntrances(){\n      let buildingURI = this.$route.query.location+\"i\";\n      store.state.rs.rdfStore.match($rdf.sym(buildingURI), ns.NEO(\"m_port\"), null).forEach(st => {\n        store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.RDFS(\"label\"), null).forEach(lbl => {\n          this.buildingMainEntrances.push(lbl.object.value);\n        });\n      });\n    },\n    checkIfRoomNameExists(roomName, roomNamesAdded){\n      let roomNameCounter = 0;\n      if(roomName==\"\"){\n        roomName = \"UN\"\n      }\n      while(roomNamesAdded.includes(roomName)){\n        console.log(\"Found room name duplicate: \"+roomName);\n        roomNameCounter++;\n        roomName = roomName+\".D\"+roomNameCounter;\n      }\n      return roomName;\n    },\n    async addAllRoomsToStores(modelID){\n      //let storeySearch = await r.searchAndGetURIs(\"#\"+store.state.currentBuildingTag+\"*\");\n      //if(storeySearch){}\n      let storeyList = await this.checkForPermanentFloorURIs();\n      if(storeyList){}\n      const spaceIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSPACE);\n      //for(let s = 0; s<20; s++){\n      console.log(\"Start adding \"+spaceIDs.length+\" rooms to store...\");\n      const roomNamesAdded = [];\n      //for(let s = 0; s<3; s++){\n      for(let s = 0; s<spaceIDs.length; s++){\n        const props = await ifcLoader.ifcManager.getItemProperties(modelID, spaceIDs[s]);\n        let room1 = \"room\"+spaceIDs[s];\n        if(props.Name){\n          room1 = u.formatString(props.Name.value);\n        }\n        let globalid = \"\";\n        if(props.GlobalId){\n          globalid = props.GlobalId.value;\n        }\n        room1 = this.checkIfRoomNameExists(room1, roomNamesAdded);\n        roomNamesAdded.push(room1);\n        //console.log(room1);\n        const room1uri = u.getBlankNode(room1);\n        addToStores(room1uri, ns.RDF(\"type\"), ns.BOT(\"Space\"));\n        addToStores(room1uri, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room1, 'en'));\n        addToStores(room1uri, ns.RDFS(\"label\"), $rdf.literal(\"Rom \"+room1, 'no'));\n        addToStores(room1uri, ns.FOAF(\"name\"), $rdf.literal(room1));\n        addToStores(room1uri, ns.IFOUR(\"expressid\"), spaceIDs[s]);\n        addToStores(room1uri, ns.IFOUR(\"globalid\"), globalid);\n        let heightAboveGround = bmu.getMeshHeightAboveGround(store.state.bv.scene.getObjectByName(room1)).min;\n        if(heightAboveGround){\n          addToStores(room1uri, ns.IFOUR(\"roomhag\"), heightAboveGround);\n          storeyList.forEach(storey => {\n            if(Number(storey.roomhag)==Number(heightAboveGround)){\n              addToStores($rdf.sym(storey.uri), ns.SIO(\"SIO_000202\"), room1uri);\n            }\n          });\n        }\n        let loc = new Vector3(0,0,0);\n        if(store.state.bv.scene.getObjectByName(room1)) loc = bmu.getMeshCenterPoint(store.state.bv.scene.getObjectByName(room1));\n        if(loc) addToStores(room1uri, ns.SIO(\"SIO_000507\"), $rdf.literal(\"(\"+loc.x+\") (\"+loc.y+\") (\"+loc.z+\")\"));\n        let polyLine = await this.getPolylineForSpace(modelID, spaceIDs[s], room1, heightAboveGround);\n        /*if(room1==\"G313\"){\n          console.log(\"Found special polyline problem..\")\n          polyLine = \"polyline;G313;94;61.6499998888;6;2.9;[0,0,0,4.02499976741,0,0,4.02499976741,2.4499999667,0,2.62445354641,2.4499999667,0,2.62445354641,9.55000004174,0,8.14999983841,9.55000004174,0,8.14999983841,9.75000002632,0,8.44999981528,9.75000002632,0,8.74999979214,9.75000002632,0,8.74999979214,9.45000004945,0,8.51999996553,9.45000004945,0,8.52500004297,2.54999995899,0,8.74999979214,2.54999995899,0,8.74999979214,2.4499999667,0,10.9249998579,2.4499999667,0,10.9249998579,9.55000004174,0,15.3499999057,9.55000004174,0,15.3499999057,9.75000002632,0,15.5699998888,9.75000002632,0,15.5699998888,11.9000000162,0,8.44500004914,11.9000000162,0,2.64999995128,11.9000000162,0,2.64999995128,17.0999999264,0,0.129999834325,17.0999999264,0,0.149999832783,13.3749998246,0,0.149999832783,9.742716573960001,0,2.25000029343,0,0,2.24999998213,0,0,0,0,0]\";\n        }*/\n        addToStores(room1uri, ns.IFOUR(\"m_polyline\"), polyLine)\n        let currentFloorTag = \"\";\n        this.floorheights.forEach((floorheight, fnum) => {\n          if(approximatelyEqual(floorheight, heightAboveGround, 0.5)){\n            currentFloorTag = this.floortags[fnum];\n          }\n        });\n        currentFloorTag = currentFloorTag.substring(1); // Remove first character of string\n        store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\")).forEach(storeyitem => {\n          store.state.rs.rdfStore.match($rdf.sym(storeyitem.subject.value), ns.TAG(\"tag\"), null).forEach(item => {\n            if(item.object.value.includes(currentFloorTag) && currentFloorTag!=\"\"){\n              addToStores($rdf.sym(storeyitem.subject.value), ns.SIO(\"SIO_000202\"), room1uri);\n            }\n          });\n        });\n      }\n    },\n    async addAllStoreysToStores(modelID){\n\n    },\n    async getPolylineForSpace(modelID, spaceID, spaceName, spaceHeight){\n      let polyline = \"\";\n      const props = await ifcLoader.ifcManager.getItemProperties(modelID, spaceID);\n      const ObjectPlacement = await ifcLoader.ifcManager.getItemProperties(modelID, props.ObjectPlacement.value);\n      const PlacementRelTo = await ifcLoader.ifcManager.getItemProperties(modelID, ObjectPlacement.PlacementRelTo.value);\n      const RelativePlacement = await ifcLoader.ifcManager.getItemProperties(modelID, ObjectPlacement.RelativePlacement.value);\n      const Location = await ifcLoader.ifcManager.getItemProperties(modelID, RelativePlacement.Location.value);\n      const Axis = await ifcLoader.ifcManager.getItemProperties(modelID, RelativePlacement.Axis.value);\n      const RefDirection = await ifcLoader.ifcManager.getItemProperties(modelID, RelativePlacement.RefDirection.value);\n      const DirectionRatios = RefDirection.DirectionRatios;\n      const AxisDirectionRatios = Axis.DirectionRatios; // Mostly { 0, 0, 1 }\n      const coordinates = Location.Coordinates;\n\n      const Representation = await ifcLoader.ifcManager.getItemProperties(modelID, props.Representation.value);\n      const Representation1 = await ifcLoader.ifcManager.getItemProperties(modelID, Representation.Representations[1].value);\n      const FootPrint = await ifcLoader.ifcManager.getItemProperties(modelID, Representation1.Items[0].value);\n      const IfcPolyline = await ifcLoader.ifcManager.getItemProperties(modelID, FootPrint.Elements[0].value);\n\n      if(IfcPolyline.Segments!=undefined){\n        const Segments = IfcPolyline.Segments;\n        for(let s=0; s<Segments.length; s++){\n          const segment = await ifcLoader.ifcManager.getItemProperties(modelID, Segments[s].value);\n          const parentcurve = await ifcLoader.ifcManager.getItemProperties(modelID, segment.ParentCurve.value);\n          if(parentcurve.Points!=undefined){\n            // Partentcurve include a set of points\n            if(IfcPolyline.Points===undefined) IfcPolyline.Points = [];\n            parentcurve.Points.forEach(point => {\n              IfcPolyline.Points.push(point);\n            });\n          } else {\n            const BasisCurve = await ifcLoader.ifcManager.getItemProperties(modelID, parentcurve.BasisCurve.value);\n            //console.log(BasisCurve);\n          }\n        }\n      }\n\n      // Functionality to find rotation START ---------------------\n      let inRotation = { x:DirectionRatios[0].value, y:DirectionRatios[1].value, z:DirectionRatios[2].value };\n      if(!inRotation.x) inRotation = { x:DirectionRatios[0], y:DirectionRatios[1], z:DirectionRatios[2] };\n      let inAxis = { x: AxisDirectionRatios[0].value, y:AxisDirectionRatios[1].value, z:AxisDirectionRatios[2].value };\n      if(!inAxis.x) inAxis = { x: AxisDirectionRatios[0], y:AxisDirectionRatios[1], z:AxisDirectionRatios[2] };\n      const crossProduct = v.v3cross(inRotation, inAxis);\n      const myAxis = { x:0, y:-1, z:0 };\n\n      var angle = v.getAngleRadians(crossProduct.x, crossProduct.y, inRotation.x, inRotation.y);\n      var angle2 = v.getAngleRadians(inAxis.x, inAxis.y, myAxis.x, myAxis.y);\n      angle = (angle2-angle)+(Math.PI/4);\n      // Functionality to find rotation END ---------------------\n\n      const polyCoordinates = [];\n      if(IfcPolyline.Points){\n        for (var i = 0; i < IfcPolyline.Points.length; i++) {\n          const IfcCartesianPoint = await ifcLoader.ifcManager.getItemProperties(modelID, IfcPolyline.Points[i].value);\n          polyCoordinates.push(IfcCartesianPoint.Coordinates);\n        }\n\n        // Create string of polyline\n        var polyString = \"polyline;\"+encodeURI(spaceName)+\";\"+coordinates[0].value/1000+\";\"+coordinates[1].value/1000+\";\"+spaceHeight+\";2.9;[\"; // Includes x, y, z and height of room. Must set z and height dynamic\n\n        for (var i = 0; i < polyCoordinates.length; i++) {\n          var point1 = (polyCoordinates[i][0].value/1000);\n          var point2 = (polyCoordinates[i][1].value/1000);\n\n          const rotatedPoints = v.rotateRadians(0, 0, point1, point2, angle);\n          point1 = rotatedPoints[0];\n          point2 = rotatedPoints[1];\n\n          polyString = \"\"+polyString+point1+\",\"+point2+\",0\"; // Switches points because of current version, may need to change\n          if(i<polyCoordinates.length-1){\n            polyString = polyString+\",\";\n          }\n        }\n        polyString = polyString+\"]\";\n        //console.log(polyString);\n        return polyString;\n      } else {\n        return \"\";\n      }\n    },\n    async saveDoorToTrinpod(modelID, room1, room2, room1uri, room2uri, heightAboveGround, doorname, vx, vy, vz, locationTAG, sstoreyTAG, isLocked, expressID, globalID){\n      //console.log(\"Room URI: \"+room1uri);\n      //console.log(\"Room2 URI: \"+room2uri);\n      if(room1==undefined) room1 = \"Outdoor\";\n      if(room2==undefined) room2 = \"Outdoor\";\n\n      room1 = u.formatString(room1);\n      room2 = u.formatString(room2);\n      \n      let doorBlank = u.getBlankNode(\"Door \"+room1+\"-\"+room2)\n      let doorTAG = u.prettyTAG(locationTAG+sstoreyTAG+\".DØR.\"+room1+room2);\n      let doorTAG2 = u.prettyTAG(locationTAG+sstoreyTAG+\".DØR.\"+room2+room1);\n\n      // Check door exist - If so abort\n      if(this.roomsExistInTrinpod){\n        let roomSearch = await r.searchAndGetURIs(\"#\"+doorTAG+\"*\"); \n        let roomSearch2 = await r.searchAndGetURIs(\"#\"+doorTAG2+\"*\"); \n        if(roomSearch!=\"\"||roomSearch2!=\"\"){\n          console.log(\"Warning - Found duplicate door!!!!!!!!\");\n          return\n        }\n      }\n   \n      // Add triples related to door\n      addToStores(doorBlank, ns.RDF(\"type\"), ns.NEO(\"x_door\"));\n      addToStores(doorBlank, ns.TAG(\"tag\"), doorTAG);\n      addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(\"Door \"+room1+\"_\"+room2, 'en'));\n      addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(\"Dør \"+room1+\"_\"+room2, 'no'));\n      addToStores(doorBlank, ns.FOAF(\"name\"), $rdf.literal(doorname));\n      addToStores(doorBlank, ns.SIO(\"SIO_000507\"), $rdf.literal(\"(\"+vx+\") (\"+vy+\") (\"+vz+\")\")); // SIO_000507 is same as r.point\n      addToStores(doorBlank, ns.IFOUR(\"expressid\"), expressID);\n      addToStores(doorBlank, ns.IFOUR(\"globalid\"), globalID);\n      if(isLocked) addToStores(doorBlank, ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n      if(room1uri) addToStores($rdf.sym(room1uri), ns.NEO(\"m_port\"), $rdf.sym(doorBlank));\n      if(room2uri) addToStores($rdf.sym(room2uri), ns.NEO(\"m_port\"), $rdf.sym(doorBlank));\n\n      //ur.checkIfContainLoop(doorBlank.value, containsPortTypes);\n\n      // Add triples related to room - if room is blank node:\n      const room1exists = store.state.rs.rdfStore.match($rdf.sym(room1uri), ns.RDF(\"type\"), ns.BOT(\"Space\"))[0];\n      if(!room1exists && room1uri.value.includes(\"_:\")){\n        addToStores(room1uri, ns.RDF(\"type\"), ns.BOT(\"Space\"));\n        addToStores(room1uri, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room1, 'en'));\n        addToStores(room1uri, ns.RDFS(\"label\"), $rdf.literal(\"Rom \"+room1, 'no'));\n      }\n      const room2exists = store.state.rs.rdfStore.match($rdf.sym(room2uri), ns.RDF(\"type\"), ns.BOT(\"Space\"))[0];\n      if(!room2exists && room2uri.value.includes(\"_:\")){\n        addToStores(room2uri, ns.RDF(\"type\"), ns.BOT(\"Space\"));\n        addToStores(room2uri, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room2, 'en'));\n        addToStores(room2uri, ns.RDFS(\"label\"), $rdf.literal(\"Rom \"+room2, 'no'));\n      }\n      let doorloc = new Vector3(vx, vy+0.2, vz);\n      if(isLocked){\n        bmu.createPlaceMarker(doorloc, 0xFFFF00, false, 2, \"placemarker\", 0.16);\n      } else {\n        bmu.createPlaceMarker(doorloc, 0xFF0000, false, 2, \"placemarker\", 0.16);\n      }\n      \n      //ur.checkIfContainLoop(room1uri, containsTypes);\n    },\n    async saveDoorListToTrinpod(doorList, modelID){\n      let locationTAG = \"\";\n      for(const [key, value] of Object.entries(IFCmetadata)) {\n        if(key==\"tag\") locationTAG = value;\n      }\n      // First get the URI of rooms on both sides. Can compare room names and first 3 values of polyline to verify\n      for(let d=0; d<doorList.length; d++){\n        const doorItem = doorList[d];\n        let room1uri = \"\", room2uri = \"\";\n        if(this.roomsExistInTrinpod){\n          // If data is already stored in trinpod\n          room1uri = this.getRoomURIbyName(\"V131\");\n          room2uri = this.getRoomURIbyName(\"V135\");\n        } else {\n          // If only stored locally - When we only have IFC\n          room1uri = u.getBlankNode(doorItem.room1);\n          room2uri = u.getBlankNode(doorItem.room2);\n        }\n        if(room1uri===undefined || room2uri===undefined) throw new Error('Room URI not found');\n        await this.saveDoorToTrinpod(modelID, doorItem.room1, doorItem.room2, room1uri, room2uri, doorItem.heightaboveground, doorItem.name, doorItem.x, doorItem.y, doorItem.z, locationTAG, doorItem.storeytag, doorItem.islocked, doorItem.expressid, doorItem.globalid);\n      }\n      //await this.getCirclulationFromCSV();\n      var turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n      turtle = ur.modifyTurtle(turtle);\n      console.log(\"Turtle\");\n      console.log(turtle);\n    },\n    async generateOpeningCirculation(debugF=false){\n      console.log(\"Started finding space intersections.\");\n      this.loading = true;\n      const modelID = ifcModel.modelID;\n      const polyLines = [];\n      const storeys = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY);\n      for(let s=0; s<this.floorlist.length; s++){\n        if(this.floorsselected==this.floorlist[s]||this.floorsselected.length==0){ // Enabling only running for current storey if selected, or all storeys\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, storeys[s]);\n          const selectdStoreyHeightAboveGround = props.Elevation.value/1000;\n          store.state.rs.rdfStore.match(null, ns.IFOUR(\"m_polyline\"), null).forEach(poly => {\n            const splitted = poly.object.value.split(\";\");\n            const storeyHeight = parseFloat(splitted[4]);\n            const spaceHeight = parseFloat(splitted[5]);\n            if(bmu.checkIfMeshCrossStoreyLevel(selectdStoreyHeightAboveGround, storeyHeight, storeyHeight+spaceHeight)){\n              polyLines.push(poly.object.value);\n            }\n          });\n        }\n      }\n      if(debugF) console.log(\"Selected polylines:\");\n      if(debugF) console.log(polyLines);\n      const foundIntersections = bmu.findSpaceIntersections(polyLines, 0.5, true);\n      foundIntersections.forEach(intersect => {\n        this.spaceIntersections.push(intersect);\n      });\n      this.storeSpaceIntersections(foundIntersections, false);\n      await this.getIFCOpeningElements();\n      this.loading = false;\n      this.roomNumberProcess = 5;\n      console.log(\"Finished finding space intersections.\");\n    },\n    storeSpaceIntersections(foundIntersections, debugF=false){\n      foundIntersections.forEach(intersect => {\n        let room1uri = undefined;\n        let room2uri = undefined;\n        try{\n          room1uri = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+intersect.room1, 'en'))[0].subject.value;\n          room2uri = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+intersect.room2, 'en'))[0].subject.value;\n        } catch (error){}\n        if(room1uri && room2uri){\n          // Get or create parent space - Check for parent first\n          let parentSpaceURI = \"\";\n          if(store.state.rs.rdfStore.match($rdf.sym(room1uri), ns.DUL(\"hasPart\"), null)[0]){\n            parentSpaceURI = store.state.rs.rdfStore.match($rdf.sym(room1uri), ns.DUL(\"hasPart\"), null)[0].object.value;\n          }\n          if(store.state.rs.rdfStore.match($rdf.sym(room2uri), ns.DUL(\"hasPart\"), null)[0]){\n            parentSpaceURI = store.state.rs.rdfStore.match($rdf.sym(room2uri), ns.DUL(\"hasPart\"), null)[0].object.value;\n          }\n          if(parentSpaceURI==\"\") parentSpaceURI = u.getBlankNode(\"Parentspace \"+intersect.room1+\"-\"+intersect.room2)\n          addToStores($rdf.sym(parentSpaceURI), ns.DUL(\"hasPart\"), $rdf.sym(room1uri));\n          addToStores($rdf.sym(parentSpaceURI), ns.DUL(\"hasPart\"), $rdf.sym(room2uri));\n          addToStores($rdf.sym(room1uri), ns.NEO(\"m_join\"), $rdf.sym(room2uri));\n          if(this.lockedDoors.includes(intersect.room1)){\n            addToStores($rdf.sym(room1uri), ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n            bmu.createPlaceMarker(intersect.point, 0xFFFF00, false, 1);\n          } else if(this.lockedDoors.includes(intersect.room2)){\n            addToStores($rdf.sym(room2uri), ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n            bmu.createPlaceMarker(intersect.point, 0xFFFF00, false, 1);\n          } else {\n            bmu.createPlaceMarker(intersect.point, 0x000099, false, 1);\n          }\n          const interfaceBlank = u.getBlankNode(\"Interface_\"+intersect.room1+\"-\"+intersect.room2)\n          addToStores(interfaceBlank, ns.RDF(\"type\"), ns.IFOUR(\"InterfacePoint\"));\n          addToStores(interfaceBlank, ns.SIO(\"SIO_000507\"), $rdf.literal(\"(\"+intersect.point.x+\") (\"+intersect.point.y+\") (\"+intersect.point.z+\")\"));\n          addToStores($rdf.sym(room1uri), ns.IFOUR(\"hasInterfacePoint\"), interfaceBlank);\n          addToStores($rdf.sym(room2uri), ns.IFOUR(\"hasInterfacePoint\"), interfaceBlank);\n\n          if(debugF) console.log(\"Saving room1: \"+intersect.room1+\" and room2: \"+intersect.room2);\n          /*let intersectBlank = u.getBlankNode(\"Opening \"+intersect.room1+\"-\"+intersect.room2)\n          addToStores(intersectBlank, ns.RDF(\"type\"), ns.NEO(\"m_interface-point\"));\n          addToStores(intersectBlank, ns.RDFS(\"label\"), $rdf.literal(\"Opening \"+\" \"+intersect.room1+\"-\"+intersect.room2, 'en'));\n          addToStores(intersectBlank, ns.RDFS(\"label\"), $rdf.literal(\"Åpning \"+\" \"+intersect.room1+\"-\"+intersect.room2, 'no'));\n          addToStores(intersectBlank, ns.SIO(\"SIO_000507\"), $rdf.literal(\"(\"+intersect.point.x+\") (\"+intersect.point.y+\") (\"+intersect.point.z+\")\")); // SIO_000507 is same as r.point\n          if(room1uri) addToStores($rdf.sym(room1uri), ns.NEO(\"m_port\"), intersectBlank);\n          if(room2uri) addToStores($rdf.sym(room2uri), ns.NEO(\"m_port\"), intersectBlank);*/\n          if(debugF) this.setSpaceLabel(intersect.point, intersect.room1+\"-\"+intersect.room2);\n        } else {\n          if(debugF) console.log(\"Did not find room1: \"+intersect.room1+\" and room2: \"+intersect.room2);\n        }\n      });\n    },\n    async getSpacePolyline(spaceID){\n      const modelID = ifcModel.modelID;\n      const polyString = await this.getPolylineForSpace(modelID, spaceID, \"\", 1);\n      const polyLine = polyString.split(\";\")[6];\n      //console.log(\"Polyline: \"+polyLine);\n      //var p = polylabel([polyLine], 1.0);\n    },\n    async generateStoreyLevelCirculation(debugF=true){\n      // Must only be run if stairs and elevators have space for each storey floor.\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      console.log(\"IFC uri: \"+IFCuri);\n      const res = await window.solid.session.fetch(\n        IFCuri, {\n        method: \"GET\",\n        credentials: \"include\",\n      });\n      let filedata = await res.arrayBuffer();\n      let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n      //const ifcModel = await ifcLoader.loadAsync(fileurl);\n      if(!this.ifcmodelLoaded){\n        ifcModel = await ifcLoader.loadAsync(fileurl);\n        this.ifcmodelLoaded = true;\n      }\n      const modelID = ifcModel.modelID;\n\n      //await this.generateDoorCirculation();\n\n      // Start iteration of 2 and 2 storeys\n      //for(let i=0; i<=this.floorheights.length-1; i++){\n      //for(let i=0; i<=3; i++){ // Only first step\n        //this.showAllRooms();\n      const spaces = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSPACE);\n        //store.state.rs.rdfStore.match(null, ns.IFOUR(\"roomhag\"), null).forEach(st => {\n        for(let s=0; s<=spaces.length; s++){\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, spaces[s]);\n          let spaceName = \"room\"+spaces[s];\n          //spaceName = store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDFS(\"label\"), null)[0].object.value;\n          if(!props) continue;\n          if(props.Name){\n            spaceName = props.Name.value;\n          }\n          spaceName = spaceName.replace(\"Room \", \"\");\n          spaceName = u.hexToString(spaceName);\n          let spaceMesh = store.state.bv.scene.getObjectByName(spaceName);\n\n          // Also check if height of space mesh is same as distance between storey levels - If space does not have same height all over\n          /*const storeyHeight = this.floorheights[i+1]-this.floorheights[i];\n          const spaceMeshHeight = this.getMeshHeight(spaceMesh);\n          if(storeyHeight==spaceMeshHeight){\n            // Found space with possible interaction with space above\n          }*/\n\n          if(spaceMesh){\n            // Raycast upwards and check for 0 distance\n            //console.log(\"Yay: Did find spacemesh...\");\n            const location = bmu.getMeshCenterPointTop(spaceMesh);\n            let meshHeight = this.getMeshHeight(spaceMesh);\n            //if(debugF) bmu.createPlaceMarker(location, 0x0066FF);\n            //if(debugF) bmu.createVisibleVector(location, new Vector3(0,1,0), 0xFF6666, 1);\n            if(meshHeight>=2.91){\n              if(debugF) bmu.createPlaceMarker(location.clone(), 0xFF0000, false, 1);\n              const direction = new Vector3(0,1,0);\n              const intersects = bmu.raycastUsingVector(location.clone(), direction);\n              let inters = intersects[1];\n              if(inters){\n                if(!inters.object) inters = intersects[2];\n                if(inters.object.name==\"placemarker\"||inters.object.name==spaceName) inters = intersects[2];\n                try{\n                  const spaceName2 = inters.object.name;\n                  console.log(\"Room1: \"+spaceName+\" Room2: \"+spaceName2)\n                  const typeName = await this.getStairShaftOrElevator(spaces[s], spaceName, spaceName2);\n                  //console.log(buildingbox.matrixWorld.elements.toString());\n                  if(buildingbox.matrixWorld.elements[2]>0){\n                    await bmu.createLabelWithType(location.applyMatrix4(buildingbox.matrixWorld), \"\"+typeName, spaceName+\" : \"+spaceName2);\n                  } else {\n                    await bmu.createLabelWithType(location.applyMatrix4(buildingbox.matrixWorld.invert()), \"\"+typeName, spaceName+\" : \"+spaceName2);\n                  }\n                  const space1URI = this.getRoomURIbyName(spaceName);\n                  const space2URI = this.getRoomURIbyName(spaceName2);\n                  if(spaceName==spaceName2) continue;\n                  if(typeName==\"Stair\"){\n                    // Should classify space in addition to setting join\n                    addToStores($rdf.sym(space1URI), ns.NEO(\"m_join\"), $rdf.sym(space2URI));\n                    addToStores($rdf.sym(space1URI), ns.NEO(\"b_capable\"), ns.SBEO(\"VerticalPassage\"));\n                    addToStores($rdf.sym(space2URI), ns.NEO(\"b_capable\"), ns.SBEO(\"VerticalPassage\"));\n                    addToStores($rdf.sym(space1URI), ns.RDF(\"type\"), ns.SEAS(\"Stairs\"));\n                    addToStores($rdf.sym(space2URI), ns.RDF(\"type\"), ns.SEAS(\"Stairs\"));\n                  }\n                  if(typeName==\"Shaft\"){\n                    addToStores($rdf.sym(space1URI), ns.NEO(\"m_join\"), $rdf.sym(space2URI)); // Must be removed when classification works\n                  }\n                  if(typeName==\"Elevator\"){\n                    addToStores($rdf.sym(space1URI), ns.NEO(\"m_join\"), $rdf.sym(space2URI));\n                    addToStores($rdf.sym(space1URI), ns.NEO(\"b_capable\"), ns.SBEO(\"VerticalPassage\"));\n                    addToStores($rdf.sym(space2URI), ns.NEO(\"b_capable\"), ns.SBEO(\"VerticalPassage\"));\n                    addToStores($rdf.sym(space1URI), ns.RDF(\"type\"), ns.SEAS(\"Elevator\"));\n                    addToStores($rdf.sym(space2URI), ns.RDF(\"type\"), ns.SEAS(\"Elevator\"));\n                  }\n                } catch (error){ console.log(error); }\n                this.createLockedDoorList();\n                this.RENDER();\n              }\n            }\n            /*\n            const direction = new Vector3(0,1,0);\n            const intersects = bmu.raycastUsingVector(location, direction);\n            const inters = intersects[0];\n            if(inters){\n              if(inters.distance == 0) {\n                if(debugF) bmu.createPlaceMarker(loc, 0xFF0000);\n                console.log(\"Distance to space above: \"+inters.distance);\n              } else {\n                console.log(\"Distance is not 0\")\n              }\n            }\n            */\n\n          } else {\n            console.log(\"Warning: Did not find space mesh: \"+spaceName);\n          }\n        }\n      //}\n    },\n    async getStairShaftOrElevator(spaceID1, spaceName1, spaceName2){\n      //let spaceMesh = store.state.bv.scene.getObjectByName(spaceName1);\n      let returnvalue = \"Shaft\";\n      let stairW = 0, shaftW = 0, elevatorW = 0;\n      let spaceHAG = 0;\n\n      const modelID = ifcModel.modelID;\n      const polyString = await this.getPolylineForSpace(modelID, spaceID1, \"\", 1);\n      const calculatedArea = bmu.trinagulateAndCalculateArea(polyString);\n      if(calculatedArea>8) stairW = stairW+2;\n      if(5<calculatedArea<8) elevatorW = elevatorW+1;\n      if(calculatedArea<5) shaftW = shaftW+5;\n\n      const spaceURI = this.getRoomURIbyName(spaceName1);\n      spaceHAG =  store.state.rs.rdfStore.match($rdf.sym(spaceURI), ns.IFOUR(\"roomhag\"), null)[0].object.value;\n      console.log(\"SPACE URI: \"+spaceURI+\" Name: \"+spaceName1);\n      console.log(\"Calculated area: \"+calculatedArea);\n      const doorArray = this.getDoorsInSpace(spaceURI);\n      console.log(doorArray);\n      doorArray.forEach(door => {\n        if(door.type==\"Door\") stairW = stairW+2;\n        if(door.nextroomhag==spaceHAG){ // Exclude joins to other levels\n          console.log(\"Found door: \"+door.type);\n          if(door.type==\"Join\") elevatorW = elevatorW+2;\n          shaftW = shaftW-2;\n        }\n      });\n\n      /*if(store.state.rs.rdfStore.match($rdf.sym(spaceURI), ns.NEO(\"m_join\"), null)[0]){\n        console.log(\"Found join..\")\n        elevatorW = elevatorW + 2;\n        shaftW = shaftW-1;\n      }\n      if(store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(spaceURI))[0]){\n        console.log(\"Found join..\")\n        elevatorW = elevatorW + 2;\n        shaftW = shaftW-1;\n      } */\n      console.log(\"Shaft: \"+shaftW+\" Stair: \"+ stairW+\" Elevator: \"+elevatorW);\n      if(stairW >= shaftW && stairW >= elevatorW) returnvalue = \"Stair\";\n      if(shaftW >= stairW && shaftW >= elevatorW) returnvalue = \"Shaft\";\n      if(elevatorW >= shaftW && elevatorW >= stairW) returnvalue = \"Elevator\";\n      console.log(\"Set to: \"+returnvalue);\n      return returnvalue;\n    },\n    async generateDoorCirculation(){ \n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const container = document.createElement('div');\n      IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n\n      const doorList = [];\n\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      //console.log(\"IFC uri: \"+IFCuri);\n      const res = await window.solid.session.fetch(\n        IFCuri, {\n        method: \"GET\",\n        credentials: \"include\",\n      });\n      console.log(res);\n      let filedata = await res.arrayBuffer();\n      let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n      //const ifcModel = await ifcLoader.loadAsync(fileurl);\n      if(!this.ifcmodelLoaded){\n        ifcModel = await ifcLoader.loadAsync(fileurl);\n        this.ifcmodelLoaded = true;\n      }\n      const modelID = ifcModel.modelID;\n      const doorIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCDOOR);\n      const doorMeshes = ifcu.getAllSubsetMeshes(doorIDs, modelID, ifcLoader);\n\n      //await this.getRoomZonesFromStorey(modelID, {x:0,y:heightAboveGround,z:0});\n      await this.getRoomZones(modelID, buildingbox);\n\n      let sstoreyTAG = \"\";\n      const storeys = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY);\n      const storeysMatched = [];\n      for(let s=0; s<this.floorlist.length; s++){\n        if(this.floorsselected==this.floorlist[s]||this.floorsselected.length==0){ // Enabling only running for current storey if selected, or all storeys\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, storeys[s]);\n          for(const [key, value] of Object.entries(IFCmetadata.storeys)) {\n            if(value==props.Name.value) sstoreyTAG = key;\n          }\n          const selectdStoreyHeightAboveGround = props.Elevation.value/1000;\n          console.log(\"selectdStoreyHeightAboveGround: \"+selectdStoreyHeightAboveGround);\n          //for(let j=428; j<429; j++){\n          for(let j=0; j<doorIDs.length-1; j++){\n            const location = bmu.getMeshCenterPoint(doorMeshes[j]);\n            const heightAboveGround = bmu.getMeshHeightAboveGround(doorMeshes[j]).min;\n            location.y = heightAboveGround;\n            if(approximatelyEqual(selectdStoreyHeightAboveGround, heightAboveGround, 0.5)){ // Take in consideration that it can be slight difference in height\n              const foundRooms = await this.getRoomZonesOnEachSideOfDoor(modelID, doorIDs[j], location);\n              const props = await ifcLoader.ifcManager.getItemProperties(modelID, doorIDs[j]);\n              //console.log(\"Door: \"+j);\n              let doorLocked = false;\n              if(this.lockedDoors.includes(doorIDs[j])) doorLocked = true;\n              let doorName = u.formatString(props.Name.value);\n              doorList.push({ \"room1\": foundRooms[0], \"room2\": foundRooms[1], \"x\": location.x, \"y\": location.y, \"z\": location.z, \"storeytag\": sstoreyTAG, \"heightaboveground\": heightAboveGround, \"ifcid\": props.GlobalId.value, \"expressid\": props.expressID, \"globalid\": props.GlobalId.value, \"name\": doorName, \"width\": props.OverallWidth.value, \"height\": props.OverallHeight.value, \"objecttype\": props.ObjectType.value, \"doorid\": doorIDs[j], \"islocked\": doorLocked });\n            }\n          }\n        }\n      }\n\n      console.log(doorList);\n      await this.addAllRoomsToStores(modelID);\n      await this.saveDoorListToTrinpod(doorList, modelID);\n      \n      this.ifcloading = false;\n      this.roomNumberProcess = 4;\n      /*try{\n        const room1 = $rdf.literal(\"Room \"+doorList[3].room1, 'en');\n        const room2 = $rdf.literal(\"Room \"+doorList[20].room1, 'en');\n        console.log(\"Room1: \"+doorList[3].room1);\n        console.log(\"Room2: \"+doorList[20].room1);\n        wf.methods.wayBetweenRooms(room1, room2);\n      } catch (error){}*/\n    },\n /*   async showDoorMarkers(){ \n      IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n      const modelID = ifcModel.modelID;\n      const doorIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCDOOR);\n      const doorMeshes = ifcu.getAllSubsetMeshes(doorIDs, modelID, ifcLoader);\n      let sstoreyTAG = \"\";\n      const storeys = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY);\n      const storeysMatched = [];\n      const polyLines = [];\n      for(let s=0; s<this.floorlist.length; s++){\n        if(this.floorsselected==this.floorlist[s]||this.floorsselected.length==0){ // Enabling only running for current storey if selected, or all storeys\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, storeys[s]);\n          const selectdStoreyHeightAboveGround = props.Elevation.value/1000;\n          for(let j=0; j<doorIDs.length-1; j++){\n            const location = bmu.getMeshCenterPoint(doorMeshes[j]);\n            const heightAboveGround = bmu.getMeshHeightAboveGround(doorMeshes[j]).min;\n            location.y = heightAboveGround;\n            if(approximatelyEqual(selectdStoreyHeightAboveGround, heightAboveGround, 0.5)){\n              let doorLocked = false;\n              if(this.lockedDoors.includes(doorIDs[j])) doorLocked = true;\n              if(doorLocked){\n                bmu.createPlaceMarker(location.clone(), 0xFFFF00, false, 5, \"placemarker\"+doorIDs[j]);\n              } else {\n                bmu.createPlaceMarker(location.clone(), 0xFFFF00, false, 5, \"placemarker\"+doorIDs[j]);\n              }\n            }\n          }\n          store.state.rs.rdfStore.match(null, ns.IFOUR(\"m_polyline\"), null).forEach(poly => {\n            const splitted = poly.object.value.split(\";\");\n            const storeyHeight = parseFloat(splitted[4]);\n            const spaceHeight = parseFloat(splitted[5]);\n            if(bmu.checkIfMeshCrossStoreyLevel(selectdStoreyHeightAboveGround, storeyHeight, storeyHeight+spaceHeight)){\n              polyLines.push(poly.object.value);\n            }\n          });\n        }\n      }\n\n      console.log(\"Showing marker for intersections.\");\n      const foundIntersections = bmu.findSpaceIntersections(polyLines, 0.5, true);\n      foundIntersections.forEach(intersect => {\n        this.spaceIntersections.push(intersect);\n      });\n      this.getIFCOpeningElements(true);\n      foundIntersections.forEach(intersect => {\n        let room1uri = undefined;\n        let room2uri = undefined;\n        try{\n          room1uri = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+intersect.room1, 'en'))[0].subject.value;\n          room2uri = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+intersect.room2, 'en'))[0].subject.value;\n        } catch (error){}\n        if(room1uri && room2uri){\n          // Get or create parent space - Check for parent first\n          let parentSpaceURI = \"\";\n          if(store.state.rs.rdfStore.match($rdf.sym(room1uri), ns.DUL(\"hasPart\"), null)[0]){\n            parentSpaceURI = store.state.rs.rdfStore.match($rdf.sym(room1uri), ns.DUL(\"hasPart\"), null)[0].object.value;\n          }\n          if(store.state.rs.rdfStore.match($rdf.sym(room2uri), ns.DUL(\"hasPart\"), null)[0]){\n            parentSpaceURI = store.state.rs.rdfStore.match($rdf.sym(room2uri), ns.DUL(\"hasPart\"), null)[0].object.value;\n          }\n          if(parentSpaceURI==\"\") parentSpaceURI = u.getBlankNode(\"Parentspace \"+intersect.room1+\"-\"+intersect.room2)\n          if(this.lockedDoors.includes(intersect.room1)){\n            bmu.createPlaceMarker(intersect.point, 0xFFFF00, false, 1);\n          } else if(this.lockedDoors.includes(intersect.room2)){\n            bmu.createPlaceMarker(intersect.point, 0xFFFF00, false, 1);\n          } else {\n            bmu.createPlaceMarker(intersect.point, 0x000099, false, 1);\n          }\n        }\n      });\n    },*/\n    async showDoorMarkers2(){ \n      // Finding storey height above ground to make filter\n      let selectdStoreyHeightAboveGround = 0;\n      const polyLines = [];\n      const modelID = ifcModel.modelID;\n      const storeys = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY);\n      for(let s=0; s<this.floorlist.length; s++){\n        if(this.floorsselected==this.floorlist[s]||this.floorsselected.length==0){\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, storeys[s]);\n          selectdStoreyHeightAboveGround = props.Elevation.value/1000;\n        }\n      }\n      // List all intersection points from \n      const doorURIlist = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.NEO(\"x_door\"));\n      for(let i=0; i<doorURIlist.length; i++){\n        const doorPosition = this.getDoorPosition(doorURIlist[i].subject.value);\n        if(approximatelyEqual(selectdStoreyHeightAboveGround, doorPosition.y, 0.5)){\n          let doorExpressID = \"\";\n          if(store.state.rs.rdfStore.match($rdf.sym(doorURIlist[i].subject.value), ns.IFOUR(\"expressid\"), null)[0]) doorExpressID = store.state.rs.rdfStore.match($rdf.sym(doorURIlist[i].subject.value), ns.IFOUR(\"expressid\"), null)[0].object.value;\n          bmu.createPlaceMarker(doorPosition, 0xFF0000, false, 2, \"placemarker\"+doorExpressID, 0.16);\n        }\n      }\n      const interfacePointList = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.IFOUR(\"InterfacePoint\"));\n      for(let i=0; i<interfacePointList.length; i++){\n        const interfacePosition = this.getDoorPosition(interfacePointList[i].subject.value);\n        if(approximatelyEqual(selectdStoreyHeightAboveGround, interfacePosition.y, 0.5)){\n          store.state.rs.rdfStore.match(null, ns.IFOUR(\"hasInterfacePoint\"), $rdf.sym(interfacePointList[i].subject.value)).forEach(space => {\n            const roomName = this.getRoomNamebyURI(space.subject.value);\n            if(this.lockedDoors.includes(roomName)){\n              addToStores($rdf.sym(space.subject.value), ns.IFOUR(\"islocked\"), $rdf.literal(\"yes\"));\n              bmu.createPlaceMarker(interfacePosition, 0xFFFF00, false, 3, \"placemarker\", 0.3);\n            } else {\n              bmu.createPlaceMarker(interfacePosition, 0x000099, false, 2);\n            }\n          });\n        }\n      }\n\n      // Populate space intersections\n      if(this.spaceIntersections.length<4){\n        store.state.rs.rdfStore.match(null, ns.IFOUR(\"m_polyline\"), null).forEach(poly => {\n          const splitted = poly.object.value.split(\";\");\n          const storeyHeight = parseFloat(splitted[4]);\n          const spaceHeight = parseFloat(splitted[5]);\n          if(bmu.checkIfMeshCrossStoreyLevel(selectdStoreyHeightAboveGround, storeyHeight, storeyHeight+spaceHeight)){\n            polyLines.push(poly.object.value);\n          }\n        });\n\n        const foundIntersections = bmu.findSpaceIntersections(polyLines, 0.5, true);\n        foundIntersections.forEach(intersect => {\n          this.spaceIntersections.push(intersect);\n        });\n      }\n\n      store.state.bv.needsrender = true;\n    },\n    /*async getStairsAndElevators(){\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      if(!this.ifcmodelLoaded){\n        ifcModel = await ifcLoader.loadAsync(IFCuri);\n        this.ifcmodelLoaded = true;\n      }\n      const modelID = ifcModel.modelID;\n      const elements = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSPACE);\n      console.log(\"Elements:\")\n      console.log(elements);\n\n    },*/\n    storeNewRoomNumbers(){\n      \n    },\n    async getCirclulationFromCSV(){\n      let csvFile = await ifcu.getCirculationCSV(this.$route.query.location);\n      var allTextLines = csvFile.split(/\\r\\n|\\n/);\n      var headers = allTextLines[0].split(';');\n      var lines = [];\n\n      for(var i=1; i<allTextLines.length; i++) {\n        if(allTextLines[i]==\"<html>\") break;\n          var data = allTextLines[i].split(';');\n          if (data.length == headers.length) {\n              var tarr = [];\n              for (var j=0; j<headers.length; j++) {\n                  tarr.push(data[j]);\n              }\n              lines.push(tarr);\n          }\n      }\n      console.log(lines);\n      for (var i=1; i<lines.length; i++) {\n        const room1 = lines[i][0];\n        const room2 = lines[i][1];\n        const room1uri = this.getRoomURIbyName(room1);\n        const room2uri = this.getRoomURIbyName(room2);\n        const interfaceType = lines[i][2]+\" \";\n        let doorBlank = u.getBlankNode(interfaceType+room1+\"-\"+room2)\n        // Add triples related to interface_point\n        addToStores(doorBlank, ns.RDF(\"type\"), ns.NEO(\"m_interface-point\"));\n        //addToStores(doorBlank, ns.TAG(\"tag\"), doorTAG);\n        addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(interfaceType+room1+\"-\"+room2, 'en'));\n        addToStores(doorBlank, ns.RDFS(\"label\"), $rdf.literal(interfaceType+room1+\"-\"+room2, 'no'));\n        if(room1uri) addToStores($rdf.sym(room1uri), ns.NEO(\"m_port\"), $rdf.sym(doorBlank));\n        if(room2uri) addToStores($rdf.sym(room2uri), ns.NEO(\"m_port\"), $rdf.sym(doorBlank));\n      }\n    },\n    async getRoomZonesOnEachSideOfDoor(modelID, doorID=0, location, debugF=false){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      let unnamedRoom = false;\n      let doorCenterDistance = 0.8;\n      if(doorID){\n        const props = await ifcLoader.ifcManager.getItemProperties(modelID, doorID);\n        const doorWidth = props.OverallWidth.value;\n        doorCenterDistance = doorWidth/1600;\n      }\n      //const doorCenterDistance = 2.7;\n      let foundRooms = [];\n      const loc = location.clone()\n      loc.y = loc.y+1;\n      let retryCount = 0;\n      do{\n        // Do adjustments on second try\n        if(retryCount==1){\n          console.log(\"Second attempt to find rooms...\"+doorCenterDistance)\n          if(foundRooms.length>2) foundRooms = [];\n          if(foundRooms.length<2){\n            doorCenterDistance=0.5;\n          } else {\n            doorCenterDistance=doorCenterDistance/2;\n          }\n          //debugF = true;\n        }\n\n        const firstOffsetPoint = new Vector3(doorCenterDistance, 0, 0); // Can change the number value to change radius of circle\n        const firstPointOnCircle = loc.clone().add(firstOffsetPoint);\n        const direction = v.v3subtract(loc, firstPointOnCircle); // Creating vector pointing to center of door\n        if(debugF) bmu.createVisibleVector(firstPointOnCircle, direction, 0xFF0000);\n        if(debugF) bmu.createPlaceMarker(firstPointOnCircle.clone(), 0x00FF00);\n\n        // Finding the intersects for the first point to circle\n        const intersects = bmu.raycastUsingVectorDir(firstPointOnCircle, direction);\n        if(debugF) bmu.createVisibleVector(firstPointOnCircle, direction, 0xFF0000);\n        const intersectsCombined = [];\n        intersects.forEach(inters => {\n          intersectsCombined.push(inters);\n          if(inters.distance <= (doorCenterDistance)) {\n            const roomname = inters.object.name;\n            if(debugF) bmu.createPlaceMarker(inters.point, 0x0066FF); // For verifying where ray hits\n            if(debugF) console.log(\"Room name: \"+roomname+\" Distance: \"+inters.distance);\n            if(!foundRooms.includes(roomname) && roomname!=\"\" &&  !roomname.includes(\"placemarker\")){\n              //if(foundRooms.length==2) return;\n              foundRooms.push(roomname);\n            } \n            if(roomname==\"\") unnamedRoom = true;\n          }\n        });\n      \n        // Do room checks for each 45 degrees while rotating around door\n        const axis = new Vector3(0, 1, 0);\n        const angle = Math.PI/3;\n        for(let i=0; i<=4; i++){\n          const currentCheckPoint = loc.clone().add(firstOffsetPoint.applyAxisAngle(axis, angle));\n          if(debugF) bmu.createPlaceMarker(currentCheckPoint, 0x0000FF);\n          const direction = v.v3subtract(loc, currentCheckPoint).normalize(); // Creating vector pointing to center of door\n          if(debugF) bmu.createVisibleVector(currentCheckPoint, direction, 0xFF9900);\n          const intersects2 = bmu.raycastUsingVectorDir(currentCheckPoint, direction);\n          if(debugF) console.log(\"Intersects\")\n          if(debugF) console.log(intersects2)\n          intersects2.forEach(inters => {\n            intersectsCombined.push(inters);\n            if(inters.distance <= (doorCenterDistance)) {\n              const roomname = inters.object.name;\n              //if(debugF) bmu.createPlaceMarker(inters.point, 0x0066FF); // For verifying where ray hits\n              //if(debugF) console.log(\"Room name: \"+roomname+\" Distance: \"+inters.distance);\n              if(!foundRooms.includes(roomname) && roomname!=\"\" && !roomname.includes(\"placemarker\")){\n                //if(foundRooms.length==2) return;\n                foundRooms.push(roomname);\n              }\n              if(roomname==\"\" || !roomname) unnamedRoom = true;\n            }\n          });\n        }\n\n        // Try a second time if too many neihgbour rooms was found\n        debugF = false;\n        retryCount = retryCount+2;\n        if(foundRooms.length!=2){\n          retryCount = retryCount-1;\n        }\n      } while (retryCount < 2) // Trying to run the function with smaller check radius\n      // Debugging +++++\n      //bmu.panToFocusObject(location.x, location.z);\n      //alert(\"Moved to point.\");\n      // Debugging -----\n      if(debugF) console.log(\"Number of rooms: \"+foundRooms.length);\n      if(foundRooms.length>2){\n        foundRooms.forEach(roomn => {\n          console.log(roomn);\n        });\n      }\n      if(foundRooms.length!=2){\n        bmu.createPlaceMarker(loc, 0xFF2200, false, 1, \"placemarker\");\n        let issueText = \"Issue:\"+foundRooms.length;\n        if(foundRooms.length>=3) issueText = foundRooms[0]+\":\"+foundRooms[1];\n        if(unnamedRoom) issueText = issueText.replace(\"Issue\", \"Unnamed\");\n        bmu.createSimpleLabel(loc.applyMatrix4(buildingbox.matrixWorld), issueText);\n        let issueAlreadyFound = false;\n        this.doorIssueTableList.forEach(issue => {\n          if(issue.doorid==doorID) issueAlreadyFound = true;\n        });\n        if(!issueAlreadyFound) this.doorIssueTableList.push(JSON.parse('{\"doorid\":\"'+doorID+'\",\"room1\":\"'+encodeURI(foundRooms[0])+'\",\"room2\":\"'+encodeURI(foundRooms[1])+'\"}'));\n      }\n      return foundRooms;\n    },\n    /*async getRoomZonesFromStorey(modelID, position={x:0,y:0,z:0}){\n      bmu.unloadGeometryUsingTag(store.state.currentBuildingTag+, [\"BUILDING\"]);\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      \n\n      const spaceIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSPACE);\n      const spaceMeshes = ifcu.getAllSubsetMeshes(spaceIDs, modelID, ifcLoader);\n      let roomSpaceArray = [];\n      for(let i = 0; i<=spaceIDs.length-1; i++){\n        //console.log(spaceMeshes[i]);\n        roomSpaceArray.push({expressID: spaceIDs[i], elementID: spaceMeshes[i].id });\n      }\n\n      const material = new MeshLambertMaterial({\n        transparent: true,\n        opacity: 0.5,\n        color: 0xaaaaff,\n        depthTest: true\n      });\n\n      // Function for getting lowest heightAboveGround and remove spaces from other storeys\n      for(let i = 0; i<=spaceMeshes.length-2; i++){\n        let heightAboveGround = bmu.getMeshHeightAboveGround(spaceMeshes[i]).min;\n        //console.log(heightAboveGround);\n        if(heightAboveGround!=position.y){\n          roomSpaceArray.forEach(element => {\n            if(element.elementID==spaceMeshes[i].id){\n              a.removeValueFromArray(spaceIDs, element.expressID);\n            }\n          });\n        } else {\n          const props = await ifcLoader.ifcManager.getItemProperties(modelID, spaceIDs[i]);\n          const roomMesh = ifcu.getAllSubsetMeshes([spaceIDs[i]], modelID, ifcLoader)[0];\n          roomMesh.material = material.clone();\n          roomMesh.material.side = DoubleSide; // Must have doubleside for making the raycaster work - Espen.\n          if(props.Name){\n            roomMesh.name = props.Name.value;\n            if(store.state.bv.scene.getObjectByName(props.Name.value)) return; // Do not draw rooms if already exist.\n          }\n          roomMesh.updateMatrixWorld();\n          buildingbox.add(roomMesh);\n        }\n      }\n      this.RENDER();\n    },*/\n    async getRoomZones(modelID, buildingbox){\n      const spaceIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCSPACE);\n      const spaceMeshes = ifcu.getAllSubsetMeshes(spaceIDs, modelID, ifcLoader);\n      let roomSpaceArray = [];\n      for(let i=0; i<spaceIDs.length; i++){\n        //console.log(spaceMeshes[i]);\n        roomSpaceArray.push({expressID: spaceIDs[i], elementID: spaceMeshes[i].id });\n      }\n\n      const material = new MeshLambertMaterial({\n        transparent: true,\n        opacity: 0.5,\n        color: 0xaaaaff,\n        depthTest: true\n      });\n\n      for(let i=0; i<spaceMeshes.length; i++){\n        const props = await ifcLoader.ifcManager.getItemProperties(modelID, spaceIDs[i]);\n        const roomMesh = ifcu.getAllSubsetMeshes([spaceIDs[i]], modelID, ifcLoader)[0];\n        roomMesh.material = material.clone();\n        roomMesh.material.side = DoubleSide; // Must have doubleside for making the raycaster work - Espen.\n        if(props.Name){\n          roomMesh.name = u.formatString(props.Name.value);\n          if(roomMesh.name==\"\") roomMesh.name = \"room\"+spaceIDs[i];\n        } else {\n          roomMesh.name = \"room\"+spaceIDs[i];\n        }\n        roomMesh.updateMatrixWorld();\n        buildingbox.add(roomMesh);\n        this.getSpacePolyline(spaceIDs[i]);\n      }\n\n      // Show only selected floors\n      if(this.floorsselected.length>0){\n        for(let i=0; i<this.floorlist.length; i++){\n          if(this.floorsselected==this.floorlist[i]){\n            console.log(\"Floor height: \"+this.floorheights[i])\n            this.showRoomsForStorey(this.floorheights[i]);\n          }\n        }\n      }\n\n      this.RENDER();\n    },\n    getMeshHeight(mesh){\n      let minZ = 100000, maxZ = -100000;\n      for(let y = 1; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n        maxZ = Math.max(mesh.geometry.attributes.position.array[y], maxZ);\n        minZ = Math.min(mesh.geometry.attributes.position.array[y], minZ);\n      }\n      return maxZ-minZ;\n    },\n    async getIFCElementDimentions(expressID, modelID, debugF=false){\n        const spaceProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n        const positionProperties = await ifcLoader.ifcManager.getItemProperties(modelID, spaceProperties.ObjectPlacement.value);\n        if(debugF) console.log(\"positionProperties\");\n        if(debugF) console.log(positionProperties)\n        const representation = await ifcLoader.ifcManager.getItemProperties(modelID, spaceProperties.Representation.value);\n        if(debugF) console.log(\"representation\");\n        if(debugF) console.log(representation)\n        const representations = await ifcLoader.ifcManager.getItemProperties(modelID, representation.Representations[0].value);\n        if(debugF) console.log(\"representations\");\n        if(debugF) console.log(representations)\n        const items = await ifcLoader.ifcManager.getItemProperties(modelID, representations.Items[0].value);\n        if(debugF) console.log(\"items\");\n        if(debugF) console.log(items)\n        let depth = 0;\n        let xDim = 0;\n        let yDim = 0;\n        if(items.Depth){\n          depth = items.Depth.value;\n          if(debugF) console.log(\"Depth: \"+depth);\n          if(items.SweptArea){\n            const SweptArea = await ifcLoader.ifcManager.getItemProperties(modelID, items.SweptArea.value);\n            if(debugF) console.log(\"SweptArea\");\n            if(debugF) console.log(SweptArea)\n            if(SweptArea.XDim) xDim = SweptArea.XDim.value;\n            if(debugF) console.log(\"xDim: \"+xDim);\n            if(SweptArea.YDim) yDim = SweptArea.YDim.value;\n            if(debugF) console.log(\"yDim: \"+yDim);\n          }\n        }\n        return {x: xDim, y: yDim, z: depth};\n    },\n    async getIFCElementPosition(expressID, modelID, myAxis={x:0,y:-1,z:0}){\n        const spaceProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n        const positionProperties = await ifcLoader.ifcManager.getItemProperties(modelID, spaceProperties.ObjectPlacement.value);\n        const relativePlacement = await ifcLoader.ifcManager.getItemProperties(modelID, positionProperties.RelativePlacement.value);\n        const location = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.Location.value);\n        const ifcAxis = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.Axis.value);\n        const refDirection = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.RefDirection.value);\n        const directionRatios = refDirection.DirectionRatios;\n        const axisDirectionRatios = ifcAxis.DirectionRatios;\n        const coordinates = location.Coordinates;\n        var point1 = (coordinates[0].value/1000);\n        var point2 = (coordinates[1].value/1000);\n        var point3 = (coordinates[2].value/1000);\n        // Functionality to find rotation START ---------------------\n        let inRotation = { x:directionRatios[0].value, y:directionRatios[1].value, z:directionRatios[2].value };\n        if(!inRotation.x) inRotation = { x:directionRatios[0], y:directionRatios[1], z:directionRatios[2] };\n        let inAxis = { x: axisDirectionRatios[0].value, y:axisDirectionRatios[1].value, z:axisDirectionRatios[2].value };\n        if(!inAxis.x) inAxis = { x: axisDirectionRatios[0], y:axisDirectionRatios[1], z:axisDirectionRatios[2] };\n        const crossProduct = ifcu.v3cross(inRotation, inAxis);\n\n        var angle = ifcu.getAngleRadians(crossProduct.x, crossProduct.y, inRotation.x, inRotation.y);\n        var angle2 = ifcu.getAngleRadians(inAxis.x, inAxis.y, myAxis.x, myAxis.y);\n        angle = (angle2-angle)+(Math.PI/4);\n        //console.log(\"Angle: \"+angle);\n        // Functionality to find rotation END ---------------------\n        return {x: point1, y: point2, z: point3, rot:inRotation};\n    },\n    async getIFCElementLocationTranslated(expressID, modelID, myAxis={x:0,y:-1,z:0}){\n        const spaceProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n        const positionProperties = await ifcLoader.ifcManager.getItemProperties(modelID, spaceProperties.ObjectPlacement.value);\n        const relativePlacement = await ifcLoader.ifcManager.getItemProperties(modelID, positionProperties.RelativePlacement.value);\n        //const PlacementRelTo = await ifcLoader.ifcManager.getItemProperties(modelID, positionProperties.PlacementRelTo.value);\n        //console.log(\"PlacementRelTo:\")\n        //console.log(PlacementRelTo);\n        //const relToRelativePlacement = await ifcLoader.ifcManager.getItemProperties(modelID, PlacementRelTo.RelativePlacement.value);\n        //const relToLocation = await ifcLoader.ifcManager.getItemProperties(modelID, relToRelativePlacement.Location.value);\n        //const relTocoordinates = relToLocation.Coordinates;\n        const location = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.Location.value);\n        const ifcAxis = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.Axis.value);\n        const refDirection = await ifcLoader.ifcManager.getItemProperties(modelID, relativePlacement.RefDirection.value);\n        const directionRatios = refDirection.DirectionRatios;\n        const axisDirectionRatios = ifcAxis.DirectionRatios;\n        const coordinates = location.Coordinates;\n        var point1 = (coordinates[0].value/1000);\n        var point2 = (coordinates[1].value/1000);\n        var point3 = (coordinates[2].value/1000);\n        // Functionality to find rotation START ---------------------\n        let inRotation = { x:directionRatios[0].value, y:directionRatios[1].value, z:directionRatios[2].value };\n        if(!inRotation.x) inRotation = { x:directionRatios[0], y:directionRatios[1], z:directionRatios[2] };\n        let inAxis = { x: axisDirectionRatios[0].value, y:axisDirectionRatios[1].value, z:axisDirectionRatios[2].value };\n        if(!inAxis.x) inAxis = { x: axisDirectionRatios[0], y:axisDirectionRatios[1], z:axisDirectionRatios[2] };\n        const crossProduct = ifcu.v3cross(inRotation, inAxis);\n\n        var angle = ifcu.getAngleRadians(crossProduct.x, crossProduct.y, inRotation.x, inRotation.y);\n        var angle2 = ifcu.getAngleRadians(inAxis.x, inAxis.y, myAxis.x, myAxis.y);\n        angle = (angle2-angle)+(Math.PI/4);\n        // Functionality to find rotation END ---------------------\n        const rotatedPoints = ifcu.rotateRadians(0, 0, point1, point2, angle);\n        point1 = rotatedPoints[0];\n        point2 = rotatedPoints[1];\n        return {x: point1, y: point2, z: point3};\n    },\n    async getSpacesRelatedToWall(expressID, modelID, debugF=false){\n      // IFCRELSPACEBOUNDARY connects IFCWALLSTANDARDCASE and IFCSPACE\n      const elementProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n      if(debugF) console.log(\"elementProperties\")\n      if(debugF) console.log(elementProperties)\n      const ifcRelSpaceBoundary = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELSPACEBOUNDARY);\n      const relatedSpaces = [];\n      for(let r=0; r<ifcRelSpaceBoundary.length; r++){\n        const relSpace = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelSpaceBoundary[r]);\n        if(!relSpace.RelatedBuildingElement) continue;\n        if(relSpace.RelatedBuildingElement.value==expressID){\n          if(debugF) console.log(\"Found space related to building element: \"+relSpace.RelatingSpace.value);\n          relatedSpaces.push(relSpace.RelatingSpace.value);\n        }\n      }\n      return relatedSpaces;\n    },\n    async getStoreysRelatedToSpace(expressID, modelID, debugF=false){\n      // IFCRELAGGREGATES connects IFCBUILDINGSTOREY and IFCSPACE\n      const elementProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n      if(debugF) console.log(\"elementProperties\")\n      if(debugF) console.log(elementProperties)\n      const ifcRelAggregates = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELAGGREGATES);\n      const relatedStoreys = [];\n      for(let r=0; r<ifcRelAggregates.length; r++){\n        const relAggr = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelAggregates[r]);\n        for(let r=0; r<relAggr.RelatedObjects.length; r++){\n          if(relAggr.RelatedObjects[r].value==expressID){\n            if(debugF) console.log(\"Found STOREY related to building element: \"+relAggr.RelatingObject.value);\n            relatedStoreys.push(relAggr.RelatingObject.value);\n          }\n        }\n      }\n      if(debugF) console.log(\"relatedStoreys\")\n      if(debugF) console.log(relatedStoreys)\n      return relatedStoreys;\n    },\n    async getSpacesRelatedToStorey(expressID, modelID, debugF=false){\n      // IFCRELAGGREGATES connects IFCBUILDINGSTOREY and IFCSPACE\n      const storeyProperties = await ifcLoader.ifcManager.getItemProperties(modelID, expressID);\n      if(debugF) console.log(\"storeyProperties\")\n      if(debugF) console.log(storeyProperties)\n      const ifcRelAggregates = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELAGGREGATES);\n      const relatedSpaces = [];\n      for(let r=0; r<ifcRelAggregates.length; r++){\n        const relAggr = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelAggregates[r]);\n        if(relAggr.RelatingObject.value==expressID){\n          for(let r=0; r<relAggr.RelatedObjects.length; r++){//RelatedObjects RelatingObject\n            //if(debugF) console.log(\"Found STOREY related to building element: \"+relAggr.RelatedObjects[r].value);\n            relatedSpaces.push(relAggr.RelatedObjects[r].value);\n          }\n        }\n      }\n      if(debugF) console.log(\"relatedSpaces\")\n      if(debugF) console.log(relatedSpaces)\n      return relatedSpaces;\n    },\n    async exportIFCProperties(){ \n      const container = document.createElement('div');\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      try {\n        const res = await window.solid.session.fetch(IFCuri, { method: \"GET\", credentials: \"include\" });\n        console.log(res);\n        let filedata = await res.arrayBuffer();\n        let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n        if(!this.ifcmodelLoaded){\n          //ifcModel = await ifcLoader.loadAsync(fileurl);\n          ifcModel = await viewer.IFC.loadIfcUrl(fileurl);\n          this.ifcmodelLoaded = true;\n        }\n        const properties =  await viewer.IFC.properties.serializeAllProperties(ifcModel);\n        const JSONfile = new File(properties, 'properties');\n        let link = document.createElement('a'); \n        document.body.appendChild(link);\n        link.href = URL.createObjectURL(JSONfile);\n        link.download = 'ifc.json';\n        link.click();\n        link.remove();\n        this.ifcloading = false;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getIFCStoreys(){ \n      const container = document.createElement('div');\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      try {\n        const res = await window.solid.session.fetch(IFCuri, { method: \"GET\", credentials: \"include\" });\n        let filedata = await res.arrayBuffer();\n        let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n        //const ifcModel = await viewer.IFC.loadIfcUrl(fileurl);\n        if(!this.ifcmodelLoaded){\n          ifcModel = await ifcLoader.loadAsync(fileurl);\n          this.ifcmodelLoaded = true;\n        }\n        const modelID = ifcModel.modelID;\n        console.log(\"ModelID: \"+modelID);\n        const storeys = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCBUILDINGSTOREY, false);\n        const IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n        for(let i=0; i<storeys.length; i++){\n          const storey = await ifcLoader.ifcManager.getItemProperties(modelID, storeys[i]);\n          const floorTag = this.getFloorTagfromJson(IFCmetadata, storey.Name.value);\n          this.floorlist.push(storey.Name.value);\n          this.floorids.push({\"uri\": \"\", \"name\": storey.Name.value, \"expressid\": storey.expressID, \"globalid\": storey.GlobalId.value, \"roomhag\": storey.Elevation.value/1000, \"tag\": floorTag});\n          this.floorheights.push(storey.Elevation.value/1000);\n          this.floortags.push(floorTag);\n        }\n        console.log(\"Floor object list:\");\n        console.log(this.floorids);\n        this.createLockedDoorList();\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        await this.getRoomZones(modelID, buildingbox);\n        await this.addAllRoomsToStores(modelID);\n        if(this.roomList.length<5){\n          this.roomList = this.generateRoomList(); // Done when generating trafficload..\n        }\n        /*let way = wf.methods.wayBetweenRooms(\"1N01\", \"F106\", 2, true);\n        console.log(\"Way found:\");\n        console.log(way);\n        this.showWay(way)*/\n        console.log(\"Ready for generate door circulation..\")\n        this.loading = false;\n        this.roomNumberProcess = 3;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getIFCOpeningElements(showOnlyMarkers=false, debugF=false){\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      const container = document.createElement('div');\n      IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n      \n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      //console.log(\"IFC uri: \"+IFCuri);\n      const res = await window.solid.session.fetch(\n        IFCuri, {\n        method: \"GET\",\n        credentials: \"include\",\n      });\n      console.log(res);\n      let filedata = await res.arrayBuffer();\n      let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n      //const ifcModel = await ifcLoader.loadAsync(fileurl);\n      if(!this.ifcmodelLoaded){\n        ifcModel = await ifcLoader.loadAsync(fileurl);\n        this.ifcmodelLoaded = true;\n      }\n      const modelID = ifcModel.modelID;\n      /*const combinedLocation = new Vector3(-27.9825826007, 7.4, -62.14883771467999);\n      const foundRooms = await this.getRoomZonesOnEachSideOfDoor(modelID, undefined, combinedLocation, true);\n      console.log(foundRooms);*/\n\n      const openingIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCOPENINGELEMENT);\n      const refillsElementIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELFILLSELEMENT);\n      const relvoidsElementIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELVOIDSELEMENT);\n      // Refills are relating door to opening to insert door into\n      const refillIDs = [];\n      for(let r=0; r<refillsElementIDs.length; r++){\n        const refillProperties = await ifcLoader.ifcManager.getItemProperties(modelID, refillsElementIDs[r]);\n        refillIDs.push(refillProperties.RelatingOpeningElement.value)\n      }\n      // Relvoids are relating wall to opening in wall\n      const relvoids = [];\n      for(let r=0; r<relvoidsElementIDs.length; r++){\n        const relvoidProperties = await ifcLoader.ifcManager.getItemProperties(modelID, relvoidsElementIDs[r]);\n        if(relvoidProperties) relvoids.push({opening: relvoidProperties.RelatedOpeningElement.value, buildingelement: relvoidProperties.RelatingBuildingElement.value});\n      }\n      const foundIntersections = [];\n      let counter = 0;\n      for(let o=0; o<openingIDs.length; o++){\n          // Need to get position of wall first, because position of opening is added to that position\n          let wallid = 0;\n          for(let v=0; v<relvoids.length; v++){\n            if(relvoids[v].opening==openingIDs[o]){\n              wallid = relvoids[v].buildingelement;\n              //console.log(\"Found wall: \"+wallid);\n            } \n          }\n          const dimensions = await this.getIFCElementDimentions(openingIDs[o], modelID, false);\n          let foundRefill = false;\n          if(refillIDs.includes(openingIDs[o])) foundRefill = true; // Check if opening is filled with window or door\n          //console.log(dimensions);\n          if(dimensions.x>=600&&dimensions.y>=600&&!foundRefill){\n            const wallLocation = await this.getIFCElementPosition(wallid, modelID);\n            if(debugF) console.log(\"wall location\")\n            if(debugF) console.log(wallLocation)\n            let myAxis = wallLocation.rot;\n            if(debugF) console.log(\"Rot: \"+wallLocation.rot.x+\"-\"+wallLocation.rot.y+\"-\"+wallLocation.rot.z);\n            const location = await this.getIFCElementLocationTranslated(openingIDs[o], modelID, myAxis);\n            if(debugF) console.log(\"location\")\n            if(debugF) console.log(location)\n            const combinedLocation = new Vector3(wallLocation.x+location.x, wallLocation.z+location.z, (-wallLocation.y+location.y));\n            const relatedSpaces = await this.getSpacesRelatedToWall(wallid, modelID);\n            let relatedStoreys = await this.getStoreysRelatedToSpace(relatedSpaces[0], modelID);\n            let storeyProperties = await ifcLoader.ifcManager.getItemProperties(modelID, relatedStoreys[0]);\n            if(!storeyProperties){\n              console.log(\"Number of related spaces: \"+relatedSpaces.length+\" Trying next..\");\n              relatedStoreys = await this.getStoreysRelatedToSpace(relatedSpaces[1], modelID);\n              storeyProperties = await ifcLoader.ifcManager.getItemProperties(modelID, relatedStoreys[0]);\n            }\n            if(storeyProperties){\n              const storeyHeight = storeyProperties.Elevation.value/1000;\n              combinedLocation.y = combinedLocation.y+storeyHeight;\n              if(debugF) console.log(\"Storey height: \"+storeyHeight);\n            } else {\n              console.log(\"Warning, storey height was not found.\");\n            }\n            if(debugF) console.log(combinedLocation);\n            bmu.createPlaceMarker(combinedLocation, 0x000000, false, 1, \"placemarker\", 0.2);\n            const foundRooms = await this.getRoomZonesOnEachSideOfDoor(modelID, undefined, combinedLocation);\n            console.log(foundRooms)\n            if(!foundRooms[0]) continue;\n            foundIntersections.push({\"room1\": u.formatString(foundRooms[0]), \"room2\": u.formatString(foundRooms[1]), \"point\": combinedLocation, \"length\": 1});\n            if(debugF) console.log(\"Found room1: \"+foundRooms[0]+\" and: \"+foundRooms[1])\n            if(debugF) console.log(\"Open opening id: \"+openingIDs[o]);\n            counter++;\n          }\n      }\n      this.storeSpaceIntersections(foundIntersections, false);\n      console.log(\"Count of found elements: \"+counter);\n    },\n    async getIFCSensorElements(debugF=false){\n      IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n      this.ifcloading = true;\n      let IFCuri = this.$route.query.location+\"home/IFC/\"+this.ifcfile\n      const res = await window.solid.session.fetch(\n        IFCuri, {\n        method: \"GET\",\n        credentials: \"include\",\n      });\n      console.log(res);\n      let filedata = await res.arrayBuffer();\n      let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/x-step\"}));\n      //const ifcModel = await ifcLoader.loadAsync(fileurl);\n      if(!this.ifcmodelLoaded){\n        ifcModel = await ifcLoader.loadAsync(fileurl);\n        this.ifcmodelLoaded = true;\n      }\n      const modelID = ifcModel.modelID;\n\n      const ifcDistributionControlElementIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCDISTRIBUTIONCONTROLELEMENT);\n      \n      // Get sensor information\n      for(let r=0; r<ifcDistributionControlElementIDs.length; r++){\n        const ifcDistributionControlElementProperties = await ifcLoader.ifcManager.getItemProperties(modelID, ifcDistributionControlElementIDs[r]);\n        //console.log(\"ifcDistributionControlElementProperties\")\n        //console.log(ifcDistributionControlElementProperties);\n        const dceGlobalId = ifcDistributionControlElementProperties.GlobalId.value;\n        const dceName = ifcDistributionControlElementProperties.Name.value;\n        const dceExpressID = ifcDistributionControlElementProperties.expressID;\n        const dceLocation = await this.getIFCElementLocationTranslated(dceExpressID, modelID);\n        let dceSensorTypeName = \"\";\n        let dceSensorType = \"\";\n        const ifcRelDefinesByTypeIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELDEFINESBYTYPE);\n        for(let r=0; r<ifcRelDefinesByTypeIDs.length; r++){\n          const ifcRelDefinesByTypeProperties = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelDefinesByTypeIDs[r]);\n          for(let r=0; r<ifcRelDefinesByTypeProperties.RelatedObjects.length; r++){\n            const relObj = ifcRelDefinesByTypeProperties.RelatedObjects[r];\n            if(relObj.value==dceExpressID){\n              const relatingType = ifcRelDefinesByTypeProperties.RelatingType.value;\n              const typeProperties = await ifcLoader.ifcManager.getItemProperties(modelID, relatingType);\n              //console.log(\"typeProperties\")\n              //console.log(typeProperties);\n              dceSensorTypeName = typeProperties.Name.value;\n              dceSensorType = typeProperties.PredefinedType.value;\n            }\n          }\n        }\n        // Get related floor / storey ---\n        let storeyGlobalId = \"\";\n        let storeyName = \"\";\n        let storeyExpressId = 0;\n        const ifcSpatialIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELCONTAINEDINSPATIALSTRUCTURE);\n        for(let r=0; r<ifcSpatialIDs.length; r++){\n          const ifcSpatialProperties = await ifcLoader.ifcManager.getItemProperties(modelID, ifcSpatialIDs[r]);\n          for(let r=0; r<ifcSpatialProperties.RelatedElements.length; r++){\n            if(ifcSpatialProperties.RelatedElements[r].value==dceExpressID){\n              const structureProperties = await ifcLoader.ifcManager.getItemProperties(modelID, ifcSpatialProperties.RelatingStructure.value);\n              //console.log(\"structureProperties\")\n              //console.log(structureProperties);\n              storeyGlobalId = structureProperties.GlobalId.value;\n              storeyName = structureProperties.Name.value;\n              storeyExpressId = structureProperties.expressID;\n            }\n          }\n        }\n        // Get related GLN number\n        let glnNumber = \"\";\n        let serialNumber = \"\";\n        let manufacturer = \"\";\n        let productionYear = \"\";\n        const ifcRelDefinedByPropertyIDs = await ifcLoader.ifcManager.getAllItemsOfType(modelID, IFCRELDEFINESBYPROPERTIES);\n        for(let r=0; r<ifcRelDefinedByPropertyIDs.length; r++){\n          const ifcRelDefinedByProperties = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelDefinedByPropertyIDs[r]);\n          //console.log(\"ifcRelDefinedByProperties\")\n          //console.log(ifcRelDefinedByProperties);\n          for(let r=0; r<ifcRelDefinedByProperties.RelatedObjects.length; r++){\n            if(ifcRelDefinedByProperties.RelatedObjects[r].value==dceExpressID){\n              const propertySet = await ifcLoader.ifcManager.getItemProperties(modelID, ifcRelDefinedByProperties.RelatingPropertyDefinition.value);\n              const singlePropertyArray = propertySet.HasProperties;\n              for(let s=0; s<singlePropertyArray.length; s++){\n                const singleProperty = await ifcLoader.ifcManager.getItemProperties(modelID, singlePropertyArray[s].value);\n                if(singleProperty.Name.value==\"GLN\") {\n                  glnNumber = singleProperty.NominalValue.value;\n                  console.log(\"glnNumber\")\n                  console.log(glnNumber);\n                }\n                if(singleProperty.Name.value==\"SerialNumber\") serialNumber = singleProperty.NominalValue.value;\n                if(singleProperty.Name.value==\"Manufacturer\") manufacturer = singleProperty.NominalValue.value;\n                if(singleProperty.Name.value==\"ProductionYear\") productionYear = singleProperty.NominalValue.value;\n              }  \n            }\n          }\n        }\n\n        // Saving sensor to store ---\n\n      }\n    },\n    showWay(wayArray){\n      if(wayArray.length<=2) return;\n      let directionVectors = [];\n      let prevURI = undefined;\n      let prevDoorLocation = new Vector3(0.0,0.0,0.0);\n      wayArray.forEach(wayItem => {\n        let isDoor = false;\n        if(store.state.rs.rdfStore.match($rdf.sym(wayItem), ns.RDF(\"type\"), ns.NEO(\"x_door\"))[0]){\n          prevDoorLocation = this.getDoorPosition(wayItem);\n          isDoor = true;\n        }\n        if(prevURI!=undefined&&!isDoor){\n          if(store.state.rs.rdfStore.match($rdf.sym(prevURI), ns.RDF(\"type\"), ns.NEO(\"x_door\"))[0]){\n            // Previous URI was a door\n            const polyline = this.getRoomPolylinebyURI(wayItem)\n            const doorDirectionVector = bmu.getDoorDirectionVector(polyline, prevDoorLocation, false);\n            directionVectors.push({\"uri\": wayItem, \"pos\": prevDoorLocation, \"vec\": doorDirectionVector});\n          } else {\n            // Previous uri was space -- Then join\n            const polylines = [];\n            let intersectPoint = new Vector3(0,0,0);\n            polylines.push(this.getRoomPolylinebyURI(prevURI));\n            polylines.push(this.getRoomPolylinebyURI(wayItem));\n            let intersections = bmu.findSpaceIntersections(polylines, 0.5, false);\n            if(intersections[0]) intersectPoint = intersections[0].point;\n            const doorDirectionVector = bmu.getDoorDirectionVector(polylines[1], intersectPoint, false);\n            directionVectors.push({\"uri\": \"\", \"pos\": intersectPoint, \"vec\": doorDirectionVector});\n          }\n        }\n        prevURI = wayItem;\n      });\n      // Create function for creating vectors in between all directionvectors.\n      let prevVector = undefined;\n      directionVectors = directionVectors.reduce(function(newArray, item) { \n          // Create vectors in front of door:\n          let beforePos = item.pos.clone().add(item.vec.clone().negate());\n          newArray.push({\"uri\": \"\", \"pos\": beforePos.clone(), \"vec\": item.vec})\n          newArray.push(item);\n          // Create vectors behind door:\n          if(prevVector!=undefined){\n            let afterDir = new Vector3(0.0,0.0,0.0).subVectors(beforePos.clone(), prevVector.pos.clone().add(prevVector.vec.clone())).normalize(); // Must take in the previous offset for the after pos\n            console.log(\"After dir:\")\n            console.log(afterDir);\n            let lengthToNextDoor = item.pos.clone().distanceTo(prevVector.pos);\n            let afterPos = prevVector.pos.clone().add(prevVector.vec.clone());\n            newArray.push({\"uri\": \"\", \"pos\": afterPos, \"vec\": afterDir});\n            for(let n=3.0; n<Math.abs(lengthToNextDoor-3.0); n=n+3.0){\n              // Set new marker for each 3 meters in between\n              let betwPos = afterPos.clone().addScaledVector(afterDir.clone(), n);\n              newArray.push({\"uri\": \"\", \"pos\": betwPos, \"vec\": afterDir});\n            }\n          }\n          prevVector = item;  \n          return newArray;\n      }, []);\n      store.state.bv.arrowModelStart = false;\n      directionVectors.forEach((vec) => {\n        bmu.createVisibleVector(vec.pos, vec.vec, 0x00FFFF);\n        bmu.createPlaceMarker(vec.pos.clone(), 0x00FFFF, false, 2, \"placemarker\", 0.25);\n        bmu.placeArrow(vec.pos, vec.vec);\n      });\n    },\n    getFloorTagfromJson(jsonResult, IFCfloorName){\n      for(let o=0; o<=Object.keys(jsonResult.storeys).length; o++){\n        if(Object.values(jsonResult.storeys)[o]==IFCfloorName) return Object.keys(jsonResult.storeys)[o];\n      }\n      return \"\";\n    },\n    generateTurtleFromStore(){\n      var turtle = u.storeToTurtle(store.state.rs.rdfStore, buildingPODurl);\n      //turtle = ur.modifyTurtle(turtle); // May need to be removed.\n      let TurtleURI = this.$route.query.location+\"home/TTL/rooms.rtf\"\n      var TURTLEfile = new Blob([turtle], { type: \"text/plain;charset=utf-8\" });\n      try {\n        window.solid.session.fetch(\n          TurtleURI, {\n              method: \"PUT\",\n              credentials: \"include\",\n              body: TURTLEfile,\n              headers: {\n                \"Content-Type\": \"\",\n              },\n              onUploadProgress: function( progressEvent ) {\n                this.progress = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n              }.bind(this)}).then(res => {\n            console.log('done uploading', res);\n            console.log(turtle);\n        });\n      } catch (e) {\n        this.error = 'Error has occured'\n      }\n    },\n    async populateStoreFromTurtle(){\n      console.log(\"Populating store from turtle...\")\n      //store.state.rs.rdfStore = $rdf.graph();\n      /*var turtleb = u.storeToTurtle(store.state.rs.rdfStore, buildingPODurl);\n      console.log(\"Turtle before\")\n      console.log(turtleb);*/\n      if(store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\"))[10]) return;\n      let TurtleURI = this.$route.query.location+\"home/TTL/rooms.rtf\"\n      try {\n        /*let res = await window.solid.session.fetch(\n          TurtleURI, {\n            method: \"GET\",\n            credentials: \"include\",\n            headers: {\n              \"Accept\": \"text/turtle\"\n            },\n        }).then(res => res.text());*/\n        window.solid.session.fetch(TurtleURI, { method: \"GET\", credentials: \"include\" }).then((res) => {\n          res.arrayBuffer().then((filedata) => {\n            let file = new Blob([filedata]);\n            const fr = new FileReader();\n            fr.onload = function() {\n                $rdf.parse(this.result, store.state.rs.rdfStore, TurtleURI, \"text/turtle\");\n                store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(room => {\n                  console.log(\"Room: \"+room.subject.value)\n                });\n                var turtle = u.storeToTurtle(store.state.rs.rdfStore, buildingPODurl);\n                //console.log(\"Turtle output after input\")\n                //console.log(turtle);\n            };\n            fr.readAsText(file);\n          });\n        });\n      } catch (error) {\n        console.log(error);\n        console.log(\"Failed to parse Turtle from file...\");\n      }\n    },\n    generateRoomsTurtle(){\n      tempRdfStore = $rdf.graph();\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Space\")).forEach(room => {\n        /*store.state.rs.rdfStore.match($rdf.sym(room.subject.value), null, null).forEach(roomdetails => {\n          if(!roomdetails.predicate.value.includes(\"type\") && !roomdetails.predicate.value.includes(\"acl\") && !roomdetails.predicate.value.includes(\"neo.graphmetrix.net/node/i\")){\n            if(store.state.rs.rdfStore.match(roomdetails).length<1) addToTempStore(roomdetails);\n          }\n        });*/\n        addToTempStore($rdf.sym(room.subject.value), ns.RDF(\"type\"), ns.BOT(\"Space\"), $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.TAG(\"tag\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.TAG(\"tag\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.TAG(\"tag\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"m_polyline\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"m_polyline\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"m_polyline\"), null)[0].object.value, $rdf.default);\n        //if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), null)[0].object.value, $rdf.default);\n        store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.RDFS(\"label\"), null).forEach(lbl => {\n          addToTempStore($rdf.sym(room.subject.value), ns.RDFS(\"label\"), lbl.object.value, $rdf.default);\n        });\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.RDFS(\"label\"), null)[1]) addToTempStore($rdf.sym(room.subject.value), ns.RDFS(\"label\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.RDFS(\"label\"), null)[1].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_area-net\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.NEO(\"m_area-net\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_area-net\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_area-gross\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.NEO(\"m_area-gross\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_area-gross\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"b_capable\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.NEO(\"b_capable\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"b_capable\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.FOAF(\"name\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.FOAF(\"name\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.FOAF(\"name\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"trafficload\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"expressid\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"expressid\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"expressid\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"globalid\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"globalid\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"globalid\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"roomhag\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.IFOUR(\"roomhag\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.IFOUR(\"roomhag\"), null)[0].object.value, $rdf.default);\n        if(store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.SIO(\"SIO_000507\"), null)[0]) addToTempStore($rdf.sym(room.subject.value), ns.SIO(\"SIO_000507\"), store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.SIO(\"SIO_000507\"), null)[0].object.value, $rdf.default);\n        store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_port\"), null).forEach(port => {\n          addToTempStore($rdf.sym(room.subject.value), ns.NEO(\"m_port\"), port.object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.RDF(\"type\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), null)[0].object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.SIO(\"SIO_000507\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.SIO(\"SIO_000507\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.SIO(\"SIO_000507\"), null)[0].object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.TAG(\"tag\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.TAG(\"tag\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.TAG(\"tag\"), null)[0].object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.FOAF(\"name\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.FOAF(\"name\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.FOAF(\"name\"), null)[0].object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.IFOUR(\"expressid\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.IFOUR(\"expressid\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.IFOUR(\"expressid\"), null)[0].object.value, $rdf.default);\n          if(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.IFOUR(\"globalid\"), null)[0]) addToTempStore($rdf.sym(port.object.value), ns.IFOUR(\"globalid\"), store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.IFOUR(\"globalid\"), null)[0].object.value, $rdf.default);\n          store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDFS(\"label\"), null).forEach(lbl => {\n            addToTempStore($rdf.sym(port.object.value), ns.RDFS(\"label\"), lbl.object.value.replace(\"  \", \" \"), $rdf.default);\n          });\n        });\n        store.state.rs.rdfStore.match($rdf.sym(room.subject.value), ns.NEO(\"m_join\"), null).forEach(join => {\n          addToTempStore($rdf.sym(room.subject.value), ns.NEO(\"m_join\"), join.object.value, $rdf.default);\n        });\n      });\n\n      var turtle = u.storeToTurtle(tempRdfStore, buildingPODurl);\n      turtle = ur.modifyTurtle(turtle);\n      console.log(\"Turtle\");\n      console.log(turtle);\n      let TurtleURI = this.$route.query.location+\"home/TTL/rooms.txt\"\n      var TURTLEfile = new Blob([turtle], { type: \"text/plain;charset=utf-8\" });\n\n      /*const uploadURI = this.$route.query.location+'/i';\n      if (window.solid.session.info.isLoggedIn && turtle!=\"\"){\n        ur.uploadTurtle(uploadURI, turtle, false).then((successfulFetch) => {\n          console.log(\"Upload response:\")\n          console.log(successfulFetch);\n        });\n      } else {\n        console.log(\"Is logged out\");\n      }  */\n      /*let link = document.createElement('a'); \n      document.body.appendChild(link);\n      link.href = URL.createObjectURL(TURTLEfile);\n      link.download = 'rooms.ttl';\n      link.click();\n      link.remove();*/\n     /* try {\n        window.solid.session.fetch(\n          TurtleURI, {\n              method: \"PUT\",\n              credentials: \"include\",\n              body: TURTLEfile,\n              headers: {\n                \"Content-Type\": \"\",\n              },\n              onUploadProgress: function( progressEvent ) {\n                this.progress = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n              }.bind(this)}).then(res => {\n            console.log('done uploading', res);\n        });\n      } catch (e) {\n        this.error = 'Error has occured'\n      }*/\n    },\n    getIfcFiles(){\n        let uri = this.$route.query.location+\"home/IFC/\";\n        let files = ur.fetchAndSaveTurtle(uri, true).then((successBool) => {\n        let containedFileURIs = [];\n        let fileURIs = [];\n\n        // Get all URIs contained by the current POD (does also include things that are not files)\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(uri), ns.LDP(\"contains\"), null);\n        tripleArray.forEach(item => {\n            if(!containedFileURIs.includes(item.object.value)) {\n              containedFileURIs.push(item.object.value);\n            }\n        });\n\n        // Get all file URIs where contained by POD\n        tripleArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.REG(\"file\"));\n        tripleArray.forEach(item => {\n            if(!fileURIs.includes(item.subject.value) && containedFileURIs.includes(item.subject.value)) {\n              fileURIs.push(item.subject.value);\n            }\n        });\n\n        // Get file names\n        fileURIs.forEach((fileitem, i) => {\n          let tripleArray = store.state.rs.rdfStore.match($rdf.sym(fileitem), ns.RDFS(\"label\"), null);\n            tripleArray.forEach(item3 => {\n              console.log(\"File: \", item3.object.value);\n\n              if(item3.object.value.includes(\".ifc\") && !this.ifcfiles.includes(item3.object.value)){\n                this.ifcfiles.push(item3.object.value);\n              }\n            });\n          });\n          return successBool;\n        });\n      },\n      async showIFC(){\n        let IFCuri = this.$route.query.location+\"home/IFC/building.ifc\"\n        console.log(\"IFC uri: \"+IFCuri);\n        try {\n            const res = await window.solid.session.fetch(\n              IFCuri, {\n                method: \"GET\",\n                credentials: \"include\",\n                });\n                console.log(res);\n              let filedata = await res.arrayBuffer();\n              let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/ifc\"}));\n              const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n              /*const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n              let roomURI = \"buildingbox\";\n              store.state.bv.selectedRoomIDs.forEach((item, i) => {\n                roomURI = item;\n              }); \n              const roomMesh = store.state.bv.scene.getObjectByName( roomURI );\n              const boundingBox = new Box3().setFromObject( roomMesh );\n              try{\n                roomMesh.material.color.setHex( 0x225577 );\n                roomMesh.material.opacity = 0.1;\n                roomMesh.children.forEach((item2, j) => {\n                  item2.material.color.setHex( 0x225577 );\n                  item2.material.opacity = 0.1;\n                });\n              } catch (error){\n\n              }*/\n              // Sets up the IFC loading\n              let ifcModel = await ifcLoader.loadAsync(fileurl);\n\n              ifcModel.scale.set(store.state.bv.scaleFactor, store.state.bv.scaleFactor, store.state.bv.scaleFactor);\n              ifcModel.name = \"IFCModel\";\n              console.log(ifcModel);\n              this.buildingPosition.buildingdimensions.v2.x = ifcModel.geometry.boundingBox.max.x-ifcModel.geometry.boundingBox.min.x;\n              this.buildingPosition.buildingdimensions.v3.y = ifcModel.geometry.boundingBox.max.z-ifcModel.geometry.boundingBox.min.z;\n              this.buildingPosition.buildingdimensions.v3.z = ifcModel.geometry.boundingBox.max.y-ifcModel.geometry.boundingBox.min.y;\n              this.buildingPosition.xAnchorDisplacement = -ifcModel.geometry.boundingBox.min.x;\n              this.buildingPosition.yAnchorDisplacement = ifcModel.geometry.boundingBox.max.z;\n              \n              buildingbox.geometry = bw.methods.lineDashBox( this.buildingPosition.buildingdimensions.v2.x*store.state.bv.scaleFactor, this.buildingPosition.buildingdimensions.v3.z*store.state.bv.scaleFactor, this.buildingPosition.buildingdimensions.v3.y*store.state.bv.scaleFactor );\n              buildingbox.updateMatrix();\n              buildingbox.matrixAutoUpdate = false;\n              buildingbox.castShadow = false;\n              buildingbox.renderOrder=1;\n\n              buildingbox.add(ifcModel);\n\n              \n              console.log(\"IFCModel:\")\n              console.log(ifcModel);\n\n              ifcModel = store.state.bv.scene.getObjectByName(\"IFCModel\");\n              ifcModel.position.x = (this.buildingPosition.xAnchorDisplacement*store.state.bv.scaleFactor)-((this.buildingPosition.buildingdimensions.v2.x/2.0)*store.state.bv.scaleFactor);\n              ifcModel.position.z = -(this.buildingPosition.yAnchorDisplacement*store.state.bv.scaleFactor)+((this.buildingPosition.buildingdimensions.v3.y/2.0)*store.state.bv.scaleFactor);\n              ifcModel.updateMatrix();\n              ifcModel.matrixAutoUpdate = false;\n              ifcModel.renderOrder=1;\n\n              console.log(\"IFCModel:\")\n              console.log(ifcModel);\n\n              const IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n              this.buildingPosition.buildinglat = IFCmetadata.buildinglat;\n              this.buildingPosition.buildinglong = IFCmetadata.buildinglong;\n              this.buildingPosition.buildingdimensions.v1.x = IFCmetadata.buildingdimensions.v1.x;\n              this.buildingPosition.buildingdimensions.v1.y = IFCmetadata.buildingdimensions.v1.y;\n              this.buildingPosition.buildingdimensions.v1.z = IFCmetadata.buildingdimensions.v1.z;\n              this.buildingPosition.rotation.x = IFCmetadata.rotation.x;\n              this.buildingPosition.rotation.y = IFCmetadata.rotation.y;\n              this.buildingPosition.rotation.z = IFCmetadata.rotation.z;\n\n              this.RENDER();\n                //  ifcModel.position.z = ifcModel.position.z-boundingBox.getSize().z;\n                //ifcModel.material.opacity = 1;\n\n          } catch (error) {\n            console.log(error);\n          }\n      },\n      setBuildingPoint1(){\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        this.buildingPosition.buildingPosX = store.state.bv.intersectXY.x-buildingbox.position.x+((this.buildingPosition.buildingdimensions.v2.x/2.0)*store.state.bv.scaleFactor);\n        this.buildingPosition.buildingPosY = store.state.bv.intersectXY.y+50-buildingbox.position.z-((this.buildingPosition.buildingdimensions.v3.y/2.0)*store.state.bv.scaleFactor);\n      },\n      fineTuneBuildingRotation(){\n        this.rotationStep = 720;\n      },\n      setBuildingLatLong1(){\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        console.log(store.state.bv.buildingboxPosition)\n        console.log(store.state.bv.intersectXY)\n        const latlong = UnitsUtils.sphericalToDatums(store.state.bv.buildingboxPosition.x+store.state.bv.intersectXY.x, store.state.bv.buildingboxPosition.z-store.state.bv.intersectXY.y);\n        this.buildingPosition.buildinglat = latlong.latitude;\n        this.buildingPosition.buildinglong = latlong.longitude;\n\n        // Move building box into place\n        console.log(\"Removing building box..\");\n        console.log(buildingbox);\n        let movedirX = store.state.bv.intersectXY.x-buildingbox.position.x+((this.buildingPosition.buildingdimensions.v2.x/2.0)*store.state.bv.scaleFactor);\n        let movedirY = store.state.bv.intersectXY.y+50-buildingbox.position.z-((this.buildingPosition.buildingdimensions.v3.y/2.0)*store.state.bv.scaleFactor);\n\n        //buildingbox.position.x = store.state.bv.intersectXY.x+((this.buildingPosition.buildingdimensions.v2.x/2)*store.state.bv.scaleFactor);\n        //buildingbox.position.z = store.state.bv.intersectXY.y+50-((this.buildingPosition.buildingdimensions.v3.y/2)*store.state.bv.scaleFactor); // Må legge til 50 pga størrelse på standard bounding box\n        buildingbox.translateX(movedirX);\n        buildingbox.translateZ(movedirY);\n        buildingbox.translateX(-this.buildingPosition.buildingPosX);\n        buildingbox.translateZ(-this.buildingPosition.buildingPosY);\n\n        // Move according to BuildingPoint1\n        //buildingbox.geometry.translate(new Matrix4().makeTranslation(buildingbox.position.x-this.buildingPosition.buildingPosX, 0 , buildingbox.position.z+this.buildingPosition.buildingPosY));\n      \n\n        buildingbox.updateMatrix();\n        buildingbox.matrixAutoUpdate = false;\n        buildingbox.castShadow = false;\n        buildingbox.renderOrder=1;\n        this.RENDER();\n      },\n      rotateBuildingbox(direction){\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        let rotateAngle = Math.PI/this.rotationStep*direction;\n        buildingbox.translateX(-((this.buildingPosition.buildingdimensions.v2.x/2.0)*store.state.bv.scaleFactor)+this.buildingPosition.buildingPosX);\n        buildingbox.translateZ(((this.buildingPosition.buildingdimensions.v3.y/2.0)*store.state.bv.scaleFactor)+this.buildingPosition.buildingPosY);\n        buildingbox.rotateOnAxis( new Vector3(0,1,0), -rotateAngle);\n        buildingbox.translateX(((this.buildingPosition.buildingdimensions.v2.x/2.0)*store.state.bv.scaleFactor)-this.buildingPosition.buildingPosX);\n        buildingbox.translateZ(-(((this.buildingPosition.buildingdimensions.v3.y/2.0)*store.state.bv.scaleFactor))-this.buildingPosition.buildingPosY);\n        buildingbox.updateMatrix();\n        buildingbox.matrixAutoUpdate = false;\n        buildingbox.castShadow = false;\n        buildingbox.renderOrder=1;\n        this.RENDER();\n        console.log(buildingbox);\n        this.buildingPosition.rotation.x = buildingbox.rotation.x;\n        this.buildingPosition.rotation.y = buildingbox.rotation.y;\n        this.buildingPosition.rotation.z = buildingbox.rotation.z;\n      },\n      moveBuildingBox(mx, my, mz){\n        const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n        buildingbox.translateX(mx);\n        buildingbox.translateX(my);\n        buildingbox.translateZ(mz);\n        buildingbox.updateMatrix();\n        buildingbox.matrixAutoUpdate = false;\n        buildingbox.castShadow = false;\n        buildingbox.renderOrder=1;\n        this.RENDER();\n        console.log(buildingbox);\n        this.buildingPosition.buildingdimensions.v1.x = buildingbox.position.x;\n        this.buildingPosition.buildingdimensions.v1.y = buildingbox.position.y;\n        this.buildingPosition.buildingdimensions.v1.z = buildingbox.position.z;\n      },\n      async uploadPropertiesJson(){\n        const IFCmetadata = await ifcu.getIFCmetaDataFromJson(this.$route.query.location+\"home/IFC/building.json\");\n        IFCmetadata.buildingdimensions = this.buildingPosition.buildingdimensions;\n        IFCmetadata.buildinglat = this.buildingPosition.buildinglat;\n        IFCmetadata.buildinglong = this.buildingPosition.buildinglong;\n        IFCmetadata.xAnchorDisplacement = this.buildingPosition.xAnchorDisplacement;\n        IFCmetadata.yAnchorDisplacement = this.buildingPosition.yAnchorDisplacement;\n        IFCmetadata.rotation = this.buildingPosition.rotation;\n        IFCmetadata.name = \"Test1\";\n        console.log(IFCmetadata);\n        let JsonURI = this.$route.query.location+\"home/IFC/building.json\"\n        var JSONfile = new Blob([JSON.stringify(IFCmetadata)], { type: \"text/plain;charset=utf-8\" });\n        try {\n          window.solid.session.fetch(\n            JsonURI, {\n                method: \"PUT\",\n                credentials: \"include\",\n                body: JSONfile,\n                headers: {\n                  \"Content-Type\": \"\",\n                },\n                onUploadProgress: function( progressEvent ) {\n                  this.progress = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n                }.bind(this)}).then(res => {\n              console.log('done uploading', res);\n          });\n        } catch (e) {\n          this.error = 'Error has occured'\n        }\n      },\n  },\n  computed: {\n\n  },\n  watch: {\n    ifctypesselected: async function(val) {\n      this.getIFCOpeningElements();\n    },\n    \"$store.state.bv.selectedRoomNames\": function (val){\n      if(val.length==1){\n        this.roomSelected = true;\n      } else {\n        this.roomSelected = false;\n      }\n    },\n    floorsselected: function(val){\n      console.log(\"Floor selected: \")\n      console.log(this.floorsselected)\n      for(let i=0; i<this.floorlist.length; i++){\n        if(this.floorsselected==this.floorlist[i]){\n          console.log(\"Floor height: \"+this.floorheights[i])\n          this.showRoomsForStorey(this.floorheights[i]);\n          store.state.bv.selectedStorey.hag = this.floorheights[i];\n        }\n      }\n      let floorExpressID = 0;\n      for(let i=0;i<this.floorids.length;i++){ //627239\n        if(this.floorids[i].name==this.floorsselected) floorExpressID = this.floorids[i].expressid;\n      }\n      console.log(\"FloorExpressID: \"+floorExpressID);\n      let spaces = this.getSpacesRelatedToStorey(floorExpressID, ifcModel.modelID, true);\n\n      this.doorIssueTableList = [];\n      this.roomNumberProcess = 3;\n    },\n    doorIssueTableSelectedRow: function(val){\n      store.state.bv.selectedRoomIDs = [];\n      val.forEach(obj => {\n        store.state.bv.selectedRoomIDs.push(decodeURI(obj.room1));\n      });\n    },\n  },\n  mounted() {\n    this.checklogin();\n    setUpMultiThreading();\n    this.getBuildingMainEntrances();\n    this.getIfcFiles();\n\n    this.populateStoreFromTurtle();\n\n    /*const arr = [1,2,3.2,3.4,3.6,3,3.7,4,5,6,7,8,9,3.3,10,10.1,10.2,10.3,3.3];\n    console.log(\"Duplicates:\")\n    console.log(findDuplicates(arr, 0.5));*/\n    let poly = [[ [100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0], [100.2, 0.2], [100.8, 0.2], [100.8, 0.8], [100.2, 0.8], [100.2, 0.2] ]];\n    const polyline = \"polyline;1N01;62.205509379700004;30.75;3;2.9;[0,0,0,-2.54,-3.110602869834277e-16,0,-2.5393294347499995,-2.2650000000000006,0,-2.3018294347499997,-2.2650000000000006,0,-2.3018294347499997,-2.6900000000000004,0,-2.5529999999999995,-2.6900000000000004,0,-2.5529999999999995,-3.53550937975,0,0.009117699423760433,-3.5355093797499997,0,0.00747572507190033,-2.69,0,-0.23817056524899965,-2.69,0,-0.2381705652489997,-2.2655093797499997,0,2.774136024559312e-16,-2.26525397077,0,0,0,0]\";\n    poly = [this.polyLineTo2dArray(polyline)];\n    console.log(poly)\n    var p = polylabel(poly, 1.0);\n    console.log(\"Point1\")\n    console.log(p)\n  },\n  created(){\n    this.addEventListerners();\n  },\n  beforeDestroy() {\n    this.removeEventListerners();\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #3577cb;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IFCexporter.vue?vue&type=template&id=2e2d0c2b&scoped=true&\"\nimport script from \"./IFCexporter.vue?vue&type=script&lang=js&\"\nexport * from \"./IFCexporter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IFCexporter.vue?vue&type=style&index=0&id=2e2d0c2b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e2d0c2b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VDataTable,VForm,VRadio,VRadioGroup,VSelect,VSwitch})\n","<template>\n  <div class=\"wrapper\" :style=\"{ 'height': viewHeight + 'px' }\">\n    <v-btn\n          style=\"position: absolute; z-index: 3; top: 28px; right: 8px;\"\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"toggleViews\"\n        >\n        <v-icon>mdi-arrow-split-vertical</v-icon>\n    </v-btn>\n    <Multipane id=\"resizer\" class=\"vertical-panes\" :style=\"{ 'height': viewHeight + 'px' }\" layout=\"vertical\" @paneResizeStart=\"paneresizestarted($event)\" @paneResizeStop=\"paneresizestopped($event)\">\n      <div class=\"vertical\" :style=\"{ 'height': viewHeight + 'px' }\" ref=\"leftpane\" style=\"overflow: scroll\"><IFCexporter msg=\"Show IFCexporter form\" /></div>\n      <multipane-resizer class=\"resizer\" :style=\"{ 'height': viewHeight + 'px' }\">-</multipane-resizer>\n      <BIMviewer class=\"verticalflex\" :style=\"{ 'height': viewHeight + 'px' }\" ref=\"myviewer\" msg=\"Show bimviewer form\" />\n    </Multipane>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport IFCexporter from '../components/IFCexporter.vue'\nimport BIMviewer from '../components/BIMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\nimport { mapMutations } from \"vuex\";\nimport store from '../store';\nimport { Multipane, MultipaneResizer } from 'vue-multipane';\n\nexport default {\n  name: 'IFCexporterV',\n  components: {\n    IFCexporter,\n    BIMviewer,\n    Multipane,\n    MultipaneResizer\n  },\n  data: function() {\n    return {\n      bimVisible: true,\n      viewHeight: 600,\n    };\n  },\n  mounted: function() {\n\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    updateCanvasSize(){\n      const myviewer = this.$refs.myviewer\n      console.log(myviewer);\n      const height = window.innerHeight-60;\n      this.viewHeight = height;\n      const width = myviewer.$el.clientWidth+10\n      console.log(\"Width is: \"+width);\n      store.state.bv.renderer.setSize(width, height);\n      if(store.state.bv.twodim){\n        store.state.bv.labelrenderer.setSize(width, height);\n        store.state.bv.twodimcamera.left = width/-2;\n        store.state.bv.twodimcamera.right = width/2;\n        store.state.bv.twodimcamera.top = height/2;\n        store.state.bv.twodimcamera.bottom = height/-2;\n        store.state.bv.twodimcamera.updateProjectionMatrix();\n      } else {\n        if(store.state.bv.thirdperson){\n          store.state.bv.thirdpersoncamera.aspect = width/height;\n          store.state.bv.thirdpersoncamera.updateProjectionMatrix()\n        } else {\n          store.state.bv.labelrenderer.setSize(width, height);\n          store.state.bv.camera.aspect = width/height;\n          store.state.bv.camera.updateProjectionMatrix()\n        }\n      }\n    },\n    toggleViews(){\n      const leftpane = this.$refs.leftpane\n      console.log(leftpane)\n      if(leftpane.clientWidth>0){\n        leftpane.style.width = \"0vw\";\n      } else {\n        leftpane.style.width = \"100vw\";\n      }\n      this.updateCanvasSize();\n    },\n    windowResize(){\n      this.updateCanvasSize();\n    },\n    paneresizestarted: function(event) {\n      console.log(\"resize start...\")\n    },\n    paneresizestopped: function(event) {\n      console.log(\"resize stop...\")\n      this.updateCanvasSize();\n      window.dispatchEvent(new Event('resize'));\n    },\n  },\n  mounted(){\n    this.windowResize();\n  },\n  created() {\n    window.addEventListener(\"resize\", this.windowResize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.windowResize);\n  }\n}\n</script>\n\n<style scoped>\n#wrapper {\n  overflow: hidden;\n}\n\n.vertical-panes {\n  overflow: hidden;\n}\n.vertical {\n  position: relative;\n  overflow: hidden;\n  width: 30vw;\n}\n\n.resizer {\n  width: 12px; \n  background-color: gray;\n}\n\n.verticalflex {\n  position: relative;\n  overflow: hidden;\n  right: 0px;\n  margin: 0px;\n  padding: 0px;\n  flex-grow: 1;\n  width: 10px;\n}\n\n.horizontal {\n  position: relative;\n  height: 50vh;\n  width: 100vw;\n}\n\n.horizontalflex {\n  position: relative;\n  flex-grow: 1;\n  width: 100vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporterV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IFCexporterV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IFCexporterV.vue?vue&type=template&id=94ab7896&scoped=true&\"\nimport script from \"./IFCexporterV.vue?vue&type=script&lang=js&\"\nexport * from \"./IFCexporterV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IFCexporterV.vue?vue&type=style&index=0&id=94ab7896&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94ab7896\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feedback\",attrs:{\"id\":\"wrapper\"}},[_c('div',{staticClass:\"left\"},[_c('RentModule',{attrs:{\"msg\":\"Show RentModule form\"}})],1),_c('div',{staticClass:\"right\"},[_c('BIMviewer',{attrs:{\"msg\":\"Show bimviewer form\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputwrapper\",attrs:{\"align\":\"left\"}},[_c('v-form',{ref:\"form1\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_building')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.buildingNames,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.buildingSelected),callback:function ($$v) {_vm.buildingSelected=$$v},expression:\"buildingSelected\"}})],1),(_vm.buildingSelected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_wings')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.wings,\"label\":_vm.$t('text_all'),\"multiple\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.wingselected),callback:function ($$v) {_vm.wingselected=$$v},expression:\"wingselected\"}})],1):_vm._e(),(_vm.wingselected != \"\")?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_floors')))]),_c('hr',{staticClass:\"hr2\"}),_c('v-select',{attrs:{\"items\":_vm.floors,\"label\":_vm.$t('text_all'),\"single\":\"\",\"chips\":\"\",\"solo\":\"\"},model:{value:(_vm.floorselected),callback:function ($$v) {_vm.floorselected=$$v},expression:\"floorselected\"}})],1):_vm._e(),(!_vm.loading)?_c('div',[_c('h2',[_vm._v(_vm._s(_vm.$t('select_functions')))]),_c('hr',{staticClass:\"hr1\"}),_c('v-sheet',{staticClass:\"pa-4 primary lighten-2\"},[_c('v-text-field',{attrs:{\"label\":\"Search\",\"dark\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},model:{value:(_vm.csfsearch),callback:function ($$v) {_vm.csfsearch=$$v},expression:\"csfsearch\"}}),_c('v-checkbox',{attrs:{\"dark\":\"\",\"hide-details\":\"\",\"label\":\"Case sensitive search\"},model:{value:(_vm.caseSensitive),callback:function ($$v) {_vm.caseSensitive=$$v},expression:\"caseSensitive\"}})],1),_c('v-treeview',{attrs:{\"items\":_vm.csfitems,\"search\":_vm.csfsearch,\"filter\":_vm.filter,\"transition\":true,\"open-on-click\":true,\"rounded\":true,\"selectable\":\"\",\"return-object\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(\" \"+_vm._s('mdi-folder'))])]}}],null,false,1680069583),model:{value:(_vm.csfselection),callback:function ($$v) {_vm.csfselection=$$v},expression:\"csfselection\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"white--text\",attrs:{\"color\":\"#3577cb\"},on:{\"click\":function($event){return _vm.setAllFunctionsSelected()}}},[_vm._v(\" Select all \")]),_c('br'),_c('br'),_c('v-switch',{attrs:{\"label\":\"Split by floor\",\"color\":\"blue\",\"hide-details\":\"\"},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_c('br'),_c('br')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"inputwrapper\" align=\"left\">\n    <v-form\n      ref=\"form1\"\n      v-model=\"valid\"\n      lazy-validation\n    >\n\n    <div>\n      <h2>{{ $t('select_building') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"buildingSelected\"\n              :items=\"buildingNames\"\n              :label=\"$t('text_all')\"\n              multiple\n              chips\n              solo\n            ></v-select>\n    </div>\n\n    <div v-if='buildingSelected != \"\"'>\n      <h2>{{ $t('select_wings') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"wingselected\"\n              :items=\"wings\"\n              :label=\"$t('text_all')\"\n              multiple\n              chips\n              solo\n            ></v-select>\n    </div>\n\n    <div v-if='wingselected != \"\"'>\n      <h2>{{ $t('select_floors') }}</h2>\n      <hr class=\"hr2\"/>\n      <v-select\n              v-model=\"floorselected\"\n              :items=\"floors\"\n              :label=\"$t('text_all')\"\n              single\n              chips\n              solo\n            ></v-select>\n    </div>\n\n      <div v-if='!loading'>\n        <h2>{{ $t('select_functions') }}</h2>\n        <hr class=\"hr1\"/>\n        <v-sheet class=\"pa-4 primary lighten-2\">\n          <v-text-field\n            v-model=\"csfsearch\"\n            label=\"Search\"\n            dark\n            flat\n            solo-inverted\n            hide-details\n            clearable\n            clear-icon=\"mdi-close-circle-outline\"\n          ></v-text-field>\n          <v-checkbox\n            v-model=\"caseSensitive\"\n            dark\n            hide-details\n            label=\"Case sensitive search\"\n          ></v-checkbox>\n        </v-sheet>\n        <v-treeview\n          v-model=\"csfselection\"\n          :items=\"csfitems\"\n          :search=\"csfsearch\"\n          :filter=\"filter\"\n          :transition=\"true\"\n          :open-on-click=\"true\"\n          :rounded=\"true\"\n          selectable\n          return-object\n          dense\n        >\n        <template v-slot:prepend=\"{ item, open }\">\n          <v-icon :color=\"item.color\"> {{ 'mdi-folder' }}</v-icon>\n        </template>\n        </v-treeview>\n      </div>\n\n\n      <v-btn\n          color=\"#3577cb\"\n          class=\"white--text\"\n          @click=\"setAllFunctionsSelected()\"\n        >\n      Select all\n        </v-btn><br><br>\n\n      <v-switch\n      v-model=\"loading\"\n      label=\"Split by floor\"\n      color=\"blue\"\n      hide-details\n    ></v-switch><br><br>\n\n    </v-form>\n  </div>\n</template>\n\n\n<script>\n\nimport { mapMutations, mapActions  } from \"vuex\";\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport a from './util-a.js';\nimport r from './util-r.js';\nimport bw from './BIMviewer.vue';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\n\n\nimport {\n  createSolidDataset,\n  createThing,\n  setThing,\n  getThing,\n  addUrl,\n  addStringNoLocale,\n  saveSolidDatasetAt,\n  getSolidDataset,\n  getThingAll,\n  getStringNoLocale,\n  getStringNoLocaleAll,\n  createContainerAt,\n  getPodOwner\n} from \"@inrupt/solid-client\";\nimport {\n  Color,\n  ExtrudeGeometry,\n  Shape,\n  MeshPhongMaterial,\n  Mesh,\n  LineBasicMaterial,\n  MeshBasicMaterial,\n  Geometry,\n  Vector3,\n  PointsMaterial,\n  Points,\n  Line,\n  BufferAttribute,\n  LineCurve3,\n  BoxGeometry,\n  BufferGeometry,\n  Float32BufferAttribute,\n  LineSegments,\n  Box3,\n  Face3,\n  Triangle,\n  LineDashedMaterial,\n  DoubleSide,\n  MeshLambertMaterial,\n  MeshStandardMaterial\n} from \"three\";\nrequire('./tailwind.min.css');\n\nconst rm = {}\n\nrm.searchAndGetTriples = async function(searchWord){\n  let uri = store.state.webId.replace(\"/i\", \"/search/\")+encodeURIComponent(searchWord);\n  console.log(\"Trying to search..\")\n  console.log(uri);\n  try {\n    let res = await window.solid.session.fetch(\n      uri, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Accept\": \"text/turtle\"\n        },\n    }).then(res => res.text());\n    $rdf.parse(res, store.state.rs.rdfStore, uri, 'text/turtle');\n    return res;\n  } catch (error) {\n    console.log(\"Search failed\");\n    console.log(error);\n  }\n}\n\nconst customCompare = (a, b) => \n  /^\\d/.test(a.name) - /^\\d/.test(b.name) || \n  a.name.localeCompare(b.name, undefined, { numeric: true });\n\nfunction colorToSigned24Bit(s) {\n  return (parseInt(s.substr(1), 16) << 8) / 256;\n}\n\nexport default {\n  id: rm,\n  name: 'IFCexporter',\n  data() {\n    return {\n      rhf: [],\n      rhfselected: [],\n      rhfselectedURIs: [],\n      helseforetak: [],\n      hfselected: [],\n      hfselectedURIs: [],\n      lokselected: [],\n      locationNames: [],\n      locationURIs: [],\n      buildingNames: [],\n      buildingURIs: [],\n      buildingSelected: [],\n      wings: [],\n      wingURIs: [],\n      wingselected: [],\n      floors: [],\n      floorURIs: [],\n      floorselected: [],\n      siteURIs: [],\n      siteNames: [],\n      siteSelected: [],\n      roomsSelected: [],\n      selectedRoomURIs: [],\n      valid: true,\n      loading: false,\n      csfselection: [],\n      csfsearch: null,\n      caseSensitive: false,\n      partfunctionsSelected: [],\n      colorlist: ['#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080'],\n      csfitems: [\n        {\n          id: 1,\n          name: 'Root',\n          color: '#FF0000',\n          children: [\n            { id: 2, name: 'Child #1', color: '#0000FF' },\n            { id: 3, name: 'Child #2', color: '#00FF00' },\n            { id: 4, name: 'Child #3', color: '#0000FF' },\n          ],\n        },\n      ],\n    }\n  },\n  methods: {\n    ...mapMutations('bv', [\"RESIZE\"]),\n    ...mapActions('bv', [\"RENDER\", \"INITIALIZE_PLAYER\"]),\n    checklogin(){\n      console.log(window.solid.session.info);\n      if (window.solid.session.info.isLoggedIn){\n        console.log(\"Test logged in\");\n      } else {\n        console.log(\"Is logged out, reroute\");\n        this.$router.push({ path: '/' })\n      }\n    },\n    async getHospitalFunctions(){\n      let functionsData = await rm.searchAndGetTriples(\"#NMH.F.SYKEHUS.*\");\n      this.csfitems = [];\n      const mainfunctionTags = [];\n      const mainfunctionURIs = [];\n      const partfunctionTags = [];\n      const partfunctionURIs = [];\n      store.state.rs.rdfStore.match(null, ns.TAG(\"tag\"), null).forEach(item => {\n        if(item.object.value.includes(\"NMH.F.SYKEHUS.\")){\n          // Check if main function\n          let foundMainfunction = false;\n          store.state.rs.rdfStore.match($rdf.sym(item.subject.value), ns.RDFS(\"label\"), null).forEach(subitem => {\n            if(subitem.object.value.includes(\"Hovedfunksjon\")) foundMainfunction = true;\n          });\n          if(foundMainfunction){\n            console.log(\"Found: \"+ item.object.value);\n            mainfunctionTags.push(item.object.value);\n            mainfunctionURIs.push(item.subject.value);\n          } else {\n            partfunctionTags.push(item.object.value);\n            partfunctionURIs.push(item.subject.value);\n          }\n        }\n      });\n      let idCounter = 0;\n      mainfunctionTags.forEach((mainfunctionTag, i) => {\n        const partFunctions = [];\n        partfunctionTags.forEach((partfunctionTag, j) => {\n          if(partfunctionTag.includes(mainfunctionTag+\".\")){\n            const partFunctionName = store.state.rs.rdfStore.match($rdf.sym(partfunctionURIs[j]), ns.RDFS(\"label\"), null)[0].object.value.replace(\"Delfunksjon: \", \"\");\n            partFunctions.push({id: idCounter, name: partFunctionName, color: this.colorlist[i], tag: partfunctionTag, uri: partfunctionURIs[j] })\n            idCounter++;\n          }\n        });\n        partFunctions.sort(customCompare);\n        const mainFunctionName = store.state.rs.rdfStore.match($rdf.sym(mainfunctionURIs[i]), ns.RDFS(\"label\"), null)[0].object.value.replace(\"Hovedfunksjon: \", \"\");\n        this.csfitems.push({id: idCounter, name: mainFunctionName, color: this.colorlist[i], tag: mainfunctionTag, uri: mainfunctionURIs[i], children: partFunctions })\n        this.csfitems.sort(customCompare);\n        idCounter++;\n      });\n    },\n    setAllFunctionsSelected(){\n      if(this.csfselection.length>0){\n        this.csfselection = [];\n      } else {\n        this.csfitems.forEach(item => {\n          this.csfselection.push(item);\n        });\n      }\n    },\n    getRHFDataFromTrinity(){\n        const URIofInterest = store.state.ministryURI;\n        if(store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).length != 0){\n          console.log(\"RHF FOUND!, getting data from local storage.\");\n          store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).forEach(st => {\n             console.log(\"RHF URI\" + st.object);\n             this.rhfselectedURIs.push(st.object);\n          });\n          // Getting URI names\n          this.rhfselectedURIs.forEach((item, i) => {\n            const URITriple = $rdf.st(item, ns.FOAF(\"name\"), null);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURIObject(tripleArray, URITriple, '').then((rhfURIs) => {\n              rhfURIs.forEach((item, i) => {\n                if(!this.rhf.includes(''+item.object)){\n                  this.rhf.push(''+item.object);\n                  this.rhfselected.push(''+item.object);\n                }\n              });\n            });\n          });\n        } else {\n          console.log(\"RHF NOT FOUND!, getting data from TrinPod\");\n          ur.aLoadURI(URIofInterest+\"/i\", null, null).then((result) => {\n            if(result){\n              store.state.rs.rdfStore.match($rdf.sym(URIofInterest+\"/i\"), ns.ORG(\"hasSubOrganization\"), null).forEach(st => {\n                   console.log(\"RHF URI\" + st.object);\n                   store.state.rs.rdfStore.add(st);\n                   this.rhfselectedURIs.push(st.object);\n              });\n              // Getting URI names\n              this.rhfselectedURIs.forEach((item, i) => {\n                const URITriple = $rdf.st(item, ns.FOAF(\"name\"), null);\n                let tripleArray = [];\n                tripleArray.push(URITriple);\n                this.getURIObject(tripleArray, URITriple, '').then((rhfURIs) => {\n                  rhfURIs.forEach((item, i) => {\n                    if(!this.rhf.includes(''+item.object)){\n                      this.rhf.push(''+item.object);\n                      this.rhfselected.push(''+item.object);\n                    }\n                  });\n                });\n              });\n            } else {\n              console.log(\"Ministry Of Health URI not found.\");\n            }\n          });\n        }\n    },\n    async getURIObject(tripleArray, URITriple, URIreqire){ // Must rebuild to handle both subject and predicate as null values\n        return new Promise(resolve => {\n          let foundURIs = [];\n          if(store.state.rs.rdfStore.match(URITriple.subject, URITriple.predicate, null).length != 0){ // This check must be fixed\n            console.log(\"Getting locally.\")\n            tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n            tripleArray.forEach(item => {\n              if(item.object.value.includes(URIreqire)){\n                console.log(\"Found URI\" + item);\n                foundURIs.push(item);\n              }\n            });\n            resolve(foundURIs);\n          } else {\n            console.log(\"Getting TrinPod.\")\n            ur.aLoadURI(URITriple.subject.value, null, null).then((result) => {\n              if(result){\n                console.log(result);\n                  tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n                  tripleArray.forEach(item => {\n                    if(item.object.value.includes(URIreqire)){\n                      //console.log(\"Found URI\" + item.object);\n                      store.state.rs.rdfStore.add(item);\n                      foundURIs.push(item);\n                    }\n                  });\n                  resolve(foundURIs);\n              }\n            });\n          }\n        });\n      },\n      async getURISubject(tripleArray, URITriple, URIreqire){ // Must rebuild to handle both subject and predicate as null values\n        return new Promise(resolve => {\n          let foundURIs = [];\n          if(store.state.rs.rdfStore.match(null, URITriple.predicate, URITriple.object).length != 0){ // This check must be fixed\n            console.log(\"Getting locally.\")\n            tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n            tripleArray.forEach(item => {\n              if(item.subject.value.includes(URIreqire)){\n                console.log(\"Found URI\" + item);\n                foundURIs.push(item);\n              }\n            });\n            resolve(foundURIs);\n          } else {\n            console.log(\"Getting TrinPod.\")\n            ur.aLoadURI(URITriple.object.value, null, null).then((result) => {\n              if(result){\n                console.log(result);\n                  console.log(tripleArray);\n                  tripleArray = this.getTripleMatches(tripleArray, store.state.rs.rdfStore);\n                  tripleArray.forEach(item => {\n                    if(item.subject.value.includes(URIreqire)){\n                      //console.log(\"Found URI\" + item.subject);\n                      store.state.rs.rdfStore.add(item);\n                      foundURIs.push(item);\n                    }\n                  });\n                  resolve(foundURIs);\n              }\n            });\n          }\n        });\n      },\n      getTripleMatches(tripleArray, tripleGraph){\n        let tripleResult = [];\n        tripleArray.forEach((item, i) => {\n          if(i==0){\n            //console.log(\"S: \"+tripleArray[i].subject+\" P: \"+tripleArray[i].predicate+\" O: \"+tripleArray[i].object);\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              tripleResult.push(st);\n            });\n          } else {\n            tripleGraph.match(tripleArray[i].subject, tripleArray[i].predicate, tripleArray[i].object).forEach(st => {\n              if(tripleResult.includes(st)){\n                tripleResult = this.arrayRemove(tripleResult, st);\n                tripleResult.push(st);\n              } else {\n                tripleResult.push(st);\n              }\n            });\n          }\n        });\n        return tripleResult;\n      }\n  },\n  computed: {\n    filter () {\n        return this.caseSensitive\n          ? (item, csfsearch, textKey) => item[textKey].indexOf(csfsearch) > -1\n          : undefined\n      },\n  },\n  watch: {\n    csfselection: function(val, oldVal){\n      this.partfunctionsSelected = [];\n      console.log(val);\n      // Remove all previous rooms\n      store.state.bv.roomGeometry = [];\n      const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n      for( var i = buildingbox.children.length - 1; i >= 0; i--) { \n        if(!buildingbox.children[i].name.includes(\"FLOORPLAN\")) buildingbox.remove(buildingbox.children[i]);\n      }\n      // Add new rooms\n      val.forEach(roomvalue => {\n         this.partfunctionsSelected.push({uri: roomvalue.uri, color: roomvalue.color});\n      });\n    },\n    partfunctionsSelected: function(val, oldVal){\n      // Find rooms based on function\n      this.roomsSelected = [];\n      val.forEach(functionvalue => {\n        //store.state.rs.rdfStore.match(null, ns.NEO(\"b_capable\"), $rdf.sym(functionvalue.uri)).forEach(roomItem => { // Must be replaced back when database is not broken\n        this.selectedRoomURIs.forEach(roomURI => {\n          store.state.rs.rdfStore.match($rdf.sym(roomURI), null, $rdf.sym(functionvalue.uri)).forEach(roomItem => {\n            this.roomsSelected.push({uri: roomItem.subject.value, color: functionvalue.color});\n          });\n        });\n      });\n    },\n    roomsSelected: function(val, oldVal){\n      // Add newly selected rooms\n      console.log(\"Found rooms\");\n      val.forEach(room => {\n        console.log(\"RoomURI: \"+room.uri);\n        store.state.rs.rdfStore.match($rdf.sym(room.uri), ns.IFOUR(\"m_polyline\"), null).forEach((polyline, i) => {\n            bmu.addRoomMatrix(polyline, colorToSigned24Bit(room.color), 1, room.uri);\n          });\n      });\n    },\n    rhfselected: function (val) {\n      console.log(\"rhf selected...\");\n      var A = 0;\n      var B = 0;\n      var C = 0;\n      var D = 0;\n      for(let i = 0; i < this.rhfselected.length; i++){\n        console.log(\"Selected RHF: \"+ this.rhfselected[i])\n        if(this.rhfselected[i] == \"Helse Nord RHF\"){ A = 1 }\n        if(this.rhfselected[i] == \"Helse Midt-Norge RHF\"){ B = 1 }\n        if(this.rhfselected[i] == \"Helse Vest RHF\"){ C = 1 }\n        if(this.rhfselected[i] == \"Helse Sør-Øst RHF\"){ D = 1 }\n      }\n\n      this.hrimage = \"hr\"+A+B+C+D+\".png\"\n\n      this.rhfselectedURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(item, ns.ORG(\"hasSubOrganization\"), null);\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURIObject(tripleArray, URITriple, '').then((hfURIs) => {\n          hfURIs.forEach((item, i) => {\n            console.log(\"Found HF URIs: \"+item.object.value);\n            this.hfselectedURIs.push(item.object);\n            const URITriple = $rdf.st(item.object, ns.FOAF(\"name\"), null);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURIObject(tripleArray, URITriple, '').then((hfNames) => {\n              hfNames.forEach((item, i) => {\n                if(!this.hfselected.includes(''+item.object.value)){\n                  this.helseforetak.push(item.object.value);\n                  this.hfselected.push(item.object.value);\n                }\n              });\n            });\n          });\n        });\n      });\n    },\n    hfselected: function (val) {\n      console.log(\"hf selected...\");\n      this.hfselectedURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(item, ns.ORG(\"hasSubOrganization\"), null);\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURIObject(tripleArray, URITriple, '').then((locURIs) => {\n          locURIs.forEach((item, i) => {\n            console.log(\"Found Location URIs: \"+item.object.value);\n            this.locationURIs.push(item.object);\n            const URITriple = $rdf.st(item.object, ns.FOAF(\"name\"), null);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURIObject(tripleArray, URITriple, '').then((locNames) => {\n              locNames.forEach((item, i) => {\n                if(!this.locationNames.includes(''+item.object.value)){\n                  this.locationNames.push(item.object.value);\n                  this.lokselected.push(item.object.value);               \n                }\n              });\n            });\n          });\n        });\n      });\n    },\n    lokselected: function (val) {\n      console.log(\"location selected...\");\n      this.locationURIs.forEach((item, i) => {\n        const URITriple = $rdf.st(null, ns.ACL(\"owner\"), item);\n        let tripleArray = [];\n        tripleArray.push(URITriple);\n        this.getURISubject(tripleArray, URITriple, '').then((locURIs) => {\n          locURIs.forEach((item, i) => {\n            console.log(\"Found Site URIs: \"+item.subject.value);\n            this.siteURIs.push(item.subject);\n          });\n          this.siteURIs.forEach((item, i) => {\n            const URITriple = $rdf.st(null, ns.ACL(\"owner\"), item);\n            let tripleArray = [];\n            tripleArray.push(URITriple);\n            this.getURISubject(tripleArray, URITriple, '').then((buildURIs) => {\n              buildURIs.forEach((item, i) => {\n                console.log(\"Found Building URIs: \"+item.subject.value);\n                this.buildingURIs.push(item.subject);\n                const URITriple = $rdf.st(item.subject, ns.FOAF(\"name\"), null);\n                let tripleArray = [];\n                tripleArray.push(URITriple);\n                this.getURIObject(tripleArray, URITriple, '').then((buildNames) => {\n                  buildNames.forEach((item, i) => {\n                    if(!this.buildingNames.includes(''+item.object.value)){\n                      this.buildingNames.push(''+item.object.value);\n                      this.buildingSelected.push(''+item.object.value);\n                    }\n                  });\n                });\n              });\n            });\n          });\n        });\n      });\n    },\n    buildingSelected: async function (val) {\n      const buildingSelectedURIs = [];\n      this.buildingNames.forEach((item, i) => {\n        buildingSelectedURIs.push(this.buildingURIs[i]);\n      });\n\n      let storeyfetch = await buildingSelectedURIs.forEach((item, i) => {\n        ur.fetchAndSaveTurtle(item.value, true).then((successBool) => {\n          return successBool;\n        });\n      });\n      if(storeyfetch){}\n\n      // Get all the storey URIs\n      /*let tripleArray = store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\"));\n      tripleArray.forEach(item => {\n        //if(item.object.value.includes(\"Storey-\")){\n          console.log(\"Found storey URI: \"+item.subject.value);\n          this.floorURIs.push(item.subject.value);\n        //}\n      });*/\n\n      let wingSearch = await r.searchAndGetURIs(\"#\"+store.state.currentBuildingTag+\".FLOY*\");\n      if(wingSearch){}\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.NEO(\"s_instance\")).forEach(item => {\n          console.log(\"Found wing: \" + item.subject.value);\n          //if(!this.floorURIs.includes(item.subject.value)){\n             this.wingURIs.push(item.subject.value);\n          //}\n      });\n\n      // Get the storey names\n      this.wingURIs.forEach((item, i) => {\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(item), ns.RDFS(\"label\"), null);\n        tripleArray.forEach(item => {\n          console.log(\"Found wing name: \"+item.object.value);\n          if(!this.wings.includes(decodeURI(item.object.value))){\n             this.wings.push(decodeURI(item.object.value));\n          }\n        });\n      });\n\n\n    },\n    wingselected: async function (val){\n      let storeySearch = await r.searchAndGetURIs(\"#\"+store.state.currentBuildingTag+\"*\");\n      if(storeySearch){}\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.BOT(\"Storey\")).forEach(item => {\n          console.log(\"Found storey: \" + item.subject.value);\n          //if(!this.floorURIs.includes(item.subject.value)){\n             this.floorURIs.push(item.subject.value);\n          //}\n      });\n\n      // Get the storey names\n      this.floorURIs.forEach((item, i) => {\n        let tripleArray = store.state.rs.rdfStore.match($rdf.sym(item), ns.RDFS(\"label\"), null);\n        tripleArray.forEach(item => {\n          console.log(\"Found storey name: \"+item.object.value);\n          if(!this.floors.includes(decodeURI(item.object.value))){\n             this.floors.push(decodeURI(item.object.value));\n          }\n        });\n      });\n    },\n    floorselected: async function(val) {\n      console.log(this.floorselected);\n      store.state.bv.GLTFloadingQueue = [];\n      bmu.unloadGeometryUsingTag(store.state.currentBuildingTag, [\"BUILDING\"]);\n      bmu.unloadGeometryContainingString(\"FLOORPLAN\");\n\n      let selectedStoreyURIs = [];\n      let roomNames = [];\n\n      // Get the selected storey URIs\n      this.floors.forEach((item, i) => {\n        if(this.floorselected.includes(item)){\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(item, 'en'));\n          tripleArray.forEach(item => {\n            console.log(\"Found selected Storey URI: \"+item.subject.value);\n            selectedStoreyURIs.push(item.subject.value);\n          });\n        } else {\n          // Remove geometry for storeys not selected\n          let tripleArray = store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(item, 'en'));\n          tripleArray.forEach(storeytriple => {\n            store.state.rs.rdfStore.match($rdf.sym(storeytriple.subject.value), ns.TAG(\"tag\"), null).forEach(tagitem => {\n            console.log(\"Storey tag to remove: \"+tagitem.object.value);\n            bmu.unloadGeometryUsingTag(tagitem.object.value, [\"FLOORPLAN\"]);\n          });\n        });\n        }\n      });\n\n      // Get tags for selected storey URIs\n      let storeyTAG = \"\";\n      selectedStoreyURIs.forEach(storeyitem => {\n        store.state.rs.rdfStore.match($rdf.sym(storeyitem), ns.TAG(\"tag\"), null).forEach(item => {\n          console.log(\"Storey tag: \"+item.object.value);\n          storeyTAG = item.object.value;\n          storeyTAG = storeyTAG.replace(\".FLOY_O\", \"\");\n          storeyTAG = storeyTAG.replace(\".FLOY_S\", \"\");\n          // Show geometry for the tag\n          if(store.state.bv.gltfGeoVisible){\n            bmu.loadGeometryUsingTag(storeyTAG, this.$route.query.location, [\"FLOORPLAN\"]);\n          }\n        });\n      });\n\n      console.log(\"StoreyTAG:\"+storeyTAG);\n      let roomSearch = await r.searchAndGetURIs(\"#\"+storeyTAG+\"*\"); \n      if(roomSearch){}\n      console.log()\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), null).forEach(item => {\n          if(item.object.value.includes(\"Room\")){\n            console.log(\"Found room: \" + item.subject.value);\n            if(!this.selectedRoomURIs.includes(item.subject.value)){\n              this.selectedRoomURIs.push(item.subject.value);\n            }\n          }\n      });\n      \n      // Fetch data for rooms\n      for(let i=0; i<this.selectedRoomURIs.length; i++){\n        let fetchrooms = await ur.fetchAndSaveTurtle(this.selectedRoomURIs[i]).then((successBool) => {\n          console.log(\"Finished doing room fetch!\");\n          return successBool;\n        });\n        if(fetchrooms){}\n      }\n      //this.getRoomGeometry(this.selectedRoomURIs);\n    },\n  },\n  mounted() {\n    this.checklogin();\n    console.log(store.state.webId);\n    this.getHospitalFunctions();\n    this.getRHFDataFromTrinity();\n    //bmu.zoomTwoDimCamera();\n  },\n  created(){\n    store.state.bv.twodim = true;\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\nhr {\n  height: 3px ;\n  margin-bottom: 10px;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #3577cb;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RentModule.vue?vue&type=template&id=3df10dd4&scoped=true&\"\nimport script from \"./RentModule.vue?vue&type=script&lang=js&\"\nexport * from \"./RentModule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RentModule.vue?vue&type=style&index=0&id=3df10dd4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3df10dd4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VBtn,VCheckbox,VForm,VIcon,VSelect,VSheet,VSwitch,VTextField,VTreeview})\n","<template>\n  <div id=\"wrapper\" class=\"feedback\">\n    <div class=\"left\"><RentModule msg=\"Show RentModule form\" /></div>\n    <div class=\"right\"><BIMviewer msg=\"Show bimviewer form\" /></div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport RentModule from '../components/RentModule.vue'\nimport BIMviewer from '../components/BIMviewer.vue'\nimport \"vuetify/dist/vuetify.min.css\";\n\nexport default {\n  name: 'RentModuleV',\n  components: {\n    RentModule,\n    BIMviewer\n  }\n}\n</script>\n\n<style scoped>\n#wrapper {\n  display: flex;\n}\n\n.left {\n  flex: 0 0 35%;\n  height: 95vh;\n  min-width: 400px;\n  overflow: scroll;\n}\n\n.right {\n  flex: 1;\n}\n\n@media screen and (max-width: 1000px) {\n  #wrapper {\n    display: block;\n    flex-direction: row;\n  }\n  .left, .right{\n    position: relative;\n    float:none;\n    width:100%;\n    height: fit-content;\n  }\n\n  .right{\n    height: fit-content;\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModuleV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RentModuleV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RentModuleV.vue?vue&type=template&id=5bd0ca6e&scoped=true&\"\nimport script from \"./RentModuleV.vue?vue&type=script&lang=js&\"\nexport * from \"./RentModuleV.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RentModuleV.vue?vue&type=style&index=0&id=5bd0ca6e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bd0ca6e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from '../views/Login.vue'\nimport Logout from '../views/Logout.vue'\nimport About from '../views/About.vue'\nimport ImportData from '../views/ImportDataV.vue'\nimport BIMviewer from '../views/BIMviewerV.vue'\nimport BMviewer from '../views/TSviewerV.vue'\nimport AssetsList from '../views/AssetsListV.vue'\nimport Capacity from '../views/CapacityV.vue'\nimport FilesLib from '../views/FilesLibV.vue'\nimport PodSelect from '../views/PodSelectV.vue'\nimport FileEdit from '../views/FileEditV.vue'\nimport Search from '../views/SearchV.vue'\nimport ImportIFC from '../views/ImportIFCV.vue'\nimport PDFviewer from '../views/PDFviewerV.vue'\nimport WorkList from '../views/WorkListV.vue'\nimport IFCexporter from '../views/IFCexporterV.vue'\nimport RentModule from '../views/RentModuleV.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/logout',\n    name: 'Logout',\n    component: Logout\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: About\n  },\n  {\n    path: '/importdata',\n    name: 'ImportData',\n    component: ImportData,\n    props: true\n  },\n  {\n    path: '/bimviewer',\n    name: 'BIMviewer',\n    component: BIMviewer\n  },\n  {\n    path: '/bmviewer',\n    name: 'BMviewer',\n    component: BMviewer\n  },\n  {\n    path: '/assetslist',\n    name: 'AssetsList',\n    component: AssetsList\n  },\n  {\n    path: '/fileslib',\n    name: 'FilesLib',\n    component: FilesLib\n  },\n  {\n    path: '/podselect',\n    name: 'PodSelect',\n    component: PodSelect\n  },\n    {\n    path: '/fileedit',\n    name: 'FileEdit',\n    component: FileEdit\n  },\n  {\n    path: '/search',\n    name: 'Search',\n    component: Search\n  },\n  {\n    path: '/capacity',\n    name: 'Capacity',\n    component: Capacity,\n    props: true\n  },\n  {\n    path: '/importifc',\n    name: 'ImportIFC',\n    component: ImportIFC,\n    props: true\n  },\n  {\n    path: '/pdfviewer',\n    name: 'PDFviewer',\n    component: PDFviewer,\n  },\n  {\n    path: '/worklist',\n    name: 'WorkList',\n    component: WorkList,\n  },\n  {\n    path: '/ifcexporter',\n    name: 'IFCexporter',\n    component: IFCexporter,\n  },\n  {\n    path: '/rentmodule',\n    name: 'RentModule',\n    component: RentModule,\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: '/',\n  routes\n})\n\n\n/*router.beforeEach((to, from, next) => {\n  console.log(\"To\")\n  console.log(to)\n  console.log(\"From\")\n  console.log(from)\n  next()\n})*/\n\nexport default router\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=6e9f336a&prod&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeview}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"text_room_details\")))]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":_vm.getRoomDetails}},[_vm._v(\" Reload \")])],1)],1),_c('v-container',{staticStyle:{\"align-items\":\"left\",\"background-color\":\"white\",\"border\":\"0px\",\"margin\":\"0px\"},attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-card',{staticClass:\"pa-2\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"10px\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',{staticStyle:{\"max-width\":\"350px\"}},[_c('v-list-item-title',{staticClass:\"roomtitle\",domProps:{\"textContent\":_vm._s(_vm.roomName)}}),_c('v-list-item-subtitle',{staticClass:\"roomuri\",domProps:{\"textContent\":_vm._s(_vm.roomURI)}}),_c('v-simple-table',{staticClass:\"simpletable\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',[_c('b',[_vm._v(\"Navn:\")])]),_c('td',[_vm._v(_vm._s(_vm.roomName))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"RomNr:\")])]),_c('td',[_vm._v(_vm._s(_vm.roomNum))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Bygg:\")])]),_c('td',[_vm._v(_vm._s(_vm.building))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Etasje:\")])]),_c('td',[_vm._v(_vm._s(_vm.storey))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Hovedfunksjon:\")])]),_c('td',[_vm._v(_vm._s(_vm.mainfunction))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Delfunksjon:\")])]),_c('td',[_vm._v(_vm._s(_vm.partfunction))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Type:\")])]),_c('td',[_vm._v(_vm._s(_vm.renttype))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Utleieareal:\")])]),_c('td',[_vm._v(_vm._s(_vm.rentarea+\" \\u33A1\"))])]),_c('tr',[_c('td',[_c('b',[_vm._v(\"Fri Andel:\")])]),_c('td',[_vm._v(_vm._s(_vm.freesharepercent+\" %\"))])])])]},proxy:true}])})],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"100\"}},[_c('img',{attrs:{\"src\":require(\"../assets/room.png\")}})])],1)],1),_c('v-card',{staticClass:\"pa-2\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"0px\"}},[_vm._v(\" Fordeling av kontrakter\"),_c('br'),_c('Pie',{attrs:{\"chart-options\":_vm.chartOptions,\"chart-data\":_vm.chartData,\"chart-id\":_vm.chartId,\"dataset-id-key\":_vm.datasetIdKey,\"plugins\":_vm.plugins,\"css-classes\":_vm.cssClasses,\"styles\":_vm.styles,\"width\":_vm.width,\"height\":_vm.height}})],1),_c('v-card',{staticClass:\"pa-2\",staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"10px\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',{staticStyle:{\"max-width\":\"350px\"}},[_c('v-list-item-title',{staticClass:\"roomtitle\",domProps:{\"textContent\":_vm._s(_vm.$t('text_room_geometry'))}}),_c('v-simple-table',{staticClass:\"simpletable\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',[_c('tr',[_c('td',[_c('b',[_vm._v(_vm._s(_vm.$t('text_netarea')))])]),_c('td',[_vm._v(_vm._s(_vm.netarea))])]),_c('tr',[_c('td',[_c('b',[_vm._v(_vm._s(_vm.$t('text_netarea_calculated')))])]),_c('td',[_vm._v(_vm._s(_vm.netareacalculated))])]),_c('tr',[_c('td',[_c('b',[_vm._v(_vm._s(_vm.$t('text_grossarea')))])]),_c('td',[_vm._v(_vm._s(_vm.grossarea))])]),_c('tr',[_c('td',[_c('b',[_vm._v(_vm._s(_vm.$t('text_doors')))])]),_c('td',[_vm._v(_vm._s(_vm.doors))])])])]},proxy:true}])})],1),_c('v-list-item-avatar',{attrs:{\"tile\":\"\",\"size\":\"100\"}},[_c('img',{attrs:{\"src\":require(\"../assets/geometry2.png\")}})])],1)],1)],1)],1),_c('div',{staticClass:\"inputwrapper\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('text_contracts')))]),_c('hr',{staticClass:\"hr1\"}),_c('br'),_c('v-card',[_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.contractSearch),callback:function ($$v) {_vm.contractSearch=$$v},expression:\"contractSearch\"}})],1),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.contractTableHeaders,\"items\":_vm.contractTableList,\"search\":_vm.contractSearch,\"flat\":\"\",\"item-key\":\"contractid\",\"show-select\":\"\"},model:{value:(_vm.contractTableSelectedRow),callback:function ($$v) {_vm.contractTableSelectedRow=$$v},expression:\"contractTableSelectedRow\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-toolbar\n      dark\n      color=\"primary\"\n    >\n      <v-btn\n        icon\n        dark\n        @click=\"closeview\"\n      >\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n      <v-toolbar-title>{{ $t(\"text_room_details\")}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n        <v-btn\n          dark\n          text\n          @click=\"getRoomDetails\"\n        >\n          Reload\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n\n    <v-container style=\"align-items: left; background-color: white; border: 0px; margin: 0px;\" fluid>\n      <v-row no-gutters>\n      <v-card class=\"pa-2\" style=\"margin-bottom: 10px; margin-right: 10px;\">\n          <v-list-item three-line>\n            <v-list-item-content style=\"max-width: 350px;\">\n              <v-list-item-title class=\"roomtitle\" v-text=\"roomName\"></v-list-item-title>\n              <v-list-item-subtitle class=\"roomuri\" v-text=\"roomURI\"></v-list-item-subtitle>\n              <v-simple-table dense class=\"simpletable\">\n                <template v-slot:default>\n                  <tbody>\n                    <tr>\n                      <td><b>Navn:</b></td>\n                      <td>{{ roomName }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>RomNr:</b></td>\n                      <td>{{ roomNum }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Bygg:</b></td>\n                      <td>{{ building }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Etasje:</b></td>\n                      <td>{{ storey }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Hovedfunksjon:</b></td>\n                      <td>{{ mainfunction }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Delfunksjon:</b></td>\n                      <td>{{ partfunction }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Type:</b></td>\n                      <td>{{ renttype }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Utleieareal:</b></td>\n                      <td>{{ rentarea+\" \\u33A1\" }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>Fri Andel:</b></td>\n                      <td>{{ freesharepercent+\" %\" }}</td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </v-list-item-content>\n\n            <v-list-item-avatar\n              tile\n              size=\"100\"\n            ><img src='../assets/room.png'>\n            </v-list-item-avatar>\n          </v-list-item>\n        </v-card>\n\n        <v-card class=\"pa-2\" style=\"margin-bottom: 10px; margin-right: 0px;\">\n          Fordeling av kontrakter<br>\n          <Pie\n            :chart-options=\"chartOptions\"\n            :chart-data=\"chartData\"\n            :chart-id=\"chartId\"\n            :dataset-id-key=\"datasetIdKey\"\n            :plugins=\"plugins\"\n            :css-classes=\"cssClasses\"\n            :styles=\"styles\"\n            :width=\"width\"\n            :height=\"height\"\n          />\n        </v-card>\n\n        <v-card class=\"pa-2\" style=\"margin-bottom: 10px; margin-right: 10px;\">\n          <v-list-item three-line>\n            <v-list-item-content style=\"max-width: 350px;\">\n              <v-list-item-title class=\"roomtitle\" v-text=\"$t('text_room_geometry')\"></v-list-item-title>\n              <v-simple-table dense class=\"simpletable\">\n                <template v-slot:default>\n                  <tbody>\n                    <tr>\n                      <td><b>{{ $t('text_netarea') }}</b></td>\n                      <td>{{ netarea }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>{{ $t('text_netarea_calculated') }}</b></td>\n                      <td>{{ netareacalculated }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>{{ $t('text_grossarea') }}</b></td>\n                      <td>{{ grossarea }}</td>\n                    </tr>\n                    <tr>\n                      <td><b>{{ $t('text_doors') }}</b></td>\n                      <td>{{ doors }}</td>\n                    </tr>\n                  </tbody>\n                </template>\n              </v-simple-table>\n            </v-list-item-content>\n\n            <v-list-item-avatar\n              tile\n              size=\"100\"\n            ><img src='../assets/geometry2.png'>\n            </v-list-item-avatar>\n          </v-list-item>\n        </v-card>\n\n        </v-row>\n       </v-container>\n\n      <div class=\"inputwrapper\">\n        <h2>{{ $t('text_contracts') }}</h2>\n       <hr class=\"hr1\"/><br>\n      <v-card>\n      <v-card-title>\n        <v-text-field\n          v-model=\"contractSearch\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n      <v-data-table\n        :headers=\"contractTableHeaders\"\n        :items=\"contractTableList\"\n        :search=\"contractSearch\"\n        flat\n        class=\"elevation-0\"\n        item-key=\"contractid\"\n        v-model=\"contractTableSelectedRow\"\n        show-select\n      ></v-data-table>\n      </v-card>\n      </div>\n\n  </v-card>\n\n</template>\n\n\n<script>\n\nconst N3 = require('n3');\nconst n3store = new N3.Store();\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport router from '../router';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport so from './util-s.js';\nimport u from './util.js';\nimport ur from './util-rdf.js';\nimport bmu from './BIMviewer-utils.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nrequire('./tailwind.min.css');\nimport { Pie } from 'vue-chartjs/legacy';\nimport {\n  Chart as ChartJS,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  CategoryScale,\n  Plugin,\nChart\n} from 'chart.js';\n\nconst rd = {}\n\nChartJS.register(Title, Tooltip, Legend, ArcElement, CategoryScale)\n\nexport default {\n  id: rd,\n  name: 'RoomDetails',\n  props: {\n    chartId: {\n      type: String,\n      default: 'pie-chart'\n    },\n    datasetIdKey: {\n      type: String,\n      default: 'label'\n    },\n    width: {\n      type: Number,\n      default: 460\n    },\n    height: {\n      type: Number,\n      default: 310\n    },\n    cssClasses: {\n      default: '',\n      type: String\n    },\n    styles: {\n      type: Object,\n      default: () => {}\n    },\n    plugins: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      documenturl: '',\n      roomURI: \"\",\n      roomName: \"\",\n      roomNum: \"\",\n      building: \"\",\n      storey: \"\",\n      mainfunction: \"\",\n      partfunction: \"\",\n      renttype: \"\",\n      rentarea: \"\",\n      freesharepercent: \"\",\n      contractSearch: \"\",\n      netarea: \"\",\n      netareacalculated: \"\",\n      grossarea: \"\",\n      doors: \"\",\n      contractTableHeaders: [\n        {\n          text: '#',\n          align: 'start',\n          filterable: false,\n          value: 'contractid',\n        },\n        { text: this.$t('text_owner'), value: 'owner' },\n        { text: this.$t('text_contract_nr'), value: 'contractnr' },\n        { text: this.$t('text_contract_type'), value: 'type' },\n        { text: this.$t('text_contractor'), value: 'contractor' },\n        { text: this.$t('text_from'), value: 'from' },\n        { text: this.$t('text_to'), value: 'to' },\n        { text: this.$t('text_rented_area'), value: 'area' },\n        { text: this.$t('text_share'), value: 'share' }\n      ],\n      contractTableList: [\n        {contractid: 1, owner: \"Helgelandssykehuset HF\", contractnr: \"2016001\", type: \"Standard\", contractor: \"Bildediagnostikk\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}, \n        {contractid: 2, owner: \"Helgelandssykehuset HF\", contractnr: \"2016002\", type: \"Standard\", contractor: \"Medisinsk klinikk\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}, \n        {contractid: 3, owner: \"Helgelandssykehuset HF\", contractnr: \"2016003\", type: \"Standard\", contractor: \"ØNH-, kjeve og øyesykdommer\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}, \n        {contractid: 4, owner: \"Helgelandssykehuset HF\", contractnr: \"2016004\", type: \"Standard\", contractor: \"Nevroklinikken\", from: \"4/1/2022\", to: \"\", area: \"0.3 m2\", share: 12, color: \"B\"}, \n        {contractid: 5, owner: \"Helgelandssykehuset HF\", contractnr: \"2016005\", type: \"Standard\", contractor: \"Kliniske servicefunksjoner\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}, \n        {contractid: 6, owner: \"Helgelandssykehuset HF\", contractnr: \"2016006\", type: \"Standard\", contractor: \"Fysikalsk medisin og rehab.\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}, \n        {contractid: 7, owner: \"Helgelandssykehuset HF\", contractnr: \"2016007\", type: \"Standard\", contractor: \"Mat og Cafe\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 4.5}, \n        {contractid: 8, owner: \"Helgelandssykehuset HF\", contractnr: \"2016008\", type: \"Standard\", contractor: \"Klinikk for anestesi og intensivmedisin\", from: \"4/1/2022\", to: \"\", area: \"0.87 m2\", share: 12}\n\n      ],\n      contractTableSelectedRow: [],\n      colorSet: ['#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#46f0f0', '#f032e6', '#bcf60c', '#fabebe', '#008080', '#e6beff', '#9a6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075', '#808080'],\n      chartData: {\n        labels: [\"Half\", \"And\"],\n        datasets: [\n          {\n            backgroundColor: ['#3cb44b', '#ffe119'],\n            data: [50, 50]\n          }\n        ]\n      },\n      chartOptions: {\n        responsive: false,\n        maintainAspectRatio: true\n      }\n    }\n  },\n  components: {\n    Pie\n  },\n  methods: {\n    closeview(){\n      console.log(\"Close view\");\n      store.state.cp.roomDetailURI = \"\";\n    },\n    async getRoomDetails(){\n      console.log(\"roomDetailURI: \"+store.state.cp.roomDetailURI)\n      this.roomURI = store.state.cp.roomDetailURI;\n      let roomTAG = \"\";\n      store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.TAG(\"tag\"), null).forEach(st => {\n          roomTAG = st.object.value;\n      });\n      store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.RDFS(\"label\"), null).forEach(st => {\n        this.roomName = u.decodeCharacters(st.object.value);\n      });\n      this.roomNum = this.roomName.replace(\"Rom \", \"\").replace(\"Room \", \"\");\n      store.state.rs.rdfStore.match(null, ns.DUL(\"hasPart\"), $rdf.sym(this.roomURI)).forEach(st => {\n        if(store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDF(\"type\"), ns.BOT(\"Storey\")).length >= 0){\n          store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDFS(\"label\"), null).forEach(st => {\n            this.storey = st.object;\n          });\n        }\n      });\n      // Get room functions\n      let partfunctions = store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.NEO(\"b_capable\"), null);\n      for(let p=0; p<partfunctions.length; p++){\n        // Fetch the relation between partfunction and mainfunction\n        let fetchrooms = await ur.fetchAndSaveTurtle(partfunctions[p].object.value, true).then((successBool) => {\n          return successBool;\n        });\n        if(fetchrooms){}\n        // Get the partfunction label\n        store.state.rs.rdfStore.match($rdf.sym(partfunctions[p].object.value), ns.RDFS(\"label\"), null).forEach(st => {\n          this.partfunction = st.object.value.replace(\"Delfunksjon: \", \"\");\n        });\n        // Get the mainfunction label\n        store.state.rs.rdfStore.match($rdf.sym(partfunctions[p].object.value), ns.NEO(\"t_genus\"), null).forEach(st => {\n          store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.RDFS(\"label\"), null).forEach(st => {\n            this.mainfunction = st.object.value.replace(\"Hovedfunksjon: \", \"\");\n          });\n        });\n      }\n\n      // Get building name\n      let buildingURI = so.removeCharactersAfter(this.roomURI, \"/node\")+\"/i\";\n      store.state.rs.rdfStore.match($rdf.sym(buildingURI), ns.FOAF(\"name\"), null).forEach(st => {\n          this.building = st.object.value;\n      });\n\n      // Get storey name\n      let storeyTAG = \"\";\n      storeyTAG = roomTAG.replace(\".\"+so.getCharactersAfter(roomTAG, \".\"), \"\"); // NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG.E01\n      let buildingTAG = storeyTAG.replace(\".\"+so.getCharactersAfter(storeyTAG, \".\"), \"\"); // NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG\n      const storeyTAGPart = so.getCharactersAfter(storeyTAG, \".\"); // E01\n      this.storey = storeyTAGPart.replace(\"E\", \"\");\n      // Get real storey name if this works:\n      store.state.rs.rdfStore.match(null, ns.SIO(\"SIO_000202\"), $rdf.sym(this.roomURI)).forEach(st => {\n        if(store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDF(\"type\"), ns.BOT(\"Storey\"))>0){\n          store.state.rs.rdfStore.match($rdf.sym(st.subject.value), ns.RDFS(\"label\"), null).forEach(st => {\n            this.storey = st.object.value;\n          });\n        }\n      });\n\n      // Caclulate room geometry\n      store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.IFOUR(\"m_polyline\"), null).forEach(st => {\n        const polyline = st.object.value;\n        const calculatedArea = bmu.trinagulateAndCalculateArea(polyline);\n        this.netareacalculated = \"\"+calculatedArea;\n      });\n\n      // Get net area\n      this.netarea = \"0\";\n      store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.NEO(\"m_area-net\"), null).forEach(st => {\n        this.netarea = st.object.value;\n      });\n\n      // Get gross area\n      this.grossarea = \"0\";\n      store.state.rs.rdfStore.match($rdf.sym(this.roomURI), ns.NEO(\"m_area-gross\"), null).forEach(st => {\n        this.grossarea = st.object.value;\n      });\n\n      console.log(\"Found in Json:\");\n      //let storeys = Object.values(store.state.bv.IFCPropertyJson).filter(item => item.type === 'IFCBUILDINGSTOREY');\n\n      ifcu.clearContainValues();\n      //let storeys = ifcu.ContainsKeyValue(store.state.bv.IFCPropertyJson, \"Name\", 'N140');\n      //let storeys = ifcu.ContainsKeyValue(store.state.bv.IFCPropertyJson, \"expressID\", 814530);\n      let storeys = ifcu.ContainsKeyValue(store.state.bv.IFCPropertyJson, \"expressID\", 814526);\n      console.log(storeys);\n      \n\n      this.renttype = \"Leie plass\";\n      this.rentarea = 6.73;\n\n      this.setSharePercentage();\n      this.setDiagramValues();\n      //this.width = 462;\n      //this.height = 311;\n    },\n    setSharePercentage(){\n      let usedPercentages = 0;\n      this.contractTableList.forEach((contract, cnum) => {\n          if(contract.owner == \"Ingen\") {\n            this.contractTableList.splice(cnum, 1); // Remove from array\n          } else {\n            contract.area = ((this.rentarea*contract.share)/100).toFixed(2);\n            usedPercentages = usedPercentages+contract.share;\n          }\n      });\n      this.freesharepercent = (100-usedPercentages).toFixed(1);\n      this.contractTableList.push({contractid: 0, owner: \"Ingen\", contractnr: \"\", type: \"\", contractor: \"Ikke utleid\", from: \"\", to: \"\", area: ((this.rentarea*this.freesharepercent)/100).toFixed(2), share: this.freesharepercent, color: \"B\"});\n    },\n    setDiagramValues(){\n      this.chartData.labels = [];\n      this.chartData.datasets[0].data = [];\n      this.chartData.datasets[0].backgroundColor = [];\n      this.contractTableList.forEach((contract, cnum) => {\n        this.chartData.labels.push(contract.contractor);\n        this.chartData.datasets[0].data.push(contract.area);\n        if(contract.owner == \"Ingen\"){\n          this.chartData.datasets[0].backgroundColor.push('#ffffff');\n        } else {\n          this.chartData.datasets[0].backgroundColor.push(this.colorSet[cnum]);\n        }\n      });\n    },\n    reloadview(){\n      this.getRoomDetails();\n    }\n  },\n  computed: {\n\n  },\n  watch: {\n    \"$store.state.cp.roomDetailURI\": function (val) {\n        this.reloadview();\n    },\n  },\n  mounted(){\n      this.documenturl = this.$route.query.select;\n      if(!this.$route.query.location){\n        this.$router.push({path: this.$route.path, query: {select: this.documenturl} });\n      }\n      this.getRoomDetails();\n      this.setSharePercentage();\n      this.setDiagramValues();\n  },\n  created(){\n\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#leavefeedbackclass {\n  margin-top: 40px;\n}\n.container {\n    background: rgb(239, 239, 239);\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n.roomtitle{\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 0 0 0;\n  color: #3577cb;\n  font-size: 26px;\n  text-align: left;\n}\n.roomuri{\n  font-family: Arial, Helvetica, sans-serif;\n  color: #000000;\n  font-size: 12px;\n  text-align: left;\n}\n\n.roomtext{\n  font-family: Arial, Helvetica, sans-serif;\n  margin-top: 10px;\n  color: #000000;\n  font-size: 16px;\n  text-align: left;\n}\n.simpletable{\n  max-width: 300px;\n  margin-top: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n  text-align: left;\n  font-family: Arial, Helvetica, sans-serif;\n  color: #000000;\n  font-size: 16px;\n  text-align: left;\n}\n#wrapper {\n  width: 100%;\n  height: 100%;\n}\n#frame {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\ndiv.inputwrapper {\n  margin: 20px;\n  align: left;\n}\ndiv.icon {\n  width: 40px;\n  height: 45px;\n  margin-right: 10px;\n}\ndiv.iconlarge {\n  width: 80px;\n  height: 90px;\n  margin-right: 0px;\n}\nhr {\n  height: 3px ;\n  display: block;\n  color: #3577cb ;\n  background-color: #3577cb ;\n}\nh2 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 40px 0 0;\n  color: #3577cb;\n  font-size: 26px;\n  text-align: left;\n}\nh3 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 10px 0 0;\n  color: #000000;\n  font-size: 20px;\n}\nh4 {\n  font-family: Arial, Helvetica, sans-serif;\n  margin: 5px 0 0;\n  color: #888888;\n  font-size: 17px;\n}\na {\n  color: #42b983;\n}\nbutton {\n  cursor: pointer;\n  transition: all 0.25s ease;\n}\nbutton:hover {\n  transform: scale(1.2, 1.2);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomDetails.vue?vue&type=template&id=b949ee44&scoped=true&\"\nimport script from \"./RoomDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomDetails.vue?vue&type=style&index=0&id=b949ee44&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b949ee44\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VContainer,VDataTable,VIcon,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle,VRow,VSimpleTable,VSpacer,VTextField,VToolbar,VToolbarItems,VToolbarTitle})\n","module.exports = __webpack_public_path__ + \"img/door.6bfd6c28.png\";","const $ = require('jquery')\n//import * as log from 'loglevel'\n//import config from './config'\nimport * as client from \"@inrupt/solid-client\"\nconst N3 = require('n3')\nconst truncate = require(\"truncate-utf8-bytes\");\nimport Vue from 'vue'\nimport store from '../store';\n//import router from '../router'\nimport { string } from 'mathjs';\nconst $rdf = require('rdflib');\nconst URI = require(\"uri-js\");\nimport { Vector3 } from \"three\";\nimport { hostpart } from 'rdflib/lib/uri';\n\nconst u = {};\n\nu.unique = function(array) {\n  if (Array.isArray(array)) {\n    return array.filter(function(a) {\n      return !this[a] ? (this[a] = true) : false;\n    }, {});\n  }\n};\n\nu.getBlankNode = function (label){\n  let tempBlank = \"\";\n  store.state.rs.bIndex.forEach((item, i) => {\n    if(item.label == label){\n      tempBlank = item.blank\n      store.state.blankExisted = true\n    }\n  });\n  if(tempBlank == \"\"){\n    store.commit('blankNodeIncrement');\n    tempBlank = $rdf.sym(store.state.blankNodeString);\n    store.state.rs.bIndex.push({ \"label\": label, \"blank\": tempBlank });\n    store.state.blankExisted = false\n  }\n  return tempBlank\n}\n\n\nu.prettyTAG = function(st) {\n  let s = st.replaceAll(\" \", \"\");\n  s = s.replaceAll(\"Æ\", \"AE\");\n  s = s.replaceAll(\"Ø\", \"O\");\n  s = s.replaceAll(\"Å\", \"AA\");\n  s = s.replaceAll(\"æ\", \"ae\");\n  s = s.replaceAll(\"ø\", \"o\");\n  s = s.replaceAll(\"å\", \"aa\");\n  return s;\n}\n\nu.decodeCharacters = function(str) {\n  str = decodeURIComponent(str);\n  var r = /\\\\u([\\d\\w]{4})/gi;\n  str = str+\"\".replace(r, function (match, grp) {\n    return String.fromCharCode(parseInt(grp, 16)); \n  } );\n  str = string(str)\n  return str;\n}\n\nu.hexToString = function(str) { // Fixes formats like //X2/something/X0/\n  var r = /\\\\X2\\\\([\\d\\w]{2,4})\\\\X0\\\\/gi;\n  str = str+\"\".replace(r, function (match, grp) {\n    return String.fromCharCode(parseInt(grp, 16)); \n  });\n  str = string(str)\n  return str;\n}\n\nu.formatString = function(str) {\n  str = u.hexToString(str);\n  str = u.decodeCharacters(str);\n  str = str+\"\".replace(\" \", \"\");\n  return str;\n}\n\nu.storeToTurtle = function(pStore, baseurl){\n  var result\n  $rdf.serialize(undefined, pStore, baseurl, 'text/turtle', function(err, str) {\n      console.log(\"Turtle serialize error: \", err);\n      result = str;\n  });\n  return result;\n}\n\nu.pointStringToVector3 = function(str){\n  let strArr = str.split(\" \");\n  for(let i=0; i<=2; i++){\n    strArr[i] = strArr[i].replace(\"(\", \"\");\n    strArr[i] = strArr[i].replace(\")\", \"\");\n  }\n  return new Vector3(parseFloat(strArr[0]), parseFloat(strArr[1]), parseFloat(strArr[2]));\n}\n\n\nu.deNullify = function (array){\n  if (Array.isArray(array)){\nreturn array.filter(e => e != null);\n  }\n}\n\nu.ajaxError = function (URL,\n  jqXHR,\n  textStatus,\n  errorThrown,\n  data,\n  callback) {\n  log.error(\"ERROR lobe.Ajax\", {\n      jqXHR: jqXHR,\n      textStatus: textStatus,\n      errorThrown: errorThrown,\n      url: URL,\n      data: JSON.stringify(data),\n      callback: JSON.stringify(callback)\n  });\n  alert(\"Internal error - please request help from graphMetrix admin (or see developer console).\" +\n      \"\\nError: \" + errorThrown +\n      \"\\nStatus: \" + textStatus +\n      \"\\nURL: \" + URL);\n}\n\n\nu.ajax = function (URL, callback, Type, dataType, data, cache, Asyn) {\n  var Async;\n  if (!Type) {\n      Type = \"POST\";\n  }\n  if (!cache) {\n      cache = false;\n  }\n  if (!dataType) {\n      dataType = \"json\";\n  }\n  if (typeof (Asyn) === \"boolean\") {\n      Async = Asyn;\n  } else {\n      Async = true;\n  }\n  $.ajaxSetup({\n      async: Async\n  });\n  $.ajax({\n      type: Type,\n      url: URL,\n      data: data,\n      async: Async,\n      cache: cache,\n      success: function (Data) {\n          callback(Data);\n      },\n      error: function (jqXHR, textStatus, errorThrown) {\n          u.ajaxError(URL, jqXHR, textStatus, errorThrown, data, callback);\n      },\n      dataType: dataType\n  });\n}\n\nu.isTrinPod = function () {\n  var xpower = store.state.xPoweredBy\n  if (xpower && xpower.match('TrinPod')) {\n      return true\n  } else {\n      return false\n  }\n}\n\n\nu.setProp = function (obj, props, value) {\n  //log.debug('u.setProp',obj,props,value)\n  const prop = props.shift()\n  if (!obj[prop]) {\n      Vue.set(obj, prop, {})\n  }\n  if (!props.length) {\n      if (value && typeof value === 'object' && !Array.isArray(value)) {\n          obj[prop] = { ...obj[prop], ...value }\n      } else {\n          obj[prop] = value\n      }\n      return\n  }\n  u.setProp(obj[prop], props, value)\n}\n\nu.statementP = function (statement) {\n  if ($.type(statement) === \"object\") {\n      if (statement.subject && statement.predicate && statement.object) {\n          return true\n      } else {\n          return false\n      }\n  } else {\n      return false\n  }\n}\n\nu.termP = function (term) {\n  if ($.type(term) === \"object\") {\n      if (term.termType === \"NamedNode\") {\n          return true\n      } else {\n          return false\n      }\n  } else {\n      return false\n  }\n}\n\nu.getURL = function (string) {\n  var result\n  if ($.type(string) === \"object\") {\n      if (string.termType === \"NamedNode\") {\n          result = string.value\n      } else {\n          result = string.uri;\n      }\n  }\n  if (!result && $.type(string) === \"string\") {\n      result = string\n  }\n  if (result) {\n      if (u.checkURL(result)) {\n          return string;\n      } else if (u.checkIRI(result)) {\n          return string.substr(1, string.length - 2);\n      } else {\n          return null;\n      }\n  } else {\n      return null\n  }\n}\n\nu.gmxSolidP = function (item) {\n  var url = u.getURL(item);\n  //if (config.logServerAndBrain) log.debug(\"config.brain:\" + store.state.brain);\n  if (url && url.match(store.state.brain + \"/ns/\")) {\n      return true\n  } else {\n      return false\n  }\n}\n\nu.removeURIfragment = function (uri) {\n  var uri = u.getURI(uri);\n  if ($.type(uri) === 'string') {\n      var pURI = URI.parse(uri)\n      pURI = u.deleteKeys(pURI, 'fragment')\n      return URI.serialize(pURI);\n  }\n}\n\nu.uriToNamedNode = function (uri) {\n  uri = u.getURI(uri)\n  if (uri) {\n      return N3.termFromId(u.getURI(uri))\n  }\n}\n\nu.getBaseURI = function (item) {\n  return u.getPodNode(item)\n}\n\nu.getURI = function (string) {\n  if ($.type(string) === \"array\") {\nif (string.length === 0){\n    return\n} else {\n          return $.map(string, function (item) {\n  return u.getURL(item)\n          })\n}\n  } else if (u.isTreeNode(string)){\nreturn string.data.uri\n  } else if ($.type(string) === 'object') {\n     if (string.termType === \"NamedNode\") {\n          return string.value\n     } else if (string.termType === \"BlankNode\"){\n   return string\n     }\n  } else {\n      if (u.gmxSolidP(string)) { //converts solid call back to node uri\n          var base = string.replace(store.state.brain + \"/ns/\", \"\")\n          var parse = base.split(\"/\")\n          if ($.type(parse) === 'array') {\n              var NS = parse[0]\n              var term = decodeURIComponent(parse[1])\n              return ns[NS](term).uri\n          }\n      } else {\n    if (typeof(string) === 'string'){\n  string = string.replace(\"<\",\"\").replace(\">\",\"\")\n    }\n          return u.getURL(string);\n      }\n  }\n}\n\nu.getURIs = function (array) {\n  if ($.type(array) === \"array\") {\n      return $.map(array, function (item) {\n          return u.getURI(item);\n      });\n  }\n}\n\nu.getSolidHost = function (uri) {\n  if (!uri){\nuri = store.state.server //u.getURI(string);\n  }\n  var uri = u.getURI(uri)\n  if (uri) {\n      var pURI = URI.parse(uri);\n      var port = pURI.port\n      var host = pURI.host\n      if (host.match('localhost')) {\n          return host + \":\" + port\n      } else {\n          return host\n      }\n  }\n}\n\nu.getIRI = function (string) {\n  if (u.checkIRI(string)) {\n      return string;\n  } else if (u.checkURL(string)) {\n      if (string.indexOf(\"?\") > -1) {\n          string = string.split(\"?\")[0];\n      }\n      return \"<\" + string + \">\";\n  } else {\n      return null;\n  }\n}\n\nu.checkIRI = function (string) {\n  if ($.type(string) === \"string\") {\n      if (string.indexOf(\"<http\") == 0 && string.indexOf(\">\") > -1 && string.indexOf(\"?\") == -1) {\n          return true;\n      } else {\n          return false;\n      }\n  } else {\n      return false;\n  }\n}\n\nu.checkURL = function (string) {\n  let url\n  try {\nurl = new URL(string);\nreturn true;\n  } catch (_) {\nreturn false;  \n  }\n}\n\nu.deparam = function (querystring) {\n  // remove any preceding url and split\n  //danger: this function takes time and cannot return synchronous when using window\n  if (!querystring) {\n      querystring = window.location.href;\n  }\n  querystring = querystring.substring(querystring.indexOf('?') + 1).split('&');\n  var params = {}, pair, d = decodeURIComponent;\n  // march and parse\n  for (var i = querystring.length - 1; i >= 0; i--) {\n      pair = querystring[i].split('=');\n      params[d(pair[0])] = d(pair[1] || '');\n  }\n\n  return params;\n}\n\nu.deleteKeys = function (qObj, keys) {\n  //if keys is null, uses all keys in qObj\n  if (qObj) {\n      var eObj = u.getEObj(qObj)\n      if (keys) {\n          if ($.type(keys) !== \"array\") {\n              keys = [keys]\n          }\n      } else {\n          keys = Object.keys(eObj)\n      }\n      $.map(keys, function (key) {\n          delete eObj[key]\n      })\n      return eObj\n  }\n}\n\nu.removeItem = function (item, array) {\n  array = $.grep(array, function (value) {\n      return value != item;\n  })\n  return array\n}\n\nu.addQuery = function (key, value, qObj) {\n  if (key && value) {\n      if (!qObj) {\n          qObj = u.deparam()\n      }\n      var eObj = u.getEObj(qObj)\n      eObj[key] = value\n      return eObj\n  }\n}\n\nu.checkQuery = function (key, value, qObj) {\n  if (!qObj) {\n      qObj = u.deparam() //creates the qObj\n  }\n  var keys = Object.keys(qObj)\n  log.debug('query', qObj, key, qObj[key])\n\n  if (qObj[key] === value || !$.inArray(key, keys)) {\n      return true;\n  } else {\n      return false;\n  }\n}\n\nu.queryFocus = function (key, value, keys, qObj) {\n  if (!qObj) {\n      qObj = u.deparam() //creates the qObj\n  }\n\n  var eObj = u.deleteKeys(qObj, keys)\n  eObj = u.addQuery(key, value, eObj)\n  return eObj\n\n}\n\nu.getEObj = function (qObj) {\n  if (!qObj) {\n      qObj = u.deparam()\n  }\n  return Object.assign({}, qObj)\n  //return JSON.parse(JSON.stringify(qObj))\n}\n\nu.toggleMode = function (mode, value, qObj) {\n  if (mode && value && qObj) {\n      var eObj = u.getEObj(qObj)\n      if (eObj[mode]) {\n          return u.deleteKeys(eObj, mode)\n      } else {\n          eObj[mode] = value\n          return eObj\n      }\n  }\n}\n\nu.select = function (URI, qObj) {\n  return u.toggleMode('select', URI, qObj)\n}\n\nu.checkEmail = function (email) {\n  var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n}\n\n\n\n\nu.getReload = function (qObj) {\n  var eObj = JSON.parse(JSON.stringify(qObj))\n  var reload = eObj.reload;\n  if (reload === \"true\") {\n      reload = \"false\";\n  } else if (reload === \"false\") {\n      reload = \"true\";\n  } else {\n      reload = \"true\";\n  }\n  eObj.reload = reload;\n  return eObj;\n}\n\n\n\nu.getIntersection = function (array1, array2) {\n  if ($.type(array1) === \"array\" && $.type(array2) === \"array\") {\n      return array1.filter(value => -1 !== array2.indexOf(value));\n  } else if ($.type(array1) === \"array\") {\n      return array1;\n  } else if ($.type(array2) === \"array\") {\n      return array2;\n  }\n}\n\nu.getUnion = function (array1, array2) {\n  if ($.type(array1) === 'array' && $.type(array2) === 'array') {\n      return array1.concat(array2)\n  } else if ($.type(array1) === 'array') {\n      return array1\n  } else if ($.type(array2) === 'array') {\n      return array2\n  }\n}\n\nu.getDifference = function (array1, array2) {\n  if (Array.isArray(array1) && Array.isArray(array2)){\nvar diff = []\narray1.forEach(it => {\n    if (!array2.includes(it)){\n  diff.push(it)\n    }\n})\narray2.forEach(it => {\n    if (!array1.includes(it)){\n  diff.push(it)\n    }\n})\nreturn diff\n  }\n}\n\nu.dynamicSort = function (property) {\n  var sortOrder = 1;\n  if (property[0] === \"-\") {\n      sortOrder = -1;\n      property = property.substr(1);\n  }\n  return function (a, b) {\n      var result = (a[property].toLowerCase() < b[property].toLowerCase()) ? -1 : (a[property].toLowerCase() > b[property].toLowerCase()) ? 1 : 0;\n      return result * sortOrder;\n  }\n}\n\nu.functionSort = function (func, sortOrder) {\n  if (!sortOrder) {\n      sortOrder = 1;\n  }\n  if (sortOrder === \"-\") {\n      sortOrder = -1;\n  }\n  return function (a, b) {\n      var result = (func(a) < func(b)) ? -1 : (func(a) > func(b)) ? 1 : 0;\n      return result * sortOrder;\n  }\n}\n\nu.areObjsEquiv = function (a, b) {\n  // Create arrays of property names\n  var aProps = Object.getOwnPropertyNames(a);\n  var bProps = Object.getOwnPropertyNames(b);\n\n  // If number of properties is different,\n  // objects are not equivalent\n  if (aProps.length != bProps.length) {\n      return false;\n  }\n\n  for (var i = 0; i < aProps.length; i++) {\n      var propName = aProps[i];\n\n      // If values of same property are not equal,\n      // objects are not equivalent\n      if (a[propName] !== b[propName]) {\n          return false;\n      }\n  }\n\n  // If we made it this far, objects\n  // are considered equivalent\n  return true;\n}\n\nu.areArraysEqual = function(a1,a2) {\n  return JSON.stringify(a1)==JSON.stringify(a2);\n}\n\nconst STRICT_EQUALITY_BROKEN = (a,b)=> a===b;\nconst STRICT_EQUALITY_NO_NAN = (a,b)=> {\n  if (typeof a=='number' && typeof b=='number' && ''+a=='NaN' && ''+b=='NaN')\n      // isNaN does not do what you think; see +/-Infinity\n      return true;\n  else\n      return a===b;\n};\nu.deepEquals = function (a,b, areEqual=STRICT_EQUALITY_NO_NAN, setElementsAreEqual=STRICT_EQUALITY_NO_NAN) {\n  if (a instanceof Array && b instanceof Array)\n      return u.arraysEqual(a,b, areEqual);\n  if (a && b && Object.getPrototypeOf(a)===Object.prototype && Object.getPrototypeOf(b)===Object.prototype)\n      return u.objectsEqual(a,b, areEqual);\n  if (a instanceof Map && b instanceof Map)\n      return u.mapsEqual(a,b, areEqual);        \n  if (a instanceof Set && b instanceof Set) {\n      if (setElementsAreEqual===STRICT_EQUALITY_NO_NAN)\n          return u.setsEqual(a,b);\n      else\n          throw \"Error: set equality by hashing not implemented because cannot guarantee custom notion of equality is transitive without programmer intervention.\"\n  }\n  if ((a instanceof ArrayBuffer || ArrayBuffer.isView(a)) && (b instanceof ArrayBuffer || ArrayBuffer.isView(b)))\n      return typedArraysEqual(a,b);\n  return areEqual(a,b);  // see note[1] -- IMPORTANT\n}\n\nu.arraysEqual = function (a,b, areEqual) {\n  if (a.length!=b.length)\n      return false;\n  for(var i=0; i<a.length; i++)\n      if (!u.deepEquals(a[i],b[i], areEqual))\n          return false;\n  return true;\n}\nu.objectsEqual = function (a,b, areEqual) {\n  var aKeys = Object.getOwnPropertyNames(a);\n  var bKeys = Object.getOwnPropertyNames(b);\n  if (aKeys.length!=bKeys.length)\n      return false;\n  aKeys.sort();\n  bKeys.sort();\n  for(var i=0; i<aKeys.length; i++)\n      if (!areEqual(aKeys[i],bKeys[i])) // keys must be strings\n          return false;\n  return u.deepEquals(aKeys.map(k=>a[k]), aKeys.map(k=>b[k]), areEqual);\n}\nu.mapsEqual = function (a,b, areEqual) { // assumes Map's keys use the '===' notion of equality, which is also the assumption of .has and .get methods in the spec; however, Map's values use our notion of the areEqual parameter\n  if (a.size!=b.size)\n      return false;\n  return [...a.keys()].every(k=> \n      b.has(k) && u.deepEquals(a.get(k), b.get(k), areEqual)\n  );\n}\nu.setsEqual = function (a,b) {\n  // see discussion in below rest of StackOverflow answer\n  return a.size==b.size && [...a.keys()].every(k=> \n      b.has(k)\n  );\n}\nu.typedArraysEqual = function(a,b) {\n  // we use the obvious notion of equality for binary data\n  a = new Uint8Array(a);\n  b = new Uint8Array(b);\n  if (a.length != b.length)\n      return false;\n  for(var i=0; i<a.length; i++)\n      if (a[i]!=b[i])\n          return false;\n  return true;\n}\n\nu.arrayGroups = function (arr, n, empty) {\n  if (!empty) {\n      empty = {}\n  }\n  //we want to fill empty item in arrays for cards\n  var rows = Math.ceil(arr.length / n)\n  var length = n * rows\n  log.debug(\"arrayGroups - n, row,length\", n, rows, length)\n  var result = []\n  for (var i = 0; i < rows; i += 1) {\n      var row = []\n      for (var c = 0; c < n; c += 1) {\n          var item = arr.slice((i * n) + c, (i * n) + c + 1)\n          log.debug(\"col arrayGroups\", row, item, i, c)\n          if (item.length > 0) {\n              row = row.concat(item)\n          } else {\n              row = row.concat([empty])\n          }\n      }\n      result.push(row)\n      log.debug(\"row arrayGroups\", row)\n  }\n  return result\n}\n\nu.getHash = function () {\n  return window.location.hash.split('?')[0].substr(1);\n}\n\nu.getNode = function () {\n  return decodeURIComponent(u.getHash().substr(1))\n}\n\nu.getParameterByName = function (name) {\n  name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n  var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n  var regex = new RegExp(regexS);\n  var results = regex.exec(window.location.search);\n  if (results === null)\n      return null;\n  else\n      return decodeURIComponent(results[1]);\n}\n\nu.appWindowWidthCalc = function (qObj, windowWidth, windowHeight) {\n  var leftMenuWidth = 0\n  var rightMenuWidth = 0\n  var result = windowWidth\n  if (qObj.settings) {\n      leftMenuWidth = 330\n  } else if (qObj.navigator === 'default') {\n      leftMenuWidth = 720\n  } else if (qObj.navigator === 'search') {\n      leftMenuWidth = 720 //was 330\n  } else if (qObj.connections) {\n      leftMenuWidth = 720\n  }\n  if (qObj.properties) {\n      rightMenuWidth = 500\n  }\n  result = result - rightMenuWidth - leftMenuWidth\n  store.commit('leftMenuWidth', leftMenuWidth)\n  store.commit('rightMenuWidth', rightMenuWidth)\n  store.commit('appWindowWidth', result)\n  store.commit('appWindowHeight', windowHeight)  //was - 108\n  //log.debug(\"appWindowWidthCalc\", leftMenuWidth, result, rightMenuWidth,  windowWidth, windowHeight)\n}\n\nu.getSubdomain = function (uri) {\n  if (!uri)\n      uri = router.currentRoute.query.location;\n  try {\n      const url = new URL(uri);\n      const hostParts = url.hostname.split(\".\");\n      if (hostParts.length > 1)\n          return hostParts[0];\n  } catch (err) {\n      log.error(err);\n  }\n}\n\nu.getPodNode = function (uri){\n  uri = u.getURI(uri)\n  if (!uri)\n      uri = router.currentRoute.query.location;\n  try {\n      const url = new URL(uri);\n      return url.origin\n  } catch (err) {\n      log.error(err);\n  }\n}\n\nu.getPodServer = function (uri){\n  uri = u.getURI(uri)\n  if (uri){\nvar base = u.getPodNode(uri)\nif (base){\n    var subdomain = u.getSubdomain(base)\n    if (subdomain){\n  if (base.includes(subdomain)){\n      return base.replace(subdomain + \".\",\"\")\n  }\n    }\n}\n  }\n}\n     \n\nu.getSubstance = function (uri){\n  var podNode = u.getPodNode(uri)\n  if (podNode){\nreturn podNode + \"/node/Substance\"\n  }\n}\n\nu.getCard = function (uri) {\n  var podNode = u.getPodNode(uri)\n  if (podNode){\nreturn podNode + \"/profile/card\"\n  }\n}\n\nu.getHome = function (uri) {\n  var podNode = u.getPodNode(uri)\n  if (podNode){\nreturn podNode + \"/home/\"\n  }\n}\n\n\nu.base64ToUint8Array = function(base64) {\n  //log.debug('u.base64ToUint8Array',base64)\n  var raw = base64 //atob(base64);\n  var uint8Array = new Uint8Array(raw.length);\n  for(var i = 0; i < raw.length; i++) {\nuint8Array[i] = raw.charCodeAt(i);\n  }\n  return uint8Array;\n}\n\nu.blobToBase64 = function(blob) {\n  //log.debug('u.blobToBase64',blob)\nreturn new Promise((resolve, _) => {\n  const reader = new FileReader();\n  reader.onloadend = () => resolve(reader.result);\n  reader.readAsDataURL(blob);\n});\n}\n\nu.blobToUint8Array = async function(blob){\n  var base64 = await u.blobToBase64(blob)\n  if (base64){\nreturn u.base64ToUint8Array(base64)\n  }\n}\n\nu.getFile = async function(uri){\n  if (uri){\nconst blob = await client.getFile(uri, {\n    fetch: window.solid.session.fetch,\n})\nreturn blob\n  }\n}\n\nu.getFileData = async function(uri){\n  var blob = await u.getFile(uri)\n  log.debug(blob)\n  var buffer = await blob.arrayBuffer()\n  var pdfData = await new Uint8Array(buffer)\n  return pdfData\n}\n\nu.getArrayBuffer = async function(uri){\n  var blob = await u.getFile(uri)\n  var buffer = await blob.arrayBuffer()\n  log.debug(\"buffer\",buffer)\n  var binary_string = await window.atob(buffer)\n  var len = binary_string.length;\n  var bytes = new Uint8Array(len);\n  for (var i = 0; i < len; i++) {\n      bytes[i] = binary_string.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n\nu.getId = function(uri){\n  var item = u.getURI(uri)\n  var parse = item.split(\"#\");\n  if (parse.length > 1) {\nparse = parse.reverse();\nreturn parse[0];\n  } else {\nvar parse = item.split(\"/\");\nif (parse.length > 1) {\n    parse = parse.reverse();\n    if (parse[0] === \"\") {\n  parse.shift();\n    }\n    return decodeURIComponent(parse[0]);\n} else {\n    return decodeURIComponent(item);\n}\n  }\n}\n\nu.isBlankNode = function(node){\n  if ($.type(node) === 'object'){\nif (node.termType === 'BlankNode'){\n    return true\n} else {\n    return false\n}\n  } else {\nreturn false\n  }\n}\n\nu.stringEscapeXml = function(str){\n  var final = \"\"\n  if (typeof(str) === 'string'){\n[...str].forEach(c => {\n    if (c === '&'){\n  c = \"&amp;\"\n    } else if (c === \"'\"){\n  c = \"&apos;\"\n    } else if (c === '\"'){\n  c = \"&quot;\"\n    } else if (c === \"<\"){\n  c = \"&lt;\"\n    } else if (c === \">\"){\n  c = \"&gt;\"\n    }\n    final = final + c\n})\nreturn final\n  }\n}\n\nu.areEqualObjects = (a, b) => { \nlet s = (o) => Object.entries(o).sort().map(i => { \n   if(i[1] instanceof Object) i[1] = s(i[1]);\n   return i \n}) \nreturn JSON.stringify(s(a)) === JSON.stringify(s(b))\n}\n\nu.getClientID = function(){\n  var store = window.localStorage\n  var client_id\n  if ($.type(store) === 'object'){\nvar keys = Object.keys(window.localStorage)\nif (Array.isArray(keys)){\n    keys.some(k => {\n  //log.debug(k)\n  if (k.search(\"solidClientAuthenticationUser:\") > -1){\n      //log.debug(k,store[k])\n      var payload = JSON.parse(store[k])\n      if (payload.clientId){\n    client_id = payload.clientId\n    return client_id\n      }\n  }\n    })\n}\n  }\n  return client_id\n}\n\nu.systemStart = function(){\n  var query = Vue.router.history.current.query\n  return $.type(query) === 'object' && Object.keys(query).length === 0\n}\n\nu.cloneArray = function(arr){\n  if (Array.isArray(arr)){\nreturn arr.map(a => {return {...a}})\n  }\n}\n\nu.sanitize = function(input, replacement){\n  var illegalRe = /[\\/\\?<>\\\\:\\*\\|\"]/g;\n  var controlRe = /[\\x00-\\x1f\\x80-\\x9f]/g;\n  var reservedRe = /^\\.+$/;\n  var windowsReservedRe = /^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\\..*)?$/i;\n  var windowsTrailingRe = /[\\. ]+$/;\n\n  if (typeof input !== 'string') {\nlog.error('Input must be string')\n  } else {\nvar sanitized = input\n    .replace(illegalRe, replacement)\n    .replace(controlRe, replacement)\n    .replace(reservedRe, replacement)\n    .replace(windowsReservedRe, replacement)\n    .replace(windowsTrailingRe, replacement)\nreturn truncate(sanitized, 255);\n  }\n}\n\nu.sanitizeFilename = function(input, options){\n  var replacement = (options && options.replacement) || '';\n  var output = u.sanitize(input, replacement);\n  var Final\n  if (replacement === '') {\nFinal = output;\n  } else {\nFinal = u.sanitize(output, '');\n  }\n  if (typeof(Final) === 'string'){\nreturn encodeURIComponent(Final)\n  }\n}\n\nu.isTree = function(tree){\n  if ($.type(tree) === 'object' && typeof(tree.edgeSize) === 'number'){\nreturn true\n  } else {\nreturn false\n  }\n}\n\nu.isTreeNode = function(node){\n  if ($.type(node) === 'object' && node.data && node.data.uri){\nreturn true\n  } else {\nreturn false\n  }\n}\n\nu.isRdfNode = function(node){\n  if ($.type(node) === 'object' && node.termType && node.termType === \"NamedNode\"){\nreturn true\n  } else {\nreturn false\n  }\n}\n\nu.findTreeNode = function(uri,tree){\n  var uri = u.getURI(uri)\n  var find\n  if (uri){\nif (u.isTree(tree)){\n    tree.traverse(node => {\n  if (node.data.uri === uri){\n      find = node\n      return true\n  }\n    })\n}\n  }\n  return find\n}\n\nexport default u;\n\n","const wf = {}\n\nimport { rdf } from '@inrupt/solid-client/dist/constants';\nimport { nullDependencies } from 'mathjs';\nimport { stringify } from 'uuid';\nimport store from '../store';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ur from './util-rdf.js';\nimport u from './util.js';\nimport { quad } from '@rdfjs/data-model';\nimport TermSet from '@rdfjs/term-set'\nimport { Vector3 } from 'three';\nconst $rdf = require('rdflib');\nconst { Node, shortest, neighbors } = require('rdf-path');\nconst rdfjs = {...require('@rdfjs/data-model'), ...require('@rdfjs/dataset')}\nlet dataset = rdfjs.dataset();\nconst elevatorArray = [];\n\n//const Node = require('../../node_modules/rdf-path/Node')\n//const shortest = require('../../node_modules/rdf-path/shortest')\n\nexport default {\n  wf: wf,\n  name: 'Wayfinder',\n  data () {\n    return {\n\n    };\n  },\n  methods: {\n    populateWayRdfStore(){\n      // Only adding room that have more than 1 door or is a shared space.\n      console.log(\"Populating way RDF Store\")\n      const uriArray = [];\n      const quads = [];\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), null).forEach(st =>{\n        if(!uriArray.includes(st.subject.value)) uriArray.push(st.subject.value);\n        if(!uriArray.includes(st.object.value)) uriArray.push(st.object.value);\n      });\n      store.state.rs.rdfStore.match(null, ns.NEO(\"m_port\"), null).forEach(st =>{\n        if(!uriArray.includes(st.subject.value)) uriArray.push(st.subject.value);\n      });\n      store.state.rs.rdfStore.match(null, ns.IFOUR(\"islocked\"), null).forEach(st =>{\n        dataset.add(rdfjs.quad(rdfjs.namedNode(st.subject.value), rdfjs.namedNode(st.predicate.value), rdfjs.namedNode(st.object.value), rdfjs.defaultGraph()));\n      });\n      uriArray.forEach(uriVal =>{\n        //if(store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_port\"), null).length>1 || store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_join\"), null).length>0 || store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uriVal))>0){\n          // Room has several doors and should be added\n          store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_port\"), null).forEach(st =>{\n            if(!store.state.rs.rdfStore.match($rdf.sym(st.object.value), ns.RDFS(\"label\"), null)[0].object.value.includes(\"Outdoor\")) dataset.add(rdfjs.quad(rdfjs.namedNode(st.subject.value), rdfjs.namedNode(st.predicate.value), rdfjs.namedNode(st.object.value), rdfjs.defaultGraph()));\n          });\n          store.state.rs.rdfStore.match($rdf.sym(uriVal), ns.NEO(\"m_join\"), null).forEach(st =>{\n            dataset.add(rdfjs.quad(rdfjs.namedNode(st.subject.value), rdfjs.namedNode(st.predicate.value), rdfjs.namedNode(st.object.value), rdfjs.defaultGraph()));\n          });\n          store.state.rs.rdfStore.match(null, ns.NEO(\"m_join\"), $rdf.sym(uriVal)).forEach(st =>{\n            dataset.add(rdfjs.quad(rdfjs.namedNode(st.subject.value), rdfjs.namedNode(st.predicate.value), rdfjs.namedNode(st.object.value), rdfjs.defaultGraph()));\n          });\n        //}\n      });\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.SEAS(\"Elevator\")).forEach(st =>{\n        console.log(\"Avvoiding elevator.\")\n        elevatorArray.push(rdfjs.namedNode(st.subject.value))\n      });\n    },\n    wayBetweenRooms(room1, room2, numberOfWays, priParam, uriBlackList=[], debug=true){\n      //console.log(\"Finding way: \"+room1+\" : \"+room2);\n      const startTime = performance.now();\n      let finalWays = [];\n      //let room1 = $rdf.literal(\"Rom Ø125\", 'no');\n      //let room2 = $rdf.literal(\"Rom F121\", 'no');\n      let roomID1 = \"\";\n      let roomID2 = \"\";\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room1, 'en')).forEach(st => {\n        roomID1 = st.subject.value;\n        if(debug) console.log(\"RoomID1:\", roomID1);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), room1).forEach(st => {\n        roomID1 = st.subject.value;\n        if(debug) console.log(\"RoomID1:\", roomID1);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), $rdf.literal(\"Room \"+room2, 'en')).forEach(st => {\n        roomID2 = st.subject.value;\n        if(debug) console.log(\"RoomID2:\", roomID2);\n      });\n      store.state.rs.rdfStore.match(null, ns.RDFS(\"label\"), room2).forEach(st => {\n        roomID2 = st.subject.value;\n        if(debug) console.log(\"RoomID2:\", roomID2);\n      });\n\n      if(dataset._size==0) this.populateWayRdfStore(); // Populate only if empty // make other test\n\n      // create the start and end node\n      const start = new Node({ dataset, term: rdfjs.namedNode(roomID1) })\n      const end = new Node({ dataset, term: rdfjs.namedNode(roomID2) })\n      //console.log(\"Start:\")\n      //console.log(start);\n      /*console.log(\"End:\")\n      console.log(end);*/\n      // search for the shortest path between start and end\n      /*const neighbor1 = neighbors(start,{})\n      console.log(\"neighbors\")\n      console.log(neighbor1)*/\n      //console.log(\"Dataset\")\n      //console.log(dataset)\n      const stairsArray = this.blackListAllExeptNearestStairs(roomID1, roomID2);\n\n      const blURIs = [];\n      uriBlackList.forEach(uri => {\n        blURIs.push(rdfjs.namedNode(uri))\n      });\n      const blackListedURIs = new TermSet(blURIs);\n\n      const blackListedRooms = new TermSet(stairsArray.concat(elevatorArray).concat(blURIs));\n      let path = shortest(start, end, {dirIn: true, followLiterals: true, nodeBlacklist: blackListedRooms})\n      \n      const blackListedElevators = new TermSet(elevatorArray.concat(blURIs));\n      if(!path) path = shortest(start, end, {dirIn: true, followLiterals: true, nodeBlacklist: blackListedElevators})\n      if(!path) path = shortest(start, end, {dirIn: true, followLiterals: true, nodeBlacklist: blackListedURIs})\n      //console.log(path);\n      let foundWay = [];\n      if(path){\n        // write the chain of nodes to the console\n        if(debug) console.log(\"Path found: \");\n        if(debug) console.log(path)\n        if(debug) console.log(path.toString())\n        for(let i=0; i<path.edges.length; i++){\n            if(!foundWay.includes(path.edges[i].quad.subject.value)) foundWay.push(path.edges[i].quad.subject.value);\n            if(!foundWay.includes(path.edges[i].quad.object.value)) foundWay.push(path.edges[i].quad.object.value);\n        }\n      } else {\n\n      }\n      if(debug) console.log(\"Foundway\")\n      if(debug) console.log(foundWay)\n      finalWays.push({\"way\": foundWay, \"priority\": 0 });\n\n      // Select the way based on parameters\n      /*finalWays.forEach(way => {\n        way.priority = way.way.length*-15; // Må ha denne over dobbelt så høy som fratrekk for interface point for ikke å ta omveier pga mange dører.\n      });\n      finalWays.forEach(way => {\n        way.way.forEach(waySpace => {\n          //if(store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.RDF(\"type\"), ns.NEO(\"m_interface-point\")).length != 0) way.priority = way.priority+5; // Do not count when part of same space without door\n          store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.NEO(\"m_port\"), null).forEach(port => {\n            way.priority = way.priority+(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), ns.NEO(\"x_door\")).length*1);\n            //way.priority = way.priority+(store.state.rs.rdfStore.match($rdf.sym(port.object.value), ns.RDF(\"type\"), ns.NEO(\"m_interface-point\")).length*3);\n          });\n        });\n      });\n      finalWays.sort((a, b) => a.priority - b.priority);\n      const finalWaysSorted = finalWays.reverse();\n      if(debug) console.log(finalWaysSorted);*/\n\n      // Create function to display way names instead of URIs ( Just for testing )\n      if(debug){\n        const finalNames = [];\n        finalWays.forEach(way => {\n          const nameArray = [];\n          way.way.forEach(waySpace => {\n            nameArray.push(store.state.rs.rdfStore.match($rdf.sym(waySpace), ns.RDFS(\"label\"), null)[0].object.value);\n          });\n          finalNames.push(nameArray);\n        });\n        if(debug) console.log(finalNames);\n      }\n\n      const finalWaysUniqueSorted = [];\n      // Remove duplicates in wayfinding\n      finalWays.forEach((element) => {\n        if (!finalWaysUniqueSorted.includes(element)) {\n          finalWaysUniqueSorted.push(element);\n        }\n      });\n\n      const endTime = performance.now();\n      if(debug) console.log(`Wayfinding used: ${endTime - startTime} milliseconds`);\n      if(finalWaysUniqueSorted[0]){\n        return finalWaysUniqueSorted[0].way;\n      } else {\n        console.log(\"Warning: Did not find any Way..\");\n        return [];\n      }\n    },\n    blackListAllExeptNearestStairs(roomID1, roomID2){\n      const blacklist = [];\n      // Get start room height above ground\n      let startRoomHAG = 0;\n      store.state.rs.rdfStore.match($rdf.sym(roomID1), ns.IFOUR(\"roomhag\"), null).forEach(st => {\n        startRoomHAG = Number(st.object.value);\n      });\n      let endRoomHAG = 0;\n      store.state.rs.rdfStore.match($rdf.sym(roomID2), ns.IFOUR(\"roomhag\"), null).forEach(st => {\n        endRoomHAG = Number(st.object.value);\n      });\n      if(startRoomHAG==endRoomHAG) return []; // Do not need stairs..\n      // Find nearest stairs\n      let nearestStairID = undefined;\n      let nearestStairsDistance = 5000;\n      let startRoomLoc = undefined;\n      if(store.state.rs.rdfStore.match($rdf.sym(roomID1), ns.SIO(\"SIO_000507\"), null)[0]){\n        const startRoomLocString = store.state.rs.rdfStore.match($rdf.sym(roomID1), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n        startRoomLoc = u.pointStringToVector3(startRoomLocString);\n      } \n      if(!startRoomLoc) return [];\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.SEAS(\"Stairs\")).forEach(st => {\n        const stairID = st.subject.value;\n        let stairLoc = undefined;\n        if(store.state.rs.rdfStore.match($rdf.sym(stairID), ns.SIO(\"SIO_000507\"), null)[0]){\n          const stairLocString = store.state.rs.rdfStore.match($rdf.sym(stairID), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n          stairLoc = u.pointStringToVector3(stairLocString);\n          if(startRoomLoc.distanceTo(stairLoc)<=nearestStairsDistance){\n            nearestStairsDistance = startRoomLoc.distanceTo(stairLoc);\n            nearestStairID = stairID;\n          }\n        }\n      });\n      // Add all staris on same level to blacklist\n      store.state.rs.rdfStore.match(null, ns.RDF(\"type\"), ns.SEAS(\"Stairs\")).forEach(st => {\n        const stairID = st.subject.value;\n        let stairRoomHAG = undefined;\n        store.state.rs.rdfStore.match($rdf.sym(stairID), ns.IFOUR(\"roomhag\"), null).forEach(st => {\n          stairRoomHAG = Number(st.object.value);\n        });\n        if(stairRoomHAG) if(startRoomHAG==stairRoomHAG&&nearestStairID!=stairID) blacklist.push(rdfjs.namedNode(stairID));\n      });\n      return blacklist;\n    }\n  },\n  watch: {\n\n  },\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BMviewer.vue?vue&type=style&index=0&id=7b6ac88c&prod&scoped=true&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVRYhe2XvU9aURiHf++FQSRFtKHXqi1tDDj2g4T+A4ImGCeZLGMZ2w60aWJJYGmadCEGQtK5E0sHBxMv6eQdakyapjAZi8TE1kU+ahQazn07VCiCltqLZai/6eS+b/I895xzT+4hZkYvY6wPiKitOD09fVUI8ZKZZwAM6WTtEdEbq9X6JJVKfW8TOAW+xsxjOsH1DDHzw0KhcAjgWUcBIcQiM49ZrdbNWCw2Pjo6qosejUa3V1dXrwF40FFgcnLSx8xzRHQQj8evyLKsC76xsfF1fX29PpPHllJqbfZ6vWYiSgDA/Pz8rizLl/TAhRAiHA5bJiYm2jfZSQKapkWY2W6z2b4EAoGbeuAAsLCwsG00GvudTueJ9WMCU1NTt4joMRFp0WhUlqQ2vzNFUZTP2Wz2htvtPrWnQYhEIpKmaa+Z2ejz+fYdDocuerFY3E8kEtddLhf6+vo6C6iqOsfM7oGBgYNgMGjRAweAUCh0ODw8bBwZGfltX+MrYOYgAJRKpf7Z2VldcLvdDiGEzeVydextPglvMzPC4TDMZvNfw/P5PJLJJPx+/x/1N5aAmS8D0AUHfr79WaJvm3chFwIXAhcC/49AtVoFABDRt54IZDKZtaOh+s8FdnZ2PuRyubtExET0qrl26k9pt1Iul/Oqqo4fsV4oivKuuX6uM1Cr1cqKogCABcDbdDr9vLXn3ASYWSwvL29qmmYH8NFkMt0H0HYNaxbYA4Ctra2uCCiK8qlSqdwhot1arTaztLR0cFIf1e+GHo8nBuBRV+i/UpYkybuysvK++WHzfbQxA4ODg0+JaBFAoQvgEoCUwWC41wpvDfX6dtzzo/gHscvnooL4LIYAAAAASUVORK5CYII=\"","const r = {};\n\nconst $rdf = require('rdflib');\nimport store from '../store';\nimport u from './util.js';\n\nr.searchAndGetURIs = async function(conceptName){\n    let uri = 'https://helsenorge'+store.state.testNum+'.'+ store.state.serverPath +'/search/'+encodeURIComponent(conceptName);\n    try {\n      let res = await window.solid.session.fetch(\n        uri, {\n          method: \"GET\",\n          credentials: \"include\",\n          headers: {\n            \"Accept\": \"text/turtle\"\n          },\n      }).then(res => res.text());\n      console.log(res);\n      $rdf.parse(res, store.state.rs.rdfStore, uri, 'text/turtle');\n      return res;\n    } catch (error) {\n      console.log(error);\n      console.log(\"Search failed\");\n    }\n  }\n\n  r.uploadFile = async function(file, container){\n    window.solid.session.fetch(\n      container+file.name, {\n      method: \"PUT\",\n      credentials: \"include\",\n      body: file,\n      headers: {\n        \"Content-Type\": \"\",\n      },\n      onUploadProgress: function( progressEvent ) {\n        this.uploadPercentage = parseInt( Math.round( ( progressEvent.loaded / progressEvent.total ) * 100 ) );\n        console.log(this.uploadPercentage);\n      }.bind(this)}).then(res => {\n        console.log('done uploading', res);\n    })\n    .catch(e => {\n      console.error(JSON.stringify(e.message));\n    });\n  }\n\n  r.populateStoreFromTurtle = async function(){\n    console.log(\"Populating store from turtle...\")\n    let TurtleURI = store.state.location+\"home/TTL/rooms.rtf\"\n    try {\n      window.solid.session.fetch(TurtleURI, { method: \"GET\", credentials: \"include\" }).then((res) => {\n        res.arrayBuffer().then((filedata) => {\n          let file = new Blob([filedata]);\n          const fr = new FileReader();\n          fr.onload = function() {\n              $rdf.parse(this.result, store.state.rs.rdfStore, TurtleURI, 'text/turtle');\n              var turtle = u.storeToTurtle(store.state.rs.rdfStore, TurtleURI);\n              //console.log(turtle);\n          };\n          fr.readAsText(file);\n        });\n      });\n    } catch (error) {\n      console.log(error);\n      console.log(\"Failed to parse Turtle from file...\");\n    }\n  }\n\nexport default r;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVRIie2Xv6vaUBTHv/caYzu4iEMfxUUXBUHo0L/ADMHFTV5Bi7RDF0sU54CDQxenQpdOcegPKO300CR/hbj4D5RHIQ4GAoKedOhL0fTGF0XeG/q+W+45N59zz8kJ5zLf93Gf4vdKfwgAgLT7wBjbM7bbbTiOA8/zwDmvM8beb7fbpydwrjnnr6bT6VXYEJmByWTyFw7gWSKR+HYiHACeENFHkUESLQLAaDQCESGXy104jmN5nsdVVUWv14tNnc1mGAwGWK1WAHAh8hFmoFargYjQ7/cfOY7zw/O8TKlUQqfTORqu6/pBP2EGZFnGer3GaDR6R0TPM5kMdF1HMpk8Gl6pVA76CjPgui5SqdRLInorSRJ0XUc2m40FXywWseGAIAO+70NRFMiy/GG9XmOz2UDTtFjwQPl8PhZcGEAg13UfA4BlWUfB5/M5ut1ubP9/SqCqKizLigzsNpXL5aP89wKoVqsgIgDYnhrAsdo7KeccRARVVRvBmqIodxfAzekbRPQJAJrNJlqtVuyXBe03HA5j7wl/A3XO+WciOhq+237FYjH2PrY7kDQaDX+5XMbevKtCoQBN04TwoIyWZbGwba8EAfzU1hPBDcP4A5KkX6K9Z5kHolrPMAyMx2MwxnwieiPyObnfb1MA55wDwAvTNL/fWQChk1/atv0lyvfsI9kunDF2EA6cOQOhtF+apnkQDoTaUFGUn4iYXOLq5m/asG37a9gmuoOES/AawPWp8HQ67RFRXQSPEnu4Gf33AfwGskMCD7S3+RMAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAo0lEQVRIie2WUQ7AIAhDy7KjcWzv5n4XVwYSE5cMPg3YB1aj9N6xM46t6gVQAAXwBYCTLYoIAEBVH69Ua03GNZZn1YwPnzkBa1NPbLaGAngiKyFCHmBj9/KjR0U9MCv4BuJNiwLcI2rEbExfw5XiKQBV7RkTpgEsQ60K6oGxwyxAZFKuCaMbRfJZI/QIvI4zE7FqTA9YBSvFAUDqV1wABfB7gAveoFGpsjXCngAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PDFviewer.vue?vue&type=style&index=0&id=1c7d9d7b&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/position2.7ba517a9.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportIFC.vue?vue&type=style&index=0&id=a9a1547e&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.ee707e9b.png\";","const bmu = {};\n\nconst $rdf = require('rdflib');\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { Geometry, Vector3, Vector2, Shape, ShapeUtils, ShapeBufferGeometry, Triangle, MeshLambertMaterial, BoxGeometry, Mesh, ArrowHelper, Quaternion, LineCurve3, ExtrudeGeometry, BufferGeometry, Line, LineBasicMaterial, Raycaster, Line3 } from 'three';\nimport store from '../store';\nimport ur from './util-rdf.js';\nimport so from './util-s.js';\nimport a from './util-a.js';\nimport v from './util-v.js';\nimport u from './util.js';\nimport { ns, nu, nl, neo, trinity } from './ontologies.js';\nimport ifcu from './BIMviewer-ifc-utils.js';\nimport { UnitsUtils } from \"geo-three\";\nimport { CSS2DObject } from \"three/examples/jsm/renderers/CSS2DRenderer.js\";\nimport { getOriginalEvent } from 'survey-vue';\nimport { RotationalEquation } from 'cannon-es';\nimport { TurtleLegacyContentType } from 'rdflib/lib/types';\nimport { Vector } from 'three-csg-ts/lib/esm/Vector';\nimport router from 'vue-router';\nimport {Box3} from \"three\";\n\nbmu.getEmployeeList = async function(uri){\n  return new Promise(async (resolve,reject)=>{\n    ur.fetchAndSaveTurtle(uri, true).then((response) => {\n      console.log(\"Get employees from: \"+uri);\n      let employeeList = [];\n      let employeeURIs = [];\n\n      // Get all URIs\n      let tripleArray = store.state.rs.rdfStore.match($rdf.sym(uri), ns.ORG(\"hasMember\"), null);\n      tripleArray.forEach(item => {\n          if(!employeeURIs.includes(item.object.value)) { // Check if it contains the exact same or without /i in the end.\n            console.log(\"Found employee..\");\n            employeeURIs.push(item.object.value);\n          }\n      });\n\n      employeeURIs.forEach((emplItem, i) => {\n        employeeList.push({ filename: 'pod', personuri: emplItem, initials: \"\", name: emplItem, color: so.makeRandomColor() });\n      });\n\n      // Get person names\n      employeeList.forEach((listitem, iNum) => {\n        ur.fetchAndSaveTurtle(listitem.personuri, true).then((response) => {\n          try{\n            let personName = store.state.rs.rdfStore.match($rdf.sym(listitem.personuri), ns.FOAF(\"name\"), null)[0].object.value || \"\";\n            listitem.name = personName;\n            console.log(\"Name: \"+personName);\n            listitem.initials = so.getInitials(personName);\n          } catch (error){\n            console.log(error);\n          }\n          \n          if(iNum === employeeList.length-1){\n            console.log(\"Returning list\");\n            resolve(employeeList);\n            //return employeeList;\n          }\n        });\n      });\n    });\n  });\n}\n\nbmu.sendEmailToResponsible = async function(responsibleWebID){\n  console.log(\"Starting to send e-mail...\");\n  ur.fetchAndSaveTurtle(responsibleWebID, true).then((response) => {\n      // Get the e-mail address\n      let tripleArray = store.state.rs.rdfStore.match($rdf.sym(responsibleWebID), ns.VCARD(\"hasEmail\"), null);\n      if(tripleArray[0]){\n        let emailAddress = tripleArray[0].object.value;\n        console.log(\"Email: \"+emailAddress);\n        \n      }\n  });\n}\n\nbmu.getMeshHeightAboveGround = function(mesh){\n  let minHeightAboveGround = 1000;\n  let maxHeightAboveGround = -1000;\n  //console.log(mesh);\n  try{\n    if(mesh.geometry){\n      for(let y = 1; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n        minHeightAboveGround = Math.min(mesh.geometry.attributes.position.array[y], minHeightAboveGround);\n        maxHeightAboveGround = Math.max(mesh.geometry.attributes.position.array[y], maxHeightAboveGround);\n      }\n    }\n    if(mesh.children[0].geometry){\n      for(let y = 1; y<=mesh.children[0].geometry.attributes.position.array.length; y=y+3){\n        minHeightAboveGround = Math.min(mesh.children[0].geometry.attributes.position.array[y], minHeightAboveGround);\n        maxHeightAboveGround = Math.max(mesh.children[0].geometry.attributes.position.array[y], maxHeightAboveGround);\n      }\n    }\n    if(mesh.children[0].children[0].geometry){\n      for(let y = 1; y<=mesh.children[0].children[0].geometry.attributes.position.array.length; y=y+3){\n        minHeightAboveGround = Math.min(mesh.children[0].children[0].geometry.attributes.position.array[y], minHeightAboveGround);\n        maxHeightAboveGround = Math.max(mesh.children[0].children[0].geometry.attributes.position.array[y], maxHeightAboveGround);\n      }\n    }\n  } catch(error){\n    //console.log(error);\n  }\n  return {\"min\": minHeightAboveGround, \"max\": maxHeightAboveGround};\n}\n\nbmu.checkIfMeshCrossStoreyLevel = function(level, min, max){\n  if(level==min){\n    return true;\n  } else {\n    if((min-0.5<level && max>level+2) && max+0.1>level){\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n\nbmu.downloadGLTFfromTrinpod = async function(GLTFurl, mTag){\n  try {\n    const res = await window.solid.session.fetch(\n      GLTFurl, {\n        method: \"GET\",\n        credentials: \"include\",\n        });\n        console.log(res);\n      let filedata = await res.arrayBuffer();\n      let fileurl = URL.createObjectURL(new Blob([filedata], { type: \"application/gltf\"}));\n      console.log(\"Flag: \"+store.state.bv.GLTFloadingFlag);\n      if(!store.state.bv.GLTFloadingFlag){ // Check if something already loading\n        bmu.loadGLTF(fileurl, mTag);\n        store.state.bv.GLTFloadingQueue.push(fileurl);\n      } else {\n        console.log(\"Something is already loading, need queue. Putting in queue\");\n        store.state.bv.GLTFloadingQueue.push(fileurl);\n      }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nbmu.downloadImagefromTrinpod = async function(imageurl){\n  try {\n    const res = await window.solid.session.fetch(\n      imageurl, {\n        method: \"GET\",\n        credentials: \"include\",\n        });\n        console.log(res);\n      let filedata = await res.arrayBuffer();\n      var urlCreator = window.URL || window.webkitURL;\n      let fileurl = urlCreator.createObjectURL(new Blob([filedata], { type: \"image/jpeg\"}));\n      return fileurl;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nbmu.addRoomMatrix = async function(polyline, color, opacity, roomuri){\n  //Parse room matrix\n  var obb = polyline+\"\";\n  obb = obb.replace('^^neo:a_matrix-3m', '');\n  obb = obb.replaceAll('\"', '');\n  const obbArray = obb.split(\";\");\n  let obbString = '{\"x\":'+obbArray[2]+', \"y\":'+obbArray[3]+', \"z\":'+obbArray[4]+', \"height\":'+obbArray[5]+', \"color\":'+color+', \"opacity\":'+opacity+', \"roomuri\":\"'+roomuri+'\", \"polyline\":\"'+obbArray[6]+'\"}';\n  let obbJson = JSON.parse(obbString);\n  let found = false;\n  store.state.bv.roomGeometry.forEach(object => {\n    if(!object.roomuri==roomuri) found = true;\n  });\n  if(!found) store.state.bv.roomGeometry.push(obbJson);\n}\n\nbmu.loadGLTF = async function(fileurl, mTag, load=true, scale=0){\n  return new Promise(async (resolve,reject)=>{\n    const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n    const loader = new GLTFLoader();\n    console.log(\"Starting to load \"+mTag+\" gltf..\")\n    store.state.bv.GLTFloadingFlag = true;\n    loader.load(\n      fileurl, //\"./gltf/NMH.Y.SYKEHUS.HN.H.MOIRANA.SJOFORSGATA.HOVEDBYGG.gltf\",\n      function ( gltf ) {\n        const model = gltf.scene;\n        if(scale==0){\n          if(store.state.bv.mapMode) model.scale.set(store.state.bv.scaleFactor, store.state.bv.scaleFactor, store.state.bv.scaleFactor);\n        } else {\n          model.scale.set(scale, scale, scale);\n        }\n        model.name = mTag;\n        if(load) buildingbox.add( model );\n        resolve(model);\n      },\n      function ( progress ) {\n        let progressPercent = ( progress.loaded / progress.total * 100 );\n        console.log(progressPercent+'% loaded' );\n        if(progressPercent==100){ \n          console.log(\"GLTF loading finished!\");\n          setTimeout(function() { window.requestAnimationFrame(() => { store.state.bv.needsrender = true; }); }, 300);\n          store.state.bv.GLTFloadingFlag = false;\n          // Check the loading queue\n          store.state.bv.GLTFloadingQueue = a.removeFirstElement(store.state.bv.GLTFloadingQueue);\n          console.log(store.state.bv.GLTFloadingQueue.length);\n          if(store.state.bv.GLTFloadingQueue.length>=1){\n            console.log(\"Something found in queue\");\n            bmu.loadGLTF(store.state.bv.GLTFloadingQueue[0], mTag);\n          }\n        }\n      },\n      function ( error ) {\n        console.log( 'An error happened: '+error );\n        store.state.bv.GLTFloadingFlag = false;\n        // Check the loading queue\n        store.state.bv.GLTFloadingQueue = a.removeFirstElement(store.state.bv.GLTFloadingQueue);\n        if(store.state.bv.GLTFloadingQueue.length>=1){\n          bmu.loadGLTF(store.state.bv.GLTFloadingQueue[0], mTag);\n        }\n      }\n    );\n  });\n}\n\nbmu.loadGeometryUsingTag = function(mTag, currentURL, ifcTypes){\n  ifcTypes.forEach(ifctype => {\n    let currentTag = mTag+\".\"+ifctype;\n    if(!store.state.bv.gltfLoadedList.includes(currentTag)){\n      const GLTFurl = currentURL+\"home/GLTF/\"+currentTag+\".gltf\";\n      bmu.downloadGLTFfromTrinpod(GLTFurl, currentTag);\n      store.state.bv.gltfLoadedList.push(currentTag);\n    }\n  });\n}\n\nbmu.unloadGeometryUsingTag = function(mTag, ifcTypes){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  ifcTypes.forEach(ifctype => {\n    let currentTag = mTag+\".\"+ifctype;\n    if(store.state.bv.gltfLoadedList.includes(currentTag)){\n      try{\n        let meshToRemove = store.state.bv.scene.getObjectByName(currentTag);\n        buildingbox.remove(meshToRemove);\n        store.state.bv.gltfLoadedList = a.removeValueFromArray(store.state.bv.gltfLoadedList, currentTag);\n        //store.state.bv.renderer.render(store.state.bv.scene, store.state.bv.camera);\n      } catch(error){\n        console.log(error);\n      }\n    }\n  });\n}\n\nbmu.unloadGeometryContainingString = function(contString){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  buildingbox.children.forEach(subMesh => {\n    if(subMesh.name.includes(contString)) buildingbox.remove(subMesh);\n  });\n}\n\nbmu.checkIfPointInsideMesh = function(point, mesh){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  const direction = new Vector3(1, 1, 1);\n  store.state.bv.raycaster.set(point.applyMatrix4(buildingbox.matrixWorld), direction);\n  let intersects = store.state.bv.raycaster.intersectObject(mesh, true);\n  try{\n    if (intersects.length && direction.dot(intersects[0].face.normal) > 0) {\n      //console.log(`Point is in object`);\n      return true;\n    } else {\n      //console.log(`Point is out of object`);\n      return false;\n    }\n  } catch(error){}\n}\n\nbmu.raycastRoomsFromPoint = function(point, direction){\n  store.state.bv.raycaster.set(point, direction);\n  let intersects = store.state.bv.raycaster.intersectObject(mesh, true);\n  const intersectNames = [];\n  intersects.forEach(intersect => {\n    if(!intersectNames.includes(intersect.name)) intersectNames.push(intersect.name);\n  });\n  return intersectNames;\n}\n\nbmu.raycastUsingVector = function(point, direction){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  buildingbox.updateMatrixWorld();\n  store.state.bv.raycaster.set(point.applyMatrix4(buildingbox.matrixWorld), direction.applyMatrix4(buildingbox.matrixWorld));\n  let intersects = store.state.bv.raycaster.intersectObjects( buildingbox.children, true );\n  const buildingMatrix = buildingbox.matrixWorld.invert();\n  for(let i=0; i<intersects.length-1; i++){\n    intersects[i].point.applyMatrix4(buildingMatrix);\n  }\n  return intersects;\n}\n\nbmu.raycastUsingVectorDir = function(point, direction){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  buildingbox.updateMatrixWorld();\n  store.state.bv.raycaster.set(point.applyMatrix4(buildingbox.matrixWorld), direction); // Do not change matrix on direction.\n  let intersects = store.state.bv.raycaster.intersectObjects( buildingbox.children, true );\n  const buildingMatrix = buildingbox.matrixWorld.invert();\n  for(let i=0; i<intersects.length-1; i++){\n    intersects[i].point.applyMatrix4(buildingMatrix);\n  }\n  return intersects;\n}\n\nbmu.zoomTwoDimCamera = function() {\n  let start, previousTimestamp;\n  let cameraHeight = 300;\n  let oldCameraHeight = 300;\n  let newCameraHeight = 50;\n  store.state.bv.animate = true;\n  function step(timestamp){\n    if(start === undefined){\n      start = timestamp;\n    }\n    const elapsed = timestamp-start;\n    if(previousTimestamp !== timestamp){\n      cameraHeight = (cameraHeight-((oldCameraHeight-newCameraHeight)/150));\n      store.state.bv.twodimcamera.position.set(store.state.bv.twodimcamera.position.x, cameraHeight, store.state.bv.twodimcamera.position.z);\n      store.state.bv.controls2d.update();\n    }\n    if(counter <= 150){\n      previousTimestamp = timestamp;\n      counter = counter+1;\n      window.requestAnimationFrame(step);\n    } else {\n      if(!store.state.bv.autorotate){\n        store.state.bv.animate = false;\n      }\n    }\n  }\n  window.requestAnimationFrame(step);\n}\n\nbmu.moveToObject = function() {\n  var target = new Vector3();\n  var size = new Vector3();\n  var center = new Vector3();\n  let oldZoom = store.state.bv.twodimcamera.zoom;\n  let currentZoom = oldZoom;\n  var boundingBox = new Box3().setFromObject( store.state.bv.INTERSECTED );\n  store.state.bv.animate = true;\n  size = boundingBox.getSize(size);\n  center = boundingBox.getCenter( center );\n  console.log(\"SizeX:\"+size.x+\" SizeY:\"+size.y);\n  if(size.x >= size.y){ // Find longest side of box\n    store.state.bv.camerafocuswidth = size.x;\n  } else {\n    store.state.bv.camerafocuswidth = size.y;\n  }\n  let start, previousTimestamp;\n  var animateDown = false;\n  //this.CONVERT_TO_SPHERICAL({ lat: store.state.bv.focuslat, long: store.state.bv.focuslong }).then(u => {\n  store.state.bv.INTERSECTED.getWorldPosition( target );\n  var newCameraPosX = center.x + (15+store.state.bv.camerafocuswidth*0.5);\n  var newCameraPosZ = center.y + (15+store.state.bv.camerafocuswidth*0.5);\n  var newCameraPosY = center.z + (15+store.state.bv.camerafocuswidth*0.5);\n\n  var newTargetPosX = center.x;\n  var newTargetPosY = center.y;\n  var newTargetPosZ = center.z;\n\n  var oldCameraPosX = store.state.bv.camera.position.x;\n  var oldCameraPosY = store.state.bv.camera.position.z;\n  var oldCameraPosZ = store.state.bv.camera.position.y;\n\n  var oldTargetPosX = store.state.bv.controls3d.target.x;\n  var oldTargetPosY = store.state.bv.controls3d.target.y;\n  var oldTargetPosZ = store.state.bv.controls3d.target.z;\n\n  var counter = 2;\n\n  var currentCameraPosX = oldCameraPosX;\n  var currentCameraPosY = oldCameraPosY;\n  var currentCameraPosZ = oldCameraPosZ;\n  var currentTargetPosX = oldTargetPosX;\n  var currentTargetPosY = oldTargetPosY;\n  var currentTargetPosZ = oldTargetPosZ;\n\n  function step(timestamp){\n    if(start === undefined){\n      start = timestamp;\n    }\n    const elapsed = timestamp-start;\n    if(previousTimestamp !== timestamp){\n      currentCameraPosX = (currentCameraPosX-((oldCameraPosX-newCameraPosX)/15));\n      currentCameraPosY = (currentCameraPosY-((oldCameraPosY-newCameraPosY)/15));\n      currentCameraPosZ = (currentCameraPosZ-((oldCameraPosZ-newCameraPosZ)/15));\n      currentTargetPosX = (currentTargetPosX-((oldTargetPosX-newTargetPosX)/15));\n      currentTargetPosY = (currentTargetPosY-((oldTargetPosY-newTargetPosY)/15));\n      currentTargetPosZ = (currentTargetPosZ-((oldTargetPosZ-newTargetPosZ)/15));\n      currentZoom = (currentZoom-((oldZoom-1)/15));\n      store.state.bv.camera.position.set(currentCameraPosX, currentCameraPosZ, currentCameraPosY);\n      store.state.bv.controls3d.target.set(currentTargetPosX, currentTargetPosZ, currentTargetPosY);\n      store.state.bv.twodimcamera.zoom = currentZoom;\n      store.state.bv.twodimcamera.position.set(0, 300, 0);\n      store.state.bv.twodimcamera.aspect = store.state.bv.width/store.state.bv.height;\n      store.state.bv.twodimcamera.updateProjectionMatrix();\n      store.state.bv.controls2d.target.set(0, 0, 0);\n      store.state.bv.controls2d.update();\n\n\n    }\n    if(counter <= 15){\n      previousTimestamp = timestamp;\n      counter = counter+1;\n      window.requestAnimationFrame(step);\n    } else {\n      if(!store.state.bv.autorotate){\n        store.state.bv.animate = false;\n      }\n    }\n  }\n  window.requestAnimationFrame(step);\n  //});\n  console.log(\"Zoom to object\");\n}\n\nbmu.createBuildingLocationList = async function(buildingURIs){\n  console.log(\"BuildingURIs\");\n  console.log(buildingURIs);\n  store.state.cp.buildingLocationList = [];\n  store.state.bv.scene.children.forEach(object => {\n    if(object.name==\"buildinglabel\") store.state.bv.scene.remove(object);\n  });\n  for(let i=0; i<buildingURIs.length; i++){\n    try{\n      let bURI = buildingURIs[i];\n      console.log(\"bURI\")\n      console.log(bURI);\n      const jsonURI = bURI.replace(\"/i\", \"/home/IFC/building.json\");\n      const IFCmetadata = await ifcu.getIFCmetaDataFromJson(jsonURI); // Create function for storing in local storage\n      const position2d = UnitsUtils.datumsToSpherical(IFCmetadata.buildinglat, IFCmetadata.buildinglong);\n      const position = new Vector3( -store.state.bv.buildingboxPosition.x+position2d.x, 0, store.state.bv.buildingboxPosition.z-position2d.y);\n      let addFlag = true;\n      if(IFCmetadata.uri+\"\"==\"\") addFlag=false;\n      store.state.cp.buildingLocationList.forEach(label => {\n        if(label.uri==buildingURIs[i]) addFlag=false;\n      });\n      console.log(buildingURIs[i]+\"Add flag: \"+addFlag)\n      let buildingName = \"\";\n      if(store.state.rs.rdfStore.match($rdf.sym(buildingURIs[i]), ns.FOAF(\"name\"), null)[0]) buildingName = store.state.rs.rdfStore.match($rdf.sym(buildingURIs[i]), ns.FOAF(\"name\"), null)[0].object.value;\n      if(addFlag) store.state.cp.buildingLocationList.push({ name: buildingName, uri: buildingURIs[i], buildinglat: IFCmetadata.buildinglat, buildinglong: IFCmetadata.buildinglong, position: position, cluster: i, rotation: IFCmetadata.rotation, buildingdimensions: IFCmetadata.buildingdimensions });\n      if(addFlag) bmu.createBuildingLabelHTML(buildingName, position, \"\", buildingURIs[i]);\n    } catch(error){\n      console.log(\"Error: \"+error);\n    }\n  }\n  console.log(\"Building list\")\n  console.log(store.state.cp.buildingLocationList)\n}\n\nbmu.createBuildingLabelHTML = async function(title, location, descript, buildinguri){\n  const base = document.createElement( 'div' );\n  base.classList.add('building-base-label');\n  base.uri = buildinguri;\n\n  const postit = document.createElement( 'div' );\n  postit.classList.add('building-label');\n  base.appendChild(postit);\n\n  const spacer = document.createElement( 'div' );\n  spacer.setAttribute('style', \"display: flex;\");\n  postit.appendChild(spacer);\n\n  const numberButton = document.createElement( 'button' );\n  numberButton.classList.add('number-button');\n  numberButton.textContent = \"1\";\n  numberButton.classList.add('hidden');\n  base.appendChild(numberButton);\n\n  const imgFile = require('../assets/building3.png');\n  const labelImage = document.createElement( 'img' );\n  labelImage.setAttribute('style', \"width: 35px; margin-right: 0px; margin-top: 0px\");\n  labelImage.setAttribute('src', imgFile);\n  spacer.appendChild(labelImage);\n\n  const h4 = document.createElement( 'h4' );\n  h4.classList.add('hidden');\n  h4.setAttribute('style', \"margin-left: 5px; margin-top: 4px\");\n  h4.textContent = title;\n  spacer.appendChild(h4);\n\n  //postit.appendChild(document.createElement( 'br' ));\n\n  const labelContainer = document.createElement( 'div' );\n  labelContainer.classList.add('hidden');\n  labelContainer.classList.add('texttop');\n  postit.appendChild(labelContainer);\n  \n  const labelDescription = document.createElement( 'span' );\n  labelDescription.classList.add('texttop');\n  labelDescription.textContent = descript;\n  labelContainer.appendChild(labelDescription);\n\n  const viewerButton = document.createElement( 'button' );\n  viewerButton.classList.add('details-button');\n  viewerButton.classList.add('hidden');\n  viewerButton.textContent = \"Asset view\";\n  labelContainer.appendChild(viewerButton);\n\n  const detailsButton = document.createElement( 'button' );\n  detailsButton.classList.add('details-button');\n  detailsButton.classList.add('hidden');\n  detailsButton.textContent = \"Details\";\n  labelContainer.appendChild(detailsButton);\n\n  const zoomButton = document.createElement( 'button' );\n  zoomButton.classList.add('details-button');\n  zoomButton.classList.add('hidden');\n  zoomButton.textContent = \"Zoom\";\n  labelContainer.appendChild(zoomButton);\n\n  base.onmouseenter = () => { \n    h4.classList.remove('hidden');\n    labelContainer.classList.remove('hidden');\n    detailsButton.classList.remove('hidden');\n    viewerButton.classList.remove('hidden');\n    zoomButton.classList.remove('hidden');\n  }\n  base.onmouseleave = () => {\n    h4.classList.add('hidden');\n    labelContainer.classList.add('hidden');\n    detailsButton.classList.add('hidden');\n    viewerButton.classList.add('hidden');\n    zoomButton.classList.add('hidden');\n  }\n\n  detailsButton.onclick = () => {\n    console.log(\"Button clicked.\")\n    store.state.cp.buildingDetailURI = buildinguri;\n  }\n\n  viewerButton.onclick = () => {\n    if(title.includes(\"111\")){ \n      store.state.redirect = {\"path\": \"BMViewer\", \"query\": {\"select\": \"moir.scs\", \"location\": store.state.location} };\n    }\n    if(title.includes(\"311\")){ \n      store.state.redirect = {\"path\": \"BMViewer\", \"query\": {\"select\": \"sand.scs\", \"location\": \"\"} };\n    }\n  }\n\n  zoomButton.onclick = () => {\n    store.state.bv.INTERSECTED = store.state.bv.scene.getObjectByName(\"buildingbox\");\n    bmu.moveToObject();\n  }\n\n  const labelObject = new CSS2DObject( base );\n  labelObject.position.copy(location);\n  labelObject.name = \"buildinglabel\";\n  store.state.bv.scene.add(labelObject);\n}\n\n/*bmu.createBuildingLabelClusterHTML = async function(location, cCount = 1){\n  const base = document.createElement( 'div' );\n  base.classList.add('building-base-label');\n\n  const postit = document.createElement( 'div' );\n  postit.classList.add('building-label');\n  base.appendChild(postit);\n\n  const spacer = document.createElement( 'div' );\n  spacer.setAttribute('style', \"display: flex;\");\n  postit.appendChild(spacer);\n\n  const numberButton = document.createElement( 'button' );\n  numberButton.classList.add('number-button');\n  numberButton.textContent = cCount;\n  base.appendChild(numberButton);\n\n  const imgFile = require('../assets/building3.png');\n  const labelImage = document.createElement( 'img' );\n  labelImage.setAttribute('style', \"width: 35px; margin-right: 0px; margin-top: 0px\");\n  labelImage.setAttribute('src', imgFile);\n  spacer.appendChild(labelImage);\n\n  const labelObject = new CSS2DObject( base );\n  labelObject.position.copy(location);\n  labelObject.name = \"buildinglabelcluster\";\n  store.state.bv.scene.add(labelObject);\n}*/\n\nbmu.createSimpleLabel = async function(location, descript, labeltag=\"simplelabel\"){\n  const base = document.createElement( 'div' );\n  base.classList.add('building-base-label');\n\n  const postit = document.createElement( 'div' );\n  postit.classList.add('simple-building-label');\n  base.appendChild(postit);\n\n  const labelDescription = document.createElement( 'span' );\n  labelDescription.classList.add('texttop');\n  labelDescription.textContent = descript;\n  postit.appendChild(labelDescription);\n\n  const labelObject = new CSS2DObject( base );\n  labelObject.position.copy(location);\n  labelObject.name = labeltag;\n  store.state.bv.scene.add(labelObject);\n}\n\nbmu.createLabelWithType = async function(location, descript, title, labeltag=\"simplelabel\"){\n  const base = document.createElement( 'div' );\n  base.classList.add('building-base-label');\n\n  const postit = document.createElement( 'div' );\n  postit.classList.add('simple-building-label');\n  base.appendChild(postit);\n\n  const labelTitle = document.createElement( 'div' );\n  labelTitle.classList.add('texttitle');\n  labelTitle.textContent = title;\n  postit.appendChild(labelTitle);\n\n  const labelDescription = document.createElement( 'div' );\n  labelDescription.classList.add('texttop');\n  labelDescription.textContent = descript;\n  postit.appendChild(labelDescription);\n\n  const labelObject = new CSS2DObject( base );\n  labelObject.position.copy(location);\n  labelObject.name = labeltag;\n  store.state.bv.scene.add(labelObject);\n}\n\nbmu.removeAllLabels = async function(){\n  for( var i = store.state.bv.scene.children.length - 1; i >= 0; i--) { \n    const object = store.state.bv.scene.children[i];\n    if(object.name==\"simplelabel\") store.state.bv.scene.remove(object);\n  }\n}\n\nbmu.removeTempLabels = async function(){\n  for( var i = store.state.bv.scene.children.length - 1; i >= 0; i--) { \n    const object = store.state.bv.scene.children[i];\n    if(object.name==\"templabel\") store.state.bv.scene.remove(object);\n  }\n}\n\nbmu.polylineToShape = function(polyline){ // Not used at the moment\n  const polyArray = bmu.convertPolylineToPolyarray(polyline);\n  const polyShape = new Shape();\n  var i = 0;\n  while (polyArray.length > 1) {\n    const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n    const x = (polyXYZ[0]);\n    const y = (polyXYZ[1]);\n    if(i == 0){\n      polyShape.moveTo( x, y );\n      i = i+1;\n    } else {\n      polyShape.lineTo( x, y );\n    }\n  }\n  polyShape.autoClose = true;\n  //var geometry = new ShapeBufferGeometry(polyShape);\n  return polyShape;\n}\n\nbmu.convertPolylineToPolyarray = function(polyline) {\n  var obb = polyline+\"\";\n  obb = obb.replace('^^neo:a_matrix-3m', '');\n  obb = obb.replaceAll('\"', '');\n  const obbArray = obb.split(\";\");\n  polyline = obbArray[6];\n  let polyArray = [];\n  if(polyline != \"\"){\n    polyline = polyline.replace(\"^^neo:a_matrix-3xm\", \"\");\n    polyline = polyline.replace(\"[\", \"\");\n    polyline = polyline.replace(\"]\", \"\");\n    polyArray = polyline.split(\",\");\n  }\n  return polyArray;\n}\n\nbmu.convertPolylineToXY = function(polyline) {\n  var obb = polyline+\"\";\n  obb = obb.replace('^^neo:a_matrix-3m', '');\n  obb = obb.replaceAll('\"', '');\n  const obbArray = obb.split(\";\");\n  const returnPos = {\"x\": Number(obbArray[2]), \"y\": Number(obbArray[3])};\n  return returnPos;\n}\n\nbmu.convertPolyStringToarray = function(polyline) {\n  var polyline = polyline+\"\";\n  let polyArray = [];\n  if(polyline != \"\"){\n    polyline = polyline.replaceAll(\"[\", \"\");\n    polyline = polyline.replaceAll(\"]\", \"\");\n    polyline = polyline.replaceAll('\"', '');\n    //console.log(\"Polyline: \"+polyline);\n    polyArray = polyline.split(\",\");\n  }\n  return polyArray;\n}\n\nbmu.convertPolylineToPolyJson = function(polyline){\n  var obb = polyline+\"\";\n  obb = obb.replace('^^neo:a_matrix-3m', '');\n  obb = obb.replaceAll('\"', '');\n  const obbArray = obb.split(\";\");\n  let obbString = '{\"roomname\": \"'+obbArray[1]+'\", \"x\":'+obbArray[2]+', \"y\":'+obbArray[3]+', \"z\":'+obbArray[4]+', \"height\":'+obbArray[5]+', \"color\":'+0x1B4F72+', \"opacity\":'+1+', \"roomuri\":\"'+\"\"+'\", \"polyline\":\"'+obbArray[6]+'\"}';\n  return JSON.parse(obbString);\n}\n\nbmu.trinagulateAndCalculateArea = function(polyline){\n  const polyArray = bmu.convertPolylineToPolyarray(polyline);\n  // Create points from polyline\n  var aPoints = [];\n  if(polyArray.length >= 10){\n    while (polyArray.length > 1) {\n      const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n      const x = (polyXYZ[0]);\n      const y = (polyXYZ[1]);\n      var arr = [x, y]; // Will be mirrored without geoL-y\n      aPoints.push(arr);\n    }\n  }\n\n  // Start triangulate\n  var poly2tri = require('poly2tri');\n  var shape = [];\n  for(var i=0; i<aPoints.length-1; ++i) {\n    shape.push(new poly2tri.Point(aPoints[i][0], aPoints[i][1]));\n  }\n\n  let totalArea = 0;\n  try{ \n    var swctx = new poly2tri.SweepContext(shape);\n    var triangles = swctx.triangulate();\n\n    // Calculate area of triangles\n    for(var i=0; i<triangles.triangles_.length; ++i) {\n      let v1 = new Vector3(triangles.triangles_[i].points_[0].x, triangles.triangles_[i].points_[0].y, 0);\n      let v2 = new Vector3(triangles.triangles_[i].points_[1].x, triangles.triangles_[i].points_[1].y, 0);  \n      let v3 = new Vector3(triangles.triangles_[i].points_[2].x, triangles.triangles_[i].points_[2].y, 0);  \n      const currentTriangle = new Triangle(v1, v2, v3);\n      totalArea = totalArea+currentTriangle.getArea();\n    }\n  } catch (error){}\n  console.log(\"Total area: \"+totalArea);\n  \n  return totalArea;\n}\n\nbmu.createPlaceMarker = function(pos, color=0xff0000, removePrevious, height=5, markername=\"placemarker\", width=0.16){\n    const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n    const previousPlacemarker = store.state.bv.scene.getObjectByName(\"placemarker\");\n    if(previousPlacemarker && removePrevious){\n      buildingbox.remove(previousPlacemarker);\n    }\n    const material = new MeshLambertMaterial({\n        transparent: true,\n        opacity: 0.6,\n        color: color,\n        depthTest: false\n    });\n    const geometry = new BoxGeometry(width, height, width);\n    geometry.translate(pos.x,pos.y+(height/2)+0.2,pos.z);\n    const marker = new Mesh(geometry, material);\n    marker.name = markername;\n    buildingbox.add(marker);\n    return marker;\n}\n\nbmu.createVisibleVector = function(origin, dir, hex=0x0000ff, length = 1){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  //const dir = new Vector3( 1, 2, 0 );\n  dir.normalize();  //normalize the direction vector (convert to vector of length 1)\n  const arrowHelper = new ArrowHelper( dir, origin, length, hex );\n  if(buildingbox){\n    buildingbox.add( arrowHelper );\n  } else {\n    store.state.bv.scene.add( arrowHelper );\n  }\n  //store.state.bv.camera.position.set(origin.x, 2000, origin.y);\n  //store.state.bv.needsrender = true;\n}\n\nbmu.placeArrow = async function(origin, dir, sf){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  dir.normalize();  //normalize the direction vector (convert to vector of length 1)\n  if(!store.state.bv.arrowModelStart){\n    store.state.bv.arrowModel = await bmu.loadGLTF(\"../arrow.glb\", \"arrow\", false, 0.02*sf);\n    store.state.bv.arrowModelStart = true;\n  } \n  if(store.state.bv.arrowModel){\n    let model = store.state.bv.arrowModel.clone();\n    console.log(model)\n    model.translateX(0.2)\n    model.translateY(0.3)\n    model.translateX(origin.x);\n    model.translateZ(origin.z);\n    const angle = bmu.angleThreeVectors(new Vector3(1,0,0), new Vector3(0,0,0), dir) * (dir.z > 0 ? -1 : 1);\n    console.log(\"Angle: \"+angle);\n    model.rotateOnAxis(new Vector3(0,1,0), angle);\n    model.rotateOnAxis(new Vector3(0,1,0), -Math.PI/2);\n    model.translateY(origin.y); // Sets height above ground\n    //model.position = origin;\n    buildingbox.add( model );\n  } else {\n    setTimeout(function() { \n      let model = store.state.bv.arrowModel.clone();\n      model.translateX(origin.x-0.2);\n      model.translateY(origin.z+0.2);\n      let calculatedDirection = new Vector3(0,1,0).angleTo(dir);\n      model.rotateOnAxis(new Vector3(0,1,0), calculatedDirection);\n      //model.position = origin;\n      buildingbox.add( model ); \n    }, 5000);\n  }\n  \n}\n\nbmu.getDoorPosition = function(doorURI){\n  let location = new Vector3(0,0,0);\n  if(store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0]){\n    let locVal = store.state.rs.rdfStore.match($rdf.sym(doorURI), ns.SIO(\"SIO_000507\"), null)[0].object.value;\n    location = u.pointStringToVector3(locVal);\n  }\n  return location;\n}\n\nbmu.getRoomPolylinebyURI = function(roomURI){\n  let roomTriple = store.state.rs.rdfStore.match($rdf.sym(roomURI), ns.IFOUR(\"m_polyline\"), null)[0];\n  if(roomTriple){\n    return roomTriple.object.value;\n  } else {\n    console.log(\"Warning: Did not find polyline for URI!..\");\n    return \"\";\n  }\n},\n\nbmu.showWay = function(wayArray, sf=1){\n  if(wayArray.length<=2) return;\n  let directionVectors = [];\n  let prevURI = undefined;\n  let prevDoorLocation = new Vector3(0.0,0.0,0.0);\n  wayArray.forEach(wayItem => {\n    let isDoor = false;\n    if(store.state.rs.rdfStore.match($rdf.sym(wayItem), ns.RDF(\"type\"), ns.NEO(\"x_door\"))[0]){\n      prevDoorLocation = bmu.getDoorPosition(wayItem);\n      isDoor = true;\n    }\n    if(prevURI!=undefined&&!isDoor){\n      if(store.state.rs.rdfStore.match($rdf.sym(prevURI), ns.RDF(\"type\"), ns.NEO(\"x_door\"))[0]){\n        // Previous URI was a door\n        const polyline = bmu.getRoomPolylinebyURI(wayItem)\n        const doorDirectionVector = bmu.getDoorDirectionVector(polyline, prevDoorLocation, false);\n        directionVectors.push({\"uri\": wayItem, \"pos\": prevDoorLocation, \"vec\": doorDirectionVector});\n      } else {\n        // Previous uri was space -- Then join\n        const polylines = [];\n        let intersectPoint = new Vector3(0,0,0);\n        polylines.push(bmu.getRoomPolylinebyURI(prevURI));\n        polylines.push(bmu.getRoomPolylinebyURI(wayItem));\n        let intersections = bmu.findSpaceIntersections(polylines, 0.5, false);\n        if(intersections[0]) intersectPoint = intersections[0].point;\n        const doorDirectionVector = bmu.getDoorDirectionVector(polylines[1], intersectPoint, false);\n        directionVectors.push({\"uri\": \"\", \"pos\": intersectPoint, \"vec\": doorDirectionVector});\n      }\n    }\n    prevURI = wayItem;\n  });\n  // Create function for creating vectors in between all directionvectors.\n  let prevVector = undefined;\n  directionVectors = directionVectors.reduce(function(newArray, item) { \n      // Create vectors in front of door:\n      let beforePos = item.pos.clone().add(item.vec.clone().negate());\n      newArray.push({\"uri\": \"\", \"pos\": beforePos.clone(), \"vec\": item.vec})\n      newArray.push(item);\n      // Create vectors behind door:\n      if(prevVector!=undefined){\n        let afterDir = new Vector3(0.0,0.0,0.0).subVectors(beforePos.clone(), prevVector.pos.clone().add(prevVector.vec.clone())).normalize(); // Must take in the previous offset for the after pos\n        console.log(\"After dir:\")\n        console.log(afterDir);\n        let lengthToNextDoor = item.pos.clone().distanceTo(prevVector.pos);\n        let afterPos = prevVector.pos.clone().add(prevVector.vec.clone());\n        newArray.push({\"uri\": \"\", \"pos\": afterPos, \"vec\": afterDir});\n        for(let n=2.0; n<Math.abs(lengthToNextDoor-2.0); n=n+2.0){\n          // Set new marker for each 3 meters in between\n          let betwPos = afterPos.clone().addScaledVector(afterDir.clone(), n);\n          newArray.push({\"uri\": \"\", \"pos\": betwPos, \"vec\": afterDir});\n        }\n      }\n      prevVector = item;  \n      return newArray;\n  }, []);\n  store.state.bv.arrowModelStart = false;\n  directionVectors.forEach((vec) => {\n    //bmu.createPlaceMarker(vec.pos.clone().multiplyScalar(sf), 0x00FFFF, false, 2, \"placemarker\", 0.25);\n    bmu.placeArrow(vec.pos.clone().multiplyScalar(sf), vec.vec, sf);\n  });\n}\n\nbmu.createLine = function(points, hex=0xffffff){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  const material = new LineBasicMaterial( { color: hex } );\n  const pointsArray = [];\n  points.forEach(point => {\n    pointsArray.push(new Vector3(point.x, 5, point.z));\n  });\n  const geometry = new BufferGeometry().setFromPoints( pointsArray );\n  buildingbox.add(new Line( geometry, material ));\n}\n\nbmu.createPointsFromPolyArray = function(polyArray, polyPos){\n  const pointsArray = [];\n  while (polyArray.length > 1) {\n    //console.log(polyPos)\n    const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n    pointsArray.push(new Vector3(parseFloat(polyXYZ[1])+polyPos.x, polyPos.z, polyXYZ[0]-polyPos.y));\n  }\n  return pointsArray;\n}\n\nbmu.draw2dspace = function(myPolyArray, polyPos, color=0xbbbbdd, name=\"\"){\n  const buildingbox = store.state.bv.scene.getObjectByName(\"buildingbox\");\n  const material = new MeshLambertMaterial({color: color, transparent:true, opacity:0.3});\n  let polyShape = new Shape();\n  let polyArray = [];\n  myPolyArray.forEach(point => {polyArray.push(point)});\n  //console.log(polyArray)\n  let i = 0;\n  while (polyArray.length > 1) {\n    const polyXYZ = polyArray.splice(0, 3); // Puts 3 first object from array in polyXYZ, and removes from polyArray\n    const x = (polyXYZ[0]);\n    const y = (polyXYZ[1]);\n    if(i == 0){\n      polyShape.moveTo( (-x+polyPos.y), (-y-polyPos.x), polyPos.z );\n      i = i+1;\n    } else {\n      polyShape.lineTo( (-x+polyPos.y), (-y-polyPos.x), polyPos.z );\n    }\n  }\n  polyShape.autoClose = true;\n  const extrudeSettings = { extrudePath: new LineCurve3( new Vector3( 0, polyPos.z, 0 ), new Vector3( 0, polyPos.z+0.5, 0 ) ) };\n  const polyGeometry = new ExtrudeGeometry( polyShape, extrudeSettings );\n  const polyMesh = new Mesh( polyGeometry, material ) ;\n  polyMesh.name = name;\n  buildingbox.add(polyMesh);\n}\n\nbmu.angleThreeVectors = function( vec1, vecAngle, vec2) {\n  let angle = 0;\n\n\tif ( vec1.x === 0 && vec1.y === 0 && vec1.z === 0 ) return 0;\n\tif ( vec2.x === 0 && vec2.y === 0 && vec2.z === 0 ) return 0;\n\n\tvec1.sub( vecAngle );\n\tvec2.sub( vecAngle );\n\n\tangle = vec1.angleTo( vec2 );\n\n\tvec1.add( vecAngle );\n\tvec2.add( vecAngle );\n\n\treturn angle ;\n}\n\nbmu.getDoorDirectionVector = function(polyLine, doorLocation, debugF=false){\n  console.log(\"Getting door direction vector\");\n  if(debugF) bmu.createPlaceMarker(doorLocation, 0x00ff00);\n  const polyJson = bmu.convertPolylineToPolyJson(polyLine);\n  const polyPositions = { x: polyJson.x, y: polyJson.y, z: polyJson.z, height: polyJson.height, roomuri: polyJson.roomuri };\n  const polyArray = bmu.convertPolyStringToarray(polyJson.polyline);\n  if(debugF) bmu.draw2dspace(polyArray, polyPositions, 0x9999AA, \"Name\");\n\n  const pointsArray = bmu.createPointsFromPolyArray(polyArray, polyPositions);\n  const lineVectors = [];\n  let angleSum = 0; // If anglesum is positive, right hand side is pointing out of space\n  //console.log(pointsArray)\n  for(let ap=0; ap<pointsArray.length; ap++){\n    if(debugF) bmu.createPlaceMarker(pointsArray[ap]);\n    if(ap!=pointsArray.length-1){\n      lineVectors.push(v.v3subtract(pointsArray[ap+1], pointsArray[ap]));\n    } else {\n      lineVectors.push(v.v3subtract(pointsArray[ap], pointsArray[0])); // Only needed if first and last point is not the same.\n    }\n  }\n  // Calculating way of drawing room - Clockwise or anticlockwise\n  for(let ap=0; ap<pointsArray.length; ap++){\n    let v1 = lineVectors[pointsArray.length-2].clone();\n    if(ap!=0) v1 = lineVectors[ap-1].clone();\n    const v2 = lineVectors[ap].clone();\n    //console.log(v1);\n    //console.log(v2);\n    const angle = bmu.angleThreeVectors(v1, new Vector3(0,0,0), v2);\n    //console.log(\"Angle: \"+angle);\n    angleSum = angleSum+angle;\n  }\n  if(debugF) console.log(\"Angle sum: \"+angleSum);\n  let rotateClockwise = true;\n  if(angleSum>=0){\n    if(debugF) console.log(\"Angle sum is positive. Use right hand side for out.\");\n    rotateClockwise = false\n  } else {\n    if(debugF) console.log(\"Angle sum is negative. Use left hand side for out.\");\n    rotateClockwise = true;\n  }\n  // Setting directions\n  let rotateDirection = new Vector3( 0, -1, 0 );\n  let directionBefore = new Vector3( 0, 0, 0 );\n  let closestVector = new Vector3( 0, 0, 0 );\n  let foundLineCenter = new Vector3( 0, 0, 0 );\n  let closestDistance = 1000;\n  for(let ap=0; ap<pointsArray.length-1; ap++){\n    const quaternion = new Quaternion().setFromAxisAngle( rotateDirection, Math.PI / 2 ); // Rotate around Y\n    // Finding direction before corner\n    if(ap==0){\n      directionBefore = lineVectors[pointsArray.length-2].clone().applyQuaternion(quaternion);\n      if(debugF) bmu.createVisibleVector(pointsArray[ap], directionBefore, 0x999900);\n    }\n    let directionAfter = undefined;\n    let myLine = undefined\n    \n    if(ap==lineVectors.length-1){ // Handling the last point in array\n      directionAfter = lineVectors[1].clone().applyQuaternion(quaternion);\n      myLine = new Line3(pointsArray[ap].clone(), pointsArray[0].clone());\n    } else {\n      directionAfter = lineVectors[ap].clone().applyQuaternion(quaternion);\n      myLine = new Line3(pointsArray[ap].clone(), pointsArray[ap+1].clone());\n    }\n    let distanceVector = new Vector3( 0, 0, 0 );\n    myLine.closestPointToPoint(doorLocation.clone(), false, distanceVector);\n    const distance = distanceVector.distanceTo(doorLocation.clone());\n    console.log(\"Distance: \"+distance);\n    if(distance<closestDistance){\n      closestDistance = distance;\n      closestVector = directionAfter.clone();\n      if(myLine) myLine.getCenter(foundLineCenter);\n    }\n    if(debugF) bmu.createVisibleVector(pointsArray[ap], directionAfter, 0x009900);\n    directionBefore.normalize();\n    directionAfter.normalize();\n    directionBefore = directionAfter;\n  }\n  const foundDoorVector = closestVector.negate();\n  bmu.createVisibleVector(doorLocation, foundDoorVector, 0x000000);\n  //bmu.createPlaceMarker(foundLineCenter, 0x000000);\n  return foundDoorVector;\n}\n\nbmu.createGrossAreaSpaces = function(polyLines, debugF = true){\n  console.log(\"Creating gross spaces\");\n  const grossRoomArray = [];\n  const polyArrays = [];\n  const polyPositions = [];\n  for(let p=0; p<polyLines.length; p++){\n    const polyJson = bmu.convertPolylineToPolyJson(polyLines[p]);\n    polyPositions.push({ x: polyJson.x, y: polyJson.y, z: polyJson.z, height: polyJson.height, roomuri: polyJson.roomuri })\n    polyArrays.push(bmu.convertPolyStringToarray(polyJson.polyline));\n  }\n  for(let p=0; p<polyArrays.length; p++){\n    if(p!=0) bmu.draw2dspace(polyArrays[p], polyPositions[p], 0x9999AA, p+\"\");\n  }\n  for(let a=50; a<70; a++){\n    const pointsArray = bmu.createPointsFromPolyArray(polyArrays[a], polyPositions[a]);\n    //pointsArray.reverse();\n    const lineVectors = [];\n    let baseVector = new Vector3(0,0,0);\n    let angleSum = 0; // If anglesum is positive, right hand side is pointing out of space\n    //console.log(pointsArray)\n    for(let ap=0; ap<pointsArray.length; ap++){\n      if(debugF) bmu.createPlaceMarker(pointsArray[ap]);\n      if(ap!=pointsArray.length-1){\n        lineVectors.push(v.v3subtract(pointsArray[ap+1], pointsArray[ap]));\n      } else {\n        //if(pointsArray[ap] != pointsArray[0]) {\n          lineVectors.push(v.v3subtract(pointsArray[ap], pointsArray[0])); // Only needed if first and last point is not the same.\n        //}\n      }\n    }\n    // Calculating way of drawing room - Clockwise or anticlockwise\n    for(let ap=0; ap<pointsArray.length; ap++){\n      const v1 = lineVectors[pointsArray.length-2].clone();\n      if(ap!=0) v1 = lineVectors[ap-1].clone();\n      const v2 = lineVectors[ap].clone();\n      console.log(v1);\n      console.log(v2);\n      const angle = bmu.angleThreeVectors(v1, new Vector3(0,0,0), v2);\n      console.log(\"Angle: \"+angle);\n      angleSum = angleSum+angle;\n    }\n    console.log(\"Angle sum: \"+angleSum);\n    let rotateClockwise = true;\n    if(angleSum>=0){\n      console.log(\"Angle sum is positive. Use right hand side for out.\");\n      rotateClockwise = false\n    } else {\n      console.log(\"Angle sum is negative. Use left hand side for out.\");\n      rotateClockwise = true;\n    }\n    // Setting directions\n    let rotateDirection = new Vector3( 0, -1, 0 );\n    let directionBefore = new Vector3( 0, 0, 0 );\n    let midPointBefore = new Vector3( 0, 0, 0 );\n    const newPointsArray = [];\n    for(let ap=0; ap<pointsArray.length-1; ap++){\n      //console.log(\"Point: \")\n      const quaternion = new Quaternion().setFromAxisAngle( rotateDirection, Math.PI / 2 ); // Rotate around Y\n\n      // Finding direction before corner\n      if(ap==0){\n        directionBefore = lineVectors[pointsArray.length-2].clone().applyQuaternion(quaternion);\n        midPointBefore = pointsArray[pointsArray.length-2].clone().add(v.v3half(lineVectors[pointsArray.length-2]));\n        if(debugF) bmu.createVisibleVector(pointsArray[ap], directionBefore, 0x999900);\n      } else {\n        if(ap<=pointsArray.length-2 && debugF) bmu.createVisibleVector(pointsArray[ap], directionBefore, 0x990000);\n      }\n\n      let midPointAfter = undefined;\n      let directionAfter = undefined;\n      // Finding direction after corner\n      if(ap==lineVectors.length-1){ // Handling the last point in array\n        midPointAfter = pointsArray[1].clone().add(v.v3half(lineVectors[1]));\n        directionAfter = lineVectors[1].clone().applyQuaternion(quaternion);\n        //directionAfter = new Vector3( lineVectors[1].x, lineVectors[1].y, lineVectors[1].z ).applyQuaternion(quaternion);\n      } else {\n        //console.log(\"AP: \"+ap)\n        //console.log(lineVectors[ap])\n        midPointAfter = pointsArray[ap].clone().add(v.v3half(lineVectors[ap]));\n        directionAfter = lineVectors[ap].clone().applyQuaternion(quaternion); // Om jeg ikke kloner denne blir det riktig på den ene hmmm....\n        //directionAfter = new Vector3( lineVectors[ap].x, lineVectors[ap].y, lineVectors[ap].z ).applyQuaternion(quaternion);\n      }\n      directionBefore.normalize();\n      directionAfter.normalize();\n      if(debugF) bmu.createVisibleVector(midPointAfter, directionAfter, 0x008800, (0.2*ap)+0.2);\n      if(debugF) bmu.createVisibleVector(pointsArray[ap], directionAfter, 0x000088);\n\n      let gapBefore = 0.3;\n      let gapAfter = 0.3;\n\n      // Finding the intersects after corner\n      store.state.bv.raycaster.set(midPointAfter, directionAfter);\n      let intersects = store.state.bv.raycaster.intersectObjects( store.state.bv.scene.getObjectByName(\"buildingbox\").children , true );\n      if(intersects[0]){\n        if(intersects[0].distance <= 0.5) gapAfter = intersects[0].distance;\n      }\n\n      // Finding the intersects before corner\n      store.state.bv.raycaster.set(midPointBefore, directionBefore);\n      intersects = store.state.bv.raycaster.intersectObjects( store.state.bv.scene.getObjectByName(\"buildingbox\").children , true );\n      if(intersects[0]){\n        if(intersects[0].distance <= 0.5) gapBefore = intersects[0].distance;\n      }\n       \n      \n      console.log(\"Gap before: \"+gapBefore)\n      console.log(\"Gap after: \"+gapAfter)\n\n      if(debugF) bmu.createLine([pointsArray[ap], pointsArray[ap].clone().add(lineVectors[ap])]);\n      if(debugF) bmu.createLine([pointsArray[pointsArray.length-2], pointsArray[pointsArray.length-2].clone().add(lineVectors[lineVectors.length-2])]);\n      \n      // Performing the movement and create new object\n      if((gapAfter >= 0) && gapAfter <= 1){\n        //console.log(\"Distance to neighbour is within limit: \"+gapAfter+\" meter\");\n        const vb = directionBefore.clone();\n        const va = directionAfter.clone();\n        let angleBetweenDirections = bmu.angleThreeVectors(vb, new Vector3(0,0,0), va);\n        let orientation = vb.x * va.z - vb.z * va.x;\n        if(orientation > 0) angleBetweenDirections = 2*(Math.PI) - angleBetweenDirections;\n        console.log(\"Angle between directions: \"+angleBetweenDirections);\n\n        // Calculate interaction point between paralell lines\n        const t1 = gapBefore/2;\n        const t2 = gapAfter/2;\n        // Dersom 90 grader er det unntak. Dersom ingen vinkel, vil verdi bli uendelig.\n        let Xa = t2;\n        let Ya = -t1;\n        if(angleBetweenDirections<=((Math.PI/2)-0.002) || angleBetweenDirections>=((Math.PI/2)+0.002)){\n          Xa = (t2-(t1*Math.cos(angleBetweenDirections)))/((Math.sin(angleBetweenDirections)));\n        }\n\n        // Handling special cases where XA gets extremly large values. Must find the cause..\n        if (Xa >= 0.5 || Xa <= -0.5) Xa = 0;\n\n        // Checking if rotation anticlockwise\n        /*if(rotateClockwise){\n          Xa = -Xa;\n          Ya = -Ya;\n        }*/\n\n        // Get the direction of the line on left side of current corner\n        const v2 = directionBefore.clone().applyAxisAngle( new Vector3( rotateDirection.x, -rotateDirection.y, rotateDirection.z ), Math.PI / 2 );\n        if(ap==0){\n          baseVector = v2.clone().normalize();\n        } \n\n        // Calculate agle to global XY axis orientation\n        const v1 = baseVector;\n        let angleToFirstLine = bmu.angleThreeVectors(v1, new Vector3(0,0,0), v2);\n        //let angleToWorld = v1.angleTo(v2);\n        orientation = v1.x * v2.z - v1.z * v2.x;\n        if(orientation > 0) angleToFirstLine = 2*(Math.PI) - angleToFirstLine;\n        if(debugF) console.log(\"Angle to world: \"+angleToFirstLine)\n\n        // Moving the point\n        let totalMovement = new Vector3(Xa, 0, -Ya);\n        totalMovement.applyAxisAngle(new Vector3(0,1,0), angleToFirstLine); \n        totalMovement.applyAxisAngle(new Vector3(0,1,0), bmu.angleThreeVectors(new Vector3(1,0,0), new Vector3(0,0,0), baseVector)); // Adding angle between world and firstLine\n        if(angleBetweenDirections==0){\n          if(debugF) console.log(\"Angle is 0......\")\n          let movementLength = (Math.min(gapBefore, gapAfter)/2);\n          if(debugF) console.log(\"Length: \"+movementLength)\n          totalMovement = directionBefore.normalize().multiplyScalar(movementLength);\n        }\n\n        if(debugF) console.log(\"Found point x:\"+Xa+\" y:\"+Ya);\n        // Checking if direction is pointing inwards, if so change direction\n        if(bmu.angleThreeVectors(directionAfter, new Vector3(0,0,0), totalMovement)>2) totalMovement.negate(); // Vector is opposite direction when drawn other way\n\n        const newPoint = pointsArray[ap].clone().add(totalMovement);\n        newPointsArray.push(newPoint.z);\n        newPointsArray.push(newPoint.x);\n        newPointsArray.push(3);\n        if(debugF) bmu.createVisibleVector(pointsArray[ap], totalMovement, 0x000000);\n      } else {\n        console.log(\"Warning, distance to neighbour is out of limits\");\n        bmu.createVisibleVector(midPointAfter, directionAfter, 0x008800, 1);\n        bmu.panToFocusObject(polyPositions[a].x, -polyPositions[a].y);\n        console.log(intersects);\n        newPointsArray.push(pointsArray[ap].z);\n        newPointsArray.push(pointsArray[ap].x);\n        newPointsArray.push(3);\n      }\n      directionBefore = directionAfter;\n      midPointBefore = midPointAfter;\n    }\n    //console.log(newPointsArray);\n    bmu.draw2dspace(newPointsArray, {x: 0, y: 0, z: 3 }, 0x880088, \"\");\n    grossRoomArray.push(newPointsArray);\n  }\n}\n\nbmu.findSpaceIntersections = function(polyLines, lengthLimit, debugF = true){\n  if(debugF) console.log(\"Finding space intersections\");\n  const polyArrays = [];\n  const polyPositions = [];\n  const roomNames = [];\n  const foundIntersections = [];\n  for(let p=0; p<polyLines.length; p++){\n    const polyJson = bmu.convertPolylineToPolyJson(polyLines[p]);\n    polyPositions.push({ x: polyJson.x, y: polyJson.y, z: polyJson.z, height: polyJson.height, roomuri: polyJson.roomuri })\n    polyArrays.push(bmu.convertPolyStringToarray(polyJson.polyline));\n    roomNames.push(polyJson.roomname);\n  }\n  for(let p=0; p<polyArrays.length; p++){\n    if(p!=0) bmu.draw2dspace(polyArrays[p], polyPositions[p], 0x9999AA, roomNames[p]);\n  }\n  for(let a=0; a<polyArrays.length; a++){\n    const pointsArray = bmu.createPointsFromPolyArray(polyArrays[a], polyPositions[a]);\n    //pointsArray.reverse();\n    const lineVectors = [];\n    let baseVector = new Vector3(0,0,0);\n    let angleSum = 0; // If anglesum is positive, right hand side is pointing out of space\n    //console.log(pointsArray)\n    for(let ap=0; ap<pointsArray.length; ap++){\n      //if(debugF) bmu.createPlaceMarker(pointsArray[ap]);\n      if(ap!=pointsArray.length-1){\n        lineVectors.push(v.v3subtract(pointsArray[ap+1], pointsArray[ap]));\n      } else {\n        lineVectors.push(v.v3subtract(pointsArray[ap], pointsArray[0])); // Only needed if first and last point is not the same.\n      }\n    }\n    // Calculating way of drawing room - Clockwise or anticlockwise\n    for(let ap=0; ap<pointsArray.length; ap++){\n      let v1 = lineVectors[pointsArray.length-2].clone();\n      if(ap!=0) v1 = lineVectors[ap-1].clone();\n      const v2 = lineVectors[ap].clone();\n      //console.log(v1);\n      //console.log(v2);\n      const angle = bmu.angleThreeVectors(v1, new Vector3(0,0,0), v2);\n      //console.log(\"Angle: \"+angle);\n      angleSum = angleSum+angle;\n    }\n    //console.log(\"Angle sum: \"+angleSum);\n    let rotateClockwise = true;\n    if(angleSum>=0){\n      //console.log(\"Angle sum is positive. Use right hand side for out.\");\n      rotateClockwise = false\n    } else {\n      //console.log(\"Angle sum is negative. Use left hand side for out.\");\n      rotateClockwise = true;\n    }\n    // Setting directions\n    let rotateDirection = new Vector3( 0, -1, 0 );\n    let directionBefore = new Vector3( 0, 0, 0 );\n    let midPointBefore = new Vector3( 0, 0, 0 );\n    for(let ap=0; ap<pointsArray.length-1; ap++){\n      //console.log(\"Point: \")\n      const quaternion = new Quaternion().setFromAxisAngle( rotateDirection, Math.PI / 2 ); // Rotate around Y\n\n      // Finding direction before corner\n      if(ap==0){\n        directionBefore = lineVectors[pointsArray.length-2].clone().applyQuaternion(quaternion);\n        midPointBefore = pointsArray[pointsArray.length-2].clone().add(v.v3half(lineVectors[pointsArray.length-2]));\n      } else {\n        \n      }\n\n      let midPointAfter = undefined;\n      let directionAfter = undefined;\n      // Finding direction after corner\n      if(ap==lineVectors.length-1){ // Handling the last point in array\n        midPointAfter = pointsArray[1].clone().add(v.v3half(lineVectors[1]));\n        directionAfter = lineVectors[1].clone().applyQuaternion(quaternion);\n      } else {\n        midPointAfter = pointsArray[ap].clone().add(v.v3half(lineVectors[ap]));\n        directionAfter = lineVectors[ap].clone().applyQuaternion(quaternion); // Om jeg ikke kloner denne blir det riktig på den ene hmmm....\n      }\n      directionBefore.normalize();\n      directionAfter.normalize();\n\n      //let gapBefore = 0.3;\n      let gapAfter = 0.3;\n      const room1 = roomNames[a];\n      let room2 = \"\";\n\n      // Finding the intersects after corner\n      store.state.bv.raycaster.set(midPointAfter, directionAfter);\n      let intersects = store.state.bv.raycaster.intersectObjects( store.state.bv.scene.getObjectByName(\"buildingbox\").children , true );\n      for(let i=0;i<1;i++){\n        if(intersects[i]){\n          if(intersects[i].distance <= 0.03){\n            gapAfter = intersects[i].distance;\n            room2 = intersects[i].object.name;\n          }\n        }\n      }\n\n      \n      // Performing the movement and create new object\n      if((gapAfter >= -0.01) && gapAfter <= 0.01 && u.formatString(room1)!=u.formatString(room2)){\n        const wallLength = lineVectors[ap].clone().length();\n        if(wallLength>=lengthLimit){\n          if(debugF) console.log(\"Space: \"+room1+\" intersects: \"+room2);\n          foundIntersections.push({\"room1\": u.formatString(room1), \"room2\": u.formatString(room2), \"point\": midPointAfter, \"length\": wallLength});\n        } \n      }\n      directionBefore = directionAfter;\n      midPointBefore = midPointAfter;\n    }\n  }\n  if(debugF) console.log(foundIntersections);\n  return foundIntersections;\n}\n\nbmu.panToFocusObject = function(x, y){\n  store.state.bv.twodimcamera.position.set(x, 20, y);\n  store.state.bv.controls2d.target.set(x, 1, y);\n  store.state.bv.controls2d.update();\n  store.state.bv.needsrender = true;\n}\n\nbmu.getMeshCenterPoint = function(mesh){\n  let maxX = -100000, minX = 100000, maxY = -100000, minY = 100000, minZ = 100000;\n  for(let y = 0; y<=mesh.geometry.attributes.position.array.length-3; y=y+3){\n    maxX = Math.max(mesh.geometry.attributes.position.array[y], maxX);\n    minX = Math.min(mesh.geometry.attributes.position.array[y], minX);\n  }\n  for(let y = 2; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n    maxY = Math.max(mesh.geometry.attributes.position.array[y], maxY);\n    minY = Math.min(mesh.geometry.attributes.position.array[y], minY);\n  }\n  for(let y = 1; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n    minZ = Math.min(mesh.geometry.attributes.position.array[y], minZ);\n  }\n  return new Vector3((maxX+minX)/2, minZ, (maxY+minY)/2);\n}\n\nbmu.getMeshCenterPointTop = function(mesh){\n  let maxX = -100000, minX = 100000, maxY = -100000, minY = 100000, maxZ = -100000;\n  for(let y = 0; y<=mesh.geometry.attributes.position.array.length-3; y=y+3){\n    maxX = Math.max(mesh.geometry.attributes.position.array[y], maxX);\n    minX = Math.min(mesh.geometry.attributes.position.array[y], minX);\n  }\n  for(let y = 2; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n    maxY = Math.max(mesh.geometry.attributes.position.array[y], maxY);\n    minY = Math.min(mesh.geometry.attributes.position.array[y], minY);\n  }\n  for(let y = 1; y<=mesh.geometry.attributes.position.array.length; y=y+3){\n    maxZ = Math.max(mesh.geometry.attributes.position.array[y], maxZ);\n  }\n  return new Vector3((maxX+minX)/2, maxZ, (maxY+minY)/2);\n}\n\nexport default bmu;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportData.vue?vue&type=style&index=0&id=dbba2baa&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssetsListV.vue?vue&type=style&index=0&id=9bd36606&prod&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/building3.78d884c2.png\";","module.exports = __webpack_public_path__ + \"img/floor.e65cb651.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuildingDetails.vue?vue&type=style&index=0&id=08fd40eb&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkList.vue?vue&type=style&index=0&id=8a7a1d6c&prod&scoped=true&lang=css&\"","//Q = QUERY\n\nconst $ = require('jquery')\n\nimport { ns, nu, nl, neo, trinity } from './ontologies.js'\n\nconst $rdf = require('rdflib');\n\nimport u from './util.js';\nimport ur from './util-rdf.js';\nimport store from '../store';\nconst rdfStore = store.state.rs.rdfStore;\n\nconst q = {}\n\nq.substance = function (uri) {\n\t//return substance graph uri for a pod\n}\n\n\nq.cause = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (ur.isEvent(uri)) {\n\t\t    var qs = u.unique(rdfStore.match(null, neo.f_cause, $rdf.sym(uri)))\n\t\t\tif (qs && qs.length > 0) {\n\t\t\t\tvar cause = []\n\t\t\t\tqs.forEach(q => cause.push(q.subject.value))\n\t\t\t\treturn cause\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.effect = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (ur.isEvent(uri)) {\n\t\t    var qs = u.unique(rdfStore.match($rdf.sym(uri), neo.f_cause))\n\t\t\tif (qs && qs.length > 0) {\n\t\t\t\tvar effect = []\n\t\t\t\tqs.forEach(q => effect.push(q.object.value))\n\t\t\t\treturn effect\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.capability = function (item, Function) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (ur.isEvent(uri)) {\n\t\t\tvar quad = rdfStore.anyStatementMatching($rdf.sym(uri), neo.t_execute)\n\t\t\tif (quad) {\n\t\t\t\treturn quad.object.value\n\t\t\t}\n\t\t} else {\n\t\t\tvar func\n\t\t\tvar funcNode = null\n\t\t\tif (Function) {\n\t\t\t\tfunc = u.getURI(Function)\n\t\t\t\tif (func) {\n\t\t\t\t\tfuncNode = $rdf.sym(func)\n\t\t\t\t}\n\t\t\t}\n\t\t    var cqs = u.unique(rdfStore.match($rdf.sym(uri), neo.b_capable, funcNode))\n\t\t\tif (cqs.length > 0) {\n\t\t\t\tvar caps = []\n\t\t\t\t//need to convert to state\n\t\t\t\tcqs.forEach(function (q) {\n\t\t\t\t\tvar state = ur.quadToState(q)\n\t\t\t\t\tif (state) {\n\t\t\t\t\t\tcaps.push(state)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (Array.isArray(caps) && caps.length > 0) {\n\t\t\t\t\treturn caps\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.input = function (item) {\n\tvar uri = u.getURI(item)\n\tvar result = []\n\tif (uri) {\n\t\tvar node = $rdf.sym(uri)\n\t\tif (ur.isEvent(uri)) {\n\t\t    var qs = u.unique(rdfStore.match(null, neo.i_input, node))\n\t\t\tif (qs.length > 0) {\n\t\t\t\tqs.forEach(q => result.push(q.subject.value))\n\t\t\t}\n\t\t} else if (ur.isState(uri)) {\n\t\t    var qs = u.unique(rdfStore.match(node, neo.i_input))\n\t\t\tif (qs.length > 0) {\n\t\t\t\tqs.forEach(q => result.push(q.object.value))\n\t\t\t}\n\t\t} else if (ur.isEntity(uri)) {\n\t\t\tvar states = q.state(uri)\n\t\t\tif (states) {\n\t\t\t\tstates.forEach(function (s) {\n\t\t\t\t\tvar res = q.input(s)\n\t\t\t\t\tif (res.length > 0) {\n\t\t\t\t\t    result = u.unique(result.concat(res))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n    return u.unique(result)\n}\n\nq.output = function (item) {\n\tvar uri = u.getURI(item)\n\tvar result = []\n\tif (uri) {\n\t\tvar node = $rdf.sym(uri)\n\t\tif (ur.isEvent(uri)) {\n\t\t    var qs = u.unique(rdfStore.match(node, neo.o_output))\n\t\t\tif (qs.length > 0) {\n\t\t\t\tqs.forEach(q => result.push(q.object.value))\n\t\t\t}\n\t\t} else if (ur.isState(uri)) {\n\t\t    var qs = u.unique(rdfStore.match(null, neo.o_output, node))\n\t\t\tif (qs.length > 0) {\n\t\t\t\tqs.forEach(q => result.push(q.subject.value))\n\t\t\t}\n\t\t} else if (ur.isEntity(uri)) {\n\t\t\tvar states = q.state(uri)\n\t\t\tif (states) {\n\t\t\t\tstates.forEach(function (s) {\n\t\t\t\t\tvar res = q.output(s)\n\t\t\t\t\tif (res.length > 0) {\n\t\t\t\t\t    result = u.unique(result.concat(res))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\treturn result\n}\n\nq.start = function(item){\n    var uri = u.getURI(item)\n    if (uri) {\n\tvar start = rdfStore.anyStatementMatching($rdf.sym(uri), neo.t_start)\n\tif (start){\n\t    var elems = ur.attributeToElems(start.object)\n\t    if (elems){\n\t\tvar lit = elems.a_result\n\t\tif (lit){\n\t\t    return lit.value\n\t\t}\n\t    }\n\t}\n    }\n}\n\nq.end = function(item){\n    var uri = u.getURI(item)\n    if (uri) {\n\tvar att = rdfStore.anyStatementMatching($rdf.sym(uri), neo.t_end)\n\tif (att){\n\t    var elems = ur.attributeToElems(att.object)\n\t    if (elems){\n\t\tvar lit = elems.a_result\n\t\tif (lit){\n\t\t    return lit.value\n\t\t}\n\t    }\n\t}\n    }\n}\n\nq.updateTime = function(item){\n    return q.end(item) || q.start(item)\n}\n\nq.started = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (rdfStore.anyStatementMatching($rdf.sym(uri), neo.t_start)) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n}\n\nq.ended = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (rdfStore.anyStatementMatching($rdf.sym(uri), neo.t_end)) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\nq.active = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (q.started(uri) && !q.ended(uri)) {\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t}\n}\n\nq.status = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tvar status = []\n\t\tif (uri) {\n\t\t\tif (ur.isEvent(uri)) {\n\t\t\t\tstatus = q.status(q.effect(uri))\n\t\t\t} else {\n\t\t\t\tvar node = $rdf.sym(uri)\n\t\t\t    var qs = u.unique(rdfStore.match(node, neo.m_status))\n\t\t\t\tif (qs && qs.length > 0) {\n\t\t\t\t\tqs.forEach(q => status.push(q.object.value))\n\t\t\t\t} else {\n\t\t\t\t\tvar is = q.input(uri)\n\t\t\t\t\tif ($.type(is) === \"array\" && is.length > 0) {\n\t\t\t\t\t\tvar status = []\n\t\t\t\t\t\tis.forEach(q => status.push(q.status(q)))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($.type(status) === \"array\" && status.length > 0) {\n\t\t\t\treturn status\n\t\t\t} else {\n\t\t\t\treturn null\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.entity = function (item) {\n\tif (Array.isArray(item)) {\n\t\tvar result = []\n\t\tvar merged = []\n\t\titem.forEach(function (i) {\n\t\t\tresult.push(q.entity(i))\n\t\t})\n\t\tresult.forEach(e => {\n\t\t\tmerged = merged.concat(e)\n\t\t})\n\t    return u.unique(merged)\n\t} else {\n\t\tvar uri = u.getURI(item)\n\t\tif (uri) {\n\t\t\tif (ur.isState(uri)) {\n\t\t\t    var stmts = u.unique(rdfStore.match(null, ns.NEO('i_entity'), $rdf.sym(u.getURI(uri))))\n\t\t\t\tvar ents = $.map(stmts, function (st) {\n\t\t\t\t\tvar obj = st.subject.value\n\t\t\t\t\tif (!ur.isAttribute(obj)) {\n\t\t\t\t\t\treturn obj\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (ents) {\n\t\t\t\t\treturn u.unique(ents)\n\t\t\t\t}\n\t\t\t} else if (ur.isEntity(uri)) {\n\t\t\t\treturn uri\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.state = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (ur.isState(uri)) {\n\t\t\treturn uri\n\t\t} else if (ur.isAttribute(uri)) {\n\t\t    var quads = u.unique(rdfStore.match($rdf.sym(uri), neo.i_attribute))\n\t\t\treturn u.unique($.map(quads, function (quad) {\n\t\t\t\treturn quad.object.value\n\t\t\t}))\n\t\t} else {\n\t\t    var quads = u.unique(rdfStore.match($rdf.sym(uri), neo.i_entity))\n\t\t\treturn u.unique($.map(quads, function (quad) {\n\t\t\t\treturn quad.object.value\n\t\t\t}))\n\t\t}\n\t}\n}\n\nq.attribute = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (ur.isState(uri)) {\n\t\t\tvar elems = ur.stateToElems(uri)\n\t\t\tif (typeof elems === 'object') {\n\t\t\t\treturn [elems.a_attribute]\n\t\t\t}\n\t\t} else if (ur.isAttribute(uri)) {\n\t\t\treturn [uri]\n\t\t} else if (ur.isEntity(uri)) {\n\t\t\tvar states = q.state(uri)\n\t\t\tif (states) {\n\t\t\t\treturn $.map(states, function (state) {\n\t\t\t\t\treturn q.attribute(state)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\nq._function = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tif (Array.isArray(item)) {\n\t\t\tvar result = []\n\t\t\titem.forEach(i => result.push(q._function(i)))\n\t\t\treturn result\n\t\t} else if (ur.isEvent(uri)) {\n\t\t\tvar cap = q.capability(uri)\n\t\t\tif (cap) {\n\t\t\t\treturn q.result(cap)\n\t\t\t}\n\t\t} else {\n\t\t\tvar elems = []\n\t\t\tvar attributes = q.attribute(uri)\n\t\t\t//log.debug(\"function1\",attributes)\n\t\t\tif (attributes) {\n\t\t\t\t$.map(attributes, function (attrib) {\n\t\t\t\t\telems.push(ur.attributeToElems(attrib))\n\t\t\t\t})\n\t\t\t\t//log.debug(\"function2\",elems)\n\t\t\t\tif (elems) {\n\t\t\t\t\treturn u.unique($.map(elems, function (elem) {\n\t\t\t\t\t\tif ($.type(elem) === \"object\") {\n\t\t\t\t\t\t\treturn elem.f_function\n\t\t\t\t\t\t}\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nq.result = function (item) {\n\tif (Array.isArray(item)) {\n\t\tvar result = []\n\t\titem.forEach(i => result.push(ur.a_result(i)))\n\t\treturn result\n\t} else {\n\t\treturn ur.a_result(item)\n\t}\n}\n\nq.rank = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t    var rank = u.unique(rdfStore.match($rdf.sym(uri), ns.NEO('m_rank')))\n\t\tif (rank && rank.length > 0) {\n\t\t\treturn parseFloat(rank[0].object.value)\n\t\t} else {\n\t\t\treturn 100\n\t\t}\n\t} else {\n\t\treturn 100\n\t}\n}\n\nq.lastChange = function (item) {\n\tvar uri = u.getURI(item)\n\tif (uri) {\n\t\tvar last = rdfStore.anyStatementMatching($rdf.sym(uri), neo.m_lastChange)\n\t\tif (last) {\n\t\t\treturn last.object.value\n\t\t}\n\t}\n}\n\nq.lastCapability = function (item){\n    var uri = u.getURI(item)\n    if (uri){\n\tvar lastChange = q.lastChange(uri)\n\tvar cap = q.capability(lastChange);\n\tif (cap){    \n\t    return cap\n\t}\n    }\n}\n\nq.lastFunction = function (item){\n    var cap = q.lastCapability(item)\n    if (cap){\n\treturn q.result(cap)\n    }\n}\n\nq.lastSystem = function (item){\n    var cap = q.lastCapability(item)\n    if (cap){\n\tvar system = q.entity(cap)\n\tif (Array.isArray(system)){\n\t    return system[0]\n\t}\n    }\n}\n\nexport default q\n","import { Vector3 } from \"three\";\n\nconst v = {};\n\n// Class for array functions\n\nv.v3subtract = function(v1, v2){\n  // Subtracts two vectors\n  const v3 = new Vector3(0,0,0);\n  v3.x = v1.x-v2.x;\n  v3.y = v1.y-v2.y;\n  v3.z = v1.z-v2.z;\n  return v3;\n}\n\nv.v3add = function(v1, v2){\n  // Subtracts two vectors\n  const v3 = new Vector3(0,0,0);\n  v3.x = v1.x+v2.x;\n  v3.y = v1.y+v2.y;\n  v3.z = v1.z+v2.z;\n  return v3;\n}\n\nv.v3multiply = function(v1, v2){\n  // Subtracts two vectors\n  const v3 = new Vector3(0,0,0);\n  v3.x = v1.x*v2.x;\n  v3.y = v1.y*v2.y;\n  v3.z = v1.z*v2.z;\n  return v3;\n}\n\nv.v3half = function(v1){\n  // Subtracts two vectors\n  const v3 = new Vector3(0,0,0);\n  v3.x = v1.x/2;\n  v3.y = v1.y/2;\n  v3.z = v1.z/2;\n  return v3;\n}\n\nv.v3cross = function(v1, v2){\n  let v3 = {x:0,y:0,z:0};\n  v3.x = (v1.y*v2.z)-(v1.z*v2.y);\n  v3.y = (v1.z*v2.x)-(v1.x*v2.z);\n  v3.z = (v1.x*v2.y)-(v1.y*v2.x);\n  return v3;\n}\n\nv.rotateRadians = function(cx, cy, x, y, radians) {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n  const nx = (cos * (x - cx)) + (sin * (y - cy)) + cx;\n  const ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n  return [nx, ny];\n}\n\nv.getAngleRadians = function(fromX,fromY,toX,toY) {\n  let deltaX = fromX - toX;\n  let deltaY = fromY - toY;\n  let radians = Math.atan2(deltaY, deltaX)\n  return radians;\n}\n\nexport default v;\n","const $ = require('jquery')\nconst $rdf = require('rdflib');\n\nvar ns = Object.create(null); //for holding namespaces\nvar nu = Object.create(null); //for ontology URI\nvar nl = Object.create(null); //for namespace key lookup from ns\n\nvar neo = Object.create(null) //for neo ontology\n\nconst N3 = require('n3')\n\nvar trinity = Object.create(null) //for trinity trinpod spec objects\nvar trinapp = Object.create(null) //for trinapp spec object\n\nns.FOAF = $rdf.Namespace('http://xmlns.com/foaf/0.1/');\nnu.FOAF = \"http://xmlns.com/foaf/0.1/\";\nns.VCARD = $rdf.Namespace('http://www.w3.org/2006/vcard/ns#');\nnu.VCARD = \"http://www.w3.org/2006/vcard/ns\";\nns.REG = $rdf.Namespace(\"https://www.w3.org/ns/assignments/reg#\")\nnu.REG = \"https://www.w3.org/ns/assignments/reg#\"\nns.RDF = $rdf.Namespace(\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\");\nnu.RDF = \"http://www.w3.org/1999/02/22-rdf-syntax-ns#\";\nns.RDFS = $rdf.Namespace(\"http://www.w3.org/2000/01/rdf-schema#\");\nnu.RDFS = \"http://www.w3.org/2000/01/rdf-schema#\";\nns.OWL = $rdf.Namespace(\"http://www.w3.org/2002/07/owl#\");\nnu.OWL = \"http://www.w3.org/2002/07/owl\";\nns.DC = $rdf.Namespace(\"http://purl.org/dc/elements/1.1/\");\nnu.DC = \"http://purl.org/dc/elements/1.1/\";\nns.DCTERMS = $rdf.Namespace(\"http://purl.org/dc/terms/\")\nnu.DCTERMS = \"http://purl.org/dc/terms/\"\nns.RSS = $rdf.Namespace(\"http://purl.org/rss/1.0/\");\nnu.RSS = \"http://purl.org/rss/1.0\";\nns.XSD = $rdf.Namespace(\"http://www.w3.org/TR/2004/REC-xmlschema-2-20041028/#dt-\");\n//nu.XSD = null; //TODO\nns.CONTACT = $rdf.Namespace(\"http://www.w3.org/2000/10/swap/pim/contact#\");\nnu.CONTACT = \"http://www.w3.org/2000/10/swap/pim/contact\";\nns.DIO = $rdf.Namespace(\"https://w3id.org/dio#\")\nnu.DIO = \"https://w3id.org/dio\"\nns.DOAP = $rdf.Namespace(\"http://usefulinc.com/ns/doap#\")\nnu.DOAP = \"http://usefulinc.com/ns/doap#\"\nns.LDP = $rdf.Namespace(\"http://www.w3.org/ns/ldp#\");\nnu.LDP = \"http://www.w3.org/ns/ldp#\";\nns.LODE = $rdf.Namespace(\"http://linkedevents.org/ontology/\")\nnu.LODE = \"http://linkedevents.org/ontology/\"\nns.LVONT = $rdf.Namespace(\"http://lexvo.org/ontology#\")\nnu.LVONT = \"http://lexvo.org/ontology\"\nns.POSIX = $rdf.Namespace(\"https://www.w3.org/ns/posix/stat#\")\nnu.POSIX = \"https://www.w3.org/ns/posix/stat\"\nns.SH = $rdf.Namespace(\"http://www.w3.org/ns/shacl#\")\nnu.SH = \"http://www.w3.org/ns/shacl#\"\nns.SPACE = $rdf.Namespace(\"http://www.w3.org/ns/pim/space#\");\nnu.SPACE = \"http://www.w3.org/ns/pim/space\";\nns.SCHEMA = $rdf.Namespace(\"http://schema.org/\");\nnu.SCHEMA = \"http://schema.org/\";\nns.SOLID = $rdf.Namespace(\"http://www.w3.org/ns/solid/terms#\");\nnu.SOLID = \"http://www.w3.org/ns/solid/terms\";\nns.TAG = $rdf.Namespace(\"http://www.holygoat.co.uk/owl/redwood/0.1/tags/\")\nnu.TAG = \"http://www.holygoat.co.uk/owl/redwood/0.1/tags/\"\nns.TXN = $rdf.Namespace(\"http://lod.taxonconcept.org/ontology/txn.owl#\")\nnu.TXN = \"http://lod.taxonconcept.org/ontology/txn.owl\"\nns.GMX = $rdf.Namespace(\"http://graphmetrix.com/node#\");\nnu.GMX = \"http://graphmetrix.com/node#7\";\nns.GMXO = $rdf.Namespace(\"https://ontology.graphmetrix.com/node/\");\nnu.GMXO = \"https://ontology.graphmetrix.com/node/\";\nns.MUTO = $rdf.Namespace(\"http://purl.org/muto/core#\")\nnu.MUTO = \"http://purl.org/muto/core\"\nns.NEO = $rdf.Namespace(\"https://neo.graphmetrix.net/node/\");\nnu.NEO = \"https://neo.graphmetrix.net\";\nns.DUL = $rdf.Namespace(\"http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#\");\nnu.DUL = \"http://www.ontologydesignpatterns.org/ont/dul/DUL.owl\";\nns.SIO = $rdf.Namespace(\"http://semanticscience.org/resource/\");\nnu.SIO = \"http://semanticscience.org/ontology/sio.owl\";\nns.ACL = $rdf.Namespace(\"http://www.w3.org/ns/auth/acl#\");\nnu.ACL = \"http://www.w3.org/ns/auth/acl\";\nns.TET = $rdf.Namespace(\"http://www.pdflib.com/XML/TET5/TET-5.0/\");\nnu.TET = \"http://www.pdflib.com/XML/TET5/TET-5.0\";\nns.PROV = $rdf.Namespace(\"http://www.w3.org/ns/prov#\");\nnu.PROV = \"http://www.w3.org/ns/prov#\"\nns.ISOADR = $rdf.Namespace(\"http://reference.data.gov.au/def/ont/iso19160-1-address#\")\nnu.ISOADR = \"http://reference.data.gov.au/def/ont/iso19160-1-address\"\nns.SKOS = $rdf.Namespace(\"http://www.w3.org/2004/02/skos/core#\")\nnu.SKOS = \"http://www.w3.org/2004/02/skos/core\"\nns.OM = $rdf.Namespace(\"http://def.seegrid.csiro.au/isotc211/iso19156/2011/observation#\")\nnu.OM = \"http://def.seegrid.csiro.au/isotc211/iso19156/2011/observation\"\nns.GEO = $rdf.Namespace(\"http://www.w3.org/2003/01/geo/wgs84_pos#\")\nnu.GEO = \"http://www.w3.org/2003/01/geo/wgs84_pos\"\nns.OPMV = $rdf.Namespace(\"http://purl.org/net/opmv/ns#\")\nnu.OPMV = \"http://purl.org/net/opmv/ns#\"\nns.BIOTOP = $rdf.Namespace(\"http://purl.org/biotop/biotop.owl#\")\nnu.BIOTOP = \"http://purl.org/biotop/biotop.owl\"\nns.GN = $rdf.Namespace(\"http://www.geonames.org/ontology#\")\nnu.GN = \"http://www.geonames.org/ontology\"\nns.EVENT = $rdf.Namespace(\"http://purl.org/NET/c4dm/event.owl#\")\nnu.EVENT = \"http://purl.org/NET/c4dm/event.owl\"\nns.PEXT = $rdf.Namespace(\"http://www.ontotext.com/proton/protonext#\")\nnu.PEXT = \"http://www.ontotext.com/proton/protonext\"\nns.PICO = $rdf.Namespace(\"http://data.cochrane.org/ontologies/pico/\")\nnu.PICO = \"http://data.cochrane.org/ontologies/pico/\"\nns.FRBR = $rdf.Namespace(\"http://purl.org/vocab/frbr/core#\")\nnu.FRBR = \"http://purl.org/vocab/frbr/core\"\nns.CON = $rdf.Namespace(\"http://www.w3.org/2000/10/swap/pim/contact#\")\nnu.CON = \"http://www.w3.org/2000/10/swap/pim/contact\"\nns.DBPEDIA = $rdf.Namespace(\"http://dbpedia.org/ontology/\")\nnu.DBPEDIA = \"http://dbpedia.org/ontology/\"\nns.MD = $rdf.Namespace(\"http://def.seegrid.csiro.au/isotc211/iso19115/2003/metadata#\")\nnu.MD = \"http://def.seegrid.csiro.au/isotc211/iso19115/2003/metadata\"\nns.GR = $rdf.Namespace(\"http://purl.org/goodrelations/v1#\")\nnu.GR = \"http://purl.org/goodrelations/v1\"\nns.JUSO = $rdf.Namespace(\"http://rdfs.co/juso/\")\nnu.JUSO = \"http://rdfs.co/juso/\"\nns.SP = $rdf.Namespace(\"http://spinrdf.org/sp#\")\nnu.SP = \"http://spinrdf.org/sp\"\nns.RDFG = $rdf.Namespace(\"http://www.w3.org/2004/03/trix/rdfg-1/\")\nnu.RDFG = \"http://www.w3.org/2004/03/trix/rdfg-1/\"\nns.BIBO = $rdf.Namespace(\"http://purl.org/ontology/bibo/\")\nnu.BIBO = \"http://purl.org/ontology/bibo/\"\nns.OV = $rdf.Namespace(\"http://open.vocab.org/terms/\")\nnu.OV = \"http://open.vocab.org/terms\"\nns.UNIT = $rdf.Namespace(\"http://data.nasa.gov/qudt/owl/unit#\")\nnu.UNIT = \"http://data.qudt.org/qudt/owl/1.0.0/unit.owl\"\nns.QUANTITY = $rdf.Namespace(\"http://data.nasa.gov/qudt/owl/quantity#\")\nnu.QUANTITY = \"http://data.qudt.org/qudt/owl/1.0.0/unit.owl\"\nns.QUDT = $rdf.Namespace(\"http://data.nasa.gov/qudt/owl/qudt#\")\nnu.QUDT = \"http://data.qudt.org/qudt/owl/1.0.0/unit.owl\"\nns.DQV = $rdf.Namespace(\"http://www.w3.org/ns/dqv#\")\nnu.DQV = \"http://www.w3.org/ns/dqv\"\nns.BIO = $rdf.Namespace(\"http://purl.org/vocab/bio/0.1/\")\nnu.BIO = \"http://purl.org/vocab/bio/0.1/\"\nns.RAMI = $rdf.Namespace(\"http://iais.fraunhofer.de/vocabs/rami#\")\nnu.RAMI = \"https://w3id.org/i40/rami/\"\nns.SEAS = $rdf.Namespace(\"https://w3id.org/seas/\")\nnu.SEAS = \"https://w3id.org/seas/\"\nns.CC = $rdf.Namespace(\"http://creativecommons.org/ns#\")\nnu.CC = \"http://creativecommons.org/ns\"\nns.TEMPORAL = $rdf.Namespace(\"http://franz.com/ns/allegrograph/3.0/temporal/\")\nnu.TEMPORAL = \"http://franz.com/ns/allegrograph/3.0/temporal/\"\nns.XSD = $rdf.Namespace(\"http://www.w3.org/2001/XMLSchema#\")\nnu.XSD = \"http://www.w3.org/2001/XMLSchema\"\nns.OBO = $rdf.Namespace(\"http://purl.obolibrary.org/obo/\")\nnu.OBO = \"http://purl.obolibrary.org/obo/obi.owl\"\n//ns.LGDO = $rdf.Namespace(\"http://linkedgeodata.org/ontology/\")\n//nu.LGDO = \"http://linkedgeodata.org/ontology\"\nns.DCTERMS = $rdf.Namespace(\"http://purl.org/dc/terms/\")\nnu.DCTERMS = \"http://purl.org/dc/terms/\"\nns.LINK = $rdf.Namespace(\"http://www.w3.org/2007/ont/link#\")\nnu.LINK = \"http://www.w3.org/2007/ont/link\"\nns.COGS = $rdf.Namespace(\"http://vocab.deri.ie/cogs#\")\nnu.COGS = \"http://vocab.deri.ie/cogs\"\nns.OCDS = $rdf.Namespace(\"http://purl.org/onto-ocds/ocds#\")\nnu.OCDS = \"http://purl.org/onto-ocds/ocds\"\nns.PAY = $rdf.Namespace(\"http://reference.data.gov.uk/def/payment#\")\nnu.PAY = \"http://reference.data.gov.uk/def/payment#\"\nns.ORG = $rdf.Namespace(\"http://www.w3.org/ns/org#\")\nnu.ORG = \"http://www.w3.org/ns/org#\"\nns.IANA = $rdf.Namespace(\"http://www.w3.org/ns/iana/media-types/application/\")\nnu.IANA = \"http://www.w3.org/ns/iana/media-types/application/\"\nns.LINKS = $rdf.Namespace(\"http://www.iana.org/assignments/link-relations/\")\nnu.LINKS = \"http://www.iana.org/assignments/link-relations\"\nns.HTTPH = $rdf.Namespace(\"http://www.w3.org/2007/ont/httph#\")\nnu.HTTPH = \"http://www.w3.org/2007/ont/httph\"\nns.TL = $rdf.Namespace(\"http://purl.org/NET/c4dm/timeline.owl#\")\nnu.TL = \"http://purl.org/NET/c4dm/timeline.owl\"\nns.VANN = $rdf.Namespace(\"http://purl.org/vocab/vann/\")\nnu.VANN = \"http://purl.org/vocab/vann/\"\nns.FABIO = $rdf.Namespace(\"http://purl.org/spar/fabio/\")\nnu.FABIO = \"http://purl.org/spar/fabio\"\nns.BOT = $rdf.Namespace(\"https://w3id.org/bot#\")\nnu.BOT = \"https://w3id.org/bot\"\n\n\nns.SSN = $rdf.Namespace('http://www.w3.org/ns/ssn/')\nns.SOSA = $rdf.Namespace('http://www.w3.org/ns/sosa/')\nns.CDT = $rdf.Namespace('http://w3id.org/lindt/custom_datatypes#')\nns.DCT = $rdf.Namespace(\"http://purl.org/dc/terms/\")\nns.SUR = $rdf.Namespace(\"https://w3id.org/survey-ontology#\")\nns.SHBSPEC = $rdf.Namespace(\"https://shb.graphmetrix.net/specifications/ontology#\")\nns.SHB = $rdf.Namespace(\"https://shb.stage.graphmetrix.net/\")\nns.SHBSAND = $rdf.Namespace('https://shbsandnessjoen.stage.graphmetrix.net/shb/')\nns.SHBMOIRA = $rdf.Namespace('https://shb.stage.graphmetrix.net/shb/')\nns.IFOUR = $rdf.Namespace('http://www.i4technology.no/node/')\nns.CTO = $rdf.Namespace(\"https://w3id.org/cto#\")\nns.SBEO = $rdf.Namespace(\"https://w3id.org/sbeo#\")\n\n/*ns.TRINITY = $rdf.Namespace(\"https://trinity.graphmetrix.net/node/\")\nnu.TRINITY = \"https://trinity.graphmetrix.net/@\" */\n\n//create lookup from ns uri to ns key\n$.map(Object.keys(nu),function(key){\n    nl[ns[key]().uri] = key;\n});\n\n//create list of neo lower ontology predicates\n\nneo.b_capable = ns.SIO(\"SIO_000586\")\nneo.o_result = ns.NEO('o_result')\nneo.i_function = ns.NEO('i_function')\nneo.t_start = ns.NEO('t_start')\nneo.t_end = ns.NEO('t_end')\nneo.i_attribute = ns.NEO('i_attribute')\nneo.i_entity = ns.NEO('i_entity')\nneo.o_type = ns.NEO('o_type')\nneo.f_cause = ns.NEO('f_cause')\nneo.t_execute = ns.OBO('OBI_0000308')\nneo.i_input = ns.SIO('SIO_000230')\nneo.o_output = ns.SIO('SIO_000229')\nneo.m_status = ns.SCHEMA('status')\nneo.m_cid = ns.NEO('m_cid')\nneo.m_contains = ns.SIO(\"SIO_000202\")\nneo.m_port = ns.NEO('m_port')\nneo.m_join = ns.NEO('m_join')\nneo.m_rank = ns.NEO('m_rank')\nneo.j_do = ns.NEO('j_do')\nneo.m_lastChange = ns.NEO('m_last-change')\nneo.t_start_event = ns.NEO('t_start-event')\nneo.t_end_event = ns.NEO('t_end-event')\nneo.m_version = ns.DCTERMS('hasVersion')\nneo.m_graph_prefix = ns.VANN('preferredNamespacePrefix')\nneo.m_label = ns.RDFS('label')\nneo.f_tag = ns.TAG('tag')\n\nneo.n3 = {}  //for client thing nodes using N3\nneo.n3.i_function = N3.termFromId(neo.i_function.value)\nneo.n3.o_result = N3.termFromId(neo.o_result.value)\nneo.n3.t_start = N3.termFromId(neo.t_start.value)\nneo.n3.i_input = N3.termFromId(neo.i_input.value)\nneo.n3.o_output = N3.termFromId(neo.o_output.value)\nneo.n3.f_cause = N3.termFromId(neo.f_cause.value)\nneo.n3.t_execute = N3.termFromId(neo.t_execute.value)\n\nneo.n3.m_rank = N3.termFromId(neo.m_rank.value)\n\nneo.predicates = [neo.o_result, neo.i_function, neo.t_start, neo.t_end,\n\t\t  neo.i_attribute, neo.i_entity, neo.o_type, neo.f_cause,\n\t\t  neo.i_input, neo.o_output, neo.t_execute,\n\t\t  neo.t_start_event, neo.t_end_event\n\t\t ]\n\nvar xsd = {}\nxsd.string = ns.XSD('string')\nxsd.integer = ns.XSD('integer')\nxsd.dateTime = ns.XSD('dateTime')\n\n\n//functions\nvar TRINITY = \"https://trinity.graphmetrix.net/node/\"\nvar TRINAPP = \"https://trinapp.graphmetrix.net/node/\"\n\ntrinapp.w_trinapp_cde = $rdf.sym(TRINAPP + \"t_82\")\ntrinapp.w_trinapp_crosslink = $rdf.sym(TRINITY + \"t_2cf\")\ntrinity.f_crosslink_start = $rdf.sym(TRINITY + \"t_2cf\")\ntrinity.f_crosslink_review_approve = $rdf.sym(TRINITY + \"t_2cq\")\n\ntrinapp.w_trinapp_files = $rdf.sym(TRINAPP + \"t_88\")\ntrinapp.w_trinapp_launchpad = $rdf.sym(TRINAPP + \"t_7i\")\ntrinapp.w_trinapp_oneworld = $rdf.sym(TRINAPP + \"t_7s\")\ntrinapp.w_trinapp_projects = $rdf.sym(TRINAPP + \"t_jy\")\ntrinapp.w_trinapp_store = $rdf.sym(TRINAPP + \"t_1kt\")\n\ntrinapp.w_trinapp_add_employee = $rdf.sym(TRINITY + \"t_1g3\")\ntrinity.f_add_employee = $rdf.sym(TRINITY + \"t_1g3\")\n\ntrinapp.w_trinapp_add_member = $rdf.sym(TRINITY + \"t_20y\")\ntrinity.f_add_member = $rdf.sym(TRINITY + \"t_20y\")\n\ntrinapp.w_trinapp_add_collaborator = $rdf.sym(TRINITY + \"t_46x\")\ntrinity.f_add_collaborator = $rdf.sym(TRINITY + \"t_46x\")\n\ntrinapp.w_trinapp_add_project = $rdf.sym(TRINITY + \"t_27e\")\ntrinity.f_add_project_trinpod = $rdf.sym(TRINITY + \"t_27e\")\n\ntrinapp.w_trinapp_add_building = $rdf.sym(TRINITY + \"t_276\")\ntrinity.f_add_building_trinpod = $rdf.sym(TRINITY + \"t_276\")\n\ntrinapp.w_trinapp_add_business_pod = $rdf.sym(TRINITY + \"t_26a\")\ntrinity.f_add_business_trinpod = $rdf.sym(TRINITY + \"t_26a\")\n\ntrinity.f_add_site_trinpod = $rdf.sym(TRINITY + \"t_2m7\")\ntrinity.f_add_organization_trinpod = $rdf.sym(TRINITY + \"t_2mk\")\ntrinity.f_add_suborg_trinpod = $rdf.sym(TRINITY + \"t_2mx\")\ntrinity.f_add_group_trinpod = $rdf.sym(TRINITY + \"t_2na\")\n\ntrinapp.w_trinapp_remove_employee = $rdf.sym(TRINITY + \"t_16d\")\ntrinity.f_remove_employee = $rdf.sym(TRINITY + \"t_16d\")\n\ntrinapp.w_trinapp_remove_member = $rdf.sym(TRINITY + \"t_20t\")\ntrinity.f_remove_member = $rdf.sym(TRINITY + \"t_20t\")\n\ntrinapp.w_trinapp_web = $rdf.sym(TRINAPP + \"t_7n\")\n\ntrinapp.w_trinapp_append = $rdf.sym(TRINITY + \"t_29g\")\ntrinity.f_solid_append = $rdf.sym(TRINITY + \"t_29g\")\n\t\t\t\t  \ntrinapp.w_trinapp_control = $rdf.sym(TRINITY + \"t_29k\")\ntrinity.f_solid_control = $rdf.sym(TRINITY + \"t_29k\")\n\ntrinapp.w_trinapp_read = $rdf.sym(TRINITY + \"trinity:t_297\")\ntrinity.f_solid_read = $rdf.sym(TRINITY + \"trinity:t_297\")\n\ntrinapp.w_trinapp_write = $rdf.sym(TRINITY + \"t_28z\")\ntrinity.f_solid_write = $rdf.sym(TRINITY + \"t_28z\")\n    \nvar namespaces = {}\nObject.keys(ns).forEach(function(key){\n    namespaces[key] = ns[key]().value\n})\n\nexport { ns, nu, nl, neo, trinity, trinapp, namespaces, xsd };\n"],"sourceRoot":""}